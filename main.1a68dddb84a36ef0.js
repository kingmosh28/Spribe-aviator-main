var rSe=Object.defineProperty,oSe=Object.defineProperties,sSe=Object.getOwnPropertyDescriptors,O1=Object.getOwnPropertySymbols,G6=Object.prototype.hasOwnProperty,j6=Object.prototype.propertyIsEnumerable,U6=(me,U,M)=>U in me?rSe(me,U,{enumerable:!0,configurable:!0,writable:!0,value:M}):me[U]=M,Xe=(me,U)=>{for(var M in U||(U={}))G6.call(U,M)&&U6(me,M,U[M]);if(O1)for(var M of O1(U))j6.call(U,M)&&U6(me,M,U[M]);return me},ti=(me,U)=>oSe(me,sSe(U)),V6=(me,U)=>{var M={};for(var c in me)G6.call(me,c)&&U.indexOf(c)<0&&(M[c]=me[c]);if(null!=me&&O1)for(var c of O1(me))U.indexOf(c)<0&&j6.call(me,c)&&(M[c]=me[c]);return M};(self.webpackChunkng_aviator=self.webpackChunkng_aviator||[]).push([[179],{7422:(me,U,M)=>{"use strict";var c={};M.r(c),M.d(c,{BaseTextureCache:()=>Ks,CanvasRenderTarget:()=>jf,DATA_URI:()=>Xk,EventEmitter:()=>Uf(),ProgramCache:()=>cC,TextureCache:()=>es,clearTextureCache:()=>vte,correctBlendMode:()=>sC,createIndicesForQuads:()=>Wk,decomposeDataUri:()=>yte,deprecation:()=>ul,destroyTextureCache:()=>mte,determineCrossOrigin:()=>Kk,earcut:()=>ZT(),getBufferType:()=>Cy,getResolutionOfUrl:()=>Zg,hex2rgb:()=>Xl,hex2string:()=>Sy,interleaveTypedArrays:()=>gte,isMobile:()=>Ss,isPow2:()=>lC,isWebGLSupported:()=>Hk,log2:()=>uC,nextPow2:()=>Qg,premultiplyBlendMode:()=>oC,premultiplyRgba:()=>Yk,premultiplyTint:()=>Ty,premultiplyTintToRgba:()=>aC,removeItems:()=>Hc,rgb2hex:()=>rC,sayHello:()=>nC,sign:()=>Yc,skipHello:()=>Vk,string2hex:()=>Vo,trimCanvas:()=>$k,uid:()=>Wu,url:()=>Vc});var T={};function y(n){return"function"==typeof n}function S(n){const e=n(i=>{Error.call(i),i.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}M.r(T),M.d(T,{ALPHA_MODES:()=>Qr,AbstractBatchRenderer:()=>GF,AbstractMultiResource:()=>Iy,AbstractRenderer:()=>tO,AccessibilityManager:()=>_C,AnimatedSprite:()=>qB,AppLoaderPlugin:()=>nB,Application:()=>u_,ArrayResource:()=>TC,Attribute:()=>AC,BLEND_MODES:()=>Ue,BUFFER_BITS:()=>Hu,BUFFER_TYPE:()=>Dr,BaseImageResource:()=>cl,BasePrepare:()=>PO,BaseRenderTexture:()=>r_,BaseTexture:()=>Jn,BatchDrawCall:()=>Yy,BatchGeometry:()=>iO,BatchPluginFactory:()=>YF,BatchRenderer:()=>WF,BatchShaderGenerator:()=>jF,BatchSystem:()=>IC,BatchTextureArray:()=>Wy,BitmapFont:()=>Ql,BitmapFontData:()=>v_,BitmapFontLoader:()=>VB,BitmapText:()=>y_,BlobResource:()=>sB,Bounds:()=>Vf,Buffer:()=>Ir,BufferResource:()=>Hf,CLEAR_MODES:()=>Co,CanvasExtract:()=>lL,CanvasGraphicsRenderer:()=>rL,CanvasMeshRenderer:()=>tL,CanvasPrepare:()=>cL,CanvasRenderer:()=>fl,CanvasResource:()=>i_,CanvasSpriteRenderer:()=>sL,Circle:()=>Qk,CompressedTextureLoader:()=>aB,CompressedTextureResource:()=>Ky,Container:()=>zi,ContextSystem:()=>NC,CountLimiter:()=>PB,CubeResource:()=>CC,DDSLoader:()=>cB,DEG_TO_RAD:()=>Jk,DRAW_MODES:()=>lo,DisplayObject:()=>Qi,ENV:()=>Jr,Ellipse:()=>Zk,Extract:()=>qF,FORMATS:()=>He,FORMATS_TO_COMPONENTS:()=>dB,FillStyle:()=>dO,Filter:()=>ql,FilterState:()=>fF,FilterSystem:()=>DC,Framebuffer:()=>ky,FramebufferSystem:()=>kC,GC_MODES:()=>Gf,GLFramebuffer:()=>gF,GLProgram:()=>kF,GLTexture:()=>Hy,GRAPHICS_CURVES:()=>$f,Geometry:()=>Yf,GeometrySystem:()=>BC,Graphics:()=>Ts,GraphicsData:()=>bO,GraphicsGeometry:()=>OB,IGLUniformData:()=>one,INSTALLED:()=>n_,INTERNAL_FORMATS:()=>fn,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>c_,ImageBitmapResource:()=>wC,ImageResource:()=>Ny,InteractionData:()=>vC,InteractionEvent:()=>sF,InteractionManager:()=>bC,InteractionTrackingData:()=>Ay,KTXLoader:()=>pB,LINE_CAP:()=>dl,LINE_JOIN:()=>hl,LineStyle:()=>MB,Loader:()=>Oo,LoaderResource:()=>Zi,MASK_TYPES:()=>ai,MIPMAP_MODES:()=>jo,MSAA_QUALITY:()=>Cn,MaskData:()=>_F,MaskSystem:()=>WC,Matrix:()=>pi,Mesh:()=>Qs,MeshBatchUvs:()=>BB,MeshGeometry:()=>m_,MeshMaterial:()=>rh,NineSlicePlane:()=>b_,ObjectRenderer:()=>o_,ObservablePoint:()=>Wc,PI_2:()=>e_,PRECISION:()=>Rr,ParticleContainer:()=>_B,ParticleRenderer:()=>vB,PlaneGeometry:()=>WB,Point:()=>Ni,Polygon:()=>t_,Prepare:()=>xB,Program:()=>Wf,ProjectionSystem:()=>XC,Quad:()=>dF,QuadUv:()=>xC,RAD_TO_DEG:()=>qk,RENDERER_TYPE:()=>ka,Rectangle:()=>Gn,RenderTexture:()=>qs,RenderTexturePool:()=>cF,RenderTextureSystem:()=>KC,Renderer:()=>Ba,Resource:()=>qc,RopeGeometry:()=>zB,RoundedRectangle:()=>eF,Runner:()=>uo,SAMPLER_TYPES:()=>Yu,SCALE_MODES:()=>xr,SHAPES:()=>ei,SVGResource:()=>OC,ScissorSystem:()=>zC,Shader:()=>Kl,ShaderSystem:()=>qC,SimpleMesh:()=>KB,SimplePlane:()=>XB,SimpleRope:()=>$B,Sprite:()=>Ho,SpriteMaskFilter:()=>PF,Spritesheet:()=>RB,SpritesheetLoader:()=>DB,State:()=>$u,StateSystem:()=>JC,StencilSystem:()=>$C,System:()=>Ene,TARGETS:()=>Zo,TEXT_GRADIENT:()=>nh,TYPES:()=>yt,TYPES_TO_BYTES_PER_COMPONENT:()=>cO,TYPES_TO_BYTES_PER_PIXEL:()=>fB,TemporaryDisplayObject:()=>gC,Text:()=>g_,TextMetrics:()=>Cs,TextStyle:()=>ih,Texture:()=>Gt,TextureGCSystem:()=>QC,TextureLoader:()=>iB,TextureMatrix:()=>jy,TextureSystem:()=>ZC,TextureUvs:()=>PC,Ticker:()=>Zr,TickerPlugin:()=>oF,TilingSprite:()=>NB,TilingSpriteRenderer:()=>FB,TimeLimiter:()=>Mie,Transform:()=>dC,UPDATE_PRIORITY:()=>Fa,UniformGroup:()=>zu,VERSION:()=>fre,VideoResource:()=>MC,ViewableBuffer:()=>zy,WRAP_MODES:()=>Xs,accessibleTarget:()=>nF,autoDetectRenderer:()=>LF,autoDetectResource:()=>Dy,canvasUtils:()=>Or,checkMaxIfStatementsInShader:()=>MF,createUBOElements:()=>DF,defaultFilterVertex:()=>nO,defaultVertex:()=>UF,filters:()=>pre,generateProgram:()=>FF,generateUniformBufferSync:()=>NF,getTestContext:()=>EF,getUBOData:()=>IF,graphicsUtils:()=>uie,groupD8:()=>ji,interactiveTarget:()=>aF,isMobile:()=>Ss,resources:()=>zF,settings:()=>lt,systems:()=>$F,uniformParsers:()=>Jc,utils:()=>c});const m=S(n=>function(e){n(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function _(n,t){if(n){const e=n.indexOf(t);0<=e&&n.splice(e,1)}}class f{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const o of e)o.remove(this);else e.remove(this);const{initialTeardown:i}=this;if(y(i))try{i()}catch(o){t=o instanceof m?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{b(o)}catch(s){t=null!=t?t:[],s instanceof m?t=[...t,...s.errors]:t.push(s)}}if(t)throw new m(t)}}add(t){var e;if(t&&t!==this)if(this.closed)b(t);else{if(t instanceof f){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(t)}}_hasParent(t){const{_parentage:e}=this;return e===t||Array.isArray(e)&&e.includes(t)}_addParent(t){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t}_removeParent(t){const{_parentage:e}=this;e===t?this._parentage=null:Array.isArray(e)&&_(e,t)}remove(t){const{_finalizers:e}=this;e&&_(e,t),t instanceof f&&t._removeParent(this)}}f.EMPTY=(()=>{const n=new f;return n.closed=!0,n})();const p=f.EMPTY;function d(n){return n instanceof f||n&&"closed"in n&&y(n.remove)&&y(n.add)&&y(n.unsubscribe)}function b(n){y(n)?n():n.unsubscribe()}const C={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout(n,t,...e){const{delegate:i}=h;return(null==i?void 0:i.setTimeout)?i.setTimeout(n,t,...e):setTimeout(n,t,...e)},clearTimeout(n){const{delegate:t}=h;return((null==t?void 0:t.clearTimeout)||clearTimeout)(n)},delegate:void 0};function v(n){h.setTimeout(()=>{const{onUnhandledError:t}=C;if(!t)throw n;t(n)})}function O(){}const x=H("C",void 0,void 0);function H(n,t,e){return{kind:n,value:t,error:e}}let L=null;function j(n){if(C.useDeprecatedSynchronousErrorHandling){const t=!L;if(t&&(L={errorThrown:!1,error:null}),n(),t){const{errorThrown:e,error:i}=L;if(L=null,e)throw i}}else n()}class V extends f{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,d(t)&&t.add(this)):this.destination=Ee}static create(t,e,i){return new q(t,e,i)}next(t){this.isStopped?_e(function G(n){return H("N",n,void 0)}(t),this):this._next(t)}error(t){this.isStopped?_e(function N(n){return H("E",void 0,n)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_e(x,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const J=Function.prototype.bind;function W(n,t){return J.call(n,t)}class ee{constructor(t){this.partialObserver=t}next(t){const{partialObserver:e}=this;if(e.next)try{e.next(t)}catch(i){ce(i)}}error(t){const{partialObserver:e}=this;if(e.error)try{e.error(t)}catch(i){ce(i)}else ce(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(e){ce(e)}}}class q extends V{constructor(t,e,i){let r;if(super(),y(t)||!t)r={next:null!=t?t:void 0,error:null!=e?e:void 0,complete:null!=i?i:void 0};else{let o;this&&C.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&W(t.next,o),error:t.error&&W(t.error,o),complete:t.complete&&W(t.complete,o)}):r=t}this.destination=new ee(r)}}function ce(n){C.useDeprecatedSynchronousErrorHandling?function k(n){C.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=n)}(n):v(n)}function _e(n,t){const{onStoppedNotification:e}=C;e&&h.setTimeout(()=>e(n,t))}const Ee={closed:!0,next:O,error:function Te(n){throw n},complete:O},$="function"==typeof Symbol&&Symbol.observable||"@@observable";function se(n){return n}let oe=(()=>{class n{constructor(e){e&&(this._subscribe=e)}lift(e){const i=new n;return i.source=this,i.operator=e,i}subscribe(e,i,r){const o=function Be(n){return n&&n instanceof V||function de(n){return n&&y(n.next)&&y(n.error)&&y(n.complete)}(n)&&d(n)}(e)?e:new q(e,i,r);return j(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(e){try{return this._subscribe(e)}catch(i){e.error(i)}}forEach(e,i){return new(i=le(i))((r,o)=>{const s=new q({next:a=>{try{e(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(e){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(e)}[$](){return this}pipe(...e){return function be(n){return 0===n.length?se:1===n.length?n[0]:function(e){return n.reduce((i,r)=>r(i),e)}}(e)(this)}toPromise(e){return new(e=le(e))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=t=>new n(t),n})();function le(n){var t;return null!==(t=null!=n?n:C.Promise)&&void 0!==t?t:Promise}const Je=S(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Le=(()=>{class n extends oe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const i=new Ot(this,this);return i.operator=e,i}_throwIfClosed(){if(this.closed)throw new Je}next(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(e)}})}error(e){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:i}=this;for(;i.length;)i.shift().error(e)}})}complete(){j(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:i,isStopped:r,observers:o}=this;return i||r?p:(this.currentObservers=null,o.push(e),new f(()=>{this.currentObservers=null,_(o,e)}))}_checkFinalizedStatuses(e){const{hasError:i,thrownError:r,isStopped:o}=this;i?e.error(r):o&&e.complete()}asObservable(){const e=new oe;return e.source=this,e}}return n.create=(t,e)=>new Ot(t,e),n})();class Ot extends Le{constructor(t,e){super(),this.destination=t,this.source=e}next(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===i||i.call(e,t)}error(t){var e,i;null===(i=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===i||i.call(e,t)}complete(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)}_subscribe(t){var e,i;return null!==(i=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==i?i:p}}function qe(n){return y(null==n?void 0:n.lift)}function je(n){return t=>{if(qe(t))return t.lift(function(e){try{return n(e,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(n,t,e,i,r){return new fe(n,t,e,i,r)}class fe extends V{constructor(t,e,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=e?function(a){try{e(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function pe(n,t){return je((e,i)=>{let r=0;e.subscribe(ie(i,o=>{i.next(n.call(t,o,r++))}))})}function Ye(n,t,e,i){var s,r=arguments.length,o=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,e):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,t,e,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(t,e,o):s(t,e))||o);return r>3&&o&&Object.defineProperty(t,e,o),o}function Fe(n){return this instanceof Fe?(this.v=n,this):new Fe(n)}function st(n,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(n,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(w){i[w]&&(r[w]=function(P){return new Promise(function(A,D){o.push([w,P,A,D])>1||a(w,P)})})}function a(w,P){try{!function l(w){w.value instanceof Fe?Promise.resolve(w.value.v).then(u,g):E(o[0][2],w)}(i[w](P))}catch(A){E(o[0][3],A)}}function u(w){a("next",w)}function g(w){a("throw",w)}function E(w,P){w(P),o.shift(),o.length&&a(o[0][0],o[0][1])}}function vt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=function ve(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],i=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),e={},i("next"),i("throw"),i("return"),e[Symbol.asyncIterator]=function(){return this},e);function i(o){e[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}const Bt=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Sn(n){return y(null==n?void 0:n.then)}function ar(n){return y(n[$])}function lr(n){return Symbol.asyncIterator&&y(null==n?void 0:n[Symbol.asyncIterator])}function Nn(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _i=function Xt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Wt(n){return y(null==n?void 0:n[_i])}function Bi(n){return st(this,arguments,function*(){const e=n.getReader();try{for(;;){const{value:i,done:r}=yield Fe(e.read());if(r)return yield Fe(void 0);yield yield Fe(i)}}finally{e.releaseLock()}})}function ur(n){return y(null==n?void 0:n.getReader)}function pt(n){if(n instanceof oe)return n;if(null!=n){if(ar(n))return function cr(n){return new oe(t=>{const e=n[$]();if(y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Bt(n))return function kr(n){return new oe(t=>{for(let e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}(n);if(Sn(n))return function Bs(n){return new oe(t=>{n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,v)})}(n);if(lr(n))return Ls(n);if(Wt(n))return function Ec(n){return new oe(t=>{for(const e of n)if(t.next(e),t.closed)return;t.complete()})}(n);if(ur(n))return function Il(n){return Ls(Bi(n))}(n)}throw Nn(n)}function Ls(n){return new oe(t=>{(function hr(n,t){var e,i,r,o;return function $t(n,t,e,i){return new(e||(e=Promise))(function(o,s){function a(g){try{u(i.next(g))}catch(E){s(E)}}function l(g){try{u(i.throw(g))}catch(E){s(E)}}function u(g){g.done?o(g.value):function r(o){return o instanceof e?o:new e(function(s){s(o)})}(g.value).then(a,l)}u((i=i.apply(n,t||[])).next())})}(this,void 0,void 0,function*(){try{for(e=vt(n);!(i=yield e.next()).done;)if(t.next(i.value),t.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=e.return)&&(yield o.call(e))}finally{if(r)throw r.error}}t.complete()})})(n,t).catch(e=>t.error(e))})}function Io(n,t,e,i=0,r=!1){const o=t.schedule(function(){e(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function wi(n,t,e=1/0){return y(t)?wi((i,r)=>pe((o,s)=>t(i,o,r,s))(pt(n(i,r))),e):("number"==typeof t&&(e=t),je((i,r)=>function zr(n,t,e,i,r,o,s,a){const l=[];let u=0,g=0,E=!1;const w=()=>{E&&!l.length&&!u&&t.complete()},P=D=>u<i?A(D):l.push(D),A=D=>{o&&t.next(D),u++;let B=!1;pt(e(D,g++)).subscribe(ie(t,Y=>{null==r||r(Y),o?P(Y):t.next(Y)},()=>{B=!0},void 0,()=>{if(B)try{for(u--;l.length&&u<i;){const Y=l.shift();s?Io(t,s,()=>A(Y)):A(Y)}w()}catch(Y){t.error(Y)}}))};return n.subscribe(ie(t,P,()=>{E=!0,w()})),()=>{null==a||a()}}(i,r,n,e)))}function Fr(n=1/0){return wi(se,n)}const Qe=new oe(n=>n.complete());function ci(n){return n&&y(n.schedule)}function rn(n){return n[n.length-1]}function Pi(n){return y(rn(n))?n.pop():void 0}function ls(n){return ci(rn(n))?n.pop():void 0}function Ai(n,t=0){return je((e,i)=>{e.subscribe(ie(i,r=>Io(i,n,()=>i.next(r),t),()=>Io(i,n,()=>i.complete(),t),r=>Io(i,n,()=>i.error(r),t)))})}function dr(n,t=0){return je((e,i)=>{i.add(n.schedule(()=>e.subscribe(i),t))})}function ma(n,t){if(!n)throw new Error("Iterable cannot be null");return new oe(e=>{Io(e,t,()=>{const i=n[Symbol.asyncIterator]();Io(e,t,()=>{i.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function Ln(n,t){return t?function Sc(n,t){if(null!=n){if(ar(n))return function po(n,t){return pt(n).pipe(dr(t),Ai(t))}(n,t);if(Bt(n))return function vr(n,t){return new oe(e=>{let i=0;return t.schedule(function(){i===n.length?e.complete():(e.next(n[i++]),e.closed||this.schedule())})})}(n,t);if(Sn(n))return function $r(n,t){return pt(n).pipe(dr(t),Ai(t))}(n,t);if(lr(n))return ma(n,t);if(Wt(n))return function Nl(n,t){return new oe(e=>{let i;return Io(e,t,()=>{i=n[_i](),Io(e,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void e.error(s)}o?e.complete():e.next(r)},0,!0)}),()=>y(null==i?void 0:i.return)&&i.return()})}(n,t);if(ur(n))return function yu(n,t){return ma(Bi(n),t)}(n,t)}throw Nn(n)}(n,t):pt(n)}function fi(...n){const t=ls(n),e=function on(n,t){return"number"==typeof rn(n)?n.pop():t}(n,1/0),i=n;return i.length?1===i.length?pt(i[0]):Fr(e)(Ln(i,t)):Qe}function $n(n){return n<=0?()=>Qe:je((t,e)=>{let i=0;t.subscribe(ie(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function go(n={}){const{connector:t=(()=>new Le),resetOnError:e=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s=null,a=null,l=null,u=0,g=!1,E=!1;const w=()=>{null==a||a.unsubscribe(),a=null},P=()=>{w(),s=l=null,g=E=!1},A=()=>{const D=s;P(),null==D||D.unsubscribe()};return je((D,B)=>{u++,!E&&!g&&w();const Y=l=null!=l?l:t();B.add(()=>{u--,0===u&&!E&&!g&&(a=_o(A,r))}),Y.subscribe(B),s||(s=new q({next:K=>Y.next(K),error:K=>{E=!0,w(),a=_o(P,e,K),Y.error(K)},complete:()=>{g=!0,w(),a=_o(P,i),Y.complete()}}),Ln(D).subscribe(s))})(o)}}function _o(n,t,...e){return!0===t?(n(),null):!1===t?null:t(...e).pipe($n(1)).subscribe(()=>n())}function Tn(n){for(let t in n)if(n[t]===Tn)return t;throw Error("Could not find renamed property on target object.")}function Us(n,t){for(const e in t)t.hasOwnProperty(e)&&!n.hasOwnProperty(e)&&(n[e]=t[e])}function ni(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ni).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const t=n.toString();if(null==t)return""+t;const e=t.indexOf("\n");return-1===e?t:t.substring(0,e)}function Td(n,t){return null==n||""===n?null===t?"":t:null==t||""===t?n:n+" "+t}const Cd=Tn({__forward_ref__:Tn});function gn(n){return n.__forward_ref__=gn,n.toString=function(){return ni(this())},n}function _n(n){return aA(n)?n():n}function aA(n){return"function"==typeof n&&n.hasOwnProperty(Cd)&&n.__forward_ref__===gn}class kt extends Error{constructor(t,e){super(function M1(n,t){return`NG0${Math.abs(n)}${t?": "+t:""}`}(t,e)),this.code=t}}function hn(n){return"string"==typeof n?n:null==n?"":String(n)}function No(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():hn(n)}function Im(n,t){const e=t?` in ${t}`:"";throw new kt(-201,`No provider for ${No(n)} found${e}`)}function cs(n,t){null==n&&function Li(n,t,e,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${e} ${i} ${t} <=Actual]`))}(t,n,null,"!=")}function rt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ut(n){return{providers:n.providers||[],imports:n.imports||[]}}function w1(n){return lA(n,Nm)||lA(n,cA)}function lA(n,t){return n.hasOwnProperty(t)?n[t]:null}function uA(n){return n&&(n.hasOwnProperty(P1)||n.hasOwnProperty(K6))?n[P1]:null}const Nm=Tn({\u0275prov:Tn}),P1=Tn({\u0275inj:Tn}),cA=Tn({ngInjectableDef:Tn}),K6=Tn({ngInjectorDef:Tn});var an=(()=>((an=an||{})[an.Default=0]="Default",an[an.Host=1]="Host",an[an.Self=2]="Self",an[an.SkipSelf=4]="SkipSelf",an[an.Optional=8]="Optional",an))();let A1;function bu(n){const t=A1;return A1=n,t}function hA(n,t,e){const i=w1(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:e&an.Optional?null:void 0!==t?t:void Im(ni(n),"Injector")}function Eu(n){return{toString:n}.toString()}var va=(()=>((va=va||{})[va.OnPush=0]="OnPush",va[va.Default=1]="Default",va))(),ya=(()=>{return(n=ya||(ya={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",ya;var n})();const J6="undefined"!=typeof globalThis&&globalThis,Q6="undefined"!=typeof window&&window,Z6="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,mi=J6||"undefined"!=typeof global&&global||Q6||Z6,Od={},Si=[],km=Tn({\u0275cmp:Tn}),x1=Tn({\u0275dir:Tn}),Fm=Tn({\u0275pipe:Tn}),dA=Tn({\u0275mod:Tn}),Fl=Tn({\u0275fac:Tn}),Hp=Tn({__NG_ELEMENT_ID__:Tn});let ej=0;function gt(n){return Eu(()=>{const e={},i={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===va.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Si,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||ya.Emulated,id:"c",styles:n.styles||Si,_:null,setInput:null,schemas:n.schemas||null,tView:null},r=n.directives,o=n.features,s=n.pipes;return i.id+=ej++,i.inputs=_A(n.inputs,e),i.outputs=_A(n.outputs),o&&o.forEach(a=>a(i)),i.directiveDefs=r?()=>("function"==typeof r?r():r).map(fA):null,i.pipeDefs=s?()=>("function"==typeof s?s():s).map(pA):null,i})}function fA(n){return mo(n)||function Su(n){return n[x1]||null}(n)}function pA(n){return function Tc(n){return n[Fm]||null}(n)}const gA={};function ct(n){return Eu(()=>{const t={type:n.type,bootstrap:n.bootstrap||Si,declarations:n.declarations||Si,imports:n.imports||Si,exports:n.exports||Si,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(gA[n.id]=n.type),t})}function _A(n,t){if(null==n)return Od;const e={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),e[r]=i,t&&(t[r]=o)}return e}const mt=gt;function oo(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function mo(n){return n[km]||null}function Gs(n,t){const e=n[dA]||null;if(!e&&!0===t)throw new Error(`Type ${ni(n)} does not have '\u0275mod' property.`);return e}function Xa(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ea(n){return Array.isArray(n)&&!0===n[1]}function I1(n){return 0!=(8&n.flags)}function Gm(n){return 2==(2&n.flags)}function jm(n){return 1==(1&n.flags)}function Sa(n){return null!==n.template}function sj(n){return 0!=(512&n[2])}function wc(n,t){return n.hasOwnProperty(Fl)?n[Fl]:null}class uj{constructor(t,e,i){this.previousValue=t,this.currentValue=e,this.firstChange=i}isFirstChange(){return this.firstChange}}function Kr(){return vA}function vA(n){return n.type.prototype.ngOnChanges&&(n.setInput=hj),cj}function cj(){const n=bA(this),t=null==n?void 0:n.current;if(t){const e=n.previous;if(e===Od)n.previous=t;else for(let i in t)e[i]=t[i];n.current=null,this.ngOnChanges(t)}}function hj(n,t,e,i){const r=bA(n)||function dj(n,t){return n[yA]=t}(n,{previous:Od,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[e],l=s[a];o[a]=new uj(l&&l.currentValue,t,s===Od),n[i]=t}Kr.ngInherit=!0;const yA="__ngSimpleChanges__";function bA(n){return n[yA]||null}let L1;function fr(n){return!!n.listen}const EA={createRenderer:(n,t)=>function U1(){return void 0!==L1?L1:"undefined"!=typeof document?document:void 0}()};function Mr(n){for(;Array.isArray(n);)n=n[0];return n}function Vm(n,t){return Mr(t[n])}function Hs(n,t){return Mr(t[n.index])}function G1(n,t){return n.data[t]}function xd(n,t){return n[t]}function ds(n,t){const e=t[n];return Xa(e)?e:e[0]}function SA(n){return 4==(4&n[2])}function j1(n){return 128==(128&n[2])}function Tu(n,t){return null==t?null:n[t]}function TA(n){n[18]=0}function V1(n,t){n[5]+=t;let e=n,i=n[3];for(;null!==i&&(1===t&&1===e[5]||-1===t&&0===e[5]);)i[5]+=t,e=i,i=i[3]}const sn={lFrame:RA(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function CA(){return sn.bindingsEnabled}function ot(){return sn.lFrame.lView}function Xn(){return sn.lFrame.tView}function ft(n){return sn.lFrame.contextLView=n,n[8]}function Br(){let n=OA();for(;null!==n&&64===n.type;)n=n.parent;return n}function OA(){return sn.lFrame.currentTNode}function Ka(n,t){const e=sn.lFrame;e.currentTNode=n,e.isParent=t}function H1(){return sn.lFrame.isParent}function Y1(){sn.lFrame.isParent=!1}function Hm(){return sn.isInCheckNoChangesMode}function Ym(n){sn.isInCheckNoChangesMode=n}function ko(){const n=sn.lFrame;let t=n.bindingRootIndex;return-1===t&&(t=n.bindingRootIndex=n.tView.bindingStartIndex),t}function Bl(){return sn.lFrame.bindingIndex}function Rd(){return sn.lFrame.bindingIndex++}function Ll(n){const t=sn.lFrame,e=t.bindingIndex;return t.bindingIndex=t.bindingIndex+n,e}function Aj(n,t){const e=sn.lFrame;e.bindingIndex=e.bindingRootIndex=n,W1(t)}function W1(n){sn.lFrame.currentDirectiveIndex=n}function PA(){return sn.lFrame.currentQueryIndex}function $1(n){sn.lFrame.currentQueryIndex=n}function Rj(n){const t=n[1];return 2===t.type?t.declTNode:1===t.type?n[6]:null}function AA(n,t,e){if(e&an.SkipSelf){let r=t,o=n;for(;!(r=r.parent,null!==r||e&an.Host||(r=Rj(o),null===r||(o=o[15],10&r.type))););if(null===r)return!1;t=r,n=o}const i=sn.lFrame=xA();return i.currentTNode=t,i.lView=n,!0}function Wm(n){const t=xA(),e=n[1];sn.lFrame=t,t.currentTNode=e.firstChild,t.lView=n,t.tView=e,t.contextLView=n,t.bindingIndex=e.bindingStartIndex,t.inI18n=!1}function xA(){const n=sn.lFrame,t=null===n?null:n.child;return null===t?RA(n):t}function RA(n){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=t),t}function DA(){const n=sn.lFrame;return sn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const IA=DA;function zm(){const n=DA();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Fo(){return sn.lFrame.selectedIndex}function Cu(n){sn.lFrame.selectedIndex=n}function pr(){const n=sn.lFrame;return G1(n.tView,n.selectedIndex)}function $m(n,t){for(let e=t.directiveStart,i=t.directiveEnd;e<i;e++){const o=n.data[e].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:g}=o;s&&(n.contentHooks||(n.contentHooks=[])).push(-e,s),a&&((n.contentHooks||(n.contentHooks=[])).push(e,a),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(e,a)),l&&(n.viewHooks||(n.viewHooks=[])).push(-e,l),u&&((n.viewHooks||(n.viewHooks=[])).push(e,u),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(e,u)),null!=g&&(n.destroyHooks||(n.destroyHooks=[])).push(e,g)}}function Xm(n,t,e){NA(n,t,3,e)}function Km(n,t,e,i){(3&n[2])===e&&NA(n,t,e,i)}function X1(n,t){let e=n[2];(3&e)===t&&(e&=2047,e+=1,n[2]=e)}function NA(n,t,e,i){const o=null!=i?i:-1,s=t.length-1;let a=0;for(let l=void 0!==i?65535&n[18]:0;l<s;l++)if("number"==typeof t[l+1]){if(a=t[l],null!=i&&a>=i)break}else t[l]<0&&(n[18]+=65536),(a<o||-1==o)&&(Gj(n,e,t,l),n[18]=(4294901760&n[18])+l+2),l++}function Gj(n,t,e,i){const r=e[i]<0,o=e[i+1],a=n[r?-e[i]:e[i]];if(r){if(n[2]>>11<n[18]>>16&&(3&n[2])===t){n[2]+=2048;try{o.call(a)}finally{}}}else try{o.call(a)}finally{}}class Xp{constructor(t,e,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=i}}function qm(n,t,e){const i=fr(n);let r=0;for(;r<e.length;){const o=e[r];if("number"==typeof o){if(0!==o)break;r++;const s=e[r++],a=e[r++],l=e[r++];i?n.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=e[++r];q1(s)?i&&n.setProperty(t,s,a):i?n.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function kA(n){return 3===n||4===n||6===n}function q1(n){return 64===n.charCodeAt(0)}function Jm(n,t){if(null!==t&&0!==t.length)if(null===n||0===n.length)n=t.slice();else{let e=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?e=r:0===e||FA(n,e,r,null,-1===e||2===e?t[++i]:null)}}return n}function FA(n,t,e,i,r){let o=0,s=n.length;if(-1===t)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===e){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,t),o=s+1),n.splice(o++,0,e),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}function BA(n){return-1!==n}function Dd(n){return 32767&n}function Id(n,t){let e=function Wj(n){return n>>16}(n),i=t;for(;e>0;)i=i[15],e--;return i}let J1=!0;function Qm(n){const t=J1;return J1=n,t}let zj=0;function qp(n,t){const e=Z1(n,t);if(-1!==e)return e;const i=t[1];i.firstCreatePass&&(n.injectorIndex=t.length,Q1(i.data,n),Q1(t,null),Q1(i.blueprint,null));const r=Zm(n,t),o=n.injectorIndex;if(BA(r)){const s=Dd(r),a=Id(r,t),l=a[1].data;for(let u=0;u<8;u++)t[o+u]=a[s+u]|l[s+u]}return t[o+8]=r,o}function Q1(n,t){n.push(0,0,0,0,0,0,0,0,t)}function Z1(n,t){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===t[n.injectorIndex+8]?-1:n.injectorIndex}function Zm(n,t){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let e=0,i=null,r=t;for(;null!==r;){const o=r[1],s=o.type;if(i=2===s?o.declTNode:1===s?r[6]:null,null===i)return-1;if(e++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|e<<16}return-1}function ev(n,t,e){!function $j(n,t,e){let i;"string"==typeof e?i=e.charCodeAt(0)||0:e.hasOwnProperty(Hp)&&(i=e[Hp]),null==i&&(i=e[Hp]=zj++);const r=255&i;t.data[n+(r>>5)]|=1<<r}(n,t,e)}function GA(n,t,e){if(e&an.Optional)return n;Im(t,"NodeInjector")}function jA(n,t,e,i){if(e&an.Optional&&void 0===i&&(i=null),0==(e&(an.Self|an.Host))){const r=n[9],o=bu(void 0);try{return r?r.get(t,i,e&an.Optional):hA(t,i,e&an.Optional)}finally{bu(o)}}return GA(i,t,e)}function VA(n,t,e,i=an.Default,r){if(null!==n){const o=function Jj(n){if("string"==typeof n)return n.charCodeAt(0)||0;const t=n.hasOwnProperty(Hp)?n[Hp]:void 0;return"number"==typeof t?t>=0?255&t:Kj:t}(e);if("function"==typeof o){if(!AA(t,n,i))return i&an.Host?GA(r,e,i):jA(t,e,i,r);try{const s=o(i);if(null!=s||i&an.Optional)return s;Im(e)}finally{IA()}}else if("number"==typeof o){let s=null,a=Z1(n,t),l=-1,u=i&an.Host?t[16][6]:null;for((-1===a||i&an.SkipSelf)&&(l=-1===a?Zm(n,t):t[a+8],-1!==l&&WA(i,!1)?(s=t[1],a=Dd(l),t=Id(l,t)):a=-1);-1!==a;){const g=t[1];if(YA(o,a,g.data)){const E=qj(a,t,e,s,i,u);if(E!==HA)return E}l=t[a+8],-1!==l&&WA(i,t[1].data[a+8]===u)&&YA(o,a,t)?(s=g,a=Dd(l),t=Id(l,t)):a=-1}}}return jA(t,e,i,r)}const HA={};function Kj(){return new Nd(Br(),ot())}function qj(n,t,e,i,r,o){const s=t[1],a=s.data[n+8],g=tv(a,s,e,null==i?Gm(a)&&J1:i!=s&&0!=(3&a.type),r&an.Host&&o===a);return null!==g?Jp(t,s,g,a):HA}function tv(n,t,e,i,r){const o=n.providerIndexes,s=t.data,a=1048575&o,l=n.directiveStart,g=o>>20,w=r?a+g:n.directiveEnd;for(let P=i?a:a+g;P<w;P++){const A=s[P];if(P<l&&e===A||P>=l&&A.type===e)return P}if(r){const P=s[l];if(P&&Sa(P)&&P.type===e)return l}return null}function Jp(n,t,e,i){let r=n[e];const o=t.data;if(function jj(n){return n instanceof Xp}(r)){const s=r;s.resolving&&function H6(n,t){const e=t?`. Dependency path: ${t.join(" > ")} > ${n}`:"";throw new kt(-200,`Circular dependency in DI detected for ${n}${e}`)}(No(o[e]));const a=Qm(s.canSeeViewProviders);s.resolving=!0;const l=s.injectImpl?bu(s.injectImpl):null;AA(n,i,an.Default);try{r=n[e]=s.factory(void 0,o,n,i),t.firstCreatePass&&e>=i.directiveStart&&function Uj(n,t,e){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const s=vA(t);(e.preOrderHooks||(e.preOrderHooks=[])).push(n,s),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,s)}r&&(e.preOrderHooks||(e.preOrderHooks=[])).push(0-n,r),o&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n,o),(e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n,o))}(e,o[e],t)}finally{null!==l&&bu(l),Qm(a),s.resolving=!1,IA()}}return r}function YA(n,t,e){return!!(e[t+(n>>5)]&1<<n)}function WA(n,t){return!(n&an.Self||n&an.Host&&t)}class Nd{constructor(t,e){this._tNode=t,this._lView=e}get(t,e,i){return VA(this._tNode,this._lView,t,i,e)}}function Lr(n){return Eu(()=>{const t=n.prototype.constructor,e=t[Fl]||eE(t),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[Fl]||eE(r);if(o&&o!==e)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function eE(n){return aA(n)?()=>{const t=eE(_n(n));return t&&t()}:wc(n)}const Fd="__parameters__";function Ld(n,t,e){return Eu(()=>{const i=function tE(n){return function(...e){if(n){const i=n(...e);for(const r in i)this[r]=i[r]}}}(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,u,g){const E=l.hasOwnProperty(Fd)?l[Fd]:Object.defineProperty(l,Fd,{value:[]})[Fd];for(;E.length<=g;)E.push(null);return(E[g]=E[g]||[]).push(s),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}class Kt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=rt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Zj=new Kt("AnalyzeForEntryComponents");function Ys(n,t){void 0===t&&(t=n);for(let e=0;e<n.length;e++){let i=n[e];Array.isArray(i)?(t===n&&(t=n.slice(0,e)),Ys(i,t)):t!==n&&t.push(i)}return t}function qa(n,t){n.forEach(e=>Array.isArray(e)?qa(e,t):t(e))}function $A(n,t,e){t>=n.length?n.push(e):n.splice(t,0,e)}function nv(n,t){return t>=n.length-1?n.pop():n.splice(t,1)[0]}function eg(n,t){const e=[];for(let i=0;i<n;i++)e.push(t);return e}function fs(n,t,e){let i=Ud(n,t);return i>=0?n[1|i]=e:(i=~i,function nV(n,t,e,i){let r=n.length;if(r==t)n.push(e,i);else if(1===r)n.push(i,n[0]),n[0]=e;else{for(r--,n.push(n[r-1],n[r]);r>t;)n[r]=n[r-2],r--;n[t]=e,n[t+1]=i}}(n,i,t,e)),i}function iE(n,t){const e=Ud(n,t);if(e>=0)return n[1|e]}function Ud(n,t){return function qA(n,t,e){let i=0,r=n.length>>e;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<e];if(t===s)return o<<e;s>t?r=o:i=o+1}return~(r<<e)}(n,t,1)}const tg={},oE="__NG_DI_FLAG__",rv="ngTempTokenPath",uV=/\n/gm,QA="__source",hV=Tn({provide:String,useValue:Tn});let ng;function ZA(n){const t=ng;return ng=n,t}function dV(n,t=an.Default){if(void 0===ng)throw new kt(203,"");return null===ng?hA(n,void 0,t):ng.get(n,t&an.Optional?null:void 0,t)}function ke(n,t=an.Default){return(function q6(){return A1}()||dV)(_n(n),t)}const tx=ke;function sE(n){const t=[];for(let e=0;e<n.length;e++){const i=_n(n[e]);if(Array.isArray(i)){if(0===i.length)throw new kt(900,"");let r,o=an.Default;for(let s=0;s<i.length;s++){const a=i[s],l=fV(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}t.push(ke(r,o))}else t.push(ke(i))}return t}function ig(n,t){return n[oE]=t,n.prototype[oE]=t,n}function fV(n){return n[oE]}const ov=ig(Ld("Inject",n=>({token:n})),-1),Mu=ig(Ld("Optional"),8),rg=ig(Ld("SkipSelf"),4);let av,lv;function jd(n){var t;return(null===(t=function lE(){if(void 0===av&&(av=null,mi.trustedTypes))try{av=mi.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return av}())||void 0===t?void 0:t.createHTML(n))||n}function lx(n){var t;return(null===(t=function uE(){if(void 0===lv&&(lv=null,mi.trustedTypes))try{lv=mi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch(n){}return lv}())||void 0===t?void 0:t.createScriptURL(n))||n}class Ac{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class MV extends Ac{getTypeName(){return"HTML"}}class wV extends Ac{getTypeName(){return"Style"}}class PV extends Ac{getTypeName(){return"Script"}}class AV extends Ac{getTypeName(){return"URL"}}class xV extends Ac{getTypeName(){return"ResourceURL"}}function ps(n){return n instanceof Ac?n.changingThisBreaksApplicationSecurity:n}function Ja(n,t){const e=ux(n);if(null!=e&&e!==t){if("ResourceURL"===e&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${e} (see https://g.co/ng/security#xss)`)}return e===t}function ux(n){return n instanceof Ac&&n.getTypeName()||null}class FV{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jd(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class BV{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const i=this.inertDocument.createElement("body");e.appendChild(i)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jd(t),e;const i=this.inertDocument.createElement("body");return i.innerHTML=jd(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(i),i}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const s=e.item(r).name;("xmlns:ns1"===s||0===s.indexOf("ns1:"))&&t.removeAttribute(s)}let i=t.firstChild;for(;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}const UV=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,GV=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function sg(n){return(n=String(n)).match(UV)||n.match(GV)?n:"unsafe:"+n}function hx(n){return(n=String(n)).split(",").map(t=>sg(t.trim())).join(", ")}function Qa(n){const t={};for(const e of n.split(","))t[e]=!0;return t}function ag(...n){const t={};for(const e of n)for(const i in e)e.hasOwnProperty(i)&&(t[i]=!0);return t}const dx=Qa("area,br,col,hr,img,wbr"),fx=Qa("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),px=Qa("rp,rt"),cE=ag(dx,ag(fx,Qa("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ag(px,Qa("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ag(px,fx)),hE=Qa("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dE=Qa("srcset"),gx=ag(hE,dE,Qa("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qa("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jV=Qa("script,style,template");class VV{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,i=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?i=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,i&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let r=this.checkClobberedElement(e,e.nextSibling);if(r){e=r;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cE.hasOwnProperty(e))return this.sanitizedSomething=!0,!jV.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const i=t.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!gx.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;hE[a]&&(l=sg(l)),dE[a]&&(l=hx(l)),this.buf.push(" ",s,'="',_x(l),'"')}return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cE.hasOwnProperty(e)&&!dx.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(_x(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const HV=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,YV=/([^\#-~ |!])/g;function _x(n){return n.replace(/&/g,"&amp;").replace(HV,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(YV,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let uv;function mx(n,t){let e=null;try{uv=uv||function cx(n){const t=new BV(n);return function LV(){try{return!!(new window.DOMParser).parseFromString(jd(""),"text/html")}catch(n){return!1}}()?new FV(t):t}(n);let i=t?String(t):"";e=uv.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=e.innerHTML,e=uv.getInertBodyElement(i)}while(i!==o);return jd((new VV).sanitizeChildren(fE(e)||e))}finally{if(e){const i=fE(e)||e;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function fE(n){return"content"in n&&function WV(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var Ri=(()=>((Ri=Ri||{})[Ri.NONE=0]="NONE",Ri[Ri.HTML=1]="HTML",Ri[Ri.STYLE=2]="STYLE",Ri[Ri.SCRIPT=3]="SCRIPT",Ri[Ri.URL=4]="URL",Ri[Ri.RESOURCE_URL=5]="RESOURCE_URL",Ri))();function so(n){const t=lg();return t?t.sanitize(Ri.URL,n)||"":Ja(n,"URL")?ps(n):sg(hn(n))}function cv(n){const t=lg();if(t)return lx(t.sanitize(Ri.RESOURCE_URL,n)||"");if(Ja(n,"ResourceURL"))return lx(ps(n));throw new kt(904,"")}function lg(){const n=ot();return n&&n[12]}const yx="__ngContext__";function yo(n,t){n[yx]=t}function gE(n){const t=function ug(n){return n[yx]||null}(n);return t?Array.isArray(t)?t:t.lView:null}function mE(n){return n.ngOriginalError}function lH(n,...t){n.error(...t)}class Vd{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),i=function aH(n){return n&&n.ngErrorLogger||lH}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e)}_findOriginalError(t){let e=t&&mE(t);for(;e&&mE(e);)e=mE(e);return e||null}}const vH=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(mi))();function Za(n){return n instanceof Function?n():n}var gs=(()=>((gs=gs||{})[gs.Important=1]="Important",gs[gs.DashCase=2]="DashCase",gs))();function yE(n,t){return undefined(n,t)}function cg(n){const t=n[3];return Ea(t)?t[3]:t}function bE(n){return Px(n[13])}function EE(n){return Px(n[4])}function Px(n){for(;null!==n&&!Ea(n);)n=n[4];return n}function Yd(n,t,e,i,r){if(null!=i){let o,s=!1;Ea(i)?o=i:Xa(i)&&(s=!0,i=i[0]);const a=Mr(i);0===n&&null!==e?null==r?Nx(t,e,a):xc(t,e,a,r||null,!0):1===n&&null!==e?xc(t,e,a,r||null,!0):2===n?function jx(n,t,e){const i=hv(n,t);i&&function DH(n,t,e,i){fr(n)?n.removeChild(t,e,i):t.removeChild(e)}(n,i,t,e)}(t,a,s):3===n&&t.destroyNode(a),null!=o&&function kH(n,t,e,i,r){const o=e[7];o!==Mr(e)&&Yd(t,n,i,o,r);for(let a=10;a<e.length;a++){const l=e[a];hg(l[1],l,n,t,i,o)}}(t,n,o,e,r)}}function TE(n,t,e){if(fr(n))return n.createElement(t,e);{const i=null!==e?function _j(n){const t=n.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(e):null;return null===i?n.createElement(t):n.createElementNS(i,t)}}function xx(n,t){const e=n[9],i=e.indexOf(t),r=t[3];1024&t[2]&&(t[2]&=-1025,V1(r,-1)),e.splice(i,1)}function CE(n,t){if(n.length<=10)return;const e=10+t,i=n[e];if(i){const r=i[17];null!==r&&r!==n&&xx(r,i),t>0&&(n[e-1][4]=i[4]);const o=nv(n,10+t);!function CH(n,t){hg(n,t,t[11],2,null,null),t[0]=null,t[6]=null}(i[1],i);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Rx(n,t){if(!(256&t[2])){const e=t[11];fr(e)&&e.destroyNode&&hg(n,t,e,3,null,null),function wH(n){let t=n[13];if(!t)return OE(n[1],n);for(;t;){let e=null;if(Xa(t))e=t[13];else{const i=t[10];i&&(e=i)}if(!e){for(;t&&!t[4]&&t!==n;)Xa(t)&&OE(t[1],t),t=t[3];null===t&&(t=n),Xa(t)&&OE(t[1],t),e=t&&t[4]}t=e}}(t)}}function OE(n,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function RH(n,t){let e;if(null!=n&&null!=(e=n.destroyHooks))for(let i=0;i<e.length;i+=2){const r=t[e[i]];if(!(r instanceof Xp)){const o=e[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];try{l.call(a)}finally{}}else try{o.call(r)}finally{}}}}(n,t),function xH(n,t){const e=n.cleanup,i=t[7];let r=-1;if(null!==e)for(let o=0;o<e.length-1;o+=2)if("string"==typeof e[o]){const s=e[o+1],a="function"==typeof s?s(t):Mr(t[s]),l=i[r=e[o+2]],u=e[o+3];"boolean"==typeof u?a.removeEventListener(e[o],l,u):u>=0?i[r=u]():i[r=-u].unsubscribe(),o+=2}else{const s=i[r=e[o+1]];e[o].call(s)}if(null!==i){for(let o=r+1;o<i.length;o++)i[o]();t[7]=null}}(n,t),1===t[1].type&&fr(t[11])&&t[11].destroy();const e=t[17];if(null!==e&&Ea(t[3])){e!==t[3]&&xx(e,t);const i=t[19];null!==i&&i.detachView(n)}}}function Dx(n,t,e){return function Ix(n,t,e){let i=t;for(;null!==i&&40&i.type;)i=(t=i).parent;if(null===i)return e[0];if(2&i.flags){const r=n.data[i.directiveStart].encapsulation;if(r===ya.None||r===ya.Emulated)return null}return Hs(i,e)}(n,t.parent,e)}function xc(n,t,e,i,r){fr(n)?n.insertBefore(t,e,i,r):t.insertBefore(e,i,r)}function Nx(n,t,e){fr(n)?n.appendChild(t,e):t.appendChild(e)}function kx(n,t,e,i,r){null!==i?xc(n,t,e,i,r):Nx(n,t,e)}function hv(n,t){return fr(n)?n.parentNode(t):t.parentNode}function Fx(n,t,e){return Lx(n,t,e)}let Lx=function Bx(n,t,e){return 40&n.type?Hs(n,e):null};function dv(n,t,e,i){const r=Dx(n,i,t),o=t[11],a=Fx(i.parent||t[6],i,t);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)kx(o,r,e[l],a,!1);else kx(o,r,e,a,!1)}function fv(n,t){if(null!==t){const e=t.type;if(3&e)return Hs(t,n);if(4&e)return wE(-1,n[t.index]);if(8&e){const i=t.child;if(null!==i)return fv(n,i);{const r=n[t.index];return Ea(r)?wE(-1,r):Mr(r)}}if(32&e)return yE(t,n)()||Mr(n[t.index]);{const i=Gx(n,t);return null!==i?Array.isArray(i)?i[0]:fv(cg(n[16]),i):fv(n,t.next)}}return null}function Gx(n,t){return null!==t?n[16][6].projection[t.projection]:null}function wE(n,t){const e=10+n+1;if(e<t.length){const i=t[e],r=i[1].firstChild;if(null!==r)return fv(i,r)}return t[7]}function PE(n,t,e,i,r,o,s){for(;null!=e;){const a=i[e.index],l=e.type;if(s&&0===t&&(a&&yo(Mr(a),i),e.flags|=4),64!=(64&e.flags))if(8&l)PE(n,t,e.child,i,r,o,!1),Yd(t,n,r,a,o);else if(32&l){const u=yE(e,i);let g;for(;g=u();)Yd(t,n,r,g,o);Yd(t,n,r,a,o)}else 16&l?Vx(n,t,i,e,r,o):Yd(t,n,r,a,o);e=s?e.projectionNext:e.next}}function hg(n,t,e,i,r,o){PE(e,i,n.firstChild,t,r,o,!1)}function Vx(n,t,e,i,r,o){const s=e[16],l=s[6].projection[i.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)Yd(t,n,r,l[u],o);else PE(n,t,l,s[3],r,o,!0)}function Hx(n,t,e){fr(n)?n.setAttribute(t,"style",e):t.style.cssText=e}function AE(n,t,e){fr(n)?""===e?n.removeAttribute(t,"class"):n.setAttribute(t,"class",e):t.className=e}function Yx(n,t,e){let i=n.length;for(;;){const r=n.indexOf(t,e);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=t.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}e=r+1}}const Wx="ng-template";function BH(n,t,e){let i=0;for(;i<n.length;){let r=n[i++];if(e&&"class"===r){if(r=n[i],-1!==Yx(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<n.length&&"string"==typeof(r=n[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function zx(n){return 4===n.type&&n.value!==Wx}function LH(n,t,e){return t===(4!==n.type||e?n.value:Wx)}function UH(n,t,e){let i=4;const r=n.attrs||[],o=function VH(n){for(let t=0;t<n.length;t++)if(kA(n[t]))return t;return n.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!LH(n,l,e)||""===l&&1===t.length){if(Ta(i))return!1;s=!0}}else{const u=8&i?l:t[++a];if(8&i&&null!==n.attrs){if(!BH(n.attrs,u,e)){if(Ta(i))return!1;s=!0}continue}const E=GH(8&i?"class":l,r,zx(n),e);if(-1===E){if(Ta(i))return!1;s=!0;continue}if(""!==u){let w;w=E>o?"":r[E+1].toLowerCase();const P=8&i?w:null;if(P&&-1!==Yx(P,u,0)||2&i&&u!==w){if(Ta(i))return!1;s=!0}}}}else{if(!s&&!Ta(i)&&!Ta(l))return!1;if(s&&Ta(l))continue;s=!1,i=l|1&i}}return Ta(i)||s}function Ta(n){return 0==(1&n)}function GH(n,t,e,i){if(null===t)return-1;let r=0;if(i||!e){let o=!1;for(;r<t.length;){const s=t[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++r];for(;"string"==typeof a;)a=t[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function HH(n,t){let e=n.indexOf(4);if(e>-1)for(e++;e<n.length;){const i=n[e];if("number"==typeof i)return-1;if(i===t)return e;e++}return-1}(t,n)}function $x(n,t,e=!1){for(let i=0;i<t.length;i++)if(UH(n,t[i],e))return!0;return!1}function YH(n,t){e:for(let e=0;e<t.length;e++){const i=t[e];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function Xx(n,t){return n?":not("+t.trim()+")":t}function WH(n){let t=n[0],e=1,i=2,r="",o=!1;for(;e<n.length;){let s=n[e];if("string"==typeof s)if(2&i){const a=n[++e];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!Ta(s)&&(t+=Xx(o,r),r=""),i=s,o=o||!Ta(i);e++}return""!==r&&(t+=Xx(o,r)),t}const dn={};function F(n){Kx(Xn(),ot(),Fo()+n,Hm())}function Kx(n,t,e,i){if(!i)if(3==(3&t[2])){const o=n.preOrderCheckHooks;null!==o&&Xm(t,o,e)}else{const o=n.preOrderHooks;null!==o&&Km(t,o,0,e)}Cu(e)}function pv(n,t){return n<<17|t<<2}function Ca(n){return n>>17&32767}function xE(n){return 2|n}function Ul(n){return(131068&n)>>2}function RE(n,t){return-131069&n|t<<2}function DE(n){return 1|n}function sR(n,t){const e=n.contentQueries;if(null!==e)for(let i=0;i<e.length;i+=2){const r=e[i],o=e[i+1];if(-1!==o){const s=n.data[o];$1(r),s.contentQueries(2,t[o],o)}}}function dg(n,t,e,i,r,o,s,a,l,u){const g=t.blueprint.slice();return g[0]=r,g[2]=140|i,TA(g),g[3]=g[15]=n,g[8]=e,g[10]=s||n&&n[10],g[11]=a||n&&n[11],g[12]=l||n&&n[12]||null,g[9]=u||n&&n[9]||null,g[6]=o,g[16]=2==t.type?n[16]:g,g}function Wd(n,t,e,i,r){let o=n.data[t];if(null===o)o=function jE(n,t,e,i,r){const o=OA(),s=H1(),l=n.data[t]=function u7(n,t,e,i,r,o){return{type:e,index:i,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,e,t,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l)),l}(n,t,e,i,r),function Pj(){return sn.lFrame.inI18n}()&&(o.flags|=64);else if(64&o.type){o.type=e,o.value=i,o.attrs=r;const s=function $p(){const n=sn.lFrame,t=n.currentTNode;return n.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ka(o,!0),o}function zd(n,t,e,i){if(0===e)return-1;const r=t.length;for(let o=0;o<e;o++)t.push(i),n.blueprint.push(i),n.data.push(null);return r}function fg(n,t,e){Wm(t);try{const i=n.viewQuery;null!==i&&qE(1,i,e);const r=n.template;null!==r&&aR(n,t,r,1,e),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&sR(n,t),n.staticViewQueries&&qE(2,n.viewQuery,e);const o=n.components;null!==o&&function s7(n,t){for(let e=0;e<t.length;e++)w7(n,t[e])}(t,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{t[2]&=-5,zm()}}function $d(n,t,e,i){const r=t[2];if(256==(256&r))return;Wm(t);const o=Hm();try{TA(t),function MA(n){return sn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==e&&aR(n,t,e,2,i);const s=3==(3&r);if(!o)if(s){const u=n.preOrderCheckHooks;null!==u&&Xm(t,u,null)}else{const u=n.preOrderHooks;null!==u&&Km(t,u,0,null),X1(t,0)}if(function O7(n){for(let t=bE(n);null!==t;t=EE(t)){if(!t[2])continue;const e=t[9];for(let i=0;i<e.length;i++){const r=e[i],o=r[3];0==(1024&r[2])&&V1(o,1),r[2]|=1024}}}(t),function C7(n){for(let t=bE(n);null!==t;t=EE(t))for(let e=10;e<t.length;e++){const i=t[e],r=i[1];j1(i)&&$d(r,i,r.template,i[8])}}(t),null!==n.contentQueries&&sR(n,t),!o)if(s){const u=n.contentCheckHooks;null!==u&&Xm(t,u)}else{const u=n.contentHooks;null!==u&&Km(t,u,1),X1(t,1)}!function r7(n,t){const e=n.hostBindingOpCodes;if(null!==e)try{for(let i=0;i<e.length;i++){const r=e[i];if(r<0)Cu(~r);else{const o=r,s=e[++i],a=e[++i];Aj(s,o),a(2,t[o])}}}finally{Cu(-1)}}(n,t);const a=n.components;null!==a&&function o7(n,t){for(let e=0;e<t.length;e++)M7(n,t[e])}(t,a);const l=n.viewQuery;if(null!==l&&qE(2,l,i),!o)if(s){const u=n.viewCheckHooks;null!==u&&Xm(t,u)}else{const u=n.viewHooks;null!==u&&Km(t,u,2),X1(t,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,V1(t[3],-1))}finally{zm()}}function a7(n,t,e,i){const r=t[10],o=!Hm(),s=SA(t);try{o&&!s&&r.begin&&r.begin(),s&&fg(n,t,i),$d(n,t,e,i)}finally{o&&!s&&r.end&&r.end()}}function aR(n,t,e,i,r){const o=Fo(),s=2&i;try{Cu(-1),s&&t.length>20&&Kx(n,t,20,Hm()),e(i,r)}finally{Cu(o)}}function lR(n,t,e){if(I1(t)){const r=t.directiveEnd;for(let o=t.directiveStart;o<r;o++){const s=n.data[o];s.contentQueries&&s.contentQueries(1,e[o],o)}}}function VE(n,t,e){!CA()||(function _7(n,t,e,i){const r=e.directiveStart,o=e.directiveEnd;n.firstCreatePass||qp(e,t),yo(i,t);const s=e.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],u=Sa(l);u&&E7(t,e,l);const g=Jp(t,n,a,e);yo(g,t),null!==s&&S7(0,a-r,g,l,0,s),u&&(ds(e.index,t)[8]=g)}}(n,t,e,Hs(e,t)),128==(128&e.flags)&&function m7(n,t,e){const i=e.directiveStart,r=e.directiveEnd,s=e.index,a=function xj(){return sn.lFrame.currentDirectiveIndex}();try{Cu(s);for(let l=i;l<r;l++){const u=n.data[l],g=t[l];W1(l),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&_R(u,g)}}finally{Cu(-1),W1(a)}}(n,t,e))}function HE(n,t,e=Hs){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?e(t,n):n[s];n[r++]=a}}}function uR(n){const t=n.tView;return null===t||t.incompleteFirstPass?n.tView=mv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):t}function mv(n,t,e,i,r,o,s,a,l,u){const g=20+i,E=g+r,w=function l7(n,t){const e=[];for(let i=0;i<t;i++)e.push(i<n?null:dn);return e}(g,E),P="function"==typeof u?u():u;return w[1]={type:n,blueprint:w,template:e,queries:null,viewQuery:a,declTNode:t,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:P,incompleteFirstPass:!1}}function dR(n,t,e,i){const r=SR(t);null===e?r.push(i):(r.push(e),n.firstCreatePass&&TR(n).push(i,r.length-1))}function fR(n,t,e){for(let i in n)if(n.hasOwnProperty(i)){const r=n[i];(e=null===e?{}:e).hasOwnProperty(i)?e[i].push(t,r):e[i]=[t,r]}return e}function _s(n,t,e,i,r,o,s,a){const l=Hs(t,e);let g,u=t.inputs;!a&&null!=u&&(g=u[i])?(MR(n,e,g,i,r),Gm(t)&&function d7(n,t){const e=ds(t,n);16&e[2]||(e[2]|=64)}(e,t.index)):3&t.type&&(i=function h7(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,t.value||"",i):r,fr(o)?o.setProperty(l,i,r):q1(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function YE(n,t,e,i){let r=!1;if(CA()){const o=function v7(n,t,e){const i=n.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];$x(e,s.selectors,!1)&&(r||(r=[]),ev(qp(e,t),n,s.type),Sa(s)?(mR(n,e),r.unshift(s)):r.push(s))}return r}(n,t,e),s=null===i?null:{"":-1};if(null!==o){r=!0,vR(e,n.data.length,o.length);for(let g=0;g<o.length;g++){const E=o[g];E.providersResolver&&E.providersResolver(E)}let a=!1,l=!1,u=zd(n,t,o.length,null);for(let g=0;g<o.length;g++){const E=o[g];e.mergedAttrs=Jm(e.mergedAttrs,E.hostAttrs),yR(n,e,t,u,E),b7(u,E,s),null!==E.contentQueries&&(e.flags|=8),(null!==E.hostBindings||null!==E.hostAttrs||0!==E.hostVars)&&(e.flags|=128);const w=E.type.prototype;!a&&(w.ngOnChanges||w.ngOnInit||w.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e.index),a=!0),!l&&(w.ngOnChanges||w.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e.index),l=!0),u++}!function c7(n,t){const i=t.directiveEnd,r=n.data,o=t.attrs,s=[];let a=null,l=null;for(let u=t.directiveStart;u<i;u++){const g=r[u],E=g.inputs,w=null===o||zx(t)?null:T7(E,o);s.push(w),a=fR(E,u,a),l=fR(g.outputs,u,l)}null!==a&&(a.hasOwnProperty("class")&&(t.flags|=16),a.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=s,t.inputs=a,t.outputs=l}(n,e)}s&&function y7(n,t,e){if(t){const i=n.localNames=[];for(let r=0;r<t.length;r+=2){const o=e[t[r+1]];if(null==o)throw new kt(-301,!1);i.push(t[r],o)}}}(e,i,s)}return e.mergedAttrs=Jm(e.mergedAttrs,e.attrs),r}function gR(n,t,e,i,r,o){const s=o.hostBindings;if(s){let a=n.hostBindingOpCodes;null===a&&(a=n.hostBindingOpCodes=[]);const l=~t.index;(function g7(n){let t=n.length;for(;t>0;){const e=n[--t];if("number"==typeof e&&e<0)return e}return 0})(a)!=l&&a.push(l),a.push(i,r,s)}}function _R(n,t){null!==n.hostBindings&&n.hostBindings(1,t)}function mR(n,t){t.flags|=2,(n.components||(n.components=[])).push(t.index)}function b7(n,t,e){if(e){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)e[t.exportAs[i]]=n;Sa(t)&&(e[""]=n)}}function vR(n,t,e){n.flags|=1,n.directiveStart=t,n.directiveEnd=t+e,n.providerIndexes=t}function yR(n,t,e,i,r){n.data[i]=r;const o=r.factory||(r.factory=wc(r.type)),s=new Xp(o,Sa(r),null);n.blueprint[i]=s,e[i]=s,gR(n,t,0,i,zd(n,e,r.hostVars,dn),r)}function E7(n,t,e){const i=Hs(t,n),r=uR(e),o=n[10],s=vv(n,dg(n,r,null,e.onPush?64:16,i,t,o,o.createRenderer(i,e),null,null));n[t.index]=s}function el(n,t,e,i,r,o){const s=Hs(n,t);!function WE(n,t,e,i,r,o,s){if(null==o)fr(n)?n.removeAttribute(t,r,e):t.removeAttribute(r);else{const a=null==s?hn(o):s(o,i||"",r);fr(n)?n.setAttribute(t,r,a,e):e?t.setAttributeNS(e,r,a):t.setAttribute(r,a)}}(t[11],s,o,n.value,e,i,r)}function S7(n,t,e,i,r,o){const s=o[t];if(null!==s){const a=i.setInput;for(let l=0;l<s.length;){const u=s[l++],g=s[l++],E=s[l++];null!==a?i.setInput(e,E,u,g):e[g]=E}}}function T7(n,t){let e=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;n.hasOwnProperty(r)&&(null===e&&(e=[]),e.push(r,n[r],t[i+1])),i+=2}else i+=2;else i+=4}return e}function bR(n,t,e,i){return new Array(n,!0,!1,t,null,0,i,e,null,null)}function M7(n,t){const e=ds(t,n);if(j1(e)){const i=e[1];80&e[2]?$d(i,e,i.template,e[8]):e[5]>0&&zE(e)}}function zE(n){for(let i=bE(n);null!==i;i=EE(i))for(let r=10;r<i.length;r++){const o=i[r];if(1024&o[2]){const s=o[1];$d(s,o,s.template,o[8])}else o[5]>0&&zE(o)}const e=n[1].components;if(null!==e)for(let i=0;i<e.length;i++){const r=ds(e[i],n);j1(r)&&r[5]>0&&zE(r)}}function w7(n,t){const e=ds(t,n),i=e[1];(function P7(n,t){for(let e=t.length;e<n.blueprint.length;e++)t.push(n.blueprint[e])})(i,e),fg(i,e,e[8])}function vv(n,t){return n[13]?n[14][4]=t:n[13]=t,n[14]=t,t}function $E(n){for(;n;){n[2]|=64;const t=cg(n);if(sj(n)&&!t)return n;n=t}return null}function KE(n,t,e){const i=t[10];i.begin&&i.begin();try{$d(n,t,n.template,e)}catch(r){throw OR(t,r),r}finally{i.end&&i.end()}}function ER(n){!function XE(n){for(let t=0;t<n.components.length;t++){const e=n.components[t],i=gE(e),r=i[1];a7(r,i,r.template,e)}}(n[8])}function qE(n,t,e){$1(0),t(n,e)}const D7=(()=>Promise.resolve(null))();function SR(n){return n[7]||(n[7]=[])}function TR(n){return n.cleanup||(n.cleanup=[])}function OR(n,t){const e=n[9],i=e?e.get(Vd,null):null;i&&i.handleError(t)}function MR(n,t,e,i,r){for(let o=0;o<e.length;){const s=e[o++],a=e[o++],l=t[s],u=n.data[s];null!==u.setInput?u.setInput(l,r,i,a):l[a]=r}}function Gl(n,t,e){const i=Vm(t,n);!function Ax(n,t,e){fr(n)?n.setValue(t,e):t.textContent=e}(n[11],i,e)}function yv(n,t,e){let i=e?n.styles:null,r=e?n.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?r=Td(r,a):2==o&&(i=Td(i,a+": "+t[++s]+";"))}e?n.styles=i:n.stylesWithoutHost=i,e?n.classes=r:n.classesWithoutHost=r}const JE=new Kt("INJECTOR",-1);class wR{get(t,e=tg){if(e===tg){const i=new Error(`NullInjectorError: No provider for ${ni(t)}!`);throw i.name="NullInjectorError",i}return e}}const QE=new Kt("Set Injector scope."),pg={},k7={};let ZE;function PR(){return void 0===ZE&&(ZE=new wR),ZE}function AR(n,t=null,e=null,i){const r=xR(n,t,e,i);return r._resolveInjectorDefTypes(),r}function xR(n,t=null,e=null,i){return new F7(n,e,t||PR(),i)}class F7{constructor(t,e,i,r=null){this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const o=[];e&&qa(e,a=>this.processProvider(a,t,e)),qa([t],a=>this.processInjectorType(a,[],o)),this.records.set(JE,Xd(void 0,this));const s=this.records.get(QE);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:ni(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=tg,i=an.Default){this.assertNotDestroyed();const r=ZA(this),o=bu(void 0);try{if(!(i&an.SkipSelf)){let a=this.records.get(t);if(void 0===a){const l=function Y7(n){return"function"==typeof n||"object"==typeof n&&n instanceof Kt}(t)&&w1(t);a=l&&this.injectableDefInScope(l)?Xd(eS(t),pg):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(i&an.Self?PR():this.parent).get(t,e=i&an.Optional&&e===tg?null:e)}catch(s){if("NullInjectorError"===s.name){if((s[rv]=s[rv]||[]).unshift(ni(t)),r)throw s;return function pV(n,t,e,i){const r=n[rv];throw t[QA]&&r.unshift(t[QA]),n.message=function gV(n,t,e,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let r=ni(t);if(Array.isArray(t))r=t.map(ni).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ni(a)))}r=`{${o.join(", ")}}`}return`${e}${i?"("+i+")":""}[${r}]: ${n.replace(uV,"\n  ")}`}("\n"+n.message,r,e,i),n.ngTokenPath=r,n[rv]=null,n}(s,t,"R3InjectorError",this.source)}throw s}finally{bu(o),ZA(r)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((i,r)=>t.push(ni(r))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new kt(205,!1)}processInjectorType(t,e,i){if(!(t=_n(t)))return!1;let r=uA(t);const o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==i.indexOf(s);if(void 0!==o&&(r=uA(o)),null==r)return!1;if(null!=r.imports&&!a){let g;i.push(s);try{qa(r.imports,E=>{this.processInjectorType(E,e,i)&&(void 0===g&&(g=[]),g.push(E))})}finally{}if(void 0!==g)for(let E=0;E<g.length;E++){const{ngModule:w,providers:P}=g[E];qa(P,A=>this.processProvider(A,w,P||Si))}}this.injectorDefTypes.add(s);const l=wc(s)||(()=>new s);this.records.set(s,Xd(l,pg));const u=r.providers;if(null!=u&&!a){const g=t;qa(u,E=>this.processProvider(E,g,u))}return void 0!==o&&void 0!==t.providers}processProvider(t,e,i){let r=Kd(t=_n(t))?t:_n(t&&t.provide);const o=function L7(n,t,e){return DR(n)?Xd(void 0,n.useValue):Xd(RR(n),pg)}(t);if(Kd(t)||!0!==t.multi)this.records.get(r);else{let s=this.records.get(r);s||(s=Xd(void 0,pg,!0),s.factory=()=>sE(s.multi),this.records.set(r,s)),r=t,s.multi.push(t)}this.records.set(r,o)}hydrate(t,e){return e.value===pg&&(e.value=k7,e.value=e.factory()),"object"==typeof e.value&&e.value&&function H7(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(e.value)&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=_n(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function eS(n){const t=w1(n),e=null!==t?t.factory:wc(n);if(null!==e)return e;if(n instanceof Kt)throw new kt(204,!1);if(n instanceof Function)return function B7(n){const t=n.length;if(t>0)throw eg(t,"?"),new kt(204,!1);const e=function $6(n){const t=n&&(n[Nm]||n[cA]);if(t){const e=function X6(n){if(n.hasOwnProperty("name"))return n.name;const t=(""+n).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${e}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${e}" class.`),t}return null}(n);return null!==e?()=>e.factory(n):()=>new n}(n);throw new kt(204,!1)}function RR(n,t,e){let i;if(Kd(n)){const r=_n(n);return wc(r)||eS(r)}if(DR(n))i=()=>_n(n.useValue);else if(function G7(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...sE(n.deps||[]));else if(function U7(n){return!(!n||!n.useExisting)}(n))i=()=>ke(_n(n.useExisting));else{const r=_n(n&&(n.useClass||n.provide));if(!function V7(n){return!!n.deps}(n))return wc(r)||eS(r);i=()=>new r(...sE(n.deps))}return i}function Xd(n,t,e=!1){return{factory:n,value:t,multi:e?[]:void 0}}function DR(n){return null!==n&&"object"==typeof n&&hV in n}function Kd(n){return"function"==typeof n}let br=(()=>{class n{static create(e,i){var r;if(Array.isArray(e))return AR({name:""},i,e,"");{const o=null!==(r=e.name)&&void 0!==r?r:"";return AR({name:o},e.parent,e.providers,o)}}}return n.THROW_IF_NOT_FOUND=tg,n.NULL=new wR,n.\u0275prov=rt({token:n,providedIn:"any",factory:()=>ke(JE)}),n.__NG_ELEMENT_ID__=-1,n})();function Q7(n,t){$m(gE(n)[1],Br())}function hi(n){let t=function YR(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),e=!0;const i=[n];for(;t;){let r;if(Sa(n))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new kt(903,"");r=t.\u0275dir}if(r){if(e){i.push(r);const s=n;s.inputs=iS(n.inputs),s.declaredInputs=iS(n.declaredInputs),s.outputs=iS(n.outputs);const a=r.hostBindings;a&&n9(n,a);const l=r.viewQuery,u=r.contentQueries;if(l&&e9(n,l),u&&t9(n,u),Us(n.inputs,r.inputs),Us(n.declaredInputs,r.declaredInputs),Us(n.outputs,r.outputs),Sa(r)&&r.data.animation){const g=n.data;g.animation=(g.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===hi&&(e=!1)}}t=Object.getPrototypeOf(t)}!function Z7(n){let t=0,e=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Jm(r.hostAttrs,e=Jm(e,r.hostAttrs))}}(i)}function iS(n){return n===Od?{}:n===Si?[]:n}function e9(n,t){const e=n.viewQuery;n.viewQuery=e?(i,r)=>{t(i,r),e(i,r)}:t}function t9(n,t){const e=n.contentQueries;n.contentQueries=e?(i,r,o)=>{t(i,r,o),e(i,r,o)}:t}function n9(n,t){const e=n.hostBindings;n.hostBindings=e?(i,r)=>{t(i,r),e(i,r)}:t}let bv=null;function qd(){if(!bv){const n=mi.Symbol;if(n&&n.iterator)bv=n.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const i=t[e];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(bv=i)}}}return bv}function gg(n){return!!rS(n)&&(Array.isArray(n)||!(n instanceof Map)&&qd()in n)}function rS(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function tl(n,t,e){return n[t]=e}function bo(n,t,e){return!Object.is(n[t],e)&&(n[t]=e,!0)}function Rc(n,t,e,i){const r=bo(n,t,e);return bo(n,t+1,i)||r}function Ev(n,t,e,i,r){const o=Rc(n,t,e,i);return bo(n,t+2,r)||o}function ii(n,t,e,i){const r=ot();return bo(r,Rd(),t)&&(Xn(),el(pr(),r,n,t,e,i)),ii}function Qd(n,t,e,i){return bo(n,Rd(),e)?t+hn(e)+i:dn}function ue(n,t,e,i,r,o,s,a){const l=ot(),u=Xn(),g=n+20,E=u.firstCreatePass?function u9(n,t,e,i,r,o,s,a,l){const u=t.consts,g=Wd(t,n,4,s||null,Tu(u,a));YE(t,e,g,Tu(u,l)),$m(t,g);const E=g.tViews=mv(2,g,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,u);return null!==t.queries&&(t.queries.template(t,g),E.queries=t.queries.embeddedTView(g)),g}(g,u,l,t,e,i,r,o,s):u.data[g];Ka(E,!1);const w=l[11].createComment("");dv(u,l,w,E),yo(w,l),vv(l,l[g]=bR(w,l,w,E)),jm(E)&&VE(u,l,E),null!=s&&HE(l,E,a)}function Lo(n){return xd(function wj(){return sn.lFrame.contextLView}(),20+n)}function X(n,t=an.Default){const e=ot();return null===e?ke(n,t):VA(Br(),e,_n(n),t)}function uS(){throw new Error("invalid")}function Q(n,t,e){const i=ot();return bo(i,Rd(),t)&&_s(Xn(),pr(),i,n,t,i[11],e,!1),Q}function cS(n,t,e,i,r){const s=r?"class":"style";MR(n,e,t.inputs[s],s,i)}function R(n,t,e,i){const r=ot(),o=Xn(),s=20+n,a=r[11],l=r[s]=TE(a,t,function Lj(){return sn.lFrame.currentNamespace}()),u=o.firstCreatePass?function x9(n,t,e,i,r,o,s){const a=t.consts,u=Wd(t,n,2,r,Tu(a,o));return YE(t,e,u,Tu(a,s)),null!==u.attrs&&yv(u,u.attrs,!1),null!==u.mergedAttrs&&yv(u,u.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,u),u}(s,o,r,0,t,e,i):o.data[s];Ka(u,!0);const g=u.mergedAttrs;null!==g&&qm(a,l,g);const E=u.classes;null!==E&&AE(a,l,E);const w=u.styles;return null!==w&&Hx(a,l,w),64!=(64&u.flags)&&dv(o,r,l,u),0===function Sj(){return sn.lFrame.elementDepthCount}()&&yo(l,r),function Tj(){sn.lFrame.elementDepthCount++}(),jm(u)&&(VE(o,r,u),lR(o,u,r)),null!==i&&HE(r,u),R}function I(){let n=Br();H1()?Y1():(n=n.parent,Ka(n,!1));const t=n;!function Cj(){sn.lFrame.elementDepthCount--}();const e=Xn();return e.firstCreatePass&&($m(e,n),I1(n)&&e.queries.elementEnd(n)),null!=t.classesWithoutHost&&function Hj(n){return 0!=(16&n.flags)}(t)&&cS(e,t,ot(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function Yj(n){return 0!=(32&n.flags)}(t)&&cS(e,t,ot(),t.stylesWithoutHost,!1),I}function Ae(n,t,e,i){return R(n,t,e,i),I(),Ae}function qt(n,t,e){const i=ot(),r=Xn(),o=n+20,s=r.firstCreatePass?function R9(n,t,e,i,r){const o=t.consts,s=Tu(o,i),a=Wd(t,n,8,"ng-container",s);return null!==s&&yv(a,s,!0),YE(t,e,a,Tu(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,r,i,t,e):r.data[o];Ka(s,!0);const a=i[o]=i[11].createComment("");return dv(r,i,a,s),yo(a,i),jm(s)&&(VE(r,i,s),lR(r,s,i)),null!=e&&HE(i,s),qt}function Jt(){let n=Br();const t=Xn();return H1()?Y1():(n=n.parent,Ka(n,!1)),t.firstCreatePass&&($m(t,n),I1(n)&&t.queries.elementEnd(n)),Jt}function Ct(){return ot()}function mg(n){return!!n&&"function"==typeof n.then}function hD(n){return!!n&&"function"==typeof n.subscribe}const hS=hD;function Me(n,t,e,i){const r=ot(),o=Xn(),s=Br();return function fD(n,t,e,i,r,o,s,a){const l=jm(i),g=n.firstCreatePass&&TR(n),E=t[8],w=SR(t);let P=!0;if(3&i.type||a){const B=Hs(i,t),Y=a?a(B):B,K=w.length,re=a?ae=>a(Mr(ae[i.index])):i.index;if(fr(e)){let ae=null;if(!a&&l&&(ae=function D9(n,t,e,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===e&&r[o+1]===i){const a=t[7],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,t,r,i.index)),null!==ae)(ae.__ngLastListenerFn__||ae).__ngNextListenerFn__=o,ae.__ngLastListenerFn__=o,P=!1;else{o=dS(i,t,E,o,!1);const te=e.listen(Y,r,o);w.push(o,te),g&&g.push(r,re,K,K+1)}}else o=dS(i,t,E,o,!0),Y.addEventListener(r,o,s),w.push(o),g&&g.push(r,re,K,s)}else o=dS(i,t,E,o,!1);const A=i.outputs;let D;if(P&&null!==A&&(D=A[r])){const B=D.length;if(B)for(let Y=0;Y<B;Y+=2){const ne=t[D[Y]][D[Y+1]].subscribe(o),Oe=w.length;w.push(o,ne),g&&g.push(r,i.index,Oe,-(Oe+1))}}}(o,r,r[11],s,n,t,!!e,i),Me}function pD(n,t,e,i){try{return!1!==e(i)}catch(r){return OR(n,r),!1}}function dS(n,t,e,i,r){return function o(s){if(s===Function)return i;const a=2&n.flags?ds(n.index,t):t;0==(32&t[2])&&$E(a);let l=pD(t,0,i,s),u=o.__ngNextListenerFn__;for(;u;)l=pD(t,0,u,s)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&(s.preventDefault(),s.returnValue=!1),l}}function he(n=1){return function Dj(n){return(sn.lFrame.contextLView=function Ij(n,t){for(;n>0;)t=t[15],n--;return t}(n,sn.lFrame.contextLView))[8]}(n)}function I9(n,t){let e=null;const i=function jH(n){const t=n.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(n);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?$x(n,o,!0):YH(i,o))return r}else e=r}return e}function vg(n){const t=ot()[16][6];if(!t.projection){const i=t.projection=eg(n?n.length:1,null),r=i.slice();let o=t.child;for(;null!==o;){const s=n?I9(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function yg(n,t=0,e){const i=ot(),r=Xn(),o=Wd(r,20+n,16,null,e||null);null===o.projection&&(o.projection=t),Y1(),64!=(64&o.flags)&&function NH(n,t,e){Vx(t[11],0,t,e,Dx(n,e,t),Fx(e.parent||t[6],e,t))}(r,i,o)}function uf(n,t,e){return Tv(n,"",t,"",e),uf}function Tv(n,t,e,i,r){const o=ot(),s=Qd(o,t,e,i);return s!==dn&&_s(Xn(),pr(),o,n,s,o[11],r,!1),Tv}function TD(n,t,e,i,r){const o=n[e+1],s=null===t;let a=i?Ca(o):Ul(o),l=!1;for(;0!==a&&(!1===l||s);){const g=n[a+1];F9(n[a],t)&&(l=!0,n[a+1]=i?DE(g):xE(g)),a=i?Ca(g):Ul(g)}l&&(n[e+1]=i?xE(o):DE(o))}function F9(n,t){return null===n||null==t||(Array.isArray(n)?n[1]:n)===t||!(!Array.isArray(n)||"string"!=typeof t)&&Ud(n,t)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function CD(n){return n.substring(Gr.key,Gr.keyEnd)}function OD(n,t){const e=Gr.textEnd;return e===t?-1:(t=Gr.keyEnd=function G9(n,t,e){for(;t<e&&n.charCodeAt(t)>32;)t++;return t}(n,Gr.key=t,e),cf(n,t,e))}function cf(n,t,e){for(;t<e&&n.charCodeAt(t)<=32;)t++;return t}function Au(n,t,e){return Ma(n,t,e,!1),Au}function at(n,t){return Ma(n,t,null,!0),at}function xu(n){wa(fs,il,n,!0)}function il(n,t){for(let e=function L9(n){return function wD(n){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=n.length}(n),OD(n,cf(n,0,Gr.textEnd))}(t);e>=0;e=OD(t,e))fs(n,CD(t),!0)}function Ma(n,t,e,i){const r=ot(),o=Xn(),s=Ll(2);o.firstUpdatePass&&RD(o,n,s,i),t!==dn&&bo(r,s,t)&&ID(o,o.data[Fo()],r,r[11],n,r[s+1]=function q9(n,t){return null==n||("string"==typeof t?n+=t:"object"==typeof n&&(n=ni(ps(n)))),n}(t,e),i,s)}function wa(n,t,e,i){const r=Xn(),o=Ll(2);r.firstUpdatePass&&RD(r,null,o,i);const s=ot();if(e!==dn&&bo(s,o,e)){const a=r.data[Fo()];if(kD(a,i)&&!xD(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=Td(l,e||"")),cS(r,a,s,e,i)}else!function K9(n,t,e,i,r,o,s,a){r===dn&&(r=Si);let l=0,u=0,g=0<r.length?r[0]:null,E=0<o.length?o[0]:null;for(;null!==g||null!==E;){const w=l<r.length?r[l+1]:void 0,P=u<o.length?o[u+1]:void 0;let D,A=null;g===E?(l+=2,u+=2,w!==P&&(A=E,D=P)):null===E||null!==g&&g<E?(l+=2,A=g):(u+=2,A=E,D=P),null!==A&&ID(n,t,e,i,A,D,s,a),g=l<r.length?r[l]:null,E=u<o.length?o[u]:null}}(r,a,s,s[11],s[o+1],s[o+1]=function X9(n,t,e){if(null==e||""===e)return Si;const i=[],r=ps(e);if(Array.isArray(r))for(let o=0;o<r.length;o++)n(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&n(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(n,t,e),i,o)}}function xD(n,t){return t>=n.expandoStartIndex}function RD(n,t,e,i){const r=n.data;if(null===r[e+1]){const o=r[Fo()],s=xD(n,e);kD(o,i)&&null===t&&!s&&(t=!1),t=function Y9(n,t,e,i){const r=function z1(n){const t=sn.lFrame.currentDirectiveIndex;return-1===t?null:n[t]}(n);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(e=bg(e=fS(null,n,t,e,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||n[s]!==r)if(e=fS(r,n,t,e,i),null===o){let l=function W9(n,t,e){const i=e?t.classBindings:t.styleBindings;if(0!==Ul(i))return n[Ca(i)]}(n,t,i);void 0!==l&&Array.isArray(l)&&(l=fS(null,n,t,l[1],i),l=bg(l,t.attrs,i),function z9(n,t,e,i){n[Ca(e?t.classBindings:t.styleBindings)]=i}(n,t,i,l))}else o=function $9(n,t,e){let i;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=bg(i,n[o].hostAttrs,e);return bg(i,t.attrs,e)}(n,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),e}(r,o,t,i),function N9(n,t,e,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Ca(s),l=Ul(s);n[i]=e;let g,u=!1;if(Array.isArray(e)){const E=e;g=E[1],(null===g||Ud(E,g)>0)&&(u=!0)}else g=e;if(r)if(0!==l){const w=Ca(n[a+1]);n[i+1]=pv(w,a),0!==w&&(n[w+1]=RE(n[w+1],i)),n[a+1]=function XH(n,t){return 131071&n|t<<17}(n[a+1],i)}else n[i+1]=pv(a,0),0!==a&&(n[a+1]=RE(n[a+1],i)),a=i;else n[i+1]=pv(l,0),0===a?a=i:n[l+1]=RE(n[l+1],i),l=i;u&&(n[i+1]=xE(n[i+1])),TD(n,g,i,!0),TD(n,g,i,!1),function k9(n,t,e,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof t&&Ud(o,t)>=0&&(e[i+1]=DE(e[i+1]))}(t,g,n,i,o),s=pv(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,e,s,i)}}function fS(n,t,e,i,r){let o=null;const s=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<s&&(o=t[a],i=bg(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(e.directiveStylingLast=a),i}function bg(n,t,e){const i=e?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),fs(n,s,!!e||t[++o]))}return void 0===n?null:n}function ID(n,t,e,i,r,o,s,a){if(!(3&t.type))return;const l=n.data,u=l[a+1];Cv(function Qx(n){return 1==(1&n)}(u)?ND(l,t,e,r,Ul(u),s):void 0)||(Cv(o)||function Jx(n){return 2==(2&n)}(u)&&(o=ND(l,null,e,r,a,s)),function FH(n,t,e,i,r){const o=fr(n);if(t)r?o?n.addClass(e,i):e.classList.add(i):o?n.removeClass(e,i):e.classList.remove(i);else{let s=-1===i.indexOf("-")?void 0:gs.DashCase;if(null==r)o?n.removeStyle(e,i,s):e.style.removeProperty(i);else{const a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=gs.Important),o?n.setStyle(e,i,r,s):e.style.setProperty(i,r,a?"important":"")}}}(i,s,Vm(Fo(),e),r,o))}function ND(n,t,e,i,r,o){const s=null===t;let a;for(;r>0;){const l=n[r],u=Array.isArray(l),g=u?l[1]:l,E=null===g;let w=e[r+1];w===dn&&(w=E?Si:void 0);let P=E?iE(w,i):g===i?w:void 0;if(u&&!Cv(P)&&(P=iE(l,i)),Cv(P)&&(a=P,s))return a;const A=n[r+1];r=s?Ca(A):Ul(A)}if(null!==t){let l=o?t.residualClasses:t.residualStyles;null!=l&&(a=iE(l,i))}return a}function Cv(n){return void 0!==n}function kD(n,t){return 0!=(n.flags&(t?16:32))}function z(n,t=""){const e=ot(),i=Xn(),r=n+20,o=i.firstCreatePass?Wd(i,r,1,t,null):i.data[r],s=e[r]=function SE(n,t){return fr(n)?n.createText(t):n.createTextNode(t)}(e[11],t);dv(i,e,s,o),Ka(o,!1)}function St(n){return Pe("",n,""),St}function Pe(n,t,e){const i=ot(),r=Qd(i,n,t,e);return r!==dn&&Gl(i,Fo(),r),Pe}function Yi(n,t,e,i,r){const o=ot(),s=function Zd(n,t,e,i,r,o){const a=Rc(n,Bl(),e,r);return Ll(2),a?t+hn(e)+i+hn(r)+o:dn}(o,n,t,e,i,r);return s!==dn&&Gl(o,Fo(),s),Yi}function Ov(n,t,e,i,r,o,s){const a=ot(),l=function ef(n,t,e,i,r,o,s,a){const u=Ev(n,Bl(),e,r,s);return Ll(3),u?t+hn(e)+i+hn(r)+o+hn(s)+a:dn}(a,n,t,e,i,r,o,s);return l!==dn&&Gl(a,Fo(),l),Ov}function Ru(n,t,e){const i=ot();return bo(i,Rd(),t)&&_s(Xn(),pr(),i,n,t,i[11],e,!0),Ru}const Dc=void 0;var gY=["en",[["a","p"],["AM","PM"],Dc],[["AM","PM"],Dc,Dc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Dc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Dc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Dc,"{1} 'at' {0}",Dc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function pY(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===i?1:5}];let hf={};function Uo(n){const t=function _Y(n){return n.toLowerCase().replace(/_/g,"-")}(n);let e=eI(t);if(e)return e;const i=t.split("-")[0];if(e=eI(i),e)return e;if("en"===i)return gY;throw new Error(`Missing locale data for the locale "${n}".`)}function eI(n){return n in hf||(hf[n]=mi.ng&&mi.ng.common&&mi.ng.common.locales&&mi.ng.common.locales[n]),hf[n]}var Pt=(()=>((Pt=Pt||{})[Pt.LocaleId=0]="LocaleId",Pt[Pt.DayPeriodsFormat=1]="DayPeriodsFormat",Pt[Pt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pt[Pt.DaysFormat=3]="DaysFormat",Pt[Pt.DaysStandalone=4]="DaysStandalone",Pt[Pt.MonthsFormat=5]="MonthsFormat",Pt[Pt.MonthsStandalone=6]="MonthsStandalone",Pt[Pt.Eras=7]="Eras",Pt[Pt.FirstDayOfWeek=8]="FirstDayOfWeek",Pt[Pt.WeekendRange=9]="WeekendRange",Pt[Pt.DateFormat=10]="DateFormat",Pt[Pt.TimeFormat=11]="TimeFormat",Pt[Pt.DateTimeFormat=12]="DateTimeFormat",Pt[Pt.NumberSymbols=13]="NumberSymbols",Pt[Pt.NumberFormats=14]="NumberFormats",Pt[Pt.CurrencyCode=15]="CurrencyCode",Pt[Pt.CurrencySymbol=16]="CurrencySymbol",Pt[Pt.CurrencyName=17]="CurrencyName",Pt[Pt.Currencies=18]="Currencies",Pt[Pt.Directionality=19]="Directionality",Pt[Pt.PluralCase=20]="PluralCase",Pt[Pt.ExtraData=21]="ExtraData",Pt))();const Mv="en-US";let tI=Mv;function mS(n,t,e,i,r){if(n=_n(n),Array.isArray(n))for(let o=0;o<n.length;o++)mS(n[o],t,e,i,r);else{const o=Xn(),s=ot();let a=Kd(n)?n:_n(n.provide),l=RR(n);const u=Br(),g=1048575&u.providerIndexes,E=u.directiveStart,w=u.providerIndexes>>20;if(Kd(n)||!n.multi){const P=new Xp(l,r,X),A=yS(a,t,r?g:g+w,E);-1===A?(ev(qp(u,s),o,a),vS(o,n,t.length),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(P),s.push(P)):(e[A]=P,s[A]=P)}else{const P=yS(a,t,g+w,E),A=yS(a,t,g,g+w),D=P>=0&&e[P],B=A>=0&&e[A];if(r&&!B||!r&&!D){ev(qp(u,s),o,a);const Y=function dW(n,t,e,i,r){const o=new Xp(n,e,X);return o.multi=[],o.index=t,o.componentProviders=0,OI(o,r,i&&!e),o}(r?hW:cW,e.length,r,i,l);!r&&B&&(e[A].providerFactory=Y),vS(o,n,t.length,0),t.push(a),u.directiveStart++,u.directiveEnd++,r&&(u.providerIndexes+=1048576),e.push(Y),s.push(Y)}else vS(o,n,P>-1?P:A,OI(e[r?A:P],l,!r&&i));!r&&i&&B&&e[A].componentProviders++}}}function vS(n,t,e,i){const r=Kd(t),o=function j7(n){return!!n.useClass}(t);if(r||o){const l=(o?_n(t.useClass):t).prototype.ngOnDestroy;if(l){const u=n.destroyHooks||(n.destroyHooks=[]);if(!r&&t.multi){const g=u.indexOf(e);-1===g?u.push(e,[i,l]):u[g+1].push(i,l)}else u.push(e,l)}}}function OI(n,t,e){return e&&n.componentProviders++,n.multi.push(t)-1}function yS(n,t,e,i){for(let r=e;r<i;r++)if(t[r]===n)return r;return-1}function cW(n,t,e,i){return bS(this.multi,[])}function hW(n,t,e,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Jp(e,e[1],this.providerFactory.index,i);o=a.slice(0,s),bS(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],bS(r,o);return o}function bS(n,t){for(let e=0;e<n.length;e++)t.push((0,n[e])());return t}function Zn(n,t=[]){return e=>{e.providersResolver=(i,r)=>function uW(n,t,e){const i=Xn();if(i.firstCreatePass){const r=Sa(n);mS(e,i.data,i.blueprint,r,!0),mS(t,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,t)}}class MI{}class gW{resolveComponentFactory(t){throw function pW(n){const t=Error(`No component factory found for ${ni(n)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=n,t}(t)}}let ff=(()=>{class n{}return n.NULL=new gW,n})();function _W(){return pf(Br(),ot())}function pf(n,t){return new ri(Hs(n,t))}let ri=(()=>{class n{constructor(e){this.nativeElement=e}}return n.__NG_ELEMENT_ID__=_W,n})();function mW(n){return n instanceof ri?n.nativeElement:n}class gf{}let Eo=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function yW(){const n=ot(),e=ds(Br().index,n);return function vW(n){return n[11]}(Xa(e)?e:n)}(),n})(),bW=(()=>{class n{}return n.\u0275prov=rt({token:n,providedIn:"root",factory:()=>null}),n})();class Og{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Rv=new Og("13.2.6"),ES={};function Dv(n,t,e,i,r=!1){for(;null!==e;){const o=t[e.index];if(null!==o&&i.push(Mr(o)),Ea(o))for(let a=10;a<o.length;a++){const l=o[a],u=l[1].firstChild;null!==u&&Dv(l[1],l,u,i)}const s=e.type;if(8&s)Dv(n,t,e.child,i);else if(32&s){const a=yE(e,t);let l;for(;l=a();)i.push(l)}else if(16&s){const a=Gx(t,e);if(Array.isArray(a))i.push(...a);else{const l=cg(t[16]);Dv(l[1],l,a,i,!0)}}e=r?e.projectionNext:e.next}return i}class Mg{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Dv(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(Ea(t)){const e=t[8],i=e?e.indexOf(this):-1;i>-1&&(CE(t,i),nv(e,i))}this._attachedToViewContainer=!1}Rx(this._lView[1],this._lView)}onDestroy(t){dR(this._lView[1],this._lView,null,t)}markForCheck(){$E(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){KE(this._lView[1],this._lView,this.context)}checkNoChanges(){!function x7(n,t,e){Ym(!0);try{KE(n,t,e)}finally{Ym(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new kt(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MH(n,t){hg(n,t,t[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new kt(902,"");this._appRef=t}}class EW extends Mg{constructor(t){super(t),this._view=t}detectChanges(){ER(this._view)}checkNoChanges(){!function R7(n){Ym(!0);try{ER(n)}finally{Ym(!1)}}(this._view)}get context(){return null}}class PI extends ff{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=mo(t);return new SS(e,this.ngModule)}}function AI(n){const t=[];for(let e in n)n.hasOwnProperty(e)&&t.push({propName:n[e],templateName:e});return t}class SS extends MI{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=function zH(n){return n.map(WH).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return AI(this.componentDef.inputs)}get outputs(){return AI(this.componentDef.outputs)}create(t,e,i,r){const o=(r=r||this.ngModule)?function TW(n,t){return{get:(e,i,r)=>{const o=n.get(e,ES,r);return o!==ES||i===ES?o:t.get(e,i,r)}}}(t,r.injector):t,s=o.get(gf,EA),a=o.get(bW,null),l=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",g=i?function hR(n,t,e){if(fr(n))return n.selectRootElement(t,e===ya.ShadowDom);let i="string"==typeof t?n.querySelector(t):t;return i.textContent="",i}(l,i,this.componentDef.encapsulation):TE(s.createRenderer(null,this.componentDef),u,function SW(n){const t=n.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(u)),E=this.componentDef.onPush?576:528,w=function HR(n,t){return{components:[],scheduler:n||vH,clean:D7,playerHandler:t||null,flags:0}}(),P=mv(0,null,null,1,0,null,null,null,null,null),A=dg(null,P,w,E,null,null,s,l,a,o);let D,B;Wm(A);try{const Y=function jR(n,t,e,i,r,o){const s=e[1];e[20]=n;const l=Wd(s,20,2,"#host",null),u=l.mergedAttrs=t.hostAttrs;null!==u&&(yv(l,u,!0),null!==n&&(qm(r,n,u),null!==l.classes&&AE(r,n,l.classes),null!==l.styles&&Hx(r,n,l.styles)));const g=i.createRenderer(n,t),E=dg(e,uR(t),null,t.onPush?64:16,e[20],l,i,g,o||null,null);return s.firstCreatePass&&(ev(qp(l,e),s,t.type),mR(s,l),vR(l,e.length,1)),vv(e,E),e[20]=E}(g,this.componentDef,A,s,l);if(g)if(i)qm(l,g,["ng-version",Rv.full]);else{const{attrs:K,classes:re}=function $H(n){const t=[],e=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&t.push(o,n[++i]):8===r&&e.push(o);else{if(!Ta(r))break;r=o}i++}return{attrs:t,classes:e}}(this.componentDef.selectors[0]);K&&qm(l,g,K),re&&re.length>0&&AE(l,g,re.join(" "))}if(B=G1(P,20),void 0!==e){const K=B.projection=[];for(let re=0;re<this.ngContentSelectors.length;re++){const ae=e[re];K.push(null!=ae?Array.from(ae):null)}}D=function VR(n,t,e,i,r){const o=e[1],s=function p7(n,t,e){const i=Br();n.firstCreatePass&&(e.providersResolver&&e.providersResolver(e),yR(n,i,t,zd(n,t,1,null),e));const r=Jp(t,n,i.directiveStart,i);yo(r,t);const o=Hs(i,t);return o&&yo(o,t),r}(o,e,t);if(i.components.push(s),n[8]=s,r&&r.forEach(l=>l(s,t)),t.contentQueries){const l=Br();t.contentQueries(1,s,l.directiveStart)}const a=Br();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(Cu(a.index),gR(e[1],a,0,a.directiveStart,a.directiveEnd,t),_R(t,s)),s}(Y,this.componentDef,A,w,[Q7]),fg(P,A,null)}finally{zm()}return new OW(this.componentType,D,pf(B,A),A,B)}}class OW extends class fW{}{constructor(t,e,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.instance=e,this.hostView=this.changeDetectorRef=new EW(r),this.componentType=t}get injector(){return new Nd(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}class jl{}class xI{}const _f=new Map;class II extends jl{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new PI(this);const i=Gs(t);this._bootstrapComponents=Za(i.bootstrap),this._r3Injector=xR(t,e,[{provide:jl,useValue:this},{provide:ff,useValue:this.componentFactoryResolver}],ni(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=br.THROW_IF_NOT_FOUND,i=an.Default){return t===br||t===jl||t===JE?this:this._r3Injector.get(t,e,i)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class TS extends xI{constructor(t){super(),this.moduleType=t,null!==Gs(t)&&function wW(n){const t=new Set;!function e(i){const r=Gs(i,!0),o=r.id;null!==o&&(function RI(n,t,e){if(t&&t!==e)throw new Error(`Duplicate module registered for ${n} - ${ni(t)} vs ${ni(t.name)}`)}(o,_f.get(o),i),_f.set(o,i));const s=Za(r.imports);for(const a of s)t.has(a)||(t.add(a),e(a))}(n)}(t)}create(t){return new II(this.moduleType,t)}}function Pa(n,t,e,i){return NI(ot(),ko(),n,t,e,i)}function Aa(n,t,e,i,r){return kI(ot(),ko(),n,t,e,i,r)}function Iv(n,t,e,i,r,o){return function FI(n,t,e,i,r,o,s,a){const l=t+e;return Ev(n,l,r,o,s)?tl(n,l+3,a?i.call(a,r,o,s):i(r,o,s)):wg(n,l+3)}(ot(),ko(),n,t,e,i,r,o)}function wg(n,t){const e=n[t];return e===dn?void 0:e}function NI(n,t,e,i,r,o){const s=t+e;return bo(n,s,r)?tl(n,s+1,o?i.call(o,r):i(r)):wg(n,s+1)}function kI(n,t,e,i,r,o,s){const a=t+e;return Rc(n,a,r,o)?tl(n,a+2,s?i.call(s,r,o):i(r,o)):wg(n,a+2)}function Ce(n,t){const e=Xn();let i;const r=n+20;e.firstCreatePass?(i=function kW(n,t){if(t)for(let e=t.length-1;e>=0;e--){const i=t[e];if(n===i.name)return i}}(t,e.pipeRegistry),e.data[r]=i,i.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(r,i.onDestroy)):i=e.data[r];const o=i.factory||(i.factory=wc(i.type)),s=bu(X);try{const a=Qm(!1),l=o();return Qm(a),function c9(n,t,e,i){e>=n.data.length&&(n.data[e]=null,n.blueprint[e]=null),t[e]=i}(e,ot(),r,l),l}finally{bu(s)}}function Ne(n,t,e){const i=n+20,r=ot(),o=xd(r,i);return Pg(r,i)?NI(r,ko(),t,o.transform,e,o):o.transform(e)}function oi(n,t,e,i){const r=n+20,o=ot(),s=xd(o,r);return Pg(o,r)?kI(o,ko(),t,s.transform,e,i,s):s.transform(e,i)}function Pg(n,t){return n[1].data[t].pure}function CS(n){return t=>{setTimeout(n,void 0,t)}}const jt=class UW extends Le{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,i){var r,o,s;let a=t,l=e||(()=>null),u=i;if(t&&"object"==typeof t){const E=t;a=null===(r=E.next)||void 0===r?void 0:r.bind(E),l=null===(o=E.error)||void 0===o?void 0:o.bind(E),u=null===(s=E.complete)||void 0===s?void 0:s.bind(E)}this.__isAsync&&(l=CS(l),a&&(a=CS(a)),u&&(u=CS(u)));const g=super.subscribe({next:a,error:l,complete:u});return t instanceof f&&t.add(g),g}};function GW(){return this._results[qd()]()}class OS{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=qd(),i=OS.prototype;i[e]||(i[e]=GW)}get changes(){return this._changes||(this._changes=new jt)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const i=this;i.dirty=!1;const r=Ys(t);(this._changesDetected=!function eV(n,t,e){if(n.length!==t.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=t[i];if(e&&(r=e(r),o=e(o)),o!==r)return!1}return!0}(i._results,r,e))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Ui=(()=>{class n{}return n.__NG_ELEMENT_ID__=HW,n})();const jW=Ui,VW=class extends jW{constructor(t,e,i){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=i}createEmbeddedView(t){const e=this._declarationTContainer.tViews,i=dg(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);i[17]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[19];return null!==o&&(i[19]=o.createEmbeddedView(e)),fg(e,i,t),new Mg(i)}};function HW(){return Nv(Br(),ot())}function Nv(n,t){return 4&n.type?new VW(t,n,pf(n,t)):null}let ms=(()=>{class n{}return n.__NG_ELEMENT_ID__=YW,n})();function YW(){return jI(Br(),ot())}const WW=ms,UI=class extends WW{constructor(t,e,i){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=i}get element(){return pf(this._hostTNode,this._hostLView)}get injector(){return new Nd(this._hostTNode,this._hostLView)}get parentInjector(){const t=Zm(this._hostTNode,this._hostLView);if(BA(t)){const e=Id(t,this._hostLView),i=Dd(t);return new Nd(e[1].data[i+8],e)}return new Nd(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=GI(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,i){const r=t.createEmbeddedView(e||{});return this.insert(r,i),r}createComponent(t,e,i,r,o){const s=t&&!function Zp(n){return"function"==typeof n}(t);let a;if(s)a=e;else{const E=e||{};a=E.index,i=E.injector,r=E.projectableNodes,o=E.ngModuleRef}const l=s?t:new SS(mo(t)),u=i||this.parentInjector;if(!o&&null==l.ngModule){const w=(s?u:this.parentInjector).get(jl,null);w&&(o=w)}const g=l.create(u,r,void 0,o);return this.insert(g.hostView,a),g}insert(t,e){const i=t._lView,r=i[1];if(function Ej(n){return Ea(n[3])}(i)){const g=this.indexOf(t);if(-1!==g)this.detach(g);else{const E=i[3],w=new UI(E,E[6],E[3]);w.detach(w.indexOf(t))}}const o=this._adjustIndex(e),s=this._lContainer;!function PH(n,t,e,i){const r=10+i,o=e.length;i>0&&(e[r-1][4]=t),i<o-10?(t[4]=e[r],$A(e,10+i,t)):(e.push(t),t[4]=null),t[3]=e;const s=t[17];null!==s&&e!==s&&function AH(n,t){const e=n[9];t[16]!==t[3][3][16]&&(n[2]=!0),null===e?n[9]=[t]:e.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(n),t[2]|=128}(r,i,s,o);const a=wE(o,s),l=i[11],u=hv(l,s[7]);return null!==u&&function OH(n,t,e,i,r,o){i[0]=r,i[6]=t,hg(n,i,e,1,r,o)}(r,s[6],l,i,u,a),t.attachToViewContainerRef(),$A(MS(s),o,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=GI(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),i=CE(this._lContainer,e);i&&(nv(MS(this._lContainer),e),Rx(i[1],i))}detach(t){const e=this._adjustIndex(t,-1),i=CE(this._lContainer,e);return i&&null!=nv(MS(this._lContainer),e)?new Mg(i):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function GI(n){return n[8]}function MS(n){return n[8]||(n[8]=[])}function jI(n,t){let e;const i=t[n.index];if(Ea(i))e=i;else{let r;if(8&n.type)r=Mr(i);else{const o=t[11];r=o.createComment("");const s=Hs(n,t);xc(o,hv(o,s),r,function IH(n,t){return fr(n)?n.nextSibling(t):t.nextSibling}(o,s),!1)}t[n.index]=e=bR(i,t,r,n),vv(t,e)}return new UI(e,n,t)}class wS{constructor(t){this.queryList=t,this.matches=null}clone(){return new wS(this.queryList)}setDirty(){this.queryList.setDirty()}}class PS{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const i=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let o=0;o<i;o++){const s=e.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new PS(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==zI(t,e).matches&&this.queries[e].setDirty()}}class VI{constructor(t,e,i=null){this.predicate=t,this.flags=e,this.read=i}}class AS{constructor(t=[]){this.queries=t}elementStart(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let i=0;i<this.length;i++){const r=null!==e?e.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,null!==e?e.push(o):e=[o])}return null!==e?new AS(e):null}template(t,e){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class xS{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new xS(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let i=t.parent;for(;null!==i&&8&i.type&&i.index!==e;)i=i.parent;return e===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(t,e,XW(e,o)),this.matchTNodeWithReadOption(t,e,tv(e,t,o,!1,!1))}else i===Ui?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tv(e,t,i,!1,!1))}matchTNodeWithReadOption(t,e,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===ri||r===ms||r===Ui&&4&e.type)this.addMatch(e.index,-2);else{const o=tv(e,t,r,!1,!1);null!==o&&this.addMatch(e.index,o)}else this.addMatch(e.index,i)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function XW(n,t){const e=n.localNames;if(null!==e)for(let i=0;i<e.length;i+=2)if(e[i]===t)return e[i+1];return null}function qW(n,t,e,i){return-1===e?function KW(n,t){return 11&n.type?pf(n,t):4&n.type?Nv(n,t):null}(t,n):-2===e?function JW(n,t,e){return e===ri?pf(t,n):e===Ui?Nv(t,n):e===ms?jI(t,n):void 0}(n,t,i):Jp(n,n[1],e,t)}function HI(n,t,e,i){const r=t[19].queries[i];if(null===r.matches){const o=n.data,s=e.matches,a=[];for(let l=0;l<s.length;l+=2){const u=s[l];a.push(u<0?null:qW(t,o[u],s[l+1],e.metadata.read))}r.matches=a}return r.matches}function RS(n,t,e,i){const r=n.queries.getByIndex(e),o=r.matches;if(null!==o){const s=HI(n,t,r,e);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const u=o[a+1],g=t[-l];for(let E=10;E<g.length;E++){const w=g[E];w[17]===w[3]&&RS(w[1],w,u,i)}if(null!==g[9]){const E=g[9];for(let w=0;w<E.length;w++){const P=E[w];RS(P[1],P,u,i)}}}}}return i}function Kn(n){const t=ot(),e=Xn(),i=PA();$1(i+1);const r=zI(e,i);if(n.dirty&&SA(t)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?RS(e,t,i,[]):HI(e,t,r,i);n.reset(o,mW),n.notifyOnChanges()}return!0}return!1}function Jo(n,t,e){const i=Xn();i.firstCreatePass&&(WI(i,new VI(n,t,e),-1),2==(2&t)&&(i.staticViewQueries=!0)),YI(i,ot(),t)}function Er(n,t,e,i){const r=Xn();if(r.firstCreatePass){const o=Br();WI(r,new VI(t,e,i),o.index),function ZW(n,t){const e=n.contentQueries||(n.contentQueries=[]);t!==(e.length?e[e.length-1]:-1)&&e.push(n.queries.length-1,t)}(r,n),2==(2&e)&&(r.staticContentQueries=!0)}YI(r,ot(),e)}function qn(){return function QW(n,t){return n[19].queries[t].queryList}(ot(),PA())}function YI(n,t,e){const i=new OS(4==(4&e));dR(n,t,i,i.destroy),null===t[19]&&(t[19]=new PS),t[19].queries.push(new wS(i))}function WI(n,t,e){null===n.queries&&(n.queries=new AS),n.queries.track(new xS(t,e))}function zI(n,t){return n.queries.getByIndex(t)}function vs(n,t){return Nv(n,t)}function Bv(...n){}const Lv=new Kt("Application Initializer");let BS=(()=>{class n{constructor(e){this.appInits=e,this.resolve=Bv,this.reject=Bv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r})}runInitializers(){if(this.initialized)return;const e=[],i=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let r=0;r<this.appInits.length;r++){const o=this.appInits[r]();if(mg(o))e.push(o);else if(hS(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});e.push(s)}}Promise.all(e).then(()=>{i()}).catch(r=>{this.reject(r)}),0===e.length&&i(),this.initialized=!0}}return n.\u0275fac=function(e){return new(e||n)(ke(Lv,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xg=new Kt("AppId",{providedIn:"root",factory:function c2(){return`${LS()}${LS()}${LS()}`}});function LS(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const h2=new Kt("Platform Initializer"),Ic=new Kt("Platform ID"),d2=new Kt("appBootstrapListener");let f2=(()=>{class n{log(e){console.log(e)}warn(e){console.warn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const Iu=new Kt("LocaleId",{providedIn:"root",factory:()=>tx(Iu,an.Optional|an.SkipSelf)||function _z(){return"undefined"!=typeof $localize&&$localize.locale||Mv}()});class vz{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}let p2=(()=>{class n{compileModuleSync(e){return new TS(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const i=this.compileModuleSync(e),o=Za(Gs(e).declarations).reduce((s,a)=>{const l=mo(a);return l&&s.push(new SS(l)),s},[]);return new vz(i,o)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bz=(()=>Promise.resolve(0))();function US(n){"undefined"==typeof Zone?bz.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class On{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jt(!1),this.onMicrotaskEmpty=new jt(!1),this.onStable=new jt(!1),this.onError=new jt(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&e,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function Ez(){let n=mi.requestAnimationFrame,t=mi.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&t){const e=n[Zone.__symbol__("OriginalDelegate")];e&&(n=e);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Cz(n){const t=()=>{!function Tz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(mi,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,jS(n),n.isCheckStableRunning=!0,GS(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),jS(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,i,r,o,s,a)=>{try{return g2(n),e.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&t(),_2(n)}},onInvoke:(e,i,r,o,s,a,l)=>{try{return g2(n),e.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&t(),_2(n)}},onHasTask:(e,i,r,o)=>{e.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,jS(n),GS(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(e,i,r,o)=>(e.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!On.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(On.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,i){return this._inner.run(t,e,i)}runTask(t,e,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Sz,Bv,Bv);try{return o.runTask(s,e,i)}finally{o.cancelTask(s)}}runGuarded(t,e,i){return this._inner.runGuarded(t,e,i)}runOutsideAngular(t){return this._outer.run(t)}}const Sz={};function GS(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function jS(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function g2(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function _2(n){n._nesting--,GS(n)}class Oz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jt,this.onMicrotaskEmpty=new jt,this.onStable=new jt,this.onError=new jt}run(t,e,i){return t.apply(e,i)}runGuarded(t,e,i){return t.apply(e,i)}runOutsideAngular(t){return t()}runTask(t,e,i,r){return t.apply(e,i)}}let VS=(()=>{class n{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{On.assertNotInAngularZone(),US(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())US(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(e)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),e(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:e,timeoutId:o,updateCb:r})}whenStable(e,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,i,r){return[]}}return n.\u0275fac=function(e){return new(e||n)(ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),m2=(()=>{class n{constructor(){this._applications=new Map,HS.addToWindow(this)}registerApplication(e,i){this._applications.set(e,i)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,i=!0){return HS.findTestabilityInTree(this,e,i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class Mz{addToWindow(t){}findTestabilityInTree(t,e,i){return null}}let xa,HS=new Mz;const v2=new Kt("AllowMultipleToken");class y2{constructor(t,e){this.name=t,this.token=e}}function b2(n,t,e=[]){const i=`Platform: ${t}`,r=new Kt(i);return(o=[])=>{let s=E2();if(!s||s.injector.get(v2,!1))if(n)n(e.concat(o).concat({provide:r,useValue:!0}));else{const a=e.concat(o).concat({provide:r,useValue:!0},{provide:QE,useValue:"platform"});!function xz(n){if(xa&&!xa.destroyed&&!xa.injector.get(v2,!1))throw new kt(400,"");xa=n.get(S2);const t=n.get(h2,null);t&&t.forEach(e=>e())}(br.create({providers:a,name:i}))}return function Rz(n){const t=E2();if(!t)throw new kt(401,"");return t}()}}function E2(){return xa&&!xa.destroyed?xa:null}let S2=(()=>{class n{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,i){const a=function Dz(n,t){let e;return e="noop"===n?new Oz:("zone.js"===n?void 0:n)||new On({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),e}(i?i.ngZone:void 0,{ngZoneEventCoalescing:i&&i.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:i&&i.ngZoneRunCoalescing||!1}),l=[{provide:On,useValue:a}];return a.run(()=>{const u=br.create({providers:l,parent:this.injector,name:e.moduleType.name}),g=e.create(u),E=g.injector.get(Vd,null);if(!E)throw new kt(402,"");return a.runOutsideAngular(()=>{const w=a.onError.subscribe({next:P=>{E.handleError(P)}});g.onDestroy(()=>{YS(this._modules,g),w.unsubscribe()})}),function Iz(n,t,e){try{const i=e();return mg(i)?i.catch(r=>{throw t.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>n.handleError(i)),i}}(E,a,()=>{const w=g.injector.get(BS);return w.runInitializers(),w.donePromise.then(()=>(function bY(n){cs(n,"Expected localeId to be defined"),"string"==typeof n&&(tI=n.toLowerCase().replace(/_/g,"-"))}(g.injector.get(Iu,Mv)||Mv),this._moduleDoBootstrap(g),g))})})}bootstrapModule(e,i=[]){const r=T2({},i);return function Pz(n,t,e){const i=new TS(e);return Promise.resolve(i)}(0,0,e).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(e){const i=e.injector.get(Rg);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new kt(403,"");e.instance.ngDoBootstrap(i)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new kt(404,"");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(e){return new(e||n)(ke(br))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function T2(n,t){return Array.isArray(t)?t.reduce(T2,n):Object.assign(Object.assign({},n),t)}let Rg=(()=>{class n{constructor(e,i,r,o,s){this._zone=e,this._injector=i,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const a=new oe(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),l=new oe(u=>{let g;this._zone.runOutsideAngular(()=>{g=this._zone.onStable.subscribe(()=>{On.assertNotInAngularZone(),US(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const E=this._zone.onUnstable.subscribe(()=>{On.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{g.unsubscribe(),E.unsubscribe()}});this.isStable=fi(a,l.pipe(go()))}bootstrap(e,i){if(!this._initStatus.done)throw new kt(405,"");let r;r=e instanceof MI?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(r.componentType);const o=function Az(n){return n.isBoundToModule}(r)?void 0:this._injector.get(jl),a=r.create(br.NULL,[],i||r.selector,o),l=a.location.nativeElement,u=a.injector.get(VS,null),g=u&&a.injector.get(m2);return u&&g&&g.registerApplication(l,u),a.onDestroy(()=>{this.detachView(a.hostView),YS(this.components,a),g&&g.unregisterApplication(l)}),this._loadComponent(a),a}tick(){if(this._runningTick)throw new kt(101,"");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const i=e;this._views.push(i),i.attachToAppRef(this)}detachView(e){const i=e;YS(this._views,i),i.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(d2,[]).concat(this._bootstrapListeners).forEach(r=>r(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(e){return new(e||n)(ke(On),ke(br),ke(Vd),ke(ff),ke(BS))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YS(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let O2=!0,Mn=(()=>{class n{}return n.__NG_ELEMENT_ID__=Fz,n})();function Fz(n){return function Bz(n,t,e){if(Gm(n)&&!e){const i=ds(n.index,t);return new Mg(i,i)}return 47&n.type?new Mg(t[16],t):null}(Br(),ot(),16==(16&n))}class x2{constructor(){}supports(t){return gg(t)}create(t){return new Hz(t)}}const Vz=(n,t)=>t;class Hz{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Vz}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,i=this._removalsHead,r=0,o=null;for(;e||i;){const s=!i||e&&e.currentIndex<D2(i,r,o)?e:i,a=D2(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{o||(o=[]);const u=a-r,g=l-r;if(u!=g){for(let w=0;w<u;w++){const P=w<o.length?o[w]:o[w]=0,A=P+w;g<=A&&A<u&&(o[w]=P+1)}o[s.previousIndex]=g-u}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!gg(t))throw new kt(900,"");return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r,o,s,e=this._itHead,i=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,o,s,a)),Object.is(e.item,o)||this._addIdentityChange(e,o)):(e=this._mismatch(e,o,s,a),i=!0),e=e._next}else r=0,function l9(n,t){if(Array.isArray(n))for(let e=0;e<n.length;e++)t(n[e]);else{const e=n[qd()]();let i;for(;!(i=e.next()).done;)t(i.value)}}(t,a=>{s=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,s)?(i&&(e=this._verifyReinsertion(e,a,s,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,s,r),i=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,i,r){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):t=this._addAfter(new Yz(e,i),o,r),t}_verifyReinsertion(t,e,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,i),this._addToMoves(t,i),t}_moveAfter(t,e,i){return this._unlink(t),this._insertAfter(t,e,i),this._addToMoves(t,i),t}_addAfter(t,e,i){return this._insertAfter(t,e,i),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,i){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new R2),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,i=t._next;return null===e?this._itHead=i:e._next=i,null===i?this._itTail=e:i._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new R2),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Yz{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wz{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===e||e<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){const e=t._prevDup,i=t._nextDup;return null===e?this._head=i:e._nextDup=i,null===i?this._tail=e:i._prevDup=e,null===this._head}}class R2{constructor(){this.map=new Map}put(t){const e=t.trackById;let i=this.map.get(e);i||(i=new Wz,this.map.set(e,i)),i.add(t)}get(t,e){const r=this.map.get(t);return r?r.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D2(n,t,e){const i=n.previousIndex;if(null===i)return i;let r=0;return e&&i<e.length&&(r=e[i]),i+t+r}class I2{constructor(){}supports(t){return t instanceof Map||rS(t)}create(){return new zz}}class zz{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||rS(t)))throw new kt(900,"")}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(i,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,i),this._appendAfter=e,e=e._next;else{const o=this._getOrCreateRecordForKey(r,i);e=this._insertBeforeOrAppend(e,o)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let i=e;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const i=t._prev;return e._next=t,e._prev=i,t._prev=e,i&&(i._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const r=this._records.get(t);this._maybeAddToChanges(r,e);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new $z(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(i=>e(t[i],i))}}class $z{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N2(){return new Dg([new x2])}let Dg=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(null!=i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||N2()),deps:[[n,new rg,new Mu]]}}find(e){const i=this.factories.find(r=>r.supports(e));if(null!=i)return i;throw new kt(901,"")}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:N2}),n})();function k2(){return new Ig([new I2])}let Ig=(()=>{class n{constructor(e){this.factories=e}static create(e,i){if(i){const r=i.factories.slice();e=e.concat(r)}return new n(e)}static extend(e){return{provide:n,useFactory:i=>n.create(e,i||k2()),deps:[[n,new rg,new Mu]]}}find(e){const i=this.factories.find(o=>o.supports(e));if(i)return i;throw new kt(901,"")}}return n.\u0275prov=rt({token:n,providedIn:"root",factory:k2}),n})();const qz=b2(null,"core",[{provide:Ic,useValue:"unknown"},{provide:S2,deps:[br]},{provide:m2,deps:[]},{provide:f2,deps:[]}]);let Jz=(()=>{class n{constructor(e){}}return n.\u0275fac=function(e){return new(e||n)(ke(Rg))},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})(),jv=null;function rl(){return jv}const Di=new Kt("DocumentToken");let kc=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:function(){return function t$(){return ke(F2)}()},providedIn:"platform"}),n})();const n$=new Kt("Location Initialized");let F2=(()=>{class n extends kc{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rl().getBaseHref(this._doc)}onPopState(e){const i=rl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=rl().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){B2()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){B2()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(ke(Di))},n.\u0275prov=rt({token:n,factory:function(){return function i$(){return new F2(ke(Di))}()},providedIn:"platform"}),n})();function B2(){return!!window.history.pushState}function KS(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function L2(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Vl(n){return n&&"?"!==n[0]?"?"+n:n}let vf=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:function(){return function r$(n){const t=ke(Di).location;return new U2(ke(kc),t&&t.origin||"")}()},providedIn:"root"}),n})();const qS=new Kt("appBaseHref");let U2=(()=>{class n extends vf{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return KS(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Vl(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const s=this.prepareExternalUrl(r+Vl(o));this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){const s=this.prepareExternalUrl(r+Vl(o));this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(ke(kc),ke(qS,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),o$=(()=>{class n extends vf{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=KS(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let s=this.prepareExternalUrl(r+Vl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(e,i,s)}replaceState(e,i,r,o){let s=this.prepareExternalUrl(r+Vl(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,e)}}return n.\u0275fac=function(e){return new(e||n)(ke(kc),ke(qS,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),JS=(()=>{class n{constructor(e,i){this._subject=new jt,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=L2(G2(r)),this._platformStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Vl(i))}normalize(e){return n.stripTrailingSlash(function a$(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,G2(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vl(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Vl(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var i,r;null===(r=(i=this._platformStrategy).historyGo)||void 0===r||r.call(i,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Vl,n.joinWithSlash=KS,n.stripTrailingSlash=L2,n.\u0275fac=function(e){return new(e||n)(ke(vf),ke(kc))},n.\u0275prov=rt({token:n,factory:function(){return function s$(){return new JS(ke(vf),ke(kc))}()},providedIn:"root"}),n})();function G2(n){return n.replace(/\/index.html$/,"")}var Qo=(()=>((Qo=Qo||{})[Qo.Decimal=0]="Decimal",Qo[Qo.Percent=1]="Percent",Qo[Qo.Currency=2]="Currency",Qo[Qo.Scientific=3]="Scientific",Qo))(),Sr=(()=>((Sr=Sr||{})[Sr.Format=0]="Format",Sr[Sr.Standalone=1]="Standalone",Sr))(),Dn=(()=>((Dn=Dn||{})[Dn.Narrow=0]="Narrow",Dn[Dn.Abbreviated=1]="Abbreviated",Dn[Dn.Wide=2]="Wide",Dn[Dn.Short=3]="Short",Dn))(),Xi=(()=>((Xi=Xi||{})[Xi.Short=0]="Short",Xi[Xi.Medium=1]="Medium",Xi[Xi.Long=2]="Long",Xi[Xi.Full=3]="Full",Xi))(),zt=(()=>((zt=zt||{})[zt.Decimal=0]="Decimal",zt[zt.Group=1]="Group",zt[zt.List=2]="List",zt[zt.PercentSign=3]="PercentSign",zt[zt.PlusSign=4]="PlusSign",zt[zt.MinusSign=5]="MinusSign",zt[zt.Exponential=6]="Exponential",zt[zt.SuperscriptingExponent=7]="SuperscriptingExponent",zt[zt.PerMille=8]="PerMille",zt[zt.Infinity=9]="Infinity",zt[zt.NaN=10]="NaN",zt[zt.TimeSeparator=11]="TimeSeparator",zt[zt.CurrencyDecimal=12]="CurrencyDecimal",zt[zt.CurrencyGroup=13]="CurrencyGroup",zt))();function Vv(n,t){return $s(Uo(n)[Pt.DateFormat],t)}function Hv(n,t){return $s(Uo(n)[Pt.TimeFormat],t)}function Yv(n,t){return $s(Uo(n)[Pt.DateTimeFormat],t)}function zs(n,t){const e=Uo(n),i=e[Pt.NumberSymbols][t];if(void 0===i){if(t===zt.CurrencyDecimal)return e[Pt.NumberSymbols][zt.Decimal];if(t===zt.CurrencyGroup)return e[Pt.NumberSymbols][zt.Group]}return i}function V2(n){if(!n[Pt.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Pt.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function $s(n,t){for(let e=t;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function ZS(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const b$=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ng={},E$=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jr=(()=>((jr=jr||{})[jr.Short=0]="Short",jr[jr.ShortGMT=1]="ShortGMT",jr[jr.Long=2]="Long",jr[jr.Extended=3]="Extended",jr))(),Qt=(()=>((Qt=Qt||{})[Qt.FullYear=0]="FullYear",Qt[Qt.Month=1]="Month",Qt[Qt.Date=2]="Date",Qt[Qt.Hours=3]="Hours",Qt[Qt.Minutes=4]="Minutes",Qt[Qt.Seconds=5]="Seconds",Qt[Qt.FractionalSeconds=6]="FractionalSeconds",Qt[Qt.Day=7]="Day",Qt))(),vn=(()=>((vn=vn||{})[vn.DayPeriods=0]="DayPeriods",vn[vn.Days=1]="Days",vn[vn.Months=2]="Months",vn[vn.Eras=3]="Eras",vn))();function S$(n,t,e,i){let r=function R$(n){if(W2(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,s=1]=n.split("-").map(a=>+a);return Wv(r,o-1,s)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(b$))return function D$(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const s=Number(n[4]||0)-e,a=Number(n[5]||0)-i,l=Number(n[6]||0),u=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,s,a,l,u),t}(i)}const t=new Date(n);if(!W2(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Hl(e,t)||t;let a,s=[];for(;t;){if(a=E$.exec(t),!a){s.push(t);break}{s=s.concat(a.slice(1));const g=s.pop();if(!g)break;t=g}}let l=r.getTimezoneOffset();i&&(l=Y2(i,l),r=function x$(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function A$(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Y2(t,r)-r))}(r,i,!0));let u="";return s.forEach(g=>{const E=function P$(n){if(tT[n])return tT[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ii(vn.Eras,Dn.Abbreviated);break;case"GGGG":t=Ii(vn.Eras,Dn.Wide);break;case"GGGGG":t=Ii(vn.Eras,Dn.Narrow);break;case"y":t=Pr(Qt.FullYear,1,0,!1,!0);break;case"yy":t=Pr(Qt.FullYear,2,0,!0,!0);break;case"yyy":t=Pr(Qt.FullYear,3,0,!1,!0);break;case"yyyy":t=Pr(Qt.FullYear,4,0,!1,!0);break;case"Y":t=Kv(1);break;case"YY":t=Kv(2,!0);break;case"YYY":t=Kv(3);break;case"YYYY":t=Kv(4);break;case"M":case"L":t=Pr(Qt.Month,1,1);break;case"MM":case"LL":t=Pr(Qt.Month,2,1);break;case"MMM":t=Ii(vn.Months,Dn.Abbreviated);break;case"MMMM":t=Ii(vn.Months,Dn.Wide);break;case"MMMMM":t=Ii(vn.Months,Dn.Narrow);break;case"LLL":t=Ii(vn.Months,Dn.Abbreviated,Sr.Standalone);break;case"LLLL":t=Ii(vn.Months,Dn.Wide,Sr.Standalone);break;case"LLLLL":t=Ii(vn.Months,Dn.Narrow,Sr.Standalone);break;case"w":t=eT(1);break;case"ww":t=eT(2);break;case"W":t=eT(1,!0);break;case"d":t=Pr(Qt.Date,1);break;case"dd":t=Pr(Qt.Date,2);break;case"c":case"cc":t=Pr(Qt.Day,1);break;case"ccc":t=Ii(vn.Days,Dn.Abbreviated,Sr.Standalone);break;case"cccc":t=Ii(vn.Days,Dn.Wide,Sr.Standalone);break;case"ccccc":t=Ii(vn.Days,Dn.Narrow,Sr.Standalone);break;case"cccccc":t=Ii(vn.Days,Dn.Short,Sr.Standalone);break;case"E":case"EE":case"EEE":t=Ii(vn.Days,Dn.Abbreviated);break;case"EEEE":t=Ii(vn.Days,Dn.Wide);break;case"EEEEE":t=Ii(vn.Days,Dn.Narrow);break;case"EEEEEE":t=Ii(vn.Days,Dn.Short);break;case"a":case"aa":case"aaa":t=Ii(vn.DayPeriods,Dn.Abbreviated);break;case"aaaa":t=Ii(vn.DayPeriods,Dn.Wide);break;case"aaaaa":t=Ii(vn.DayPeriods,Dn.Narrow);break;case"b":case"bb":case"bbb":t=Ii(vn.DayPeriods,Dn.Abbreviated,Sr.Standalone,!0);break;case"bbbb":t=Ii(vn.DayPeriods,Dn.Wide,Sr.Standalone,!0);break;case"bbbbb":t=Ii(vn.DayPeriods,Dn.Narrow,Sr.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ii(vn.DayPeriods,Dn.Abbreviated,Sr.Format,!0);break;case"BBBB":t=Ii(vn.DayPeriods,Dn.Wide,Sr.Format,!0);break;case"BBBBB":t=Ii(vn.DayPeriods,Dn.Narrow,Sr.Format,!0);break;case"h":t=Pr(Qt.Hours,1,-12);break;case"hh":t=Pr(Qt.Hours,2,-12);break;case"H":t=Pr(Qt.Hours,1);break;case"HH":t=Pr(Qt.Hours,2);break;case"m":t=Pr(Qt.Minutes,1);break;case"mm":t=Pr(Qt.Minutes,2);break;case"s":t=Pr(Qt.Seconds,1);break;case"ss":t=Pr(Qt.Seconds,2);break;case"S":t=Pr(Qt.FractionalSeconds,1);break;case"SS":t=Pr(Qt.FractionalSeconds,2);break;case"SSS":t=Pr(Qt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$v(jr.Short);break;case"ZZZZZ":t=$v(jr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$v(jr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$v(jr.Long);break;default:return null}return tT[n]=t,t}(g);u+=E?E(r,e,l):"''"===g?"'":g.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Wv(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Hl(n,t){const e=function l$(n){return Uo(n)[Pt.LocaleId]}(n);if(Ng[e]=Ng[e]||{},Ng[e][t])return Ng[e][t];let i="";switch(t){case"shortDate":i=Vv(n,Xi.Short);break;case"mediumDate":i=Vv(n,Xi.Medium);break;case"longDate":i=Vv(n,Xi.Long);break;case"fullDate":i=Vv(n,Xi.Full);break;case"shortTime":i=Hv(n,Xi.Short);break;case"mediumTime":i=Hv(n,Xi.Medium);break;case"longTime":i=Hv(n,Xi.Long);break;case"fullTime":i=Hv(n,Xi.Full);break;case"short":const r=Hl(n,"shortTime"),o=Hl(n,"shortDate");i=zv(Yv(n,Xi.Short),[r,o]);break;case"medium":const s=Hl(n,"mediumTime"),a=Hl(n,"mediumDate");i=zv(Yv(n,Xi.Medium),[s,a]);break;case"long":const l=Hl(n,"longTime"),u=Hl(n,"longDate");i=zv(Yv(n,Xi.Long),[l,u]);break;case"full":const g=Hl(n,"fullTime"),E=Hl(n,"fullDate");i=zv(Yv(n,Xi.Full),[g,E])}return i&&(Ng[e][t]=i),i}function zv(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Ra(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let s=String(n);for(;s.length<t;)s="0"+s;return i&&(s=s.substr(s.length-t)),o+s}function Pr(n,t,e=0,i=!1,r=!1){return function(o,s){let a=function C$(n,t){switch(n){case Qt.FullYear:return t.getFullYear();case Qt.Month:return t.getMonth();case Qt.Date:return t.getDate();case Qt.Hours:return t.getHours();case Qt.Minutes:return t.getMinutes();case Qt.Seconds:return t.getSeconds();case Qt.FractionalSeconds:return t.getMilliseconds();case Qt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||a>-e)&&(a+=e),n===Qt.Hours)0===a&&-12===e&&(a=12);else if(n===Qt.FractionalSeconds)return function T$(n,t){return Ra(n,3).substr(0,t)}(a,t);const l=zs(s,zt.MinusSign);return Ra(a,t,l,i,r)}}function Ii(n,t,e=Sr.Format,i=!1){return function(r,o){return function O$(n,t,e,i,r,o){switch(e){case vn.Months:return function h$(n,t,e){const i=Uo(n),o=$s([i[Pt.MonthsFormat],i[Pt.MonthsStandalone]],t);return $s(o,e)}(t,r,i)[n.getMonth()];case vn.Days:return function c$(n,t,e){const i=Uo(n),o=$s([i[Pt.DaysFormat],i[Pt.DaysStandalone]],t);return $s(o,e)}(t,r,i)[n.getDay()];case vn.DayPeriods:const s=n.getHours(),a=n.getMinutes();if(o){const u=function g$(n){const t=Uo(n);return V2(t),(t[Pt.ExtraData][2]||[]).map(i=>"string"==typeof i?ZS(i):[ZS(i[0]),ZS(i[1])])}(t),g=function _$(n,t,e){const i=Uo(n);V2(i);const o=$s([i[Pt.ExtraData][0],i[Pt.ExtraData][1]],t)||[];return $s(o,e)||[]}(t,r,i),E=u.findIndex(w=>{if(Array.isArray(w)){const[P,A]=w,D=s>=P.hours&&a>=P.minutes,B=s<A.hours||s===A.hours&&a<A.minutes;if(P.hours<A.hours){if(D&&B)return!0}else if(D||B)return!0}else if(w.hours===s&&w.minutes===a)return!0;return!1});if(-1!==E)return g[E]}return function u$(n,t,e){const i=Uo(n),o=$s([i[Pt.DayPeriodsFormat],i[Pt.DayPeriodsStandalone]],t);return $s(o,e)}(t,r,i)[s<12?0:1];case vn.Eras:return function d$(n,t){return $s(Uo(n)[Pt.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function $v(n){return function(t,e,i){const r=-1*i,o=zs(e,zt.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case jr.Short:return(r>=0?"+":"")+Ra(s,2,o)+Ra(Math.abs(r%60),2,o);case jr.ShortGMT:return"GMT"+(r>=0?"+":"")+Ra(s,1,o);case jr.Long:return"GMT"+(r>=0?"+":"")+Ra(s,2,o)+":"+Ra(Math.abs(r%60),2,o);case jr.Extended:return 0===i?"Z":(r>=0?"+":"")+Ra(s,2,o)+":"+Ra(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function H2(n){return Wv(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function eT(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,s=e.getDate();r=1+Math.floor((s+o)/7)}else{const o=H2(e),s=function w$(n){const t=Wv(n,0,1).getDay();return Wv(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ra(r,n,zs(i,zt.MinusSign))}}function Kv(n,t=!1){return function(e,i){return Ra(H2(e).getFullYear(),n,zs(i,zt.MinusSign),t)}}const tT={};function Y2(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function W2(n){return n instanceof Date&&!isNaN(n.valueOf())}const I$=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function X2(n,t,e){return function iT(n,t,e,i,r,o,s=!1){let a="",l=!1;if(isFinite(n)){let u=function G$(n){let i,r,o,s,a,t=Math.abs(n)+"",e=0;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;"0"===t.charAt(o);o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;"0"===t.charAt(a);)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>22&&(i=i.splice(0,21),e=r-1,r=1),{digits:i,exponent:e,integerLen:r}}(n);s&&(u=function U$(n){if(0===n.digits[0])return n;const t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===t?n.digits.push(0,0):1===t&&n.digits.push(0),n.integerLen+=2),n}(u));let g=t.minInt,E=t.minFrac,w=t.maxFrac;if(o){const K=o.match(I$);if(null===K)throw new Error(`${o} is not a valid digit info`);const re=K[1],ae=K[3],te=K[5];null!=re&&(g=oT(re)),null!=ae&&(E=oT(ae)),null!=te?w=oT(te):null!=ae&&E>w&&(w=E)}!function j$(n,t,e){if(t>e)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${e}).`);let i=n.digits,r=i.length-n.integerLen;const o=Math.min(Math.max(t,r),e);let s=o+n.integerLen,a=i[s];if(s>0){i.splice(Math.max(n.integerLen,s));for(let E=s;E<i.length;E++)i[E]=0}else{r=Math.max(0,r),n.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let E=1;E<s;E++)i[E]=0}if(a>=5)if(s-1<0){for(let E=0;E>s;E--)i.unshift(0),n.integerLen++;i.unshift(1),n.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=0!==o;const u=t+n.integerLen,g=i.reduceRight(function(E,w,P,A){return A[P]=(w+=E)<10?w:w-10,l&&(0===A[P]&&P>=u?A.pop():l=!1),w>=10?1:0},0);g&&(i.unshift(g),n.integerLen++)}(u,E,w);let P=u.digits,A=u.integerLen;const D=u.exponent;let B=[];for(l=P.every(K=>!K);A<g;A++)P.unshift(0);for(;A<0;A++)P.unshift(0);A>0?B=P.splice(A,P.length):(B=P,P=[0]);const Y=[];for(P.length>=t.lgSize&&Y.unshift(P.splice(-t.lgSize,P.length).join(""));P.length>t.gSize;)Y.unshift(P.splice(-t.gSize,P.length).join(""));P.length&&Y.unshift(P.join("")),a=Y.join(zs(e,i)),B.length&&(a+=zs(e,r)+B.join("")),D&&(a+=zs(e,zt.Exponential)+"+"+D)}else a=zs(e,zt.Infinity);return a=n<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf,a}(n,function rT(n,t="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=n.split(";"),r=i[0],o=i[1],s=-1!==r.indexOf(".")?r.split("."):[r.substring(0,r.lastIndexOf("0")+1),r.substring(r.lastIndexOf("0")+1)],a=s[0],l=s[1]||"";e.posPre=a.substr(0,a.indexOf("#"));for(let g=0;g<l.length;g++){const E=l.charAt(g);"0"===E?e.minFrac=e.maxFrac=g+1:"#"===E?e.maxFrac=g+1:e.posSuf+=E}const u=a.split(",");if(e.gSize=u[1]?u[1].length:0,e.lgSize=u[2]||u[1]?(u[2]||u[1]).length:0,o){const g=r.length-e.posPre.length-e.posSuf.length,E=o.indexOf("#");e.negPre=o.substr(0,E).replace(/'/g,""),e.negSuf=o.substr(E+g).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}(function QS(n,t){return Uo(n)[Pt.NumberFormats][t]}(t,Qo.Decimal),zs(t,zt.MinusSign)),t,zt.Group,zt.Decimal,e)}function oT(n){const t=parseInt(n);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+n);return t}function q2(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let yf=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(gg(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${ni(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(X(Dg),X(Ig),X(ri),X(Eo))},n.\u0275dir=mt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Y${constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ti=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Y$(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),J2(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{J2(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(X(ms),X(Ui),X(Dg))},n.\u0275dir=mt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function J2(n,t){n.context.$implicit=t.item}let Zt=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new W$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Q2("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Q2("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(X(ms),X(Ui))},n.\u0275dir=mt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class W${constructor(){this.$implicit=null,this.ngIf=null}}function Q2(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ni(t)}'.`)}class aT{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ol=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),Nu=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new aT(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(X(ms),X(Ui),X(ol,9))},n.\u0275dir=mt({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Fg=(()=>{class n{constructor(e,i,r){r._addDefault(new aT(e,i))}}return n.\u0275fac=function(e){return new(e||n)(X(ms),X(Ui),X(ol,9))},n.\u0275dir=mt({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Bg=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split(".");null!=(i=null!=i&&o?`${i}${o}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(X(ri),X(Ig),X(Eo))},n.\u0275dir=mt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),bf=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const i=this._viewContainerRef;this._viewRef&&i.remove(i.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?i.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(X(ms))},n.\u0275dir=mt({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Kr]}),n})();function Da(n,t){return new kt(2100,"")}class $${createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class X${createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const K$=new X$,q$=new $$;let Ef=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if(mg(e))return K$;if(hD(e))return q$;throw Da()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(X(Mn,16))},n.\u0275pipe=oo({name:"async",type:n,pure:!1}),n})();const tX=new Kt("DATE_PIPE_DEFAULT_TIMEZONE");let sl=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){var s;if(null==e||""===e||e!=e)return null;try{return S$(e,i,o||this.locale,null!==(s=null!=r?r:this.defaultTimezone)&&void 0!==s?s:void 0)}catch(a){throw Da()}}}return n.\u0275fac=function(e){return new(e||n)(X(Iu,16),X(tX,24))},n.\u0275pipe=oo({name:"date",type:n,pure:!0}),n})(),tN=(()=>{class n{constructor(e){this._locale=e}transform(e,i,r){if(!function lT(n){return!(null==n||""===n||n!=n)}(e))return null;r=r||this._locale;try{return X2(function uT(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),r,i)}catch(o){throw Da()}}}return n.\u0275fac=function(e){return new(e||n)(X(Iu,16))},n.\u0275pipe=oo({name:"number",type:n,pure:!0}),n})();let nN=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Da();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=oo({name:"slice",type:n,pure:!1}),n})(),xt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();const iN="browser";function Lg(n){return n===iN}let fX=(()=>{class n{}return n.\u0275prov=rt({token:n,providedIn:"root",factory:()=>new pX(ke(Di),window)}),n})();class pX{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function gX(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=rN(this.window.history)||rN(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function rN(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class oN{}class cT extends class _X extends class e${}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function Zz(n){jv||(jv=n)}(new cT)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function mX(){return Ug=Ug||document.querySelector("base"),Ug?Ug.getAttribute("href"):null}();return null==e?null:function vX(n){Jv=Jv||document.createElement("a"),Jv.setAttribute("href",n);const t=Jv.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Ug=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return q2(document.cookie,t)}}let Jv,Ug=null;const sN=new Kt("TRANSITION_ID"),bX=[{provide:Lv,useFactory:function yX(n,t,e){return()=>{e.get(BS).donePromise.then(()=>{const i=rl(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[sN,Di,br],multi:!0}];class hT{static init(){!function wz(n){HS=n}(new hT)}addToWindow(t){mi.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},mi.getAllAngularTestabilities=()=>t.getAllTestabilities(),mi.getAllAngularRootElements=()=>t.getAllRootElements(),mi.frameworkStabilizers||(mi.frameworkStabilizers=[]),mi.frameworkStabilizers.push(i=>{const r=mi.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(t,e,i){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:i?rl().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let EX=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const Qv=new Kt("EventManagerPlugins");let Zv=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const s=r[o];if(s.supports(e))return this._eventNameToPlugin.set(e,s),s}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(ke(Qv),ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class aN{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=rl().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let lN=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Gg=(()=>{class n extends lN{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const s=this._doc.createElement("style");s.textContent=o,r.push(i.appendChild(s))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(uN),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(uN))}}return n.\u0275fac=function(e){return new(e||n)(ke(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function uN(n){rl().remove(n)}const dT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fT=/%COMP%/g;function ey(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?ey(n,r,e):(r=r.replace(fT,n),e.push(r))}return e}function dN(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ty=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new pT(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case ya.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new wX(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case ya.ShadowDom:return new PX(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=ey(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(ke(Zv),ke(Gg),ke(xg))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class pT{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(dT[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=dT[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=dT[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(gs.DashCase|gs.Important)?t.style.setProperty(e,i,r&gs.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&gs.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,dN(i)):this.eventManager.addEventListener(t,e,dN(i))}}class wX extends pT{constructor(t,e,i,r){super(t),this.component=i;const o=ey(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function CX(n){return"_ngcontent-%COMP%".replace(fT,n)}(r+"-"+i.id),this.hostAttr=function OX(n){return"_nghost-%COMP%".replace(fT,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class PX extends pT{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=ey(r.id,r.styles,[]);for(let s=0;s<o.length;s++){const a=document.createElement("style");a.textContent=o[s],this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let AX=(()=>{class n extends aN{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(ke(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const pN=["alt","control","meta","shift"],RX={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gN={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},DX={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let IX=(()=>{class n extends aN{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rl().onAndCancel(e,o.domEventName,s))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="";if(pN.forEach(l=>{const u=i.indexOf(l);u>-1&&(i.splice(u,1),s+=l+".")}),s+=o,0!=i.length||0===o.length)return null;const a={};return a.domEventName=r,a.fullKey=s,a}static getEventFullKey(e){let i="",r=function NX(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&gN.hasOwnProperty(t)&&(t=gN[t]))}return RX[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),pN.forEach(o=>{o!=r&&DX[o](e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(ke(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const LX=b2(qz,"browser",[{provide:Ic,useValue:iN},{provide:h2,useValue:function kX(){cT.makeCurrent(),hT.init()},multi:!0},{provide:Di,useFactory:function BX(){return function mj(n){L1=n}(document),document},deps:[]}]),UX=[{provide:QE,useValue:"root"},{provide:Vd,useFactory:function FX(){return new Vd},deps:[]},{provide:Qv,useClass:AX,multi:!0,deps:[Di,On,Ic]},{provide:Qv,useClass:IX,multi:!0,deps:[Di]},{provide:ty,useClass:ty,deps:[Zv,Gg,xg]},{provide:gf,useExisting:ty},{provide:lN,useExisting:Gg},{provide:Gg,useClass:Gg,deps:[Di]},{provide:VS,useClass:VS,deps:[On]},{provide:Zv,useClass:Zv,deps:[Qv,On]},{provide:oN,useClass:EX,deps:[]}];let _N=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:xg,useValue:e.appId},{provide:sN,useExisting:xg},bX]}}}return n.\u0275fac=function(e){return new(e||n)(ke(n,12))},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:UX,imports:[xt,Jz]}),n})();"undefined"!=typeof window&&window;let _T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:function(e){let i=null;return i=e?new(e||n):ke(yN),i},providedIn:"root"}),n})(),yN=(()=>{class n extends _T{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case Ri.NONE:return i;case Ri.HTML:return Ja(i,"HTML")?ps(i):mx(this._doc,String(i)).toString();case Ri.STYLE:return Ja(i,"Style")?ps(i):i;case Ri.SCRIPT:if(Ja(i,"Script"))return ps(i);throw new Error("unsafe value used in a script context");case Ri.URL:return ux(i),Ja(i,"URL")?ps(i):sg(String(i));case Ri.RESOURCE_URL:if(Ja(i,"ResourceURL"))return ps(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return function RV(n){return new MV(n)}(e)}bypassSecurityTrustStyle(e){return function DV(n){return new wV(n)}(e)}bypassSecurityTrustScript(e){return function IV(n){return new PV(n)}(e)}bypassSecurityTrustUrl(e){return function NV(n){return new AV(n)}(e)}bypassSecurityTrustResourceUrl(e){return function kV(n){return new xV(n)}(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(Di))},n.\u0275prov=rt({token:n,factory:function(e){let i=null;return i=e?new e:function KX(n){return new yN(n.get(Di))}(ke(br)),i},providedIn:"root"}),n})();var ny=M(383),_r=M(9248),Ht=M(1446),bN=[];function EN(n){return n.reduce((t,e)=>(t.every(i=>e.name!==i.name)&&t.push(e),t),[])}function qX(n){var t=n.defaultIntegrations&&[...n.defaultIntegrations]||[],e=n.integrations;let i=[...EN(t)];Array.isArray(e)?i=[...i.filter(s=>e.every(a=>a.name!==s.name)),...EN(e)]:"function"==typeof e&&(i=e(i),i=Array.isArray(i)?i:[i]);var r=i.map(s=>s.name),o="Debug";return-1!==r.indexOf(o)&&i.push(...i.splice(r.indexOf(o),1)),i}var ao=M(7759);class So extends Error{constructor(t,e="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=e}}var ZX=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function iy(n,t=!1){const{host:e,path:i,pass:r,port:o,projectId:s,protocol:a,publicKey:l}=n;return`${a}://${l}${t&&r?`:${r}`:""}@${e}${o?`:${o}`:""}/${i&&`${i}/`}${s}`}function SN(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function TN(n){var t="string"==typeof n?function tK(n){var t=ZX.exec(n);if(!t)throw new So(`Invalid Sentry Dsn: ${n}`);const[e,i,r="",o,s="",a]=t.slice(1);let l="",u=a;var g=u.split("/");if(g.length>1&&(l=g.slice(0,-1).join("/"),u=g.pop()),u){var E=u.match(/^\d+/);E&&(u=E[0])}return SN({host:o,pass:r,path:l,projectId:u,port:s,protocol:e,publicKey:i})}(n):SN(n);return function nK(n){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:t,projectId:e,protocol:i}=n;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!n[o])throw new So(`Invalid Sentry Dsn: ${o} missing`)}),!e.match(/^\d+$/))throw new So(`Invalid Sentry Dsn: Invalid projectId ${e}`);if(!function eK(n){return"http"===n||"https"===n}(i))throw new So(`Invalid Sentry Dsn: Invalid protocol ${i}`);if(t&&isNaN(parseInt(t,10)))throw new So(`Invalid Sentry Dsn: Invalid port ${t}`)}(t),t}function CN(n){return`${n.protocol?`${n.protocol}:`:""}//${n.host}${n.port?`:${n.port}`:""}${n.path?`/${n.path}`:""}/api/`}function ON(n,t={}){var i="string"!=typeof t&&t._metadata?t._metadata.sdk:void 0;return("string"==typeof t?t:t.tunnel)||`${function rK(n){return`${CN(n)}${n.projectId}/envelope/`}(n)}?${function oK(n,t){return(0,ao._j)(Xe({sentry_key:n.publicKey,sentry_version:"7"},t&&{sentry_client:`${t.name}/${t.version}`}))}(n,i)}`}var Vr=M(5535),al=M(1090),aK=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class Sf{static __initStatic(){this.id="InboundFilters"}__init(){this.name=Sf.id}constructor(t={}){this._options=t,Sf.prototype.__init.call(this)}setupOnce(t,e){var i=r=>{var o=e();if(o){var s=o.getIntegration(Sf);if(s){var a=o.getClient(),l=a?a.getOptions():{},u=function lK(n={},t={}){return{allowUrls:[...n.allowUrls||[],...t.allowUrls||[]],denyUrls:[...n.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...t.ignoreErrors||[],...aK],ignoreInternal:void 0===n.ignoreInternal||n.ignoreInternal}}(s._options,l);return function uK(n,t){return t.ignoreInternal&&function pK(n){try{return"SentryError"===n.exception.values[0].type}catch(t){}return!1}(n)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,Vr.jH)(n)}`),!0):function cK(n,t){return!(!t||!t.length)&&function fK(n){if(n.message)return[n.message];if(n.exception)try{const{type:t="",value:e=""}=n.exception.values&&n.exception.values[0]||{};return[`${e}`,`${t}: ${e}`]}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error(`Cannot extract message for event ${(0,Vr.jH)(n)}`),[]}return[]}(n).some(e=>t.some(i=>(0,al.zC)(e,i)))}(n,t.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,Vr.jH)(n)}`),!0):function hK(n,t){if(!t||!t.length)return!1;var e=ry(n);return!!e&&t.some(i=>(0,al.zC)(e,i))}(n,t.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,Vr.jH)(n)}.\nUrl: ${ry(n)}`),!0):!function dK(n,t){if(!t||!t.length)return!0;var e=ry(n);return!e||t.some(i=>(0,al.zC)(e,i))}(n,t.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,Vr.jH)(n)}.\nUrl: ${ry(n)}`),!0)}(r,u)?null:r}}return r};i.id=this.name,t(i)}}function ry(n){try{let t;try{t=n.exception.values[0].stacktrace.frames}catch(e){}return t?function gK(n=[]){for(let e=n.length-1;e>=0;e--){var t=n[e];if(t&&"<anonymous>"!==t.filename&&"[native code]"!==t.filename)return t.filename||null}return null}(t):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error(`Cannot extract url for event ${(0,Vr.jH)(n)}`),null}}let MN;Sf.__initStatic();class jg{constructor(){jg.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=jg.id}setupOnce(){MN=Function.prototype.toString,Function.prototype.toString=function(...t){var e=(0,ao.HK)(this)||this;return MN.apply(e,t)}}}jg.__initStatic();var To=M(7576),Yl=M(9725),mT=M(8204),Ia=M(3343),wN=M(1539),Tr=M(6412),ys=M(509);function oy(n,t=[]){return[n,t]}function _K(n,t){const[e,i]=n;return[e,[...i,t]]}function PN(n,t){n[1].forEach(i=>{t(i,i[0].type)})}function vT(n,t){return(t||new TextEncoder).encode(n)}function AN(n,t){const[e,i]=n;let r=JSON.stringify(e);function o(a){"string"==typeof r?r="string"==typeof a?r+a:[vT(r,t),a]:r.push("string"==typeof a?vT(a,t):a)}for(var s of i){const[a,l]=s;o(`\n${JSON.stringify(a)}\n`),o("string"==typeof l||l instanceof Uint8Array?l:JSON.stringify(l))}return"string"==typeof r?r:function mK(n){var t=n.reduce((o,s)=>o+s.length,0),e=new Uint8Array(t);let i=0;for(var r of n)e.set(r,i),i+=r.length;return e}(r)}function vK(n,t){var e="string"==typeof n.data?vT(n.data,t):n.data;return[(0,ao.Jr)({type:"attachment",length:e.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),e]}var yK={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function xN(n){return yK[n]}var Fc=M(3967);function Bc(n,t=1/0,e=1/0){try{return yT("",n,t,e)}catch(i){return{ERROR:`**non-serializable** (${i})`}}}function RN(n,t=3,e=102400){var i=Bc(n,t);return function TK(n){return function SK(n){return~-encodeURI(n).split(/%..|./).length}(JSON.stringify(n))}(i)>e?RN(n,t-1,e):i}function yT(n,t,e=1/0,i=1/0,r=function bK(){var n="function"==typeof WeakSet,t=n?new WeakSet:[];return[function e(r){if(n)return!!t.has(r)||(t.add(r),!1);for(let s=0;s<t.length;s++)if(t[s]===r)return!0;return t.push(r),!1},function i(r){if(n)t.delete(r);else for(let o=0;o<t.length;o++)if(t[o]===r){t.splice(o,1);break}}]}()){const[o,s]=r;if(null===t||["number","boolean","string"].includes(typeof t)&&!(0,Tr.i2)(t))return t;var a=function EK(n,t){try{return"domain"===n&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":(0,Tr.Cy)(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?`[Function: ${(0,Yl.$P)(t)}]`:"symbol"==typeof t?`[${String(t)}]`:"bigint"==typeof t?`[BigInt: ${String(t)}]`:`[object ${Object.getPrototypeOf(t).constructor.name}]`}catch(e){return`**non-serializable** (${e})`}}(n,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;if(0===e)return a.replace("object ","");if(o(t))return"[Circular ~]";var l=t;if(l&&"function"==typeof l.toJSON)try{return yT("",l.toJSON(),e-1,i,r)}catch(D){}var g=Array.isArray(t)?[]:{};let E=0;var w=(0,ao.Sh)(t);for(var P in w)if(Object.prototype.hasOwnProperty.call(w,P)){if(E>=i){g[P]="[MaxProperties ~]";break}g[P]=yT(P,w[P],e-1,i,r),E+=1}return s(t),g}var bs=M(9981);function DN(n){if(!n||!n.sdk)return;const{name:t,version:e}=n.sdk;return{name:t,version:e}}var IN="Not capturing exception because it's already been captured.";class Tf{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(t){if(Tf.prototype.__init.call(this),Tf.prototype.__init2.call(this),Tf.prototype.__init3.call(this),Tf.prototype.__init4.call(this),this._options=t,t.dsn){this._dsn=TN(t.dsn);var e=ON(this._dsn,t);this._transport=t.transport(ti(Xe({recordDroppedEvent:this.recordDroppedEvent.bind(this)},t.transportOptions),{url:e}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("No DSN provided, client will not do anything.")}captureException(t,e,i){if((0,Vr.YO)(t))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(IN));let r=e&&e.event_id;return this._process(this.eventFromException(t,e).then(o=>this._captureEvent(o,e,i)).then(o=>{r=o})),r}captureMessage(t,e,i,r){let o=i&&i.event_id;var s=(0,Tr.pt)(t)?this.eventFromMessage(String(t),e,i):this.eventFromException(t,i);return this._process(s.then(a=>this._captureEvent(a,i,r)).then(a=>{o=a})),o}captureEvent(t,e,i){if(e&&e.originalException&&(0,Vr.YO)(e.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(IN));let r=e&&e.event_id;return this._process(this._captureEvent(t,e,i).then(o=>{r=o})),r}captureSession(t){this._isEnabled()?"string"!=typeof t.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),(0,wN.CT)(t,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(t){var e=this._transport;return e?this._isClientDoneProcessing(t).then(i=>e.flush(t).then(r=>i&&r)):(0,ys.WD)(!0)}close(t){return this.flush(t).then(e=>(this.getOptions().enabled=!1,e))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=function JX(n){var t={};return n.forEach(e=>{t[e.name]=e,-1===bN.indexOf(e.name)&&(e.setupOnce(ny.c,_r.Gd),bN.push(e.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`Integration installed: ${e.name}`))}),t}(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch(e){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}sendEvent(t,e={}){if(this._dsn){let r=function MK(n,t,e,i){var r=DN(e),o=n.type||"event";const{transactionSampling:s}=n.sdkProcessingMetadata||{},{method:a,rate:l}=s||{};!function CK(n,t){t&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||t.name,n.sdk.version=n.sdk.version||t.version,n.sdk.integrations=[...n.sdk.integrations||[],...t.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...t.packages||[]])}(n,e&&e.sdk);var u=function wK(n,t,e,i){var r=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baggage,o=r&&(0,bs.Hk)(r);return Xe(Xe(Xe({event_id:n.event_id,sent_at:(new Date).toISOString()},t&&{sdk:t}),!!e&&{dsn:iy(i)}),"transaction"===n.type&&o&&{trace:(0,ao.Jr)(Xe({},o))})}(n,r,i,t);return delete n.sdkProcessingMetadata,oy(u,[[{type:o,sample_rates:[{id:a,rate:l}]},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);for(var i of e.attachments||[])r=_K(r,vK(i,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(r)}}sendSession(t){if(this._dsn){var e=function OK(n,t,e,i){var r=DN(e);return oy(Xe(Xe({sent_at:(new Date).toISOString()},r&&{sdk:r}),!!i&&{dsn:iy(t)}),["aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n]])}(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(e)}}recordDroppedEvent(t,e){if(this._options.sendClientReports){var i=`${t}:${e}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}_updateSessionFromEvent(t,e){let i=!1,r=!1;var o=e.exception&&e.exception.values;if(o)for(var s of(r=!0,o)){var a=s.mechanism;if(a&&!1===a.handled){i=!0;break}}var l="ok"===t.status;(l&&0===t.errors||l&&i)&&((0,wN.CT)(t,ti(Xe({},i&&{status:"crashed"}),{errors:t.errors||Number(r||i)})),this.captureSession(t))}_isClientDoneProcessing(t){return new ys.cW(e=>{let i=0;var o=setInterval(()=>{0==this._numProcessing?(clearInterval(o),e(!0)):(i+=1,t&&i>=t&&(clearInterval(o),e(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(t,e,i){const{normalizeDepth:r=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var s=ti(Xe({},t),{event_id:t.event_id||e.event_id||(0,Vr.DM)(),timestamp:t.timestamp||(0,Fc.yW)()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);let a=i;e.captureContext&&(a=ny.s.clone(a).update(e.captureContext));let l=(0,ys.WD)(s);if(a){var u=[...e.attachments||[],...a.getAttachments()];u.length&&(e.attachments=u),l=a.applyToEvent(s,e)}return l.then(g=>"number"==typeof r&&r>0?this._normalizeEvent(g,r,o):g)}_normalizeEvent(t,e,i){if(!t)return null;var r=Xe(Xe(Xe(Xe(Xe({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map(o=>Xe(Xe({},o),o.data&&{data:Bc(o.data,e,i)}))}),t.user&&{user:Bc(t.user,e,i)}),t.contexts&&{contexts:Bc(t.contexts,e,i)}),t.extra&&{extra:Bc(t.extra,e,i)});return t.contexts&&t.contexts.trace&&r.contexts&&(r.contexts.trace=t.contexts.trace,t.contexts.trace.data&&(r.contexts.trace.data=Bc(t.contexts.trace.data,e,i))),t.spans&&(r.spans=t.spans.map(o=>(o.data&&(o.data=Bc(o.data,e,i)),o))),r}_applyClientOptions(t){var e=this.getOptions();const{environment:i,release:r,dist:o,maxValueLength:s=250}=e;"environment"in t||(t.environment="environment"in e?i:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=(0,al.$G)(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=(0,al.$G)(a.value,s));var l=t.request;l&&l.url&&(l.url=(0,al.$G)(l.url,s))}_applyIntegrationsMetadata(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=[...t.sdk.integrations||[],...e])}_captureEvent(t,e={},i){return this._processEvent(t,e,i).then(r=>r.event_id,r=>{if("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__){var o=r;"log"===o.logLevel?Ht.kg.log(o.message):Ht.kg.warn(o)}})}_processEvent(t,e,i){const{beforeSend:r,sampleRate:o}=this.getOptions();if(!this._isEnabled())return(0,ys.$2)(new So("SDK not enabled, will not capture event.","log"));var s="transaction"===t.type;return!s&&"number"==typeof o&&Math.random()>o?(this.recordDroppedEvent("sample_rate","error"),(0,ys.$2)(new So(`Discarding event because it's not included in the random sample (sampling rate = ${o})`,"log"))):this._prepareEvent(t,e,i).then(a=>{if(null===a)throw this.recordDroppedEvent("event_processor",t.type||"error"),new So("An event processor returned null, will not send event.","log");return e.data&&!0===e.data.__sentry__||s||!r?a:function PK(n){var t="`beforeSend` method has to return `null` or a valid event.";if((0,Tr.J8)(n))return n.then(e=>{if(!(0,Tr.PO)(e)&&null!==e)throw new So(t);return e},e=>{throw new So(`beforeSend rejected with ${e}`)});if(!(0,Tr.PO)(n)&&null!==n)throw new So(t);return n}(r(a,e))}).then(a=>{if(null===a)throw this.recordDroppedEvent("before_send",t.type||"error"),new So("`beforeSend` returned `null`, will not send event.","log");var l=i&&i.getSession();return!s&&l&&this._updateSessionFromEvent(l,a),this.sendEvent(a,e),a}).then(null,a=>{throw a instanceof So?a:(this.captureException(a,{data:{__sentry__:!0},originalException:a}),new So(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${a}`))})}_process(t){this._numProcessing+=1,t.then(e=>(this._numProcessing-=1,e),e=>(this._numProcessing-=1,e))}_sendEnvelope(t){this._transport&&this._dsn?this._transport.send(t).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("Error while sending event:",e)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("Transport disabled")}_clearOutcomes(){var t=this._outcomes;return this._outcomes={},Object.keys(t).map(e=>{const[i,r]=e.split(":");return{reason:i,category:r,quantity:t[e]}})}}var sy="7.12.1";function NN(n,t){var e=ET(n,t),i={type:t&&t.name,value:IK(t)};return e.length&&(i.stacktrace={frames:e}),void 0===i.type&&""===i.value&&(i.value="Unrecoverable error caught"),i}function bT(n,t){return{exception:{values:[NN(n,t)]}}}function ET(n,t){var e=t.stacktrace||t.stack||"",i=function DK(n){if(n){if("number"==typeof n.framesToPop)return n.framesToPop;if(RK.test(n.message))return 1}return 0}(t);try{return n(e,i)}catch(r){}return[]}var RK=/Minified React error #\d+;/i;function IK(n){var t=n&&n.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function ST(n,t,e,i,r){let o;if((0,Tr.VW)(t)&&t.error)return bT(n,t.error);if((0,Tr.TX)(t)||(0,Tr.fm)(t)){var a=t;if("stack"in t)o=bT(n,t);else{var l=a.name||((0,Tr.TX)(a)?"DOMError":"DOMException"),u=a.message?`${l}: ${a.message}`:l;o=TT(n,u,e,i),(0,Vr.Db)(o,u)}return"code"in a&&(o.tags=ti(Xe({},o.tags),{"DOMException.code":`${a.code}`})),o}return(0,Tr.VZ)(t)?bT(n,t):(0,Tr.PO)(t)||(0,Tr.cO)(t)?(o=function xK(n,t,e,i){var r={exception:{values:[{type:(0,Tr.cO)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${(0,ao.zf)(t)}`}]},extra:{__serialized__:RN(t)}};if(e){var o=ET(n,e);o.length&&(r.exception.values[0].stacktrace={frames:o})}return r}(n,t,e,r),(0,Vr.EG)(o,{synthetic:!0}),o):(o=TT(n,t,e,i),(0,Vr.Db)(o,`${t}`,void 0),(0,Vr.EG)(o,{synthetic:!0}),o)}function TT(n,t,e,i){var r={message:t};if(i&&e){var o=ET(n,e);o.length&&(r.exception={values:[{value:t,stacktrace:{frames:o}}]})}return r}var Cf=M(6477),FK=["fatal","error","warning","log","info","debug"];function kN(n){return"warn"===n?"warning":FK.includes(n)?n:"log"}function CT(n){if(!n)return{};var t=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);return t?{host:t[4],path:t[5],protocol:t[2],relative:t[5]+(t[6]||"")+(t[8]||"")}:{}}var FN="Breadcrumbs";class Vg{static __initStatic(){this.id=FN}__init(){this.name=Vg.id}constructor(t){Vg.prototype.__init.call(this),this.options=Xe({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}setupOnce(){this.options.console&&(0,Ia.o)("console",LK),this.options.dom&&(0,Ia.o)("dom",function BK(n){return function t(e){let i,r="object"==typeof n?n.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{i=(0,Cf.Rt)(e.event.target?e.event.target:e.event,r)}catch(o){i="<unknown>"}0!==i.length&&(0,_r.Gd)().addBreadcrumb({category:`ui.${e.name}`,message:i},{event:e.event,name:e.name,global:e.global})}}(this.options.dom)),this.options.xhr&&(0,Ia.o)("xhr",UK),this.options.fetch&&(0,Ia.o)("fetch",GK),this.options.history&&(0,Ia.o)("history",jK)}}function LK(n){var t={category:"console",data:{arguments:n.args,logger:"console"},level:kN(n.level),message:(0,al.nK)(n.args," ")};if("assert"===n.level){if(!1!==n.args[0])return;t.message=`Assertion failed: ${(0,al.nK)(n.args.slice(1)," ")||"console.assert"}`,t.data.arguments=n.args.slice(1)}(0,_r.Gd)().addBreadcrumb(t,{input:n.args,level:n.level})}function UK(n){if(n.endTimestamp){if(n.xhr.__sentry_own_request__)return;const{method:t,url:e,status_code:i,body:r}=n.xhr.__sentry_xhr__||{};(0,_r.Gd)().addBreadcrumb({category:"xhr",data:{method:t,url:e,status_code:i},type:"http"},{xhr:n.xhr,input:r})}}function GK(n){!n.endTimestamp||n.fetchData.url.match(/sentry_key/)&&"POST"===n.fetchData.method||(n.error?(0,_r.Gd)().addBreadcrumb({category:"fetch",data:n.fetchData,level:"error",type:"http"},{data:n.error,input:n.args}):(0,_r.Gd)().addBreadcrumb({category:"fetch",data:ti(Xe({},n.fetchData),{status_code:n.response.status}),type:"http"},{input:n.args,response:n.response}))}function jK(n){var t=(0,To.R)();let e=n.from,i=n.to;var r=CT(t.location.href);let o=CT(e);var s=CT(i);o.path||(o=r),r.protocol===s.protocol&&r.host===s.host&&(i=s.relative),r.protocol===o.protocol&&r.host===o.host&&(e=o.relative),(0,_r.Gd)().addBreadcrumb({category:"navigation",data:{from:e,to:i}})}Vg.__initStatic();var Na=(0,To.R)();let ay;function BN(){if(ay)return ay;if((0,mT.Du)(Na.fetch))return ay=Na.fetch.bind(Na);var n=Na.document;let t=Na.fetch;if(n&&"function"==typeof n.createElement)try{var e=n.createElement("iframe");e.hidden=!0,n.head.appendChild(e);var i=e.contentWindow;i&&i.fetch&&(t=i.fetch),n.head.removeChild(e)}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return ay=t.bind(Na)}var OT=(0,To.R)();class HK extends Tf{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:sy}],version:sy},super(t),t.sendClientReports&&OT.document&&OT.document.addEventListener("visibilitychange",()=>{"hidden"===OT.document.visibilityState&&this._flushOutcomes()})}eventFromException(t,e){return function NK(n,t,e,i){var o=ST(n,t,e&&e.syntheticException||void 0,i);return(0,Vr.EG)(o),o.level="error",e&&e.event_id&&(o.event_id=e.event_id),(0,ys.WD)(o)}(this._options.stackParser,t,e,this._options.attachStacktrace)}eventFromMessage(t,e="info",i){return function kK(n,t,e="info",i,r){var s=TT(n,t,i&&i.syntheticException||void 0,r);return s.level=e,i&&i.event_id&&(s.event_id=i.event_id),(0,ys.WD)(s)}(this._options.stackParser,t,e,i,this._options.attachStacktrace)}sendEvent(t,e){var i=this.getIntegrationById(FN);i&&i.options&&i.options.sentry&&(0,_r.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,Vr.jH)(t)},{event:t}),super.sendEvent(t,e)}_prepareEvent(t,e,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,e,i)}_flushOutcomes(){var t=this._clearOutcomes();if(0!==t.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("Sending outcomes:",t);var e=ON(this._dsn,this._options),i=function AK(n,t,e){return oy(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:e||(0,Fc.yW)(),discarded_events:n}]])}(t,this._options.tunnel&&iy(this._dsn));try{!function VK(n,t){"[object Navigator]"===Object.prototype.toString.call(Na&&Na.navigator)&&"function"==typeof Na.navigator.sendBeacon?Na.navigator.sendBeacon.bind(Na.navigator)(n,t):(0,mT.Ak)()&&BN()(n,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,s=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error(s)})}(e,AN(i))}catch(r){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error(r)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("No outcomes to send")}}function Hg(n,t,e,i){var r={filename:n,function:t,in_app:!0};return void 0!==e&&(r.lineno=e),void 0!==i&&(r.colno=i),r}var KK=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,qK=/\((\S*)(?::(\d+))(?::(\d+))\)/,QK=[30,n=>{var t=KK.exec(n);if(t){if(t[2]&&0===t[2].indexOf("eval")){var i=qK.exec(t[2]);i&&(t[2]=i[1],t[3]=i[2],t[4]=i[3])}const[r,o]=LN(t[1]||"?",t[2]);return Hg(o,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],ZK=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,eq=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,nq=[50,n=>{var t=ZK.exec(n);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var i=eq.exec(t[3]);i&&(t[1]=t[1]||"eval",t[3]=i[1],t[4]=i[2],t[5]="")}let r=t[3],o=t[1]||"?";return[o,r]=LN(o,r),Hg(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],iq=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,oq=[40,n=>{var t=iq.exec(n);return t?Hg(t[2],t[1]||"?",+t[3],t[4]?+t[4]:void 0):void 0}],hq=(0,Yl.pE)(QK,nq,oq),LN=(n,t)=>{var e=-1!==n.indexOf("safari-extension"),i=-1!==n.indexOf("safari-web-extension");return e||i?[-1!==n.indexOf("@")?n.split("@")[0]:"?",e?`safari-extension:${t}`:`safari-web-extension:${t}`]:[n,t]};function UN(n,t){return(0,_r.Gd)().captureException(n,{captureContext:t})}function Fu(n,t){(0,_r.Gd)().setTag(n,t)}function pq(n){(0,_r.Gd)().withScope(n)}let MT=0;function GN(){return MT>0}function gq(){MT+=1,setTimeout(()=>{MT-=1})}function Mf(n,t={},e){if("function"!=typeof n)return n;try{var i=n.__sentry_wrapped__;if(i)return i;if((0,ao.HK)(n))return n}catch(a){return n}var r=function(){var a=Array.prototype.slice.call(arguments);try{e&&"function"==typeof e&&e.apply(this,arguments);var l=a.map(u=>Mf(u,t));return n.apply(this,l)}catch(u){throw gq(),pq(g=>{g.addEventProcessor(E=>(t.mechanism&&((0,Vr.Db)(E,void 0,void 0),(0,Vr.EG)(E,t.mechanism)),E.extra=ti(Xe({},E.extra),{arguments:a}),E)),UN(u)}),u}};try{for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}catch(a){}(0,ao.$Q)(r,n),(0,ao.xp)(n,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>n.name})}catch(a){}return r}var _q=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class Yg{static __initStatic(){this.id="TryCatch"}__init(){this.name=Yg.id}constructor(t){Yg.prototype.__init.call(this),this._options=Xe({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}setupOnce(){var t=(0,To.R)();this._options.setTimeout&&(0,ao.hl)(t,"setTimeout",jN),this._options.setInterval&&(0,ao.hl)(t,"setInterval",jN),this._options.requestAnimationFrame&&(0,ao.hl)(t,"requestAnimationFrame",mq),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,ao.hl)(XMLHttpRequest.prototype,"send",vq);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:_q).forEach(yq)}}function jN(n){return function(...t){return t[0]=Mf(t[0],{mechanism:{data:{function:(0,Yl.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,t)}}function mq(n){return function(t){return n.apply(this,[Mf(t,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,Yl.$P)(n)},handled:!0,type:"instrument"}})])}}function vq(n){return function(...t){var e=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(r=>{r in e&&"function"==typeof e[r]&&(0,ao.hl)(e,r,function(o){var s={mechanism:{data:{function:r,handler:(0,Yl.$P)(o)},handled:!0,type:"instrument"}},a=(0,ao.HK)(o);return a&&(s.mechanism.data.handler=(0,Yl.$P)(a)),Mf(o,s)})}),n.apply(this,t)}}function yq(n){var t=(0,To.R)(),e=t[n]&&t[n].prototype;!e||!e.hasOwnProperty||!e.hasOwnProperty("addEventListener")||((0,ao.hl)(e,"addEventListener",function(i){return function(r,o,s){try{"function"==typeof o.handleEvent&&(o.handleEvent=Mf(o.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,Yl.$P)(o),target:n},handled:!0,type:"instrument"}}))}catch(a){}return i.apply(this,[r,Mf(o,{mechanism:{data:{function:"addEventListener",handler:(0,Yl.$P)(o),target:n},handled:!0,type:"instrument"}}),s])}}),(0,ao.hl)(e,"removeEventListener",function(i){return function(r,o,s){var a=o;try{var l=a&&a.__sentry_wrapped__;l&&i.call(this,r,l,s)}catch(u){}return i.call(this,r,a,s)}}))}Yg.__initStatic();class Bu{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=Bu.id}__init2(){this._installFunc={onerror:bq,onunhandledrejection:Eq}}constructor(t){Bu.prototype.__init.call(this),Bu.prototype.__init2.call(this),this._options=Xe({onerror:!0,onunhandledrejection:!0},t)}setupOnce(){Error.stackTraceLimit=50;var t=this._options;for(var e in t){var i=this._installFunc[e];i&&t[e]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`Global Handler attached: ${e}`),i(),this._installFunc[e]=void 0)}}}function bq(){(0,Ia.o)("error",n=>{const[t,e,i]=YN();if(!t.getIntegration(Bu))return;const{msg:r,url:o,line:s,column:a,error:l}=n;if(!(GN()||l&&l.__sentry_own_request__)){var u=void 0===l&&(0,Tr.HD)(r)?function Tq(n,t,e,i){let o=(0,Tr.VW)(n)?n.message:n,s="Error";var a=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(s=a[1],o=a[2]),VN({exception:{values:[{type:s,value:o}]}},t,e,i)}(r,o,s,a):VN(ST(e,l||r,void 0,i,!1),o,s,a);u.level="error",HN(t,l,u,"onerror")}})}function Eq(){(0,Ia.o)("unhandledrejection",n=>{const[t,e,i]=YN();if(!t.getIntegration(Bu))return;let r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(s){}if(GN()||r&&r.__sentry_own_request__)return!0;var o=(0,Tr.pt)(r)?function Sq(n){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(n)}`}]}}}(r):ST(e,r,void 0,i,!0);o.level="error",HN(t,r,o,"onunhandledrejection")})}function VN(n,t,e,i){var r=n.exception=n.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{},a=s.stacktrace=s.stacktrace||{},l=a.frames=a.frames||[],u=isNaN(parseInt(i,10))?void 0:i,g=isNaN(parseInt(e,10))?void 0:e,E=(0,Tr.HD)(t)&&t.length>0?t:(0,Cf.l4)();return 0===l.length&&l.push({colno:u,filename:E,function:"?",in_app:!0,lineno:g}),n}function HN(n,t,e,i){(0,Vr.EG)(e,{handled:!1,type:i}),n.captureEvent(e,{originalException:t})}function YN(){var n=(0,_r.Gd)(),t=n.getClient(),e=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[n,e.stackParser,e.attachStacktrace]}Bu.__initStatic();class wf{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=wf.id}constructor(t={}){wf.prototype.__init.call(this),this._key=t.key||"cause",this._limit=t.limit||5}setupOnce(){var t=(0,_r.Gd)().getClient();!t||(0,ny.c)((e,i)=>{var r=(0,_r.Gd)().getIntegration(wf);return r?function wq(n,t,e,i,r){if(!(i.exception&&i.exception.values&&r&&(0,Tr.V9)(r.originalException,Error)))return i;var o=WN(n,e,r.originalException,t);return i.exception.values=[...o,...i.exception.values],i}(t.getOptions().stackParser,r._key,r._limit,e,i):e})}}function WN(n,t,e,i,r=[]){if(!(0,Tr.V9)(e[i],Error)||r.length+1>=t)return r;var o=NN(n,e[i]);return WN(n,t,e[i],i,[o,...r])}wf.__initStatic();class Pf{constructor(){Pf.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=Pf.id}setupOnce(t,e){var i=r=>{var o=e().getIntegration(Pf);if(o){try{if(function Pq(n,t){return!(!t||!function Aq(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!$N(n,t)||!zN(n,t))}(n,t)&&!function xq(n,t){var e=XN(t),i=XN(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&$N(n,t)&&zN(n,t))}(n,t))}(r,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}}function zN(n,t){let e=KN(n),i=KN(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||(e=e,i=i,i.length!==e.length))return!1;for(let s=0;s<i.length;s++){var r=i[s],o=e[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function $N(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;e=e,i=i;try{return e.join("")===i.join("")}catch(r){return!1}}function XN(n){return n.exception&&n.exception.values&&n.exception.values[0]}function KN(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}Pf.__initStatic();var Lc=(0,To.R)();class Af{constructor(){Af.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Af.id}setupOnce(){(0,ny.c)(t=>{if((0,_r.Gd)().getIntegration(Af)){if(!Lc.navigator&&!Lc.location&&!Lc.document)return t;var e=t.request&&t.request.url||Lc.location&&Lc.location.href;const{referrer:o}=Lc.document||{},{userAgent:s}=Lc.navigator||{};var i=Xe(Xe(Xe({},t.request&&t.request.headers),o&&{Referer:o}),s&&{"User-Agent":s}),r=ti(Xe({},e&&{url:e}),{headers:i});return ti(Xe({},t),{request:r})}return t})}}function qN(n,t,e=function Rq(n){var t=[];function i(s){return t.splice(t.indexOf(s),1)[0]}return{$:t,add:function r(s){if(!function e(){return void 0===n||t.length<n}())return(0,ys.$2)(new So("Not adding Promise because buffer limit was reached."));var a=s();return-1===t.indexOf(a)&&t.push(a),a.then(()=>i(a)).then(null,()=>i(a).then(null,()=>{})),a},drain:function o(s){return new ys.cW((a,l)=>{let u=t.length;if(!u)return a(!0);var g=setTimeout(()=>{s&&s>0&&a(!1)},s);t.forEach(E=>{(0,ys.WD)(E).then(()=>{--u||(clearTimeout(g),a(!0))},l)})})}}}(n.bufferSize||30)){let i={};return{send:function o(s){var a=[];if(PN(s,(E,w)=>{var P=xN(w);!function kq(n,t,e=Date.now()){return function Nq(n,t){return n[t]||n.all||0}(n,t)>e}(i,P)?a.push(E):n.recordDroppedEvent("ratelimit_backoff",P)}),0===a.length)return(0,ys.WD)();var l=oy(s[0],a),u=E=>{PN(l,(w,P)=>{n.recordDroppedEvent(E,xN(P))})};return e.add(()=>t({body:AN(l,n.textEncoder)}).then(E=>{void 0!==E.statusCode&&(E.statusCode<200||E.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`Sentry responded with status code ${E.statusCode} to sent event.`),i=function Fq(n,{statusCode:t,headers:e},i=Date.now()){var r=Xe({},n),o=e&&e["x-sentry-rate-limits"],s=e&&e["retry-after"];if(o)for(var a of o.trim().split(",")){const[E,w]=a.split(":",2);var l=parseInt(E,10),u=1e3*(isNaN(l)?60:l);if(w)for(var g of w.split(";"))r[g]=i+u;else r.all=i+u}else s?r.all=i+function Iq(n,t=Date.now()){var e=parseInt(`${n}`,10);if(!isNaN(e))return 1e3*e;var i=Date.parse(`${n}`);return isNaN(i)?6e4:i-t}(s,i):429===t&&(r.all=i+6e4);return r}(i,E)},E=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("Failed while sending event:",E),u("network_error")})).then(E=>E,E=>{if(E instanceof So)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("Skipped sending event because buffer is full."),u("queue_overflow"),(0,ys.WD)();throw E})},flush:s=>e.drain(s)}}function Lq(n,t=BN()){return qN(n,function e(i){var r=Xe({body:i.body,method:"POST",referrerPolicy:"origin",headers:n.headers},n.fetchOptions);return t(n.url,r).then(o=>({statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))})}function Gq(n){return qN(n,function t(e){return new ys.cW((i,r)=>{var o=new XMLHttpRequest;for(var s in o.onerror=r,o.onreadystatechange=()=>{4===o.readyState&&i({statusCode:o.status,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")}})},o.open("POST",n.url),n.headers)Object.prototype.hasOwnProperty.call(n.headers,s)&&o.setRequestHeader(s,n.headers[s]);o.send(e.body)})})}Af.__initStatic();var jq=[new Sf,new jg,new Yg,new Vg,new Bu,new wf,new Pf,new Af];function JN(n){n.startSession({ignoreDuration:!0}),n.captureSession()}function Vt(...n){return Ln(n,ls(n))}function Uc(n,t){return y(t)?wi(n,t,1):wi(n,1)}function Ut(n,t){return je((e,i)=>{let r=0;e.subscribe(ie(i,o=>n.call(t,o,r++)&&i.next(o)))})}class QN{}class ZN{}class Wl{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),s=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Wl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Wl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Wl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let s=this.headers.get(e);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Wq{encodeKey(t){return ek(t)}encodeValue(t){return ek(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const $q=/%(\d[a-f0-9])/gi,Xq={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ek(n){return encodeURIComponent(n).replace($q,(t,e)=>{var i;return null!==(i=Xq[e])&&void 0!==i?i:t})}function tk(n){return`${n}`}class Lu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Wq,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function zq(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],l=e.get(s)||[];l.push(a),e.set(s,l)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Lu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(tk(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(tk(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Kq{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function nk(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function ik(n){return"undefined"!=typeof Blob&&n instanceof Blob}function rk(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Wg{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qq(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Wl),this.context||(this.context=new Kq),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+s}}else this.params=new Lu,this.urlWithParams=e}serializeBody(){return null===this.body?null:nk(this.body)||ik(this.body)||rk(this.body)||function Jq(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rk(this.body)?null:ik(this.body)?this.body.type||null:nk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const i=t.method||this.method,r=t.url||this.url,o=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,a=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,l=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,g=t.params||this.params;const E=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((w,P)=>w.set(P,t.setHeaders[P]),u)),t.setParams&&(g=Object.keys(t.setParams).reduce((w,P)=>w.set(P,t.setParams[P]),g)),new Wg(i,r,s,{params:g,headers:u,context:E,reportProgress:l,responseType:o,withCredentials:a})}}var Ar=(()=>((Ar=Ar||{})[Ar.Sent=0]="Sent",Ar[Ar.UploadProgress=1]="UploadProgress",Ar[Ar.ResponseHeader=2]="ResponseHeader",Ar[Ar.DownloadProgress=3]="DownloadProgress",Ar[Ar.Response=4]="Response",Ar[Ar.User=5]="User",Ar))();class wT{constructor(t,e=200,i="OK"){this.headers=t.headers||new Wl,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class PT extends wT{constructor(t={}){super(t),this.type=Ar.ResponseHeader}clone(t={}){return new PT({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ly extends wT{constructor(t={}){super(t),this.type=Ar.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new ly({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class uy extends wT{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function AT(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let xT=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Wg)o=e;else{let l,u;l=r.headers instanceof Wl?r.headers:new Wl(r.headers),r.params&&(u=r.params instanceof Lu?r.params:new Lu({fromObject:r.params})),o=new Wg(e,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Vt(o).pipe(Uc(l=>this.handler.handle(l)));if(e instanceof Wg||"events"===r.observe)return s;const a=s.pipe(Ut(l=>l instanceof ly));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(pe(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(pe(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(pe(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(pe(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Lu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,AT(r,i))}post(e,i,r={}){return this.request("POST",e,AT(r,i))}put(e,i,r={}){return this.request("PUT",e,AT(r,i))}}return n.\u0275fac=function(e){return new(e||n)(ke(QN))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class ok{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const sk=new Kt("HTTP_INTERCEPTORS");let Qq=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const Zq=/^\)\]\}',?\n/;let ak=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oe(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((P,A)=>r.setRequestHeader(P,A.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const P=e.detectContentTypeHeader();null!==P&&r.setRequestHeader("Content-Type",P)}if(e.responseType){const P=e.responseType.toLowerCase();r.responseType="json"!==P?P:"text"}const o=e.serializeBody();let s=null;const a=()=>{if(null!==s)return s;const P=r.statusText||"OK",A=new Wl(r.getAllResponseHeaders()),D=function eJ(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new PT({headers:A,status:r.status,statusText:P,url:D}),s},l=()=>{let{headers:P,status:A,statusText:D,url:B}=a(),Y=null;204!==A&&(Y=void 0===r.response?r.responseText:r.response),0===A&&(A=Y?200:0);let K=A>=200&&A<300;if("json"===e.responseType&&"string"==typeof Y){const re=Y;Y=Y.replace(Zq,"");try{Y=""!==Y?JSON.parse(Y):null}catch(ae){Y=re,K&&(K=!1,Y={error:ae,text:Y})}}K?(i.next(new ly({body:Y,headers:P,status:A,statusText:D,url:B||void 0})),i.complete()):i.error(new uy({error:Y,headers:P,status:A,statusText:D,url:B||void 0}))},u=P=>{const{url:A}=a(),D=new uy({error:P,status:r.status||0,statusText:r.statusText||"Unknown Error",url:A||void 0});i.error(D)};let g=!1;const E=P=>{g||(i.next(a()),g=!0);let A={type:Ar.DownloadProgress,loaded:P.loaded};P.lengthComputable&&(A.total=P.total),"text"===e.responseType&&!!r.responseText&&(A.partialText=r.responseText),i.next(A)},w=P=>{let A={type:Ar.UploadProgress,loaded:P.loaded};P.lengthComputable&&(A.total=P.total),i.next(A)};return r.addEventListener("load",l),r.addEventListener("error",u),r.addEventListener("timeout",u),r.addEventListener("abort",u),e.reportProgress&&(r.addEventListener("progress",E),null!==o&&r.upload&&r.upload.addEventListener("progress",w)),r.send(o),i.next({type:Ar.Sent}),()=>{r.removeEventListener("error",u),r.removeEventListener("abort",u),r.removeEventListener("load",l),r.removeEventListener("timeout",u),e.reportProgress&&(r.removeEventListener("progress",E),null!==o&&r.upload&&r.upload.removeEventListener("progress",w)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(ke(oN))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const RT=new Kt("XSRF_COOKIE_NAME"),DT=new Kt("XSRF_HEADER_NAME");class lk{}let tJ=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=q2(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(ke(Di),ke(Ic),ke(RT))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),IT=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(lk),ke(DT))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),nJ=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(sk,[]);this.chain=i.reduceRight((r,o)=>new ok(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(ZN),ke(br))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),iJ=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:IT,useClass:Qq}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:RT,useValue:e.cookieName}:[],e.headerName?{provide:DT,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[IT,{provide:sk,useExisting:IT,multi:!0},{provide:lk,useClass:tJ},{provide:RT,useValue:"XSRF-TOKEN"},{provide:DT,useValue:"X-XSRF-TOKEN"}]}),n})(),rJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[xT,{provide:QN,useClass:nJ},ak,{provide:ZN,useExisting:ak}],imports:[[iJ.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const sJ="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,uJ="undefined"!=typeof Zone&&!!Zone.current;let hJ=(()=>{class n{constructor(e){this._options=Object.assign({logErrors:!0},e)}handleError(e){const i=this._extractError(e)||"Handled unknown error",r=function cJ(n){return uJ?Zone.root.run(n):n()}(()=>UN(i,o=>(o.addEventProcessor(s=>((0,Vr.EG)(s,{type:"angular",handled:!1}),s)),o)));this._options.logErrors&&console.error(i),this._options.showDialog&&function Hq(n={},t=(0,_r.Gd)()){var e=(0,To.R)();if(!e.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("Global document not defined in showReportDialog call"));const{client:i,scope:r}=t.getStackTop();var o=n.dsn||i&&i.getDsn();if(o){r&&(n.user=Xe(Xe({},r.getUser()),n.user)),n.eventId||(n.eventId=t.lastEventId());var s=e.document.createElement("script");s.async=!0,s.src=function sK(n,t){var e=TN(n),i=`${CN(e)}embed/error-page/`;let r=`dsn=${iy(e)}`;for(var o in t)if("dsn"!==o)if("user"===o){var s=t.user;if(!s)continue;s.name&&(r+=`&name=${encodeURIComponent(s.name)}`),s.email&&(r+=`&email=${encodeURIComponent(s.email)}`)}else r+=`&${encodeURIComponent(o)}=${encodeURIComponent(t[o])}`;return`${i}?${r}`}(o,n),n.onLoad&&(s.onload=n.onLoad);var a=e.document.head||e.document.body;a?a.appendChild(s):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.error("DSN not configured for showReportDialog call")}(Object.assign(Object.assign({},this._options.dialogOptions),{eventId:r}))}_extractError(e){if(this._options.extractor){const i=this._defaultExtractor.bind(this);return this._options.extractor(e,i)}return this._defaultExtractor(e)}_defaultExtractor(e){let i=e;return i&&i.ngOriginalError&&(i=i.ngOriginalError),"string"==typeof i||i instanceof Error?i:i instanceof uy?i.error instanceof Error?i.error:i.error instanceof ErrorEvent&&i.error.message?i.error.message:"string"==typeof i.error?`Server returned code ${i.status} with body "${i.error}"`:i.message:null}}return n.\u0275fac=function(e){return new(e||n)(ke("errorHandlerOptions"))},n.\u0275prov=rt({factory:function(){return new n(ke("errorHandlerOptions"))},token:n,providedIn:"root"}),n})();function dJ(n){return new hJ(n)}(0,To.R)();var si=(()=>{return(n=si||(si={})).reconnect="reconnect",n.connectionSlow="connection_slow",n.connectionLost="connection_lost",n.loginError="login_error",n.kicked="kicked",n.shutdown="shutdown",n.inactivity="inactivity",n.ban="ban",si;var n})();const Wi_production=!0,Wi_loggerEnabled=!1,Wi_version="4.2.25",Wi_clientConfig={path:"https://app-config2.spribegaming.com/aviator/",ext:".json"},Wi_avatarPath="assets/static/avatars/v2/",Wi_brandPath="assets/static/images/brand/";var Cr=(()=>{return(n=Cr||(Cr={})).SetBalance="ifc.set.balance",n.UpdateBalance="ifc.update.balance",n.SetSound="ifc.set.sound",n.SetMusic="ifc.set.music",n.SetAnimation="ifc.set.animation",n.StopAutoplay="ifc.stop.autoplay",n.OpenHelp="ifc.open.help",n.LockUI="ifc.lock.UI",n.ContinueInternalRealityCheck="ifc.continue.internal.reality.check",n.StopInternalRealityCheck="ifc.stop.internal.reality.check",Cr;var n})();function hk(n=40){let t="";const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let i=0;i<n;i++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function dk(n){const t=[];return JSON.parse(n).forEach(e=>t.push({url:e.media[0].tinygif.url,id:e.id})),t}function FT(){try{return window.self!==window.top}catch(n){return!0}}var Ki=M(8135);class fk{static toSFSObject(t){let e=new Ki.SFSObject;return Object.keys(t).forEach(i=>{const r=t[i];"string"==typeof r?function yJ(n){return encodeURI(n).split(/%..|./).length-1}(r)>32e3?e.putText(i,r):e.putUtfString(i,r):"boolean"==typeof r?e.putBool(i,r):"number"==typeof r?e.putDouble(i,r):!0===Array.isArray(r)&&e.putUtfStringArray(i,r)}),e}static toObject(t){let e={};if(null===t||void 0===t.getKeysArray)return e;let i=t.getKeysArray();for(let r=0;r<i.length;r++)if(this.checkType(t,i[r],Ki.SFSDataType.SFS_OBJECT))e[i[r]]=this.toObject(t.get(i[r]));else if(this.checkType(t,i[r],Ki.SFSDataType.SFS_ARRAY)){let o=[],s=t.get(i[r]);for(let a=0;a<s.size();a++)o.push(this.toObject(s.getSFSObject(a)));e[i[r]]=o}else e[i[r]]=t.get(i[r]);return e}static checkType(t,e,i){try{return!!t.get(e,i)}catch(r){return!1}}}class PJ extends f{constructor(t,e){super()}schedule(t,e=0){return this}}const cy={setInterval(n,t,...e){const{delegate:i}=cy;return(null==i?void 0:i.setInterval)?i.setInterval(n,t,...e):setInterval(n,t,...e)},clearInterval(n){const{delegate:t}=cy;return((null==t?void 0:t.clearInterval)||clearInterval)(n)},delegate:void 0};class BT extends PJ{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,i=0){return cy.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,e,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return e;cy.clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let r,i=!1;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:t,scheduler:e}=this,{actions:i}=e;this.work=this.state=this.scheduler=null,this.pending=!1,_(i,this),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null,super.unsubscribe()}}}const LT={now:()=>(LT.delegate||Date).now(),delegate:void 0};class zg{constructor(t,e=zg.now){this.schedulerActionCtor=t,this.now=e}schedule(t,e=0,i){return new this.schedulerActionCtor(this,t).schedule(i,e)}}zg.now=LT.now;class UT extends zg{constructor(t,e=zg.now){super(t,e),this.actions=[],this._active=!1,this._scheduled=void 0}flush(t){const{actions:e}=this;if(this._active)return void e.push(t);let i;this._active=!0;do{if(i=t.execute(t.state,t.delay))break}while(t=e.shift());if(this._active=!1,i){for(;t=e.shift();)t.unsubscribe();throw i}}}const $g=new UT(BT),AJ=$g;function Uu(n=0,t,e=AJ){let i=-1;return null!=t&&(ci(t)?e=t:i=t),new oe(r=>{let o=function xJ(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let s=0;return e.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}class RJ{constructor(){this.RECONNECT_DELAY=3e3,this.MAX_RECONNECT=3,this.reconnectDelayTimer$=null,this.reconnectCount=0}try(t,e=null){if(this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectCount<=this.MAX_RECONNECT){const i=Uu(this.RECONNECT_DELAY);this.reconnectDelayTimer$=i.subscribe(()=>{t.connect(),this.reconnectCount++})}else e&&e()}reset(){this.reconnectDelayTimer$&&this.reconnectDelayTimer$.unsubscribe(),this.reconnectDelayTimer$=null,this.reconnectCount=0}}var xf=(()=>{return(n=xf||(xf={})).alert="alert",n.toast="toast",n.win="win",xf;var n})(),Es=(()=>{return(n=Es||(Es={})).primary="alert-primary",n.secondary="alert-secondary",n.success="alert-success",n.danger="alert-danger",n.warning="alert-warning",n.info="alert-info",n.light="alert-light",n.dark="alert-dark",Es;var n})(),hy=(()=>((hy||(hy={})).NotEnoughBalance="Not enough balance",hy))(),Rf=(()=>{return(n=Rf||(Rf={})).Mobile="mobile",n.Desktop="desktop",n.Tablet="tablet",Rf;var n})(),Gc=(()=>{return(n=Gc||(Gc={}))[n.Success=200]="Success",n[n.RealityCheck=412]="RealityCheck",Gc;var n})();const{isArray:IJ}=Array;function GT(n){return pe(t=>function NJ(n,t){return IJ(t)?n(...t):n(t)}(n,t))}const kJ=["addListener","removeListener"],FJ=["addEventListener","removeEventListener"],BJ=["on","off"];function Gi(n,t,e,i){if(y(e)&&(i=e,e=void 0),i)return Gi(n,t,e).pipe(GT(i));const[r,o]=function GJ(n){return y(n.addEventListener)&&y(n.removeEventListener)}(n)?FJ.map(s=>a=>n[s](t,a,e)):function LJ(n){return y(n.addListener)&&y(n.removeListener)}(n)?kJ.map(pk(n,t)):function UJ(n){return y(n.on)&&y(n.off)}(n)?BJ.map(pk(n,t)):[];if(!r&&Bt(n))return wi(s=>Gi(s,t,e))(pt(n));if(!r)throw new TypeError("Invalid event target");return new oe(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function pk(n,t){return e=>i=>n[e](t,i)}function qi(n){return je((t,e)=>{pt(n).subscribe(ie(e,()=>e.complete(),O)),!e.closed&&t.subscribe(e)})}const jJ=Fm,HJ=Symbol("__destroy"),gk=Symbol("__decoratorApplied");function _k(n){return"string"==typeof n?Symbol(`__destroy__${n}`):HJ}function mk(n,t){n[t]||(n[t]=new Le)}function vk(n,t){n[t]&&(n[t].next(),n[t].complete(),n[t]=null)}function yk(n){n instanceof f&&n.unsubscribe()}function bk(n,t){return function(){var e;if(n&&n.call(this),vk(this,_k()),t.arrayName)return function WJ(n){Array.isArray(n)&&n.forEach(yk)}(this[t.arrayName]);if(t.checkProperties)for(const i in this)(null===(e=t.blackList)||void 0===e?void 0:e.includes(i))||yk(this[i])}}function Ci(n={}){return t=>{!function VJ(n){return!!n[jJ]}(t)?function zJ(n,t){n.prototype.ngOnDestroy=bk(n.prototype.ngOnDestroy,t)}(t,n):function $J(n,t){const e=n.\u0275pipe;e.onDestroy=bk(e.onDestroy,t)}(t,n),function YJ(n){n.prototype[gk]=!0}(t)}}function Tt(n,t){return e=>{const i=_k(t);return"string"==typeof t?function XJ(n,t,e){const i=n[t];mk(n,e),n[t]=function(){i.apply(this,arguments),vk(this,e),n[t]=i}}(n,t,i):mk(n,i),e.pipe(qi(n[i]))}}var Df=(()=>{return(n=Df||(Df={})).Request="PING_REQUEST",n.Response="PING_RESPONSE",Df;var n})();class KJ{constructor(t,e,i=4e3){this.smartFox=t,this.callbackFn=e,this.interval=i,this.timeoutRef=null,this.intervalRef=null,this.waitResponseTime=null,this.waitResponseTime=this.interval-1e3}start(){this.reset(),Gi(this.smartFox,Ki.SFSEvent.EXTENSION_RESPONSE).pipe(Ut(t=>t.cmd===Df.Response),Tt(this,"reset")).subscribe(()=>this.pingResponseHandler()),this.intervalRef=setInterval(()=>this.threadRunner(),this.interval)}threadRunner(){this.smartFox.send(new Ki.ExtensionRequest(Df.Request)),this.waitResponse()}waitResponse(){null===this.timeoutRef&&(this.timeoutRef=setTimeout(()=>{this.callbackFn(si.connectionSlow)},this.waitResponseTime))}pingResponseHandler(){this.callbackFn(null),clearTimeout(this.timeoutRef),this.timeoutRef=null}reset(){clearTimeout(this.timeoutRef),clearInterval(this.intervalRef),this.timeoutRef=null,this.intervalRef=null}}var yn=(()=>{return(n=yn||(yn={})).Init="init",n.CashOut="cashOut",n.CancelBet="cancelBet",n.Bet="bet",n.CurrentMultiplier="currentMultiplier",n.AddChatMessage="AddChatMessage",n.AddChatMessages="AddChatMessages",n.DeleteChatMessage="deleteChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.NewBalance="newBalance",n.RoundChartInfo="roundChartInfo",n.FreeBetsArchive="freeBetsArchive",n.FreeBetInfo="freeBetInfo",n.ChangeState="changeState",n.OnlinePlayers="onlinePlayers",n.CurrentBetsInfo="currentBetsInfo",n.UpdateCurrentBets="updateCurrentBets",n.UpdateCurrentCashOuts="updateCurrentCashOuts",n.InternalRealityCheck="internalRealityCheck",n.PreviousRoundInfo="previousRoundInfoResponse",n.BetHistory="betHistoryResponse",n.RoundFairness="roundFairnessResponse",n.ServerSeed="serverSeedResponse",n.FreeBetFinish="freeBetFinishResponse",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",yn;var n})(),zl=(()=>{return(n=zl||(zl={})).RealityCheck="reality-check",n.InternalRealityCheck="internalRealityCheck",n.Alderney="Alderney",zl;var n})(),Un=(()=>{return(n=Un||(Un={})).bugReport="bugReport",n.fairness="fairness",n.fairnessSettings="fairnessSettings",n.freeBets="freeBets",n.avatar="avatar",n.rules="rules",n.whatIsPf="whatIsPf",n.quickHelp="quickHelp",n.notification="notification",n.myBetsHistory="myBetsHistory",n.gameLimits="gameLimits",n.otherSettings="otherSettings",Un;var n})(),dy=(()=>{return(n=dy||(dy={}))[n.LOGIN_BANNED_USER=4]="LOGIN_BANNED_USER",dy;var n})(),fy=(()=>{return(n=fy||(fy={})).navigate="navigate",n.reload="reload",n.backForward="back_forward",n.prerender="prerender",fy;var n})();const If={UKNOWN:"Unknown"},jT={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:If.UKNOWN},py={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Nf={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Gu={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:If.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},Ek=[Gu.PS4,Gu.CHROME_BOOK,Gu.MAC,Gu.DELL,Gu.ASUS,Gu.UNKNOWN],Sk={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:If.UKNOWN},qJ={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:If.UKNOWN.toLowerCase()},Tk={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},QJ=Object.assign(Object.assign(Object.assign(Object.assign({},py),Nf),Tk),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),VT={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},HT={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},ZJ=Object.keys(VT).reduce((n,t)=>(n[t]=VT[t],n),{}),Ck=Object.keys(HT).reduce((n,t)=>(n[jT[t]]=HT[t],n),{});var ll=Object.freeze({__proto__:null,GENERAL:If,BROWSERS:jT,MOBILES_RE:py,TABLETS_RE:Nf,DEVICES:Gu,DESKTOP_DEVICES:Ek,OS:Sk,OS_VERSIONS:qJ,OS_RE:Tk,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:QJ,OS_VERSIONS_RE_MAP:VT,BROWSER_VERSIONS_RE_MAP:HT,OS_VERSIONS_RE:ZJ,BROWSER_VERSIONS_RE:Ck});class eQ{constructor(){}test(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.test(t):e&&Array.isArray(e.and)?e.and.every(i=>this.test(t,i)):e&&Array.isArray(e.or)?e.or.some(i=>this.test(t,i)):!(!e||!e.not||this.test(t,e.not))}exec(t,e){return"string"==typeof e&&(e=new RegExp(e)),e instanceof RegExp?e.exec(t):e&&Array.isArray(e)?e.reduce((i,r)=>i||this.exec(t,r),null):null}}var jc=(()=>{return(n=jc||(jc={})).Mobile="mobile",n.Tablet="tablet",n.Desktop="desktop",n.Unknown="unknown",jc;var n})(),Xg=(()=>{return(n=Xg||(Xg={})).Portrait="portrait",n.Landscape="landscape",Xg;var n})();const YT="iPad";let tQ=(()=>{class n{constructor(e){this.platformId=e,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new eQ,this.deviceType="",this.orientation="",Lg(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(e=this.userAgent){e!==this.userAgent&&(this.userAgent=e);const i=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(i.forEach(r=>{this[r.prop]=Object.keys(ll[r.const]).reduce((o,s)=>"device"===ll[r.const][s]&&Lg(this.platformId)&&(this.reTree.test(this.userAgent,Nf[YT])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(o[ll[r.const][s]]=YT,Object):(o[ll[r.const][s]]=this.reTree.test(e,ll[`${r.const}_RE`][s]),o),{})}),i.forEach(r=>{this[r.prop]=Object.keys(ll[r.const]).map(o=>ll[r.const][o]).reduce((o,s)=>"device"===r.prop&&o===ll[r.const].ANDROID?this[r.prop][s]?s:o:o===ll[r.const].UNKNOWN&&this[r.prop][s]?s:o,ll[r.const].UNKNOWN)}),this.browser_version="0",this.browser!==jT.UNKNOWN){const o=this.reTree.exec(e,Ck[this.browser]);o&&(this.browser_version=o[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Xg.Landscape:Xg.Portrait:If.UKNOWN,this.deviceType=this.isTablet()?jc.Tablet:this.isMobile(this.userAgent)?jc.Mobile:this.isDesktop(this.userAgent)?jc.Desktop:jc.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(e=this.userAgent){return!this.isTablet(e)&&!!Object.keys(py).find(r=>this.reTree.test(e,py[r]))}isTablet(e=this.userAgent){return!(!Lg(this.platformId)||!(this.reTree.test(this.userAgent,Nf[YT])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Nf).find(r=>!!this.reTree.test(e,Nf[r]))}isDesktop(e=this.userAgent){return(this.device!==Gu.UNKNOWN||!this.isMobile(e)&&!this.isTablet(e))&&Ek.indexOf(this.device)>-1}}return n.\u0275fac=function(e){return new(e||n)(ke(Ic))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ju(...n){return function iQ(){return Fr(1)}()(Ln(n,ls(n)))}function Ok(n,t){return t?e=>ju(t.pipe($n(1),function rQ(){return je((n,t)=>{n.subscribe(ie(t,O))})}()),e.pipe(Ok(n))):wi((e,i)=>n(e,i).pipe($n(1),function oQ(n){return pe(()=>n)}(e)))}function WT(n,t=$g){const e=Uu(n,t);return Ok(()=>e)}function Kg(n,t){const e=y(n)?n:()=>n,i=r=>r.error(e());return new oe(t?r=>t.schedule(i,0,r):i)}var qg=(()=>{return(n=qg||(qg={})).Navigate="navigate",n.IfcEvent="ifcEvent",qg;var n})(),kf=(()=>{return(n=kf||(kf={})).Navigate="navigate",n.IfcEvent="ifcEvent",kf;var n})(),gy=(()=>{return(n=gy||(gy={})).ifcEvent="ifcEvent",n.modal="modal",gy;var n})(),Ff=(()=>{return(n=Ff||(Ff={})).CancelBet="cancelBet",n.None="none",Ff;var n})(),Ji=(()=>{return(n=Ji||(Ji={}))[n.Bet=1]="Bet",n[n.Run=2]="Run",n[n.End=3]="End",n[n.EndDelay=4]="EndDelay",Ji;var n})(),Vu=(()=>((Vu||(Vu={})).Base="Roboto, sans-serif",Vu))(),qr=(()=>{return(n=qr||(qr={})).sm="sm",n.md="md",n.lg="lg",qr;var n})();class xn{static updateSize(t,e){this._appWidth=t,this._appHeight=e,this.setBreakpoint()}static get appWidth(){return this._appWidth}static get appHeight(){return this._appHeight}static get breakpoint(){return this._breakpoint}static setBreakpoint(){this._breakpoint=this.appWidth>=600&&this.appHeight>=320?qr.lg:this.appWidth>=420&&this.appHeight>=200?qr.md:qr.sm}}var hQ=setTimeout;function Mk(n){return Boolean(n&&void 0!==n.length)}function dQ(){}function mr(n){if(!(this instanceof mr))throw new TypeError("Promises must be constructed via new");if("function"!=typeof n)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Pk(n,this)}function wk(n,t){for(;3===n._state;)n=n._value;0!==n._state?(n._handled=!0,mr._immediateFn(function(){var e=1===n._state?t.onFulfilled:t.onRejected;if(null!==e){var i;try{i=e(n._value)}catch(r){return void Jg(t.promise,r)}zT(t.promise,i)}else(1===n._state?zT:Jg)(t.promise,n._value)})):n._deferreds.push(t)}function zT(n,t){try{if(t===n)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var e=t.then;if(t instanceof mr)return n._state=3,n._value=t,void $T(n);if("function"==typeof e)return void Pk(function fQ(n,t){return function(){n.apply(t,arguments)}}(e,t),n)}n._state=1,n._value=t,$T(n)}catch(i){Jg(n,i)}}function Jg(n,t){n._state=2,n._value=t,$T(n)}function $T(n){2===n._state&&0===n._deferreds.length&&mr._immediateFn(function(){n._handled||mr._unhandledRejectionFn(n._value)});for(var t=0,e=n._deferreds.length;t<e;t++)wk(n,n._deferreds[t]);n._deferreds=null}function pQ(n,t,e){this.onFulfilled="function"==typeof n?n:null,this.onRejected="function"==typeof t?t:null,this.promise=e}function Pk(n,t){var e=!1;try{n(function(i){e||(e=!0,zT(t,i))},function(i){e||(e=!0,Jg(t,i))})}catch(i){if(e)return;e=!0,Jg(t,i)}}mr.prototype.catch=function(n){return this.then(null,n)},mr.prototype.then=function(n,t){var e=new this.constructor(dQ);return wk(this,new pQ(n,t,e)),e},mr.prototype.finally=function aQ(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})},mr.all=function(n){return new mr(function(t,e){if(!Mk(n))return e(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(n);if(0===i.length)return t([]);var r=i.length;function o(a,l){try{if(l&&("object"==typeof l||"function"==typeof l)){var u=l.then;if("function"==typeof u)return void u.call(l,function(g){o(a,g)},e)}i[a]=l,0==--r&&t(i)}catch(g){e(g)}}for(var s=0;s<i.length;s++)o(s,i[s])})},mr.allSettled=function uQ(n){return new this(function(e,i){if(!n||void 0===n.length)return i(new TypeError(typeof n+" "+n+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(n);if(0===r.length)return e([]);var o=r.length;function s(l,u){if(u&&("object"==typeof u||"function"==typeof u)){var g=u.then;if("function"==typeof g)return void g.call(u,function(E){s(l,E)},function(E){r[l]={status:"rejected",reason:E},0==--o&&e(r)})}r[l]={status:"fulfilled",value:u},0==--o&&e(r)}for(var a=0;a<r.length;a++)s(a,r[a])})},mr.resolve=function(n){return n&&"object"==typeof n&&n.constructor===mr?n:new mr(function(t){t(n)})},mr.reject=function(n){return new mr(function(t,e){e(n)})},mr.race=function(n){return new mr(function(t,e){if(!Mk(n))return e(new TypeError("Promise.race accepts an array"));for(var i=0,r=n.length;i<r;i++)mr.resolve(n[i]).then(t,e)})},mr._immediateFn="function"==typeof setImmediate&&function(n){setImmediate(n)}||function(n){hQ(n,0)},mr._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};const gQ=mr;var _Q=M(5943),mQ=M.n(_Q);if(self.Promise||(self.Promise=gQ),Object.assign||(Object.assign=mQ()),Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var yQ=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-yQ}}for(var XT=Date.now(),Ak=["ms","moz","webkit","o"],KT=0;KT<Ak.length&&!self.requestAnimationFrame;++KT){var qT=Ak[KT];self.requestAnimationFrame=self[qT+"RequestAnimationFrame"],self.cancelAnimationFrame=self[qT+"CancelAnimationFrame"]||self[qT+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(n){if("function"!=typeof n)throw new TypeError(n+"is not a function");var t=Date.now(),e=16+XT-t;return e<0&&(e=0),XT=t,self.setTimeout(function(){XT=Date.now(),n(performance.now())},e)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(n){return clearTimeout(n)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var JT=/iPhone/i,xk=/iPod/i,Rk=/iPad/i,Dk=/\biOS-universal(?:.+)Mac\b/i,QT=/\bAndroid(?:.+)Mobile\b/i,Ik=/Android/i,Bf=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,_y=/Silk/i,$l=/Windows Phone/i,Nk=/\bWindows(?:.+)ARM\b/i,kk=/BlackBerry/i,Fk=/BB10/i,Bk=/Opera Mini/i,Lk=/\b(CriOS|Chrome)(?:.+)Mobile/i,Uk=/Mobile(?:.+)Firefox\b/i,Gk=function(n){return void 0!==n&&"MacIntel"===n.platform&&"number"==typeof n.maxTouchPoints&&n.maxTouchPoints>1&&"undefined"==typeof MSStream},Ss=function EQ(n){var t={userAgent:"",platform:"",maxTouchPoints:0};n||"undefined"==typeof navigator?"string"==typeof n?t.userAgent=n:n&&n.userAgent&&(t={userAgent:n.userAgent,platform:n.platform,maxTouchPoints:n.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var e=t.userAgent,i=e.split("[FBAN");void 0!==i[1]&&(e=i[0]),void 0!==(i=e.split("Twitter"))[1]&&(e=i[0]);var r=function bQ(n){return function(t){return t.test(n)}}(e),o={apple:{phone:r(JT)&&!r($l),ipod:r(xk),tablet:!r(JT)&&(r(Rk)||Gk(t))&&!r($l),universal:r(Dk),device:(r(JT)||r(xk)||r(Rk)||r(Dk)||Gk(t))&&!r($l)},amazon:{phone:r(Bf),tablet:!r(Bf)&&r(_y),device:r(Bf)||r(_y)},android:{phone:!r($l)&&r(Bf)||!r($l)&&r(QT),tablet:!r($l)&&!r(Bf)&&!r(QT)&&(r(_y)||r(Ik)),device:!r($l)&&(r(Bf)||r(_y)||r(QT)||r(Ik))||r(/\bokhttp\b/i)},windows:{phone:r($l),tablet:r(Nk),device:r($l)||r(Nk)},other:{blackberry:r(kk),blackberry10:r(Fk),opera:r(Bk),firefox:r(Uk),chrome:r(Lk),device:r(kk)||r(Fk)||r(Bk)||r(Uk)||r(Lk)},any:!1,phone:!1,tablet:!1};return o.any=o.apple.device||o.android.device||o.windows.device||o.other.device,o.phone=o.apple.phone||o.android.phone||o.windows.phone,o.tablet=o.apple.tablet||o.android.tablet||o.windows.tablet,o}(self.navigator),my=(()=>{return(n=my||(my={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",my;var n})(),vy=(()=>{return(n=vy||(vy={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",vy;var n})(),yy=(()=>{return(n=yy||(yy={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",yy;var n})(),by=(()=>{return(n=by||(by={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",by;var n})(),Lf=(()=>{return(n=Lf||(Lf={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Lf;var n})(),Ey=(()=>{return(n=Ey||(Ey={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",Ey;var n})(),lt={MIPMAP_TEXTURES:yy.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Ey.NONE,SPRITE_MAX_TEXTURES:function SQ(n){var e,t=!0;(Ss.tablet||Ss.phone)&&(Ss.apple.device&&(e=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(e[1],10)<11&&(t=!1),Ss.android.device&&(e=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(e[1],10)<7&&(t=!1));return t?n:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:by.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:vy.CLAMP,SCALE_MODE:my.LINEAR,PRECISION_VERTEX:Lf.HIGH,PRECISION_FRAGMENT:Ss.apple.device?Lf.HIGH:Lf.MEDIUM,CAN_UPLOAD_SAME_BUFFER:function TQ(){return!Ss.apple.device}(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},CQ=M(9170),Uf=M.n(CQ),OQ=M(5469),ZT=M.n(OQ),eC=M(8762),Jr=(()=>{return(n=Jr||(Jr={}))[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",Jr;var n})(),ka=(()=>{return(n=ka||(ka={}))[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",ka;var n})(),Hu=(()=>{return(n=Hu||(Hu={}))[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",Hu;var n})(),Ue=(()=>{return(n=Ue||(Ue={}))[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",Ue;var n})(),lo=(()=>{return(n=lo||(lo={}))[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",lo;var n})(),He=(()=>{return(n=He||(He={}))[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",He;var n})(),Zo=(()=>{return(n=Zo||(Zo={}))[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",Zo;var n})(),yt=(()=>{return(n=yt||(yt={}))[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",yt;var n})(),Yu=(()=>{return(n=Yu||(Yu={}))[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",Yu;var n})(),xr=(()=>{return(n=xr||(xr={}))[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",xr;var n})(),Xs=(()=>{return(n=Xs||(Xs={}))[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",Xs;var n})(),jo=(()=>{return(n=jo||(jo={}))[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",jo;var n})(),Qr=(()=>{return(n=Qr||(Qr={}))[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",Qr;var n})(),Co=(()=>{return(n=Co||(Co={}))[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",Co;var n})(),Gf=(()=>{return(n=Gf||(Gf={}))[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",Gf;var n})(),Rr=(()=>{return(n=Rr||(Rr={})).LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",Rr;var n})(),ai=(()=>{return(n=ai||(ai={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",ai;var n})(),Cn=(()=>{return(n=Cn||(Cn={}))[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",Cn;var n})(),Dr=(()=>{return(n=Dr||(Dr={}))[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",Dr;var n})(),Vc={parse:eC.Qc,format:eC.WU,resolve:eC.DB};lt.RETINA_PREFIX=/@([0-9\.]+)x/,lt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var iC,tC=!1;function Vk(){tC=!0}function nC(n){var t;tC||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),tC=!0)}function Hk(){return void 0===iC&&(iC=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:lt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),iC}var dte={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Xl(n,t){return void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255,t}function Sy(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}function Vo(n){return"string"==typeof n&&"#"===(n=dte[n.toLowerCase()]||n)[0]&&(n=n.substr(1)),parseInt(n,16)}function rC(n){return(255*n[0]<<16)+(255*n[1]<<8)+(255*n[2]|0)}var oC=function fte(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[Ue.NORMAL_NPM]=Ue.NORMAL,n[Ue.ADD_NPM]=Ue.ADD,n[Ue.SCREEN_NPM]=Ue.SCREEN,t[Ue.NORMAL]=Ue.NORMAL_NPM,t[Ue.ADD]=Ue.ADD_NPM,t[Ue.SCREEN]=Ue.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function sC(n,t){return oC[t?1:0][n]}function Yk(n,t,e,i){return e=e||new Float32Array(4),i||void 0===i?(e[0]=n[0]*t,e[1]=n[1]*t,e[2]=n[2]*t):(e[0]=n[0],e[1]=n[1],e[2]=n[2]),e[3]=t,e}function Ty(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255,r=255&n;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(r*t+.5|0)}function aC(n,t,e,i){return(e=e||new Float32Array(4))[0]=(n>>16&255)/255,e[1]=(n>>8&255)/255,e[2]=(255&n)/255,(i||void 0===i)&&(e[0]*=t,e[1]*=t,e[2]*=t),e[3]=t,e}function Wk(n,t){void 0===t&&(t=null);var e=6*n;if((t=t||new Uint16Array(e)).length!==e)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+e);for(var i=0,r=0;i<e;i+=6,r+=4)t[i+0]=r+0,t[i+1]=r+1,t[i+2]=r+2,t[i+3]=r+0,t[i+4]=r+2,t[i+5]=r+3;return t}function Cy(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}var pte={Float32Array,Uint32Array,Int32Array,Uint8Array};function gte(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var u=t[o],g=n[o],E=Cy(g);r[E]||(r[E]=new pte[E](s)),a=r[E];for(var w=0;w<g.length;w++)a[(w/u|0)*i+l+w%u]=g[w];l+=u}return new Float32Array(s)}function Qg(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function lC(n){return!(n&n-1||!n)}function uC(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}function Hc(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}function Yc(n){return 0===n?0:n<0?-1:1}var _te=0;function Wu(){return++_te}var zk={};function ul(n,t,e){if(void 0===e&&(e=3),!zk[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),zk[t]=!0}}var cC={},es=Object.create(null),Ks=Object.create(null);function mte(){var n;for(n in es)es[n].destroy();for(n in Ks)Ks[n].destroy()}function vte(){var n;for(n in es)delete es[n];for(n in Ks)delete Ks[n]}var jf=function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||lt.RESOLUTION,this.resize(t,e)}return n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0}),n}();function $k(n){var u,g,E,t=n.width,e=n.height,i=n.getContext("2d"),o=i.getImageData(0,0,t,e).data,s=o.length,a={top:null,left:null,right:null,bottom:null},l=null;for(u=0;u<s;u+=4)0!==o[u+3]&&(g=u/4%t,E=~~(u/4/t),null===a.top&&(a.top=E),(null===a.left||g<a.left)&&(a.left=g),(null===a.right||a.right<g)&&(a.right=g+1),(null===a.bottom||a.bottom<E)&&(a.bottom=E));return null!==a.top&&(l=i.getImageData(a.left,a.top,t=a.right-a.left,e=a.bottom-a.top+1)),{height:e,width:t,data:l}}var Oy,Xk=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function yte(n){var t=Xk.exec(n);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function Kk(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,Oy||(Oy=document.createElement("a")),Oy.href=n;var e=Vc.parse(Oy.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}function Zg(n,t){var e=lt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}var e_=2*Math.PI,qk=180/Math.PI,Jk=Math.PI/180,ei=(()=>{return(n=ei||(ei={}))[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",ei;var n})(),Gn=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=ei.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Qk=function(){function n(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.radius=i,this.type=ei.CIRC}return n.prototype.clone=function(){return new n(this.x,this.y,this.radius)},n.prototype.contains=function(t,e){if(this.radius<=0)return!1;var r=this.x-t,o=this.y-e;return(r*=r)+(o*=o)<=this.radius*this.radius},n.prototype.getBounds=function(){return new Gn(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},n.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},n}(),Zk=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=t,this.y=e,this.width=i,this.height=r,this.type=ei.ELIP}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,r=(e-this.y)/this.height;return(i*=i)+(r*=r)<=1},n.prototype.getBounds=function(){return new Gn(this.x-this.width,this.y-this.height,this.width,this.height)},n.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),t_=function(){function n(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=Array.isArray(e[0])?e[0]:e;if("number"!=typeof r[0]){for(var o=[],s=0,a=r.length;s<a;s++)o.push(r[s].x,r[s].y);r=o}this.points=r,this.type=ei.POLY,this.closeStroke=!0}return n.prototype.clone=function(){var e=new n(this.points.slice());return e.closeStroke=this.closeStroke,e},n.prototype.contains=function(t,e){for(var i=!1,r=this.points.length/2,o=0,s=r-1;o<r;s=o++){var a=this.points[2*o],l=this.points[2*o+1],g=this.points[2*s+1];l>e!=g>e&&t<(e-l)/(g-l)*(this.points[2*s]-a)+a&&(i=!i)}return i},n.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(t,e){return t+", "+e},"")+"]"},n}(),eF=function(){function n(t,e,i,r,o){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),void 0===o&&(o=20),this.x=t,this.y=e,this.width=i,this.height=r,this.radius=o,this.type=ei.RREC}return n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height,this.radius)},n.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){var i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(e>=this.y+i&&e<=this.y+this.height-i||t>=this.x+i&&t<=this.x+this.width-i)return!0;var r=t-(this.x+i),o=e-(this.y+i),s=i*i;if(r*r+o*o<=s||(r=t-(this.x+this.width-i))*r+o*o<=s||r*r+(o=e-(this.y+this.height-i))*o<=s||(r=t-(this.x+i))*r+o*o<=s)return!0}return!1},n.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},n}(),Ni=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),Wc=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),pi=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Ni;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Ni;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,u){return this.a=Math.cos(a+u)*o,this.b=Math.sin(a+u)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),u=Math.abs(a+l);return u<1e-5||Math.abs(e_-u)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),zc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],$c=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Xc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Kc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],hC=[],tF=[],My=Math.sign;!function bte(){for(var n=0;n<16;n++){var t=[];hC.push(t);for(var e=0;e<16;e++)for(var i=My(zc[n]*zc[e]+Xc[n]*$c[e]),r=My($c[n]*zc[e]+Kc[n]*$c[e]),o=My(zc[n]*Xc[e]+Xc[n]*Kc[e]),s=My($c[n]*Xc[e]+Kc[n]*Kc[e]),a=0;a<16;a++)if(zc[a]===i&&$c[a]===r&&Xc[a]===o&&Kc[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new pi;l.set(zc[n],$c[n],Xc[n],Kc[n],0,0),tF.push(l)}}();var ji={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return zc[n]},uY:function(n){return $c[n]},vX:function(n){return Xc[n]},vY:function(n){return Kc[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return hC[n][t]},sub:function(n,t){return hC[n][ji.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?ji.S:ji.N:2*Math.abs(t)<=Math.abs(n)?n>0?ji.E:ji.W:t>0?n>0?ji.SE:ji.SW:n>0?ji.NE:ji.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=tF[ji.inv(t)];r.tx=e,r.ty=i,n.append(r)}},dC=function(){function n(){this.worldTransform=new pi,this.localTransform=new pi,this.position=new Wc(this.onChange,this,0,0),this.scale=new Wc(this.onChange,this,1,1),this.pivot=new Wc(this.onChange,this,0,0),this.skew=new Wc(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n,n}();lt.SORTABLE_CHILDREN=!1;var Vf=function(){function n(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return n.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},n.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},n.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?Gn.EMPTY:((t=t||new Gn(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},n.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},n.prototype.addPointMatrix=function(t,e){var u=t.a*e.x+t.c*e.y+t.tx,g=t.b*e.x+t.d*e.y+t.ty;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,g),this.maxY=Math.max(this.maxY,g)},n.prototype.addQuad=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY,s=t[0],a=t[1];e=s<e?s:e,i=a<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[2])<e?s:e,i=(a=t[3])<i?a:i,r=s>r?s:r,o=a>o?a:o,e=(s=t[4])<e?s:e,i=(a=t[5])<i?a:i,r=s>r?s:r,o=a>o?a:o,i=(a=t[7])<i?a:i,r=(s=t[6])>r?s:r,o=a>o?a:o,this.minX=e=s<e?s:e,this.minY=i,this.maxX=r,this.maxY=o},n.prototype.addFrame=function(t,e,i,r,o){this.addFrameMatrix(t.worldTransform,e,i,r,o)},n.prototype.addFrameMatrix=function(t,e,i,r,o){var s=t.a,a=t.b,l=t.c,u=t.d,g=t.tx,E=t.ty,w=this.minX,P=this.minY,A=this.maxX,D=this.maxY,B=s*e+l*i+g,Y=a*e+u*i+E;w=B<w?B:w,P=Y<P?Y:P,A=B>A?B:A,D=Y>D?Y:D,w=(B=s*r+l*i+g)<w?B:w,P=(Y=a*r+u*i+E)<P?Y:P,A=B>A?B:A,D=Y>D?Y:D,w=(B=s*e+l*o+g)<w?B:w,P=(Y=a*e+u*o+E)<P?Y:P,A=B>A?B:A,D=Y>D?Y:D,P=(Y=a*r+u*o+E)<P?Y:P,A=(B=s*r+l*o+g)>A?B:A,D=Y>D?Y:D,this.minX=w=B<w?B:w,this.minY=P,this.maxX=A,this.maxY=D},n.prototype.addVertexData=function(t,e,i){for(var r=this.minX,o=this.minY,s=this.maxX,a=this.maxY,l=e;l<i;l+=2){var u=t[l],g=t[l+1];r=u<r?u:r,o=g<o?g:o,s=u>s?u:s,a=g>a?g:a}this.minX=r,this.minY=o,this.maxX=s,this.maxY=a},n.prototype.addVertices=function(t,e,i,r){this.addVerticesMatrix(t.worldTransform,e,i,r)},n.prototype.addVerticesMatrix=function(t,e,i,r,o,s){void 0===o&&(o=0),void 0===s&&(s=o);for(var a=t.a,l=t.b,u=t.c,g=t.d,E=t.tx,w=t.ty,P=this.minX,A=this.minY,D=this.maxX,B=this.maxY,Y=i;Y<r;Y+=2){var K=e[Y],re=e[Y+1],ae=a*K+u*re+E,te=g*re+l*K+w;P=Math.min(P,ae-o),D=Math.max(D,ae+o),A=Math.min(A,te-s),B=Math.max(B,te+s)}this.minX=P,this.minY=A,this.maxX=D,this.maxY=B},n.prototype.addBounds=function(t){var e=this.minX,i=this.minY,r=this.maxX,o=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>o?t.maxY:o},n.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,o=t.maxX<e.maxX?t.maxX:e.maxX,s=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=o&&r<=s){var a=this.minX,l=this.minY,u=this.maxX,g=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>u?o:u,this.maxY=s>g?s:g}},n.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},n.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,o=t.maxX<e.x+e.width?t.maxX:e.x+e.width,s=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=o&&r<=s){var a=this.minX,l=this.minY,u=this.maxX,g=this.maxY;this.minX=i<a?i:a,this.minY=r<l?r:l,this.maxX=o>u?o:u,this.maxY=s>g?s:g}},n.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},n.prototype.addFramePad=function(t,e,i,r,o,s){e-=s,i+=o,r+=s,this.minX=this.minX<(t-=o)?this.minX:t,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},n}(),fC=function(n,t){return(fC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function pC(n,t){function e(){this.constructor=n}fC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Qi=function(n){function t(){var e=n.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new dC,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new Vf,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._maskRefCount=0,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return pC(t,n),t.mixin=function(e){for(var i=Object.keys(e),r=0;r<i.length;++r){var o=i[r];Object.defineProperty(t.prototype,o,Object.getOwnPropertyDescriptor(e,o))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,i){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),i||(this._boundsRect||(this._boundsRect=new Gn),i=this._boundsRect),this._bounds.getRectangle(i)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Gn),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Vf);var i=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var o=this._bounds,s=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,e);return this.parent=r,this.transform=i,this._bounds=o,this._bounds.updateID+=this._boundsID-s,a},t.prototype.toGlobal=function(e,i,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,i)},t.prototype.toLocal=function(e,i,r,o){return i&&(e=i.toGlobal(e,r,o)),o||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,i,r,o,s,a,l,u,g){return void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=1),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===g&&(g=0),this.position.x=e,this.position.y=i,this.scale.x=r||1,this.scale.y=o||1,this.rotation=s,this.skew.x=a,this.skew.y=l,this.pivot.x=u,this.pivot.y=g,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new gC),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*qk},set:function(e){this.transform.rotation=e*Jk},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var i;this._mask!==e&&(this._mask&&((i=this._mask.maskObject||this._mask)._maskRefCount--,0===i._maskRefCount&&(i.renderable=!0,i.isMask=!1)),this._mask=e,this._mask&&(0===(i=this._mask.maskObject||this._mask)._maskRefCount&&(i.renderable=!1,i.isMask=!0),i._maskRefCount++))},enumerable:!1,configurable:!0}),t}(Uf()),gC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.sortDirty=null,e}return pC(t,n),t}(Qi);Qi.prototype.displayObjectUpdateTransform=Qi.prototype.updateTransform;var wy=(()=>{return(n=wy||(wy={}))[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",wy;var n})();function Ete(n,t){return n.zIndex===t.zIndex?n._lastSortedIndex-t._lastSortedIndex:n.zIndex-t.zIndex}var zi=function(n){function t(){var e=n.call(this)||this;return e.children=[],e.sortableChildren=lt.SORTABLE_CHILDREN,e.sortDirty=!1,e}return pC(t,n),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.addChild(i[o]);else{var s=i[0];s.parent&&s.parent.removeChild(s),s.parent=this,this.sortDirty=!0,s.transform._parentID=-1,this.children.push(s),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",s,this,this.children.length-1),s.emit("added",this)}return i[0]},t.prototype.addChildAt=function(e,i){if(i<0||i>this.children.length)throw new Error(e+"addChildAt: The index "+i+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(i,0,e),this._boundsID++,this.onChildrenChange(i),e.emit("added",this),this.emit("childAdded",e,this,i),e},t.prototype.swapChildren=function(e,i){if(e!==i){var r=this.getChildIndex(e),o=this.getChildIndex(i);this.children[r]=i,this.children[o]=e,this.onChildrenChange(r<o?r:o)}},t.prototype.getChildIndex=function(e){var i=this.children.indexOf(e);if(-1===i)throw new Error("The supplied DisplayObject must be a child of the caller");return i},t.prototype.setChildIndex=function(e,i){if(i<0||i>=this.children.length)throw new Error("The index "+i+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);Hc(this.children,r,1),this.children.splice(i,0,e),this.onChildrenChange(i)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(i.length>1)for(var o=0;o<i.length;o++)this.removeChild(i[o]);else{var s=i[0],a=this.children.indexOf(s);if(-1===a)return null;s.parent=null,s.transform._parentID=-1,Hc(this.children,a,1),this._boundsID++,this.onChildrenChange(a),s.emit("removed",this),this.emit("childRemoved",s,this,a)}return i[0]},t.prototype.removeChildAt=function(e){var i=this.getChildAt(e);return i.parent=null,i.transform._parentID=-1,Hc(this.children,e,1),this._boundsID++,this.onChildrenChange(e),i.emit("removed",this),this.emit("childRemoved",i,this,e),i},t.prototype.removeChildren=function(e,i){void 0===e&&(e=0),void 0===i&&(i=this.children.length);var a,s=i-e;if(s>0&&s<=i){a=this.children.splice(e,s);for(var l=0;l<a.length;++l)a[l].parent=null,a[l].transform&&(a[l].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),l=0;l<a.length;++l)a[l].emit("removed",this),this.emit("childRemoved",a[l],this,l);return a}if(0===s&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,i=0,r=this.children.length;i<r;++i){var o=this.children[i];o._lastSortedIndex=i,!e&&0!==o.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(Ete),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,i=this.children.length;e<i;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var i=this.children[e];if(i.visible&&i.renderable)if(i.calculateBounds(),i._mask){var r=i._mask.maskObject||i._mask;r.calculateBounds(),this._bounds.addBoundsMask(i._bounds,r._bounds)}else i.filterArea?this._bounds.addBoundsArea(i._bounds,i.filterArea):this._bounds.addBounds(i._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(e,i){void 0===i&&(i=!1);var r=n.prototype.getLocalBounds.call(this,e);if(!i)for(var o=0,s=this.children.length;o<s;++o){var a=this.children[o];a.visible&&a.updateTransform()}return r},t.prototype._calculateBounds=function(){},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else{this._render(e);for(var i=0,r=this.children.length;i<r;++i)this.children[i].render(e)}},t.prototype.renderAdvanced=function(e){var i=this.filters,r=this._mask;if(i){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var o=0;o<i.length;o++)i[o].enabled&&this._enabledFilters.push(i[o])}var s=i&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==wy.NONE));s&&e.batch.flush(),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this._render(e),o=0;for(var a=this.children.length;o<a;o++)this.children[o].render(e);s&&e.batch.flush(),r&&e.mask.pop(this),i&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(e){n.prototype.destroy.call(this),this.sortDirty=!1;var i="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(i)for(var o=0;o<r.length;++o)r[o].destroy(e)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var i=this.getLocalBounds().width;this.scale.x=0!==i?e/i:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var i=this.getLocalBounds().height;this.scale.y=0!==i?e/i:1,this._height=e},enumerable:!1,configurable:!0}),t}(Qi);zi.prototype.containerUpdateTransform=zi.prototype.updateTransform;var nF={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Qi.mixin(nF);var _C=function(){function n(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ss.tablet||Ss.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(n.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),n.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e},n.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},n.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},n.prototype.deactivate=function(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},n.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);var e=t.children;if(e)for(var i=0;i<e.length;i++)this.updateAccessibleObjects(e[i])}},n.prototype.update=function(){var t=performance.now();if(!(Ss.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),r=e.top,a=this.renderer,l=a.width,u=a.height,g=a.resolution,E=e.width/l*g,w=e.height/u*g,P=this.div;P.style.left=e.left+"px",P.style.top=r+"px",P.style.width=l+"px",P.style.height=u+"px";for(var A=0;A<this.children.length;A++){var D=this.children[A];if(D.renderId!==this.renderId)D._accessibleActive=!1,Hc(this.children,A,1),this.div.removeChild(D._accessibleDiv),this.pool.push(D._accessibleDiv),D._accessibleDiv=null,A--;else{P=D._accessibleDiv;var B=D.hitArea,Y=D.worldTransform;D.hitArea?(P.style.left=(Y.tx+B.x*Y.a)*E+"px",P.style.top=(Y.ty+B.y*Y.d)*w+"px",P.style.width=B.width*Y.a*E+"px",P.style.height=B.height*Y.d*w+"px"):(B=D.getBounds(),this.capHitArea(B),P.style.left=B.x*E+"px",P.style.top=B.y*w+"px",P.style.width=B.width*E+"px",P.style.height=B.height*w+"px",P.title!==D.accessibleTitle&&null!==D.accessibleTitle&&(P.title=D.accessibleTitle),P.getAttribute("aria-label")!==D.accessibleHint&&null!==D.accessibleHint&&P.setAttribute("aria-label",D.accessibleHint)),(D.accessibleTitle!==P.title||D.tabIndex!==P.tabIndex)&&(P.title=D.accessibleTitle,P.tabIndex=D.tabIndex,this.debug&&this.updateDebugHTML(P))}}this.renderId++}},n.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},n.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,i=e.width,r=e.height;t.x+t.width>i&&(t.width=i-t.x),t.y+t.height>r&&(t.height=r-t.y)},n.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},n.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,i=t.target.displayObject,r=e.eventData;e.dispatchEvent(i,"click",r),e.dispatchEvent(i,"pointertap",r),e.dispatchEvent(i,"tap",r)},n.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},n.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},n.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},n.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},n.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},n}();lt.TARGET_FPMS=.06;var Fa=(()=>{return(n=Fa||(Fa={}))[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",Fa;var n})(),mC=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),Zr=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new mC(null,null,1/0),this.deltaMS=1/lt.TARGET_FPMS,this.elapsedMS=1/lt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=Fa.NORMAL),this._addListener(new mC(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=Fa.NORMAL),this._addListener(new mC(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*lt.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,lt.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),oF=function(){function n(){}return n.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(i){this._ticker&&this._ticker.remove(this.render,this),this._ticker=i,i&&i.add(this.render,this,Fa.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?Zr.shared:new Zr,t.autoStart&&this.start()},n.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},n}(),vC=function(){function n(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ni,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(n.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),n.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},n.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},n.prototype.reset=function(){this.isPrimary=!1},n}(),yC=function(n,t){return(yC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},sF=function(){function n(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},n.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},n}(),Ay=function(){function n(t){this._pointerId=t,this._flags=n.FLAGS.NONE}return n.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(n.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"none",{get:function(){return this._flags===n.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"over",{get:function(){return 0!=(this._flags&n.FLAGS.OVER)},set:function(t){this._doSet(n.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"rightDown",{get:function(){return 0!=(this._flags&n.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(n.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leftDown",{get:function(){return 0!=(this._flags&n.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(n.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),n.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),n}(),Ate=function(){function n(){this._tempPoint=new Ni}return n.prototype.recursiveFindHit=function(t,e,i,r,o){if(!e||!e.visible)return!1;var s=t.data.global,a=!1,l=o=e.interactive||o,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(s,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?a=!0:(r=!1,u=!1)),l=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(s)||(r=!1)),u&&e.interactiveChildren&&e.children)for(var g=e.children,E=g.length-1;E>=0;E--){var w=g[E],P=this.recursiveFindHit(t,w,i,r,l);if(P){if(!w.parent)continue;l=!1,P&&(t.target&&(r=!1),a=!0)}}return o&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(s)&&(a=!0),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},n.prototype.findHit=function(t,e,i,r){this.recursiveFindHit(t,e,i,r,!1)},n}(),aF={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(n){n?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Qi.mixin(aF);var Ry={target:null,data:{global:null}},bC=function(n){function t(e,i){var r=n.call(this)||this;return i=i||{},r.renderer=e,r.autoPreventDefault=void 0===i.autoPreventDefault||i.autoPreventDefault,r.interactionFrequency=i.interactionFrequency||10,r.mouse=new vC,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new sF,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new Ate,r._tempDisplayObject=new gC,r._eventListenerOptions={capture:!0,passive:!1},r._useSystemTicker=void 0===i.useSystemTicker||i.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function Pte(n,t){function e(){this.constructor=n}yC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,i){return Ry.target=null,Ry.data.global=e,i||(i=this.lastObjectRendered),this.processInteractive(Ry,i,null,!0),Ry.target},t.prototype.setTargetElement=function(e,i){void 0===i&&(i=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=i,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Zr.system.add(this.tickerUpdate,this,Fa.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){!this.tickerAdded||(Zr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),self.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(self.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),self.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var i=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(i=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":i&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":i&&Object.assign(this.interactionDOMElement.style,r)}else i&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,i,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=i,e.emit(i,r),e[i]&&e[i](r))},t.prototype.delayDispatchEvent=function(e,i,r){this.delayedEvents.push({displayObject:e,eventString:i,eventData:r})},t.prototype.mapPositionToPoint=function(e,i,r){var o;o=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var s=1/this.resolution;e.x=this.interactionDOMElement.width/o.width*(i-o.left)*s,e.y=this.interactionDOMElement.height/o.height*(r-o.top)*s},t.prototype.processInteractive=function(e,i,r,o){var s=this.search.findHit(e,i,r,o),a=this.delayedEvents;if(!a.length)return s;e.stopPropagationHint=!1;var l=a.length;this.delayedEvents=[];for(var u=0;u<l;u++){var g=a[u],E=g.displayObject,w=g.eventString,P=g.eventData;P.stopsPropagatingAt===E&&(P.stopPropagationHint=!0),this.dispatchEvent(E,w,P)}return s},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);this.autoPreventDefault&&i[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var o=i.length,s=0;s<o;s++){var a=i[s],l=this.getInteractionDataForPointerId(a),u=this.configureInteractionEventForDOMEvent(this.eventData,a,l);u.data.originalEvent=e,this.processInteractive(u,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",u),"touch"===a.pointerType?this.emit("touchstart",u):"mouse"!==a.pointerType&&"pen"!==a.pointerType||this.emit(2===a.button?"rightdown":"mousedown",this.eventData)}}},t.prototype.processPointerDown=function(e,i,r){var o=e.data,s=e.data.identifier;if(r)if(i.trackedPointers[s]||(i.trackedPointers[s]=new Ay(s)),this.dispatchEvent(i,"pointerdown",e),"touch"===o.pointerType)this.dispatchEvent(i,"touchstart",e);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;a?i.trackedPointers[s].rightDown=!0:i.trackedPointers[s].leftDown=!0,this.dispatchEvent(i,a?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,i,r){for(var o=this.normalizeToPointerData(e),s=o.length,a=e.target!==this.interactionDOMElement?"outside":"",l=0;l<s;l++){var u=o[l],g=this.getInteractionDataForPointerId(u),E=this.configureInteractionEventForDOMEvent(this.eventData,u,g);E.data.originalEvent=e,this.processInteractive(E,this.lastObjectRendered,r,i||!a),this.emit(i?"pointercancel":"pointerup"+a,E),"mouse"===u.pointerType||"pen"===u.pointerType?this.emit(2===u.button?"rightup"+a:"mouseup"+a,E):"touch"===u.pointerType&&(this.emit(i?"touchcancel":"touchend"+a,E),this.releaseInteractionDataForPointerId(u.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,i){var r=e.data,o=e.data.identifier;void 0!==i.trackedPointers[o]&&(delete i.trackedPointers[o],this.dispatchEvent(i,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(i,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,i,r){var o=e.data,s=e.data.identifier,a=i.trackedPointers[s],l="touch"===o.pointerType,u="mouse"===o.pointerType||"pen"===o.pointerType,g=!1;if(u){var E=2===o.button,w=Ay.FLAGS,A=void 0!==a&&a.flags&(E?w.RIGHT_DOWN:w.LEFT_DOWN);r?(this.dispatchEvent(i,E?"rightup":"mouseup",e),A&&(this.dispatchEvent(i,E?"rightclick":"click",e),g=!0)):A&&this.dispatchEvent(i,E?"rightupoutside":"mouseupoutside",e),a&&(E?a.rightDown=!1:a.leftDown=!1)}r?(this.dispatchEvent(i,"pointerup",e),l&&this.dispatchEvent(i,"touchend",e),a&&((!u||g)&&this.dispatchEvent(i,"pointertap",e),l&&(this.dispatchEvent(i,"tap",e),a.over=!1))):a&&(this.dispatchEvent(i,"pointerupoutside",e),l&&this.dispatchEvent(i,"touchendoutside",e)),a&&a.none&&delete i.trackedPointers[s]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var i=this.normalizeToPointerData(e);("mouse"===i[0].pointerType||"pen"===i[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=i.length,o=0;o<r;o++){var s=i[o],a=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,a);l.data.originalEvent=e,this.processInteractive(l,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",l),"touch"===s.pointerType&&this.emit("touchmove",l),("mouse"===s.pointerType||"pen"===s.pointerType)&&this.emit("mousemove",l)}"mouse"===i[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,i,r){var o=e.data,s="touch"===o.pointerType,a="mouse"===o.pointerType||"pen"===o.pointerType;a&&this.processPointerOverOut(e,i,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(i,"pointermove",e),s&&this.dispatchEvent(i,"touchmove",e),a&&this.dispatchEvent(i,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var r=this.normalizeToPointerData(e)[0];"mouse"===r.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,this.processInteractive(s,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",s),"mouse"===r.pointerType||"pen"===r.pointerType?this.emit("mouseout",s):this.releaseInteractionDataForPointerId(o.identifier)}},t.prototype.processPointerOverOut=function(e,i,r){var o=e.data,s=e.data.identifier,a="mouse"===o.pointerType||"pen"===o.pointerType,l=i.trackedPointers[s];r&&!l&&(l=i.trackedPointers[s]=new Ay(s)),void 0!==l&&(r&&this.mouseOverRenderer?(l.over||(l.over=!0,this.delayDispatchEvent(i,"pointerover",e),a&&this.delayDispatchEvent(i,"mouseover",e)),a&&null===this.cursor&&(this.cursor=i.cursor)):l.over&&(l.over=!1,this.dispatchEvent(i,"pointerout",this.eventData),a&&this.dispatchEvent(i,"mouseout",e),l.none&&delete i.trackedPointers[s]))},t.prototype.onPointerOver=function(e){var r=this.normalizeToPointerData(e)[0],o=this.getInteractionDataForPointerId(r),s=this.configureInteractionEventForDOMEvent(this.eventData,r,o);s.data.originalEvent=r,"mouse"===r.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",s),("mouse"===r.pointerType||"pen"===r.pointerType)&&this.emit("mouseover",s)},t.prototype.getInteractionDataForPointerId=function(e){var r,i=e.pointerId;return 1===i||"mouse"===e.pointerType?r=this.mouse:this.activeInteractionData[i]?r=this.activeInteractionData[i]:((r=this.interactionDataPool.pop()||new vC).identifier=i,this.activeInteractionData[i]=r),r.copyEvent(e),r},t.prototype.releaseInteractionDataForPointerId=function(e){var i=this.activeInteractionData[e];i&&(delete this.activeInteractionData[e],i.reset(),this.interactionDataPool.push(i))},t.prototype.configureInteractionEventForDOMEvent=function(e,i,r){return e.data=r,this.mapPositionToPoint(r.global,i.clientX,i.clientY),"touch"===i.pointerType&&(i.globalX=r.global.x,i.globalY=r.global.y),r.originalEvent=i,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var i=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,o=e.changedTouches.length;r<o;r++){var s=e.changedTouches[r];void 0===s.button&&(s.button=e.touches.length?1:0),void 0===s.buttons&&(s.buttons=e.touches.length?1:0),void 0===s.isPrimary&&(s.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===s.width&&(s.width=s.radiusX||1),void 0===s.height&&(s.height=s.radiusY||1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="touch"),void 0===s.pointerId&&(s.pointerId=s.identifier||0),void 0===s.pressure&&(s.pressure=s.force||.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),void 0===s.layerX&&(s.layerX=s.offsetX=s.clientX),void 0===s.layerY&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,i.push(s)}else if(!self.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof self.PointerEvent)){var a=e;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,i.push(a)}else i.push(e);return i},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(Uf()),uo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,g=u.name,E=u.items;this._aliasCount++;for(var w=0,P=E.length;w<P;w++)E[w][g](t,e,i,r,o,s,a,l);return E===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(uo.prototype,{dispatch:{value:uo.prototype.emit},run:{value:uo.prototype.emit}}),lt.PREFER_ENV=Ss.any?Jr.WEBGL:Jr.WEBGL2,lt.STRICT_TEXTURE_CACHE=!1;var n_=[];function Dy(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=n_.length-1;r>=0;--r){var o=n_[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var EC=function(n,t){return(EC=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function ki(n,t){function e(){this.constructor=n}EC(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var SC=function(){return SC=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},SC.apply(this,arguments)},qc=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new uo("setRealSize"),this.onUpdate=new uo("update"),this.onError=new uo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),Hf=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return ki(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Qr.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(qc),Rte={scaleMode:xr.NEAREST,format:He.RGBA,alphaMode:Qr.NPM},Jn=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,u=i.width,g=i.height,E=i.wrapMode,w=i.format,P=i.type,A=i.target,D=i.resolution;return e&&!(e instanceof qc)&&((e=Dy(e,i.resourceOptions)).internal=!0),r.resolution=D||lt.RESOLUTION,r.width=Math.round((u||0)*r.resolution)/r.resolution,r.height=Math.round((g||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:lt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:lt.ANISOTROPIC_LEVEL,r._wrapMode=E||lt.WRAP_MODE,r._scaleMode=void 0!==l?l:lt.SCALE_MODE,r.format=w||He.RGBA,r.type=P||yt.UNSIGNED_BYTE,r.target=A||Zo.TEXTURE_2D,r.alphaMode=void 0!==o?o:Qr.UNPACK,r.uid=Wu(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=u>0&&g>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return ki(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=lC(this.realWidth)&&lC(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ks[this.cacheId],delete es[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=lt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Wu()),s=e._pixiId);var l=Ks[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new Hf(e,{width:i,height:r}),a=e instanceof Float32Array?yt.FLOAT:yt.UNSIGNED_BYTE;return new t(s,Object.assign(Rte,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Ks[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),Ks[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Ks[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Ks[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete Ks[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(Uf()),Iy=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var u=new Jn;r.items.push(u),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return ki(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof qc?e[r]:Dy(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var r=this.items.map(function(o){return o.resource}).filter(function(o){return o}).map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(qc),TC=function(n){function t(e,i){var l,u,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,u=e.length):u=e,r=n.call(this,u,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return ki(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Zo.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,u=e.gl;r.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var g=0;g<s;g++){var E=l[g];a[g]<E.dirtyId&&(a[g]=E.dirtyId,E.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,g,E.resource.width,E.resource.height,1,i.format,r.type,E.resource.source))}return!0},t}(Iy),cl=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return ki(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=Kk(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Qr.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(qc),i_=function(n){function t(e){return n.call(this,e)||this}return ki(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(cl),CC=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var g=0;g<t.SIDES;g++)r.items[g].target=Zo.TEXTURE_CUBE_MAP_POSITIVE_X+g;return r.linkBaseTexture=!1!==u,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return ki(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Zo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=Zo.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(Iy),Ny=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;cl.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:lt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return ki(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Qr.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(cl),OC=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return ki(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;cl.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+Wu(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(cl),MC=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),cl.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),u=e[a],g=u.src,E=u.mime,w=(g=g||e[a]).split("?").shift().toLowerCase(),P=w.substr(w.lastIndexOf(".")+1);E=E||t.MIME_TYPES[P]||"video/"+P,l.src=g,l.type=E,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return ki(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-Zr.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Zr.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Zr.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Zr.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Zr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(cl),wC=function(n){function t(e){return n.call(this,e)||this}return ki(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(cl);n_.push(Ny,wC,i_,MC,OC,Hf,CC,TC);var lF={__proto__:null,Resource:qc,BaseImageResource:cl,INSTALLED:n_,autoDetectResource:Dy,AbstractMultiResource:Iy,ArrayResource:TC,BufferResource:Hf,CanvasResource:i_,CubeResource:CC,ImageResource:Ny,SVGResource:OC,VideoResource:MC,ImageBitmapResource:wC},Dte=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ki(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Qr.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(Hf),ky=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new uo("disposeFramebuffer"),this.multisample=Cn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Jn(null,{scaleMode:xr.NEAREST,resolution:1,mipmap:jo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Jn(new Dte(null,{width:this.width,height:this.height}),{scaleMode:xr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:jo.OFF,format:He.DEPTH_COMPONENT,type:yt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),r_=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Cn.NONE,(i=n.call(this,null,e)||this).mipmap=jo.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new ky(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return ki(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Jn),PC=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,u=t.y/o+a;i=ji.add(i,ji.NW),this.x0=l+s*ji.uX(i),this.y0=u+a*ji.uY(i),i=ji.add(i,2),this.x1=l+s*ji.uX(i),this.y1=u+a*ji.uY(i),i=ji.add(i,2),this.x2=l+s*ji.uX(i),this.y2=u+a*ji.uY(i),i=ji.add(i,2),this.x3=l+s*ji.uX(i),this.y3=u+a*ji.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),uF=new PC,Gt=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Gn(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=uF,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Ni(a.x,a.y):new Ni(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return ki(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&es[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===uF&&(this._uvs=new PC),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=lt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Jn?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+Wu(),Jn.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+Wu()),s=e._pixiId);var l=es[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Jn?!l&&e instanceof Jn&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=Zg(e)),(l=new t(new Jn(e,i))).baseTexture.cacheId=s,Jn.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(Jn.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new Jn(e,Object.assign({scaleMode:lt.SCALE_MODE,resolution:Zg(i)},o)),a=s.resource;a instanceof Ny&&(a.url=i);var l=new t(s);return r||(r=i),Jn.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Jn.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),es[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),es[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=es[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete es[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)es[e.textureCacheIds[o]]===e&&delete es[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(Uf());function Fy(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}Gt.EMPTY=new Gt(new Jn),Fy(Gt.EMPTY),Fy(Gt.EMPTY.baseTexture),Gt.WHITE=function Ite(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new Gt(new Jn(new i_(n)))}(),Fy(Gt.WHITE),Fy(Gt.WHITE.baseTexture);var qs=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return ki(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(ul("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new r_(e))},t}(Gt),cF=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=Cn.NONE);var r=new r_(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new qs(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=Cn.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=Qg(t)))<<16|65535&(e=Qg(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Cn.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),AC=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=yt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),Nte=0,Ir=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=Nte++,this.disposeRunner=new uo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Dr.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Dr.ELEMENT_ARRAY_BUFFER:Dr.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),kte={Float32Array,Uint32Array,Int32Array,Uint8Array},hF={5126:4,5123:2,5121:1},Bte=0,Lte={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Yf=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=Bte++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new uo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ir||(e instanceof Array&&(e=new Float32Array(e)),e=new Ir(e));var u=t.split("|");if(u.length>1){for(var g=0;g<u.length;g++)this.addAttribute(u[g],e,i,r,o);return this}var E=this.buffers.indexOf(e);return-1===E&&(this.buffers.push(e),E=this.buffers.length-1),this.attributes[t]=new AC(E,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Ir||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ir(t)),t.type=Dr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new Ir;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*hF[o.type]/4),o.buffer=0}for(i.data=function Fte(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var u=t[o],g=n[o],E=Cy(g);r[E]||(r[E]=new kte[E](s)),a=r[E];for(var w=0;w<g.length;w++)a[(w/u|0)*i+l+w%u]=g[w];l+=u}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ir(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new AC(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Dr.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(Lte[Cy(s.buffers[a].data)])(r[a]),e.buffers[a]=new Ir(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Dr.ELEMENT_ARRAY_BUFFER;var u=0,g=0,E=0,w=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){w=a;break}for(var a in s.attributes){var P=s.attributes[a];(0|P.buffer)===w&&(g+=P.size*hF[P.type]/4)}for(a=0;a<t.length;a++){var A=t[a].indexBuffer.data;for(l=0;l<A.length;l++)e.indexBuffer.data[l+E]+=u;u+=t[a].buffers[w].data.length/g,E+=A.length}}return e},n}(),dF=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return ki(t,n),t}(Yf),xC=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ir(e.vertices),e.uvBuffer=new Ir(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return ki(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Yf),Ute=0,zu=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=Ute++,this.static=!!e,this.ubo=!!i,t instanceof Ir?(this.buffer=t,this.buffer.type=Dr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ir(new Float32Array(1)),this.buffer.type=Dr.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),fF=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Cn.NONE,this.sourceFrame=new Gn,this.destinationFrame=new Gn,this.bindingSourceFrame=new Gn,this.bindingDestinationFrame=new Gn,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),By=[new Ni,new Ni,new Ni,new Ni],RC=new pi,DC=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new cF,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new dF,this.quadUv=new xC,this.tempRect=new Gn,this.activeState={},this.globalUniforms=new zu({outputFrame:new Gn,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new fF,l=this.renderer.renderTexture,u=e[0].resolution,g=e[0].multisample,E=e[0].padding,w=e[0].autoFit,P=null===(i=e[0].legacy)||void 0===i||i,A=1;A<e.length;A++){var D=e[A];u=Math.min(u,D.resolution),g=Math.min(g,D.multisample),E=this.useMaxPadding?Math.max(E,D.padding):E+D.padding,w=w&&D.autoFit,P=P||null===(r=D.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=u,a.multisample=g,a.legacy=P,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(E),w){var B=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(RC.copyFrom(o.projection.transform).invert(),B),a.sourceFrame.fit(B)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,g),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var Y=this.tempRect;Y.x=0,Y.y=0,Y.width=a.sourceFrame.width,Y.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,Y),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,u.renderTexture,Co.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var g=e.renderTexture,E=this.getOptimalFilterTexture(g.width,g.height,e.resolution);E.filterFrame=g.filterFrame;var w=0;for(w=0;w<i.length-1;++w){1===w&&e.multisample>1&&((E=this.getOptimalFilterTexture(g.width,g.height,e.resolution)).filterFrame=g.filterFrame),i[w].apply(this,g,E,Co.CLEAR,e);var P=g;g=E,E=P}i[w].apply(this,g,u.renderTexture,Co.BLEND,e),w>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(E)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Co.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Co.CLEAR||e===Co.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(lo.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(lo.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(pi.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=Cn.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||Cn.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=By[0],r=By[1],o=By[2],s=By[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),u=Math.max(i.x,r.x,o.x,s.x),g=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=u-a,e.height=g-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,u=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(u)>1e-4))return}(o=o?RC.copyFrom(o):RC.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),o_=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),IC=function(){function n(t){this.renderer=t,this.emptyRenderer=new o_(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,u=0;u<a;u++){var g=o[u],E=g._batchLocation;if(E>=0&&E<r&&e[E]===g)s[u]=E;else for(;l<r;){var w=e[l];if(!w||w._batchEnabled!==i||w._batchLocation!==l){s[u]=l,g._batchLocation=l,e[l]=g;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),pF=0,NC=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=pF++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=pF++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(lt.PREFER_ENV>=Jr.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),gF=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Cn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},Gte=new Gn,kC=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new ky(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Gn,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;lt.PREFER_ENV===Jr.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var g=(l=e.width>>i)/e.width;this.setViewport(e.x*g,e.y*g,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=Hu.COLOR|Hu.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new gF(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var u=o[l],g=u.parentTextureArray||u;this.renderer.texture.bind(g,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,u.target,g._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var w=t.depthTexture;this.renderer.texture.bind(w,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,w._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=Cn.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=Cn.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var u=o.glFramebuffers[r.CONTEXT_UID];if(u){if(!t){if(!u.msaaBuffer)return;var g=o.colorTextures[0];if(!g)return;u.blitFramebuffer||(u.blitFramebuffer=new ky(o.width,o.height),u.blitFramebuffer.addColorTexture(0,g)),(t=u.blitFramebuffer).colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=Gte).width=o.width,e.height=o.height),i||(i=e);var E=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,E?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Gn},n.prototype.destroy=function(){this.renderer=null},n}(),FC={5126:4,5123:2,5121:1},BC=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;lt.PREFER_ENV===Jr.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,u){return r.drawElementsInstancedANGLE(o,s,a,l,u)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),u=t.glVertexArrayObjects[this.CONTEXT_UID],g=u[l];if(g)return u[a.id]=g,g;var E=t.buffers,w=t.attributes,P={},A={};for(var D in E)P[D]=0,A[D]=0;for(var D in w)!w[D].size&&a.attributeData[D]?w[D].size=a.attributeData[D].size:w[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),P[w[D].buffer]+=w[D].size*FC[w[D].type];for(var D in w){var B=w[D],Y=B.size;void 0===B.stride&&(B.stride=P[B.buffer]===Y*FC[B.type]?0:P[B.buffer]),void 0===B.start&&(B.start=A[B.buffer],A[B.buffer]+=Y*FC[B.type])}g=r.createVertexArray(),r.bindVertexArray(g);for(var K=0;K<E.length;K++){var re=E[K];s.bind(re),i&&re._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=g,u[a.id]=g,u[l]=g,g},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0===u.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var g in r)if("g"===g[0]){var E=r[g];this._activeVao===E&&this.unbind(),o.deleteVertexArray(E)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var u in a){var g=a[u],E=s[g.buffer],w=E._glBuffers[r];if(e.attributeData[u]){l!==w&&(o.bind(E),l=w);var P=e.attributeData[u].location;if(i.enableVertexAttribArray(P),i.vertexAttribPointer(P,g.size,g.type||i.FLOAT,g.normalized,g.stride,g.start),g.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(P,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),_F=function(){function n(t){void 0===t&&(t=null),this.type=ai.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=lt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ai.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function mF(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function vF(n,t){var e=n.getShaderSource(t).split("\n").map(function(u,g){return g+": "+u}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return!(!u||o[u]||(o[u]=!0,0))}),a=[""];s.forEach(function(u){e[u-1]="%c"+e[u-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function LC(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function yF(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return LC(2*t);case"bvec3":return LC(3*t);case"bvec4":return LC(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Ly,bF={},s_=bF;function EF(){if(s_===bF||s_&&s_.isContextLost()){var n=document.createElement("canvas"),t=void 0;lt.PREFER_ENV>=Jr.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),s_=t}return s_}function SF(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Rr.HIGH&&e!==Rr.HIGH&&(i=Rr.MEDIUM),"precision "+i+" float;\n"+n}return e!==Rr.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var Hte={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function TF(n){return Hte[n]}var Uy=null,CF={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function OF(n,t){if(!Uy){var e=Object.keys(CF);Uy={};for(var i=0;i<e.length;++i){var r=e[i];Uy[n[r]]=CF[r]}}return Uy[t]}var a_,Jc=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Yte={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},Wte={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},$te=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Xte(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}function MF(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=$te.replace(/%forloop%/gi,Xte(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}var Qte=0,Gy={},Wf=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=Qte++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),Gy[i]?(Gy[i]++,i+="-"+Gy[i]):Gy[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=SF(this.vertexSrc,lt.PRECISION_VERTEX,Rr.HIGH),this.fragmentSrc=SF(this.fragmentSrc,lt.PRECISION_FRAGMENT,function Vte(){if(!Ly){Ly=Rr.MEDIUM;var n=EF();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);Ly=t.precision?Rr.HIGH:Rr.MEDIUM}}return Ly}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=cC[r];return o||(cC[r]=o=new n(t,e,i)),o},n}(),Kl=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof zu?e:new zu(e):new zu({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(Wf.from(t,e),i)},n}(),$u=function(){function n(){this.data=0,this.blendMode=Ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ue.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),ql=function(n){function t(e,i,r){var o=this,s=Wf.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=lt.FILTER_RESOLUTION,o.multisample=lt.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new $u,o}return ki(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(Kl),wF=new pi,jy=function(){function n(t,e){this._texture=t,this.mapCoord=new pi,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(wF.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(wF));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,u=this.clampOffset;return a[0]=(e._frame.x+l+u)/s.width,a[1]=(e._frame.y+l+u)/s.height,a[2]=(e._frame.x+e._frame.width-l+u)/s.width,a[3]=(e._frame.y+e._frame.height-l+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),PF=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new pi,o}return ki(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new jy(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(ql),WC=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new _F;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==ai.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case ai.SCISSOR:this.renderer.scissor.push(i);break;case ai.STENCIL:this.renderer.stencil.push(i);break;case ai.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===ai.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case ai.SCISSOR:this.renderer.scissor.pop();break;case ai.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ai.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===ai.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?ai.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?ai.SCISSOR:ai.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new PF]);var u,g,a=this.renderer,l=a.renderTexture;if(l.current){var E=l.current;u=t.resolution||E.resolution,g=null!==(e=t.multisample)&&void 0!==e?e:E.multisample}else u=t.resolution||a.resolution,g=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=u,s[0].multisample=g,s[0].maskSprite=r;var w=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=w,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),AF=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),xF=new pi,zC=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return ki(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?xF.copyFrom(s):xF.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(AF),$C=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return ki(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(AF),XC=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new pi,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),Qc=new Gn,l_=new Gn,KC=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Gn,this.destinationFrame=new Gn,this.viewportFrame=new Gn}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(Qc.width=t.frame.width,Qc.height=t.frame.height,e=Qc),i||(l_.x=t.frame.x,l_.y=t.frame.y,l_.width=e.width,l_.height=e.height,i=l_),s=o.framebuffer):(a=r.resolution,e||(Qc.width=r.screen.width,Qc.height=r.screen.height,e=Qc),i||((i=Qc).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,u=s.width,g=s.height;a=Math.round(a),l=Math.round(l),u=Math.round(u),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,u,g)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function ine(n,t,e,i,r){e.buffer.update(r)}var rne={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},RF={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function DF(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=RF[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}function IF(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}function NF(n,t){if(!n.autoManage)return{size:0,syncFunc:ine};for(var i=DF(IF(n.uniforms,t)),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],u=n.uniforms[l.data.name],g=l.data.name,E=!1,w=0;w<Jc.length;w++){var P=Jc[w];if(P.codeUbo&&P.test(l.data,u)){s.push("offset = "+l.offset/4+";",Jc[w].codeUbo(l.data.name,u)),E=!0;break}}if(!E)if(l.data.size>1){var A=TF(l.data.type),D=Math.max(RF[l.data.type]/16,1),B=A/D;s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+B+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-B%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n                "+rne[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var one=function n(){},kF=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();function FF(n,t){var e=mF(n,n.VERTEX_SHADER,t.vertexSrc),i=mF(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function jte(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||vF(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||vF(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function sne(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=OF(t,o.type),a={type:s,name:o.name,size:TF(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function ane(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=OF(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:yF(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(g,E){return g>E?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:yF(l.type,l.size)}}return new kF(r,a)}var lne=0,Vy={textureCount:0,uboCount:0},qC=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=lne++}return n.prototype.systemCheck=function(){if(!function Kte(){if("boolean"==typeof a_)return a_;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");a_=!0===n({a:"b"},"a","b")}catch(t){a_=!1}return a_}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(Vy.textureCount=0,Vy.uboCount=0,this.syncUniformGroup(t.uniformGroup,Vy)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function zte(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<Jc.length;l++)if(Jc[l].test(o,s)){i.push(Jc[l].code(r,s)),a=!0;break}if(!a){var g=(1===o.size?Yte:Wte)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+g+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,Vy,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=NF(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=FF(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),JC=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ue.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new $u,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function une(n,t){return void 0===t&&(t=[]),t[Ue.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD]=[n.ONE,n.ONE],t[Ue.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.NONE]=[0,0],t[Ue.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Ue.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Ue.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Ue.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Ue.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Ue.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Ue.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),QC=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=lt.GC_MAX_IDLE,this.checkCountMax=lt.GC_MAX_CHECK_COUNT,this.mode=lt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Gf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),Hy=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=yt.UNSIGNED_BYTE,this.internalFormat=He.RGBA,this.samplerType=0},ZC=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Jn,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function _ne(n){var t,e,i,r,o,s,a,l,u,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[yt.UNSIGNED_BYTE]=((e={})[He.RGBA]=n.RGBA8,e[He.RGB]=n.RGB8,e[He.RG]=n.RG8,e[He.RED]=n.R8,e[He.RGBA_INTEGER]=n.RGBA8UI,e[He.RGB_INTEGER]=n.RGB8UI,e[He.RG_INTEGER]=n.RG8UI,e[He.RED_INTEGER]=n.R8UI,e[He.ALPHA]=n.ALPHA,e[He.LUMINANCE]=n.LUMINANCE,e[He.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[yt.BYTE]=((i={})[He.RGBA]=n.RGBA8_SNORM,i[He.RGB]=n.RGB8_SNORM,i[He.RG]=n.RG8_SNORM,i[He.RED]=n.R8_SNORM,i[He.RGBA_INTEGER]=n.RGBA8I,i[He.RGB_INTEGER]=n.RGB8I,i[He.RG_INTEGER]=n.RG8I,i[He.RED_INTEGER]=n.R8I,i),t[yt.UNSIGNED_SHORT]=((r={})[He.RGBA_INTEGER]=n.RGBA16UI,r[He.RGB_INTEGER]=n.RGB16UI,r[He.RG_INTEGER]=n.RG16UI,r[He.RED_INTEGER]=n.R16UI,r[He.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[yt.SHORT]=((o={})[He.RGBA_INTEGER]=n.RGBA16I,o[He.RGB_INTEGER]=n.RGB16I,o[He.RG_INTEGER]=n.RG16I,o[He.RED_INTEGER]=n.R16I,o),t[yt.UNSIGNED_INT]=((s={})[He.RGBA_INTEGER]=n.RGBA32UI,s[He.RGB_INTEGER]=n.RGB32UI,s[He.RG_INTEGER]=n.RG32UI,s[He.RED_INTEGER]=n.R32UI,s[He.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[yt.INT]=((a={})[He.RGBA_INTEGER]=n.RGBA32I,a[He.RGB_INTEGER]=n.RGB32I,a[He.RG_INTEGER]=n.RG32I,a[He.RED_INTEGER]=n.R32I,a),t[yt.FLOAT]=((l={})[He.RGBA]=n.RGBA32F,l[He.RGB]=n.RGB32F,l[He.RG]=n.RG32F,l[He.RED]=n.R32F,l[He.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[yt.HALF_FLOAT]=((u={})[He.RGBA]=n.RGBA16F,u[He.RGB]=n.RGB16F,u[He.RG]=n.RG16F,u[He.RED]=n.R16F,u),t[yt.UNSIGNED_SHORT_5_6_5]=((g={})[He.RGB]=n.RGB565,g),t[yt.UNSIGNED_SHORT_4_4_4_4]=((E={})[He.RGBA]=n.RGBA4,E),t[yt.UNSIGNED_SHORT_5_5_5_1]=((w={})[He.RGBA]=n.RGB5_A1,w),t[yt.UNSIGNED_INT_2_10_10_10_REV]=((P={})[He.RGBA]=n.RGB10_A2,P[He.RGBA_INTEGER]=n.RGB10_A2UI,P),t[yt.UNSIGNED_INT_10F_11F_11F_REV]=((A={})[He.RGB]=n.R11F_G11F_B10F,A),t[yt.UNSIGNED_INT_5_9_9_9_REV]=((D={})[He.RGB]=n.RGB9_E5,D),t[yt.UNSIGNED_INT_24_8]=((B={})[He.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,B),t[yt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((Y={})[He.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,Y),Oe=t):((K={})[yt.UNSIGNED_BYTE]=((re={})[He.RGBA]=n.RGBA,re[He.RGB]=n.RGB,re[He.ALPHA]=n.ALPHA,re[He.LUMINANCE]=n.LUMINANCE,re[He.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,re),K[yt.UNSIGNED_SHORT_5_6_5]=((ae={})[He.RGB]=n.RGB,ae),K[yt.UNSIGNED_SHORT_4_4_4_4]=((te={})[He.RGBA]=n.RGBA,te),K[yt.UNSIGNED_SHORT_5_5_5_1]=((ne={})[He.RGBA]=n.RGBA,ne),Oe=K),Oe}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new Hy(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new Hy(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==Yu.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new Hy(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===yt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==Yu.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Hc(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==jo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Xs.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==jo.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===xr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===xr.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===xr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===xr.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),BF={__proto__:null,FilterSystem:DC,BatchSystem:IC,ContextSystem:NC,FramebufferSystem:kC,GeometrySystem:BC,MaskSystem:WC,ScissorSystem:zC,StencilSystem:$C,ProjectionSystem:XC,RenderTextureSystem:KC,ShaderSystem:qC,StateSystem:JC,TextureGCSystem:QC,TextureSystem:ZC},eO=new pi,tO=function(n){function t(e,i){void 0===e&&(e=ka.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},lt.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new Gn(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||lt.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(ul("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return ki(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(ul("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function xte(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=qs.create(SC({width:o.width,height:o.height},a));return eO.tx=-o.x,eO.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:eO,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=ka.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=Sy(e),Xl(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(Uf()),mne=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},vne=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new mne(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),Ba=function(n){function t(e){var i=n.call(this,ka.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new uo("destroy"),contextChange:new uo("contextChange"),reset:new uo("reset"),update:new uo("update"),postrender:new uo("postrender"),prerender:new uo("prerender"),resize:new uo("resize")},i.runners.contextChange.add(i),i.globalUniforms=new zu({projectionMatrix:new pi},!0),i.addSystem(WC,"mask").addSystem(NC,"context").addSystem(JC,"state").addSystem(qC,"shader").addSystem(ZC,"texture").addSystem(vne,"buffer").addSystem(BC,"geometry").addSystem(kC,"framebuffer").addSystem(zC,"scissor").addSystem($C,"stencil").addSystem(XC,"projection").addSystem(QC,"textureGC").addSystem(DC,"filter").addSystem(KC,"renderTexture").addSystem(IC,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,nC(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return ki(t,n),t.create=function(e){if(Hk())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=Cn.HIGH?Cn.HIGH:i>=Cn.MEDIUM?Cn.MEDIUM:i>=Cn.LOW?Cn.LOW:Cn.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof qs?(ul("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return ul("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(tO);function LF(n){return Ba.create(n)}var UF="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",nO="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",Ene=function(){function n(t){ul("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return n.prototype.destroy=function(){this.renderer=null},n}(),Yy=function n(){this.texArray=null,this.blend=0,this.type=lo.TRIANGLES,this.start=0,this.size=0,this.data=null},Wy=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),zy=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),GF=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=$u.for2d(),i.size=4*lt.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return ki(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;lt.PREFER_ENV===Jr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),lt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=MF(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new Yy);for(;i.length<o;)i.push(new Wy);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++Jn._globalBatch,g=0,E=o[0],w=0;s.copyBoundTextures(a,r);for(var P=0;P<this._bufferSize;++P){var A=i[P];i[P]=null,A._batchEnabled!==u&&(E.count>=r&&(s.boundArray(E,a,u,r),this.buildDrawCalls(E,w,P),w=P,E=o[++g],++u),A._batchEnabled=u,A.touched=l,E.elements[E.count++]=A)}for(E.count>0&&(s.boundArray(E,a,u,r),this.buildDrawCalls(E,w,this._bufferSize),++g,++u),P=0;P<a.length;P++)a[P]=null;Jn._globalBatch=u},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,u=o.vertexSize,g=t._drawCallPool,E=this._dcIndex,w=this._aIndex,P=this._iIndex,A=g[E];A.start=this._iIndex,A.texArray=e;for(var D=i;D<r;++D){var B=s[D],K=oC[B._texture.baseTexture.alphaMode?1:0][B.blendMode];s[D]=null,i<D&&A.blend!==K&&(A.size=P-A.start,i=D,(A=g[++E]).texArray=e,A.start=P),this.packInterleavedGeometry(B,a,l,w,P),w+=B.vertexData.length/2*u,P+=B.indices.length,A.blend=K}i<r&&(A.size=P-A.start,++E),this._dcIndex=E,this._aIndex=w,this._iIndex=P},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;lt.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var u=s[l],g=u.texArray,E=u.type,w=u.size,P=u.start,A=u.blend;a!==g&&(a=g,this.bindAndClearTexArray(g)),this.state.blendMode=A,o.set(this.state),r.drawElements(E,w,r.UNSIGNED_SHORT,2*P)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),lt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=Qg(Math.ceil(e/8)),r=uC(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new zy(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=Qg(Math.ceil(e/12)),r=uC(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,u=o/this.vertexSize,g=e.uvs,E=e.indices,w=e.vertexData,P=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),D=A<1&&e._texture.baseTexture.alphaMode?Ty(e._tintRGB,A):e._tintRGB+(255*A<<24),B=0;B<w.length;B+=2)l[o++]=w[B],l[o++]=w[B+1],l[o++]=g[B],l[o++]=g[B+1],a[o++]=D,l[o++]=P;for(B=0;B<E.length;B++)r[s++]=u+E[B]},t._drawCallPool=[],t._textureArrayPool=[],t}(o_),jF=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=zu.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Wf(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new pi,default:this.defaultGroupCache[t]};return new Kl(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),iO=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new Ir(null,e,!1),i._indexBuffer=new Ir(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,yt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,yt.FLOAT).addAttribute("aColor",i._buffer,4,!0,yt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,yt.FLOAT).addIndex(i._indexBuffer),i}return ki(t,n),t}(Yf),VF="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",HF="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",YF=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:VF,fragment:HF,geometryClass:iO,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(u){var g=a.call(this,u)||this;return g.shaderGenerator=new jF(i,r),g.geometryClass=s,g.vertexSize=o,g}return ki(l,a),l}(GF)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return VF},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return HF},enumerable:!1,configurable:!0}),n}(),WF=YF.create(),zF={},Sne=function(n){Object.defineProperty(zF,n,{get:function(){return ul("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),lF[n]}})};for(var rO in lF)Sne(rO);var $F={},Tne=function(n){Object.defineProperty($F,n,{get:function(){return ul("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),BF[n]}})};for(var rO in BF)Tne(rO);var u_=function(){function n(t){var e=this;this.stage=new zi,t=Object.assign({forceCanvas:!1},t),this.renderer=LF(t),n._plugins.forEach(function(i){i.init.call(e,t)})}return n.registerPlugin=function(t){n._plugins.push(t)},n.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(n.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),n.prototype.destroy=function(t,e){var i=this,r=n._plugins.slice(0);r.reverse(),r.forEach(function(o){o.destroy.call(i)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null},n._plugins=[],n}(),Cne=function(){function n(){}return n.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(i){self.removeEventListener("resize",this.queueResize),this._resizeTo=i,i&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!e._resizeTo||(e.cancelResize(),e._resizeId=requestAnimationFrame(function(){return e.resize()}))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var i,r;if(e.cancelResize(),e._resizeTo===self)i=self.innerWidth,r=self.innerHeight;else{var o=e._resizeTo;i=o.clientWidth,r=o.clientHeight}e.renderer.resize(i,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},n.destroy=function(){self.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},n}();u_.registerPlugin(Cne);var XF=new Gn,qF=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,s,e=this.renderer,o=!1,a=!1;t&&(t instanceof qs?s=t:(s=this.renderer.generateTexture(t),a=!0)),s?(i=s.baseTexture.resolution,r=s.frame,o=!1,e.renderTexture.bind(s)):(i=this.renderer.resolution,o=!0,(r=XF).width=this.renderer.width,r.height=this.renderer.height,e.renderTexture.bind(null));var l=Math.floor(r.width*i+1e-4),u=Math.floor(r.height*i+1e-4),g=new jf(l,u,1),E=new Uint8Array(4*l*u),w=e.gl;w.readPixels(r.x*i,r.y*i,l,u,w.RGBA,w.UNSIGNED_BYTE,E);var P=g.context.getImageData(0,0,l,u);if(n.arrayPostDivide(E,P.data),g.context.putImageData(P,0,0),o){var A=new jf(g.width,g.height,1);A.context.scale(1,-1),A.context.drawImage(g.canvas,0,-u),g.destroy(),g=A}return a&&s.destroy(!0),g.canvas},n.prototype.pixels=function(t){var i,r,o,e=this.renderer,s=!1;t&&(t instanceof qs?o=t:(o=this.renderer.generateTexture(t),s=!0)),o?(i=o.baseTexture.resolution,r=o.frame,e.renderTexture.bind(o)):(i=e.resolution,(r=XF).width=e.width,r.height=e.height,e.renderTexture.bind(null));var a=r.width*i,l=r.height*i,u=new Uint8Array(4*a*l),g=e.gl;return g.readPixels(r.x*i,r.y*i,a,l,g.RGBA,g.UNSIGNED_BYTE,u),s&&o.destroy(!0),n.arrayPostDivide(u,u),u},n.prototype.destroy=function(){this.renderer=null},n.arrayPostDivide=function(t,e){for(var i=0;i<t.length;i+=4){var r=e[i+3]=t[i+3];0!==r?(e[i]=Math.round(Math.min(255*t[i]/r,255)),e[i+1]=Math.round(Math.min(255*t[i+1]/r,255)),e[i+2]=Math.round(Math.min(255*t[i+2]/r,255))):(e[i]=t[i],e[i+1]=t[i+1],e[i+2]=t[i+2])}},n}(),$y=function(){function n(t,e,i){void 0===e&&(e=!1),this._fn=t,this._once=e,this._thisArg=i,this._next=this._prev=this._owner=null}return n.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},n}();function JF(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var Jl=function(){function n(){this._head=this._tail=void 0}return n.prototype.handlers=function(t){void 0===t&&(t=!1);var e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i},n.prototype.has=function(t){if(!(t instanceof $y))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return t._owner===this},n.prototype.dispatch=function(){for(var t=arguments,e=[],i=0;i<arguments.length;i++)e[i]=t[i];var r=this._head;if(!r)return!1;for(;r;)r._once&&this.detach(r),r._fn.apply(r._thisArg,e),r=r._next;return!0},n.prototype.add=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return JF(this,new $y(t,!1,e))},n.prototype.once=function(t,e){if(void 0===e&&(e=null),"function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return JF(this,new $y(t,!0,e))},n.prototype.detach=function(t){if(!(t instanceof $y))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this},n.prototype.detachAll=function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this},n}();function QF(n,t){for(var e={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=e.parser[(t=t||{}).strictMode?"strict":"loose"].exec(n),r={},o=14;o--;)r[e.key[o]]=i[o]||"";return r[e.q.name]={},r[e.key[12]].replace(e.q.parser,function(s,a,l){a&&(r[e.q.name][a]=l)}),r}var One=!(!self.XDomainRequest||"withCredentials"in new XMLHttpRequest),Xy=null;function eB(){}function tB(n,t,e){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(n[t]=e)}function oO(n){return n.toString().replace("object ","")}var n,o,Zi=function(){function n(t,e,i){if(this._dequeue=eB,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof e)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(n.STATUS_FLAGS.DATA_URL,0===e.indexOf("data:")),this.name=t,this.url=e,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=n.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=eB,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Jl,this.onProgress=new Jl,this.onComplete=new Jl,this.onAfterMiddleware=new Jl}return n.setExtensionLoadType=function(t,e){tB(n._loadTypeMap,t,e)},n.setExtensionXhrType=function(t,e){tB(n._xhrTypeMap,t,e)},Object.defineProperty(n.prototype,"isDataUrl",{get:function(){return this._hasFlag(n.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isComplete",{get:function(){return this._hasFlag(n.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isLoading",{get:function(){return this._hasFlag(n.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),n.prototype.complete=function(){this._clearEvents(),this._finish()},n.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=n.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},n.prototype.load=function(t){var e=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(e)},1));switch(t&&this.onComplete.once(t),this._setFlag(n.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case n.LOAD_TYPE.IMAGE:this.type=n.TYPE.IMAGE,this._loadElement("image");break;case n.LOAD_TYPE.AUDIO:this.type=n.TYPE.AUDIO,this._loadSourceElement("audio");break;case n.LOAD_TYPE.VIDEO:this.type=n.TYPE.VIDEO,this._loadSourceElement("video");break;default:One&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},n.prototype._hasFlag=function(t){return 0!=(this._flags&t)},n.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},n.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},n.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(n.STATUS_FLAGS.COMPLETE,!0),this._setFlag(n.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},n.prototype._loadElement=function(t){this.data=this.metadata.loadElement?this.metadata.loadElement:"image"===t&&void 0!==self.Image?new Image:document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},n.prototype._loadSourceElement=function(t){if(this.data=this.metadata.loadElement?this.metadata.loadElement:"audio"===t&&void 0!==self.Audio?new Audio:document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else e=this.metadata.mimeType,this.data.appendChild(this._createSource(t,this.url,Array.isArray(e)?e[0]:e));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},n.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),t.timeout=this.timeout,t.responseType=this.xhrType===n.XHR_RESPONSE_TYPE.JSON||this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT?n.XHR_RESPONSE_TYPE.TEXT:this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},n.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new self.XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},n.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=i,r},n.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},n.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},n.prototype._onTimeout=function(){this.abort("Load timed out.")},n.prototype._xhrOnError=function(){var t=this.xhr;this.abort(oO(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},n.prototype._xhrOnTimeout=function(){this.abort(oO(this.xhr)+" Request timed out.")},n.prototype._xhrOnAbort=function(){this.abort(oO(this.xhr)+" Request was aborted by the user.")},n.prototype._xhrOnLoad=function(){var t=this.xhr,e="",i=void 0===t.status?200:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(e=t.responseText),0===i&&(e.length>0||t.responseType===n.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204),2==(i/100|0)){if(this.xhrType===n.XHR_RESPONSE_TYPE.TEXT)this.data=e,this.type=n.TYPE.TEXT;else if(this.xhrType===n.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(e),this.type=n.TYPE.JSON}catch(a){return void this.abort("Error trying to parse loaded json: "+a)}else if(this.xhrType===n.XHR_RESPONSE_TYPE.DOCUMENT)try{if(self.DOMParser){var o=new DOMParser;this.data=o.parseFromString(e,"text/xml")}else{var s=document.createElement("div");s.innerHTML=e,this.data=s}this.type=n.TYPE.XML}catch(a){return void this.abort("Error trying to parse loaded xml: "+a)}else this.data=t.response||e;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},n.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(self.origin!==self.location.origin)return"anonymous";e=e||self.location,Xy||(Xy=document.createElement("a")),Xy.href=t;var i=QF(Xy.href,{strictMode:!0});return i.host!==e.hostname||(i.port||""!==e.port)&&i.port!==e.port||(i.protocol?i.protocol+":":"")!==e.protocol?"anonymous":""},n.prototype._determineXhrType=function(){return n._xhrTypeMap[this.extension]||n.XHR_RESPONSE_TYPE.TEXT},n.prototype._determineLoadType=function(){return n._loadTypeMap[this.extension]||n.LOAD_TYPE.XHR},n.prototype._getExtension=function(t){void 0===t&&(t=this.url);var e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var r=t.indexOf("?"),o=t.indexOf("#"),s=Math.min(r>-1?r:t.length,o>-1?o:t.length);e=(t=t.substring(0,s)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},n.prototype._getMimeFromXhrType=function(t){switch(t){case n.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case n.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case n.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case n.XHR_RESPONSE_TYPE.JSON:return"application/json";default:return"text/plain"}},n}();function Zc(){}function xne(n){return function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];if(null===n)throw new Error("Callback was already called.");var o=n;n=null,o.apply(this,i)}}(o=(n=Zi||(Zi={})).STATUS_FLAGS||(n.STATUS_FLAGS={}))[o.NONE=0]="NONE",o[o.DATA_URL=1]="DATA_URL",o[o.COMPLETE=2]="COMPLETE",o[o.LOADING=4]="LOADING",function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.JSON=1]="JSON",o[o.XML=2]="XML",o[o.IMAGE=3]="IMAGE",o[o.AUDIO=4]="AUDIO",o[o.VIDEO=5]="VIDEO",o[o.TEXT=6]="TEXT"}(n.TYPE||(n.TYPE={})),function(o){o[o.XHR=1]="XHR",o[o.IMAGE=2]="IMAGE",o[o.AUDIO=3]="AUDIO",o[o.VIDEO=4]="VIDEO"}(n.LOAD_TYPE||(n.LOAD_TYPE={})),function(o){o.DEFAULT="text",o.BUFFER="arraybuffer",o.BLOB="blob",o.DOCUMENT="document",o.JSON="json",o.TEXT="text"}(n.XHR_RESPONSE_TYPE||(n.XHR_RESPONSE_TYPE={})),n._loadTypeMap={gif:n.LOAD_TYPE.IMAGE,png:n.LOAD_TYPE.IMAGE,bmp:n.LOAD_TYPE.IMAGE,jpg:n.LOAD_TYPE.IMAGE,jpeg:n.LOAD_TYPE.IMAGE,tif:n.LOAD_TYPE.IMAGE,tiff:n.LOAD_TYPE.IMAGE,webp:n.LOAD_TYPE.IMAGE,tga:n.LOAD_TYPE.IMAGE,svg:n.LOAD_TYPE.IMAGE,"svg+xml":n.LOAD_TYPE.IMAGE,mp3:n.LOAD_TYPE.AUDIO,ogg:n.LOAD_TYPE.AUDIO,wav:n.LOAD_TYPE.AUDIO,mp4:n.LOAD_TYPE.VIDEO,webm:n.LOAD_TYPE.VIDEO},n._xhrTypeMap={xhtml:n.XHR_RESPONSE_TYPE.DOCUMENT,html:n.XHR_RESPONSE_TYPE.DOCUMENT,htm:n.XHR_RESPONSE_TYPE.DOCUMENT,xml:n.XHR_RESPONSE_TYPE.DOCUMENT,tmx:n.XHR_RESPONSE_TYPE.DOCUMENT,svg:n.XHR_RESPONSE_TYPE.DOCUMENT,tsx:n.XHR_RESPONSE_TYPE.DOCUMENT,gif:n.XHR_RESPONSE_TYPE.BLOB,png:n.XHR_RESPONSE_TYPE.BLOB,bmp:n.XHR_RESPONSE_TYPE.BLOB,jpg:n.XHR_RESPONSE_TYPE.BLOB,jpeg:n.XHR_RESPONSE_TYPE.BLOB,tif:n.XHR_RESPONSE_TYPE.BLOB,tiff:n.XHR_RESPONSE_TYPE.BLOB,webp:n.XHR_RESPONSE_TYPE.BLOB,tga:n.XHR_RESPONSE_TYPE.BLOB,json:n.XHR_RESPONSE_TYPE.JSON,text:n.XHR_RESPONSE_TYPE.TEXT,txt:n.XHR_RESPONSE_TYPE.TEXT,ttf:n.XHR_RESPONSE_TYPE.BUFFER,otf:n.XHR_RESPONSE_TYPE.BUFFER},n.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var Rne=function n(t,e){this.data=t,this.callback=e},sO=function(){function n(t,e){var i=this;if(void 0===e&&(e=1),this.workers=0,this.saturated=Zc,this.unsaturated=Zc,this.empty=Zc,this.drain=Zc,this.error=Zc,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(r,o,s){if(s&&"function"!=typeof s)throw new Error("task callback must be a function");if(i.started=!0,null==r&&i.idle())setTimeout(function(){return i.drain()},1);else{var a=new Rne(r,"function"==typeof s?s:Zc);o?i._tasks.unshift(a):i._tasks.push(a),setTimeout(i.process,1)}},this.process=function(){for(;!i.paused&&i.workers<i.concurrency&&i._tasks.length;){var r=i._tasks.shift();0===i._tasks.length&&i.empty(),i.workers+=1,i.workers===i.concurrency&&i.saturated(),i._worker(r.data,xne(i._next(r)))}},this._worker=t,0===e)throw new Error("Concurrency must not be zero");this.concurrency=e,this.buffer=e/4}return n.prototype._next=function(t){var e=this;return function(){for(var i=arguments,r=[],o=0;o<arguments.length;o++)r[o]=i[o];e.workers-=1,t.callback.apply(t,r),null!=r[0]&&e.error(r[0],t.data),e.workers<=e.concurrency-e.buffer&&e.unsaturated(),e.idle()&&e.drain(),e.process()}},n.prototype.push=function(t,e){this._insert(t,!1,e)},n.prototype.kill=function(){this.workers=0,this.drain=Zc,this.started=!1,this._tasks=[]},n.prototype.unshift=function(t,e){this._insert(t,!0,e)},n.prototype.length=function(){return this._tasks.length},n.prototype.running=function(){return this.workers},n.prototype.idle=function(){return this._tasks.length+this.workers===0},n.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},n.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var t=1;t<=this.concurrency;t++)this.process()}},n.eachSeries=function(t,e,i,r){var o=0,s=t.length;!function a(l){l||o===s?i&&i(l):r?setTimeout(function(){e(t[o++],a)},1):e(t[o++],a)}()},n.queue=function(t,e){return new n(t,e)},n}(),Dne=/(#[\w-]+)?$/,Oo=function(){function n(t,e){var i=this;void 0===t&&(t=""),void 0===e&&(e=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return i._loadResource(l,u)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(l,u){return i._loadResource(l,u)},this._queue=sO.queue(this._boundLoadResource,e),this._queue.pause(),this.resources={},this.onProgress=new Jl,this.onError=new Jl,this.onLoad=new Jl,this.onStart=new Jl,this.onComplete=new Jl;for(var r=0;r<n._plugins.length;++r){var o=n._plugins[r],s=o.pre,a=o.use;s&&this.pre(s),a&&this.use(a)}this._protected=!1}return n.prototype._add=function(t,e,i,r){if(this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new Zi(t,e,i),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var o=i.parentResource,s=[],a=0;a<o.children.length;++a)o.children[a].isComplete||s.push(o.children[a]);var u=o.progressChunk*(s.length+1)/(s.length+2);for(o.children.push(this.resources[t]),o.progressChunk=u,a=0;a<s.length;++a)s[a].progressChunk=u;this.resources[t].progressChunk=u}return this._queue.push(this.resources[t]),this},n.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},n.prototype.use=function(t){return this._afterMiddleware.push(t),this},n.prototype.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort("loader reset")}return this.resources={},this},n.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var i=100/this._queue._tasks.length,r=0;r<this._queue._tasks.length;++r)this._queue._tasks[r].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Object.defineProperty(n.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t},enumerable:!1,configurable:!0}),n.prototype._prepareUrl=function(t){var i,e=QF(t,{strictMode:!0});if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=Dne.exec(i)[0];-1!==(i=i.substr(0,i.length-r.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=r}return i},n.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,sO.eachSeries(this._beforeMiddleware,function(r,o){r.call(i,t,function(){o(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},n.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},n.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},n.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),sO.eachSeries(this._afterMiddleware,function(i,r){i.call(e,t,r)},function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()},!0)},n.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(n,"shared",{get:function(){var t=n._shared;return t||((t=new n)._protected=!0,n._shared=t),t},enumerable:!1,configurable:!0}),n.registerPlugin=function(t){return n._plugins.push(t),t.add&&t.add(),n},n._plugins=[],n}();Oo.prototype.add=function(t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;++o)this.add(t[o]);return this}if("object"==typeof t&&(i=t,r=e||i.callback||i.onComplete,e=i.url,t=i.name||i.key||i.url),"string"!=typeof e&&(r=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");return"function"==typeof i&&(r=i,i=null),this._add(t,e,i,r)};var nB=function(){function n(){}return n.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?Oo.shared:new Oo},n.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},n}(),iB=function(){function n(){}return n.add=function(){Zi.setExtensionLoadType("svg",Zi.LOAD_TYPE.XHR),Zi.setExtensionXhrType("svg",Zi.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){!t.data||t.type!==Zi.TYPE.IMAGE&&"svg"!==t.extension?e():Gt.fromLoader(t.data,t.url,t.name,t.metadata).then(function(a){t.texture=a,e()}).catch(e)},n}(),rB=self.URL||self.webkitURL;Oo.registerPlugin({use:function kne(n,t){if(n.data){if(n.xhr&&n.xhrType===Zi.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof n.data){if(0===n.data.type.indexOf("image")){var i=rB.createObjectURL(n.data);return n.blob=n.data,n.data=new Image,n.data.src=i,n.type=Zi.TYPE.IMAGE,void(n.data.onload=function(){rB.revokeObjectURL(i),n.data.onload=null,t()})}}else{var e=n.xhr.getResponseHeader("content-type");if(e&&0===e.indexOf("image"))return n.data=new Image,n.data.src="data:"+e+";base64,"+function Nne(n){for(var t="",e=0;e<n.length;){for(var i=[0,0,0],r=[0,0,0,0],o=0;o<i.length;++o)i[o]=e<n.length?255&n.charCodeAt(e++):0;switch(r[0]=i[0]>>2,r[1]=(3&i[0])<<4|i[1]>>4,r[2]=(15&i[1])<<2|i[2]>>6,r[3]=63&i[2],e-(n.length-1)){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(o=0;o<r.length;++o)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(r[o])}return t}(n.xhr.responseText),n.type=Zi.TYPE.IMAGE,void(n.data.onload=function(){n.data.onload=null,t()})}t()}else t()}}),Oo.registerPlugin(iB);var vi,fn=(()=>(function(n){n[n.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",n[n.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",n[n.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",n[n.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",n[n.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",n[n.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",n[n.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",n[n.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",n[n.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",n[n.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",n[n.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",n[n.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",n[n.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",n[n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",n[n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",n[n.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",n[n.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",n[n.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",n[n.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(fn||(fn={})),fn))(),c_=((vi={})[fn.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,vi[fn.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,vi[fn.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,vi[fn.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,vi[fn.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,vi[fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,vi[fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,vi[fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,vi[fn.COMPRESSED_R11_EAC]=.5,vi[fn.COMPRESSED_SIGNED_R11_EAC]=.5,vi[fn.COMPRESSED_RG11_EAC]=1,vi[fn.COMPRESSED_SIGNED_RG11_EAC]=1,vi[fn.COMPRESSED_RGB8_ETC2]=.5,vi[fn.COMPRESSED_RGBA8_ETC2_EAC]=1,vi[fn.COMPRESSED_SRGB8_ETC2]=.5,vi[fn.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,vi[fn.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,vi[fn.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,vi[fn.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,vi[fn.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,vi[fn.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,vi[fn.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,vi[fn.COMPRESSED_RGB_ETC1_WEBGL]=.5,vi[fn.COMPRESSED_RGB_ATC_WEBGL]=.5,vi[fn.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,vi[fn.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,vi),lO=function(n,t){return(lO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function oB(n,t){function e(){this.constructor=n}lO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var h_,La,sB=function(n){function t(e,i){void 0===i&&(i={width:1,height:1,autoLoad:!0});var o,s,r=this;return"string"==typeof e?(o=e,s=new Uint8Array):(o=null,s=e),(r=n.call(this,s,i)||this).origin=o,r.buffer=s?new zy(s):null,r.origin&&!1!==i.autoLoad&&r.load(),s&&s.length&&(r.loaded=!0,r.onBlobLoaded(r.buffer.rawBinaryData)),r}return oB(t,n),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return function Fne(n,t,e,i){return new(e||(e=Promise))(function(r,o){function s(u){try{l(i.next(u))}catch(g){o(g)}}function a(u){try{l(i.throw(u))}catch(g){o(g)}}function l(u){u.done?r(u.value):new e(function(g){g(u.value)}).then(s,a)}l((i=i.apply(n,t||[])).next())})}(this,void 0,Promise,function(){var r;return function Bne(n,t){var i,r,o,s,e={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(g){return function l(u){if(i)throw new TypeError("Generator is already executing.");for(;e;)try{if(i=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return e.label++,{value:u[1],done:!1};case 5:e.label++,r=u[1],u=[0];continue;case 7:u=e.ops.pop(),e.trys.pop();continue;default:if(!(o=(o=e.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){e=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){e.label=u[1];break}if(6===u[0]&&e.label<o[1]){e.label=o[1],o=u;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(u);break}o[2]&&e.ops.pop(),e.trys.pop();continue}u=t.call(n,e)}catch(g){u=[6,g],r=0}finally{i=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,g])}}}(this,function(o){switch(o.label){case 0:return[4,fetch(this.origin)];case 1:return[4,o.sent().blob()];case 2:return[4,o.sent().arrayBuffer()];case 3:return r=o.sent(),this.data=new Uint32Array(r),this.buffer=new zy(r),this.loaded=!0,this.onBlobLoaded(r),this.update(),[2,this]}})})},t}(Hf),Ky=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.format=i.format,r.levels=i.levels||1,r._width=i.width,r._height=i.height,r._extension=t._formatToExtension(r.format),(i.levelBuffers||r.buffer)&&(r._levelBuffers=i.levelBuffers||t._createLevelBuffers(e instanceof Uint8Array?e:r.buffer.uint8View,r.format,r.levels,4,4,r.width,r.height)),r}return oB(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,l=this.levels;a<l;a++){var u=this._levelBuffers[a];o.compressedTexImage2D(o.TEXTURE_2D,u.levelID,this.format,u.levelWidth,u.levelHeight,0,u.levelBuffer)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,i,r,o,s,a,l){for(var u=new Array(r),g=e.byteOffset,E=a,w=l,P=E+o-1&~(o-1),A=w+s-1&~(s-1),D=P*A*c_[i],B=0;B<r;B++)u[B]={levelID:B,levelWidth:r>1?E:P,levelHeight:r>1?w:A,levelBuffer:new Uint8Array(e.buffer,g,D)},g+=D,D=(P=(E=E>>1||1)+o-1&~(o-1))*(A=(w=w>>1||1)+s-1&~(s-1))*c_[i];return u},t}(sB),aB=function(){function n(){}return n.use=function(t,e){var i=t.data;if(t.type===Zi.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var o=i.textures,s=void 0,a=void 0,l=0,u=o.length;l<u;l++){var g=o[l],E=g.src,w=g.format;if(w||(a=E),n.textureFormats[w]){s=E;break}}if(!(s=s||a))return void e(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void e(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var P={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},A=Vc.resolve(t.url.replace(this.baseUrl,""),s);this.add(i.cacheID,A,P,function(B){if(B.error)e(B.error);else{var Y=B.texture,re=B.textures;Object.assign(t,{texture:void 0===Y?null:Y,textures:void 0===re?{}:re}),e()}})}else e()},n.add=function(){var e=document.createElement("canvas").getContext("webgl");if(e){var i={s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};for(var r in n.textureExtensions=i,n.textureFormats={},i){var o=i[r];!o||Object.assign(n.textureFormats,Object.getPrototypeOf(o))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},n}();function lB(n,t,e){var i={textures:{},texture:null};if(!t)return i;var r=t.map(function(o){return new Gt(new Jn(o,Object.assign({mipmap:jo.OFF,alphaMode:Qr.NO_PREMULTIPLIED_ALPHA},e)))});return r.forEach(function(o,s){var a=o.baseTexture,l=n+"-"+(s+1);Jn.addToCache(a,l),Gt.addToCache(o,l),0===s&&(Jn.addToCache(a,n),Gt.addToCache(o,n),i.texture=o),i.textures[l]=o}),i}Zi.setExtensionXhrType("dds",Zi.XHR_RESPONSE_TYPE.BUFFER);var zf,eh,d_,Js=(()=>(function(n){n[n.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",n[n.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",n[n.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",n[n.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",n[n.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",n[n.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",n[n.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",n[n.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",n[n.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",n[n.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",n[n.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",n[n.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",n[n.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",n[n.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",n[n.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",n[n.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",n[n.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",n[n.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",n[n.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",n[n.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",n[n.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",n[n.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",n[n.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",n[n.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",n[n.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",n[n.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",n[n.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",n[n.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",n[n.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",n[n.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",n[n.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",n[n.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",n[n.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",n[n.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",n[n.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",n[n.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",n[n.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",n[n.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",n[n.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",n[n.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",n[n.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",n[n.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",n[n.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",n[n.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",n[n.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",n[n.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",n[n.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",n[n.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",n[n.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",n[n.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",n[n.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",n[n.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",n[n.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",n[n.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",n[n.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",n[n.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",n[n.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",n[n.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",n[n.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",n[n.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",n[n.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",n[n.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",n[n.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",n[n.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",n[n.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",n[n.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",n[n.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",n[n.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",n[n.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",n[n.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",n[n.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",n[n.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",n[n.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",n[n.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",n[n.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",n[n.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",n[n.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",n[n.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",n[n.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",n[n.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",n[n.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",n[n.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",n[n.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",n[n.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",n[n.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",n[n.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",n[n.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",n[n.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",n[n.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",n[n.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",n[n.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",n[n.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",n[n.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",n[n.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",n[n.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",n[n.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",n[n.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",n[n.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",n[n.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",n[n.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",n[n.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",n[n.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",n[n.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",n[n.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",n[n.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",n[n.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",n[n.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",n[n.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",n[n.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",n[n.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",n[n.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",n[n.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",n[n.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",n[n.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",n[n.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",n[n.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",n[n.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(Js||(Js={})),Js))(),Zy=(()=>(function(n){n[n.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",n[n.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",n[n.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(Zy||(Zy={})),Zy))(),Qne=((h_={})[827611204]=fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,h_[861165636]=fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,h_[894720068]=fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,h_),Zne=((La={})[Js.DXGI_FORMAT_BC1_TYPELESS]=fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,La[Js.DXGI_FORMAT_BC1_UNORM]=fn.COMPRESSED_RGBA_S3TC_DXT1_EXT,La[Js.DXGI_FORMAT_BC2_TYPELESS]=fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,La[Js.DXGI_FORMAT_BC2_UNORM]=fn.COMPRESSED_RGBA_S3TC_DXT3_EXT,La[Js.DXGI_FORMAT_BC3_TYPELESS]=fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,La[Js.DXGI_FORMAT_BC3_UNORM]=fn.COMPRESSED_RGBA_S3TC_DXT5_EXT,La[Js.DXGI_FORMAT_BC1_UNORM_SRGB]=fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,La[Js.DXGI_FORMAT_BC2_UNORM_SRGB]=fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,La[Js.DXGI_FORMAT_BC3_UNORM_SRGB]=fn.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,La),cB=function(){function n(){}return n.use=function(t,e){if("dds"===t.extension&&t.data)try{Object.assign(t,lB(t.name||t.url,n.parse(t.data),t.metadata))}catch(i){return void e(i)}e()},n.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var r=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),o=r[3],s=r[4],a=r[7],l=new Uint32Array(t,19*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),u=l[1];if(4&u){var g=l[2];if(808540228!==g){var E=Qne[g],P=new Uint8Array(t,128);return[new Ky(P,{format:E,width:s,height:o,levels:a})]}var B=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),Y=B[0],K=B[1],re=B[2],ae=B[3],te=Zne[Y];if(void 0===te)throw new Error("DDSLoader cannot parse texture data with DXGI format "+Y);if(4===re)throw new Error("DDSLoader does not support cubemap textures");if(K===Zy.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var ne=new Array;if(1===ae)ne.push(new Uint8Array(t,148));else{for(var Ie=c_[te],ye=0,Ve=s,nt=o,it=0;it<a;it++)ye+=Math.max(1,Ve+3&-4)*Math.max(1,nt+3&-4)*Ie,Ve>>>=1,nt>>>=1;var De=148;for(it=0;it<ae;it++)ne.push(new Uint8Array(t,De,ye)),De+=ye}return ne.map(function(Ke){return new Ky(Ke,{format:te,width:s,height:o,levels:a})})}throw 64&u?new Error("DDSLoader does not support uncompressed texture data."):512&u?new Error("DDSLoader does not supported YUV uncompressed texture data."):131072&u?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):2&u?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},n}();Zi.setExtensionXhrType("ktx",Zi.XHR_RESPONSE_TYPE.BUFFER);var hB=[171,75,84,88,32,49,49,187,13,10,26,10],cO=((zf={})[yt.UNSIGNED_BYTE]=1,zf[yt.UNSIGNED_SHORT]=2,zf[yt.FLOAT]=4,zf[yt.HALF_FLOAT]=8,zf),dB=((eh={})[He.RGBA]=4,eh[He.RGB]=3,eh[He.LUMINANCE]=1,eh[He.LUMINANCE_ALPHA]=2,eh[He.ALPHA]=1,eh),fB=((d_={})[yt.UNSIGNED_SHORT_4_4_4_4]=2,d_[yt.UNSIGNED_SHORT_5_5_5_1]=2,d_[yt.UNSIGNED_SHORT_5_6_5]=2,d_),pB=function(){function n(){}return n.use=function(t,e){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url;Object.assign(t,lB(i,n.parse(i,t.data),t.metadata))}catch(r){return void e(r)}e()},n.parse=function(t,e){var i=new DataView(e);if(!n.validate(t,i))return null;var r=67305985===i.getUint32(12,!0),o=i.getUint32(16,r),s=i.getUint32(24,r),a=i.getUint32(28,r),l=i.getUint32(36,r),u=i.getUint32(40,r)||1,g=i.getUint32(44,r)||1,E=i.getUint32(48,r)||1,w=i.getUint32(52,r),P=i.getUint32(56,r),A=i.getUint32(60,r);if(0===u||1!==g)throw new Error("Only 2D textures are supported");if(1!==w)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==E)throw new Error("WebGL does not support array textures");var te,Y=l+3&-4,K=u+3&-4,re=new Array(E),ae=l*u;if(0===o&&(ae=Y*K),void 0===(te=0!==o?cO[o]?cO[o]*dB[s]:fB[o]:c_[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Oe=ae*te,Ie=l,ye=u,Ve=Y,nt=K,it=64+A,Ze=0;Ze<P;Ze++){for(var At=i.getUint32(it,r),$e=it+4,De=0;De<E;De++){var Ke=re[De];Ke||(Ke=re[De]=new Array(P)),Ke[Ze]={levelID:Ze,levelWidth:P>1?Ie:Ve,levelHeight:P>1?ye:nt,levelBuffer:new Uint8Array(e,$e,Oe)},$e+=Oe}it=(it+=At+4)%4!=0?it+4-it%4:it,Oe=(Ve=(Ie=Ie>>1||1)+4-1&-4)*(nt=(ye=ye>>1||1)+4-1&-4)*te}if(0!==o)throw new Error("TODO: Uncompressed");return re.map(function(ht){return new Ky(null,{format:a,width:l,height:u,levels:P,levelBuffers:ht})})},n.validate=function(t,e){for(var i=0;i<hB.length;i++)if(e.getUint8(i)!==hB[i])return console.error(t+" is not a valid *.ktx file!"),!1;return!0},n}(),hO=function(n,t){return(hO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function gB(n,t){function e(){this.constructor=n}hO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var _B=function(n){function t(e,i,r,o){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===o&&(o=!1);var s=n.call(this)||this;return r>16384&&(r=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=e,s._batchSize=r,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=Ue.NORMAL,s.autoResize=o,s.roundPixels=!0,s.baseTexture=null,s.setProperties(i),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return gB(t,n),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,Xl(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var i=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return i.onChildrenChange(0)})),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var i=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<i;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[i]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},t}(zi),mB=function(){function n(t,e,i){this.geometry=new Yf,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var o=t[r];o={attributeName:o.attributeName,size:o.size,uploadFunction:o.uploadFunction,type:o.type||yt.FLOAT,offset:o.offset},e[r]?this.dynamicProperties.push(o):this.staticProperties.push(o)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return n.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new Ir(Wk(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i)(r=this.dynamicProperties[i]).offset=e,e+=r.size,this.dynamicStride+=r.size;var o=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(o),this.dynamicDataUint32=new Uint32Array(o),this.dynamicBuffer=new Ir(this.dynamicData,!1,!1);var s=0;for(this.staticStride=0,i=0;i<this.staticProperties.length;++i)(r=this.staticProperties[i]).offset=s,s+=r.size,this.staticStride+=r.size;var a=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Ir(this.staticData,!0,!1),i=0;i<this.dynamicProperties.length;++i)t.addAttribute((r=this.dynamicProperties[i]).attributeName,this.dynamicBuffer,0,r.type===yt.UNSIGNED_BYTE,r.type,4*this.dynamicStride,4*r.offset);for(i=0;i<this.staticProperties.length;++i){var r;t.addAttribute((r=this.staticProperties[i]).attributeName,this.staticBuffer,0,r.type===yt.UNSIGNED_BYTE,r.type,4*this.staticStride,4*r.offset)}},n.prototype.uploadDynamic=function(t,e,i){for(var r=0;r<this.dynamicProperties.length;r++){var o=this.dynamicProperties[r];o.uploadFunction(t,e,i,o.type===yt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,o.offset)}this.dynamicBuffer._updateID++},n.prototype.uploadStatic=function(t,e,i){for(var r=0;r<this.staticProperties.length;r++){var o=this.staticProperties[r];o.uploadFunction(t,e,i,o.type===yt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,o.offset)}this.staticBuffer._updateID++},n.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},n}(),vB=function(n){function t(e){var i=n.call(this,e)||this;return i.shader=null,i.properties=null,i.tempMatrix=new pi,i.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:i.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:i.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:i.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:i.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:yt.UNSIGNED_BYTE,uploadFunction:i.uploadTint,offset:0}],i.shader=Kl.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),i.state=$u.for2d(),i}return gB(t,n),t.prototype.render=function(e){var i=e.children,r=e._maxSize,o=e._batchSize,s=this.renderer,a=i.length;if(0!==a){a>r&&!e.autoResize&&(a=r);var l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));var u=i[0]._texture.baseTexture;this.state.blendMode=sC(e.blendMode,u.alphaMode),s.state.set(this.state);var g=s.gl,E=e.worldTransform.copyTo(this.tempMatrix);E.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=E.toArray(!0),this.shader.uniforms.uColor=Yk(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u.alphaMode),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);for(var w=!1,P=0,A=0;P<a;P+=o,A+=1){var D=a-P;D>o&&(D=o),A>=l.length&&l.push(this._generateOneMoreBuffer(e));var B=l[A];B.uploadDynamic(i,P,D),(w=w||B._updateID<(e._bufferUpdateIDs[A]||0))&&(B._updateID=e._updateID,B.uploadStatic(i,P,D)),s.geometry.bind(B.geometry),g.drawElements(g.TRIANGLES,6*D,g.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var i=[],r=e._maxSize,o=e._batchSize,s=e._properties,a=0;a<r;a+=o)i.push(new mB(this.properties,s,o));return i},t.prototype._generateOneMoreBuffer=function(e){return new mB(this.properties,e._properties,e._batchSize)},t.prototype.uploadVertices=function(e,i,r,o,s,a){for(var l=0,u=0,g=0,E=0,w=0;w<r;++w){var P=e[i+w],A=P._texture,D=P.scale.x,B=P.scale.y,Y=A.trim,K=A.orig;Y?(l=(u=Y.x-P.anchor.x*K.width)+Y.width,g=(E=Y.y-P.anchor.y*K.height)+Y.height):(l=K.width*(1-P.anchor.x),u=K.width*-P.anchor.x,g=K.height*(1-P.anchor.y),E=K.height*-P.anchor.y),o[a]=u*D,o[a+1]=E*B,o[a+s]=l*D,o[a+s+1]=E*B,o[a+2*s]=l*D,o[a+2*s+1]=g*B,o[a+3*s]=u*D,o[a+3*s+1]=g*B,a+=4*s}},t.prototype.uploadPosition=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var u=e[i+l].position;o[a]=u.x,o[a+1]=u.y,o[a+s]=u.x,o[a+s+1]=u.y,o[a+2*s]=u.x,o[a+2*s+1]=u.y,o[a+3*s]=u.x,o[a+3*s+1]=u.y,a+=4*s}},t.prototype.uploadRotation=function(e,i,r,o,s,a){for(var l=0;l<r;l++){var u=e[i+l].rotation;o[a]=u,o[a+s]=u,o[a+2*s]=u,o[a+3*s]=u,a+=4*s}},t.prototype.uploadUvs=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var u=e[i+l]._texture._uvs;u?(o[a]=u.x0,o[a+1]=u.y0,o[a+s]=u.x1,o[a+s+1]=u.y1,o[a+2*s]=u.x2,o[a+2*s+1]=u.y2,o[a+3*s]=u.x3,o[a+3*s+1]=u.y3,a+=4*s):(o[a]=0,o[a+1]=0,o[a+s]=0,o[a+s+1]=0,o[a+2*s]=0,o[a+2*s+1]=0,o[a+3*s]=0,o[a+3*s+1]=0,a+=4*s)}},t.prototype.uploadTint=function(e,i,r,o,s,a){for(var l=0;l<r;++l){var u=e[i+l],E=u.alpha,w=E<1&&u._texture.baseTexture.alphaMode>0?Ty(u._tintRGB,E):u._tintRGB+(255*E<<24);o[a]=w,o[a+s]=w,o[a+2*s]=w,o[a+3*s]=w,a+=4*s}},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(o_),hl=(()=>(function(n){n.MITER="miter",n.BEVEL="bevel",n.ROUND="round"}(hl||(hl={})),hl))(),dl=(()=>(function(n){n.BUTT="butt",n.ROUND="round",n.SQUARE="square"}(dl||(dl={})),dl))(),$f={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(n,t){if(void 0===t&&(t=20),!this.adaptive||!n||isNaN(n))return t;var e=Math.ceil(n/this.maxLength);return e<this.minSegments?e=this.minSegments:e>this.maxSegments&&(e=this.maxSegments),e}},dO=function(){function n(){this.color=16777215,this.alpha=1,this.texture=Gt.WHITE,this.matrix=null,this.visible=!1,this.reset()}return n.prototype.clone=function(){var t=new n;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},n.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Gt.WHITE,this.matrix=null,this.visible=!1},n.prototype.destroy=function(){this.texture=null,this.matrix=null},n}(),fO=function(n,t){return(fO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function pO(n,t){function e(){this.constructor=n}fO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var gO={build:function(n){n.points=n.shape.points.slice()},triangulate:function(n,t){var e=n.points,i=n.holes,r=t.points,o=t.indices;if(e.length>=6){for(var s=[],a=0;a<i.length;a++){var l=i[a];s.push(e.length/2),e=e.concat(l.points)}var u=ZT()(e,s,2);if(!u)return;var g=r.length/2;for(a=0;a<u.length;a+=3)o.push(u[a]+g),o.push(u[a+1]+g),o.push(u[a+2]+g);for(a=0;a<e.length;a++)r.push(e[a])}}},_O={build:function(n){var o,s,t=n.shape,e=n.points,i=t.x,r=t.y;if(e.length=0,n.type===ei.CIRC)o=t.radius,s=t.radius;else{var a=n.shape;o=a.width,s=a.height}if(0!==o&&0!==s){var l=Math.floor(30*Math.sqrt(t.radius))||Math.floor(15*Math.sqrt(o+s));l/=2.3;for(var u=2*Math.PI/l,g=0;g<l-.5;g++)e.push(i+Math.sin(-u*g)*o,r+Math.cos(-u*g)*s);e.push(e[0],e[1])}},triangulate:function(n,t){var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=o,a=n.shape,l=n.matrix,u=a.x,g=a.y;i.push(n.matrix?l.a*u+l.c*g+l.tx:u,n.matrix?l.b*u+l.d*g+l.ty:g);for(var E=0;E<e.length;E+=2)i.push(e[E],e[E+1]),r.push(o++,s,o)}},yB={build:function(n){var t=n.shape,e=t.x,i=t.y,r=t.width,o=t.height,s=n.points;s.length=0,s.push(e,i,e+r,i,e+r,i+o,e,i+o)},triangulate:function(n,t){var e=n.points,i=t.points,r=i.length/2;i.push(e[0],e[1],e[2],e[3],e[6],e[7],e[4],e[5]),t.indices.push(r,r+1,r+2,r+1,r+2,r+3)}};function Xf(n,t,e){return n+(t-n)*e}function e0(n,t,e,i,r,o,s){void 0===s&&(s=[]);for(var l=s,u=0,g=0,E=0,w=0,P=0,A=0,D=0,B=0;D<=20;++D)u=Xf(n,e,B=D/20),g=Xf(t,i,B),E=Xf(e,r,B),w=Xf(i,o,B),P=Xf(u,E,B),A=Xf(g,w,B),(0!==D||l[l.length-2]!==P||l[l.length-1]!==A)&&l.push(P,A);return l}var bB={build:function(n){var t=n.shape,e=n.points,i=t.x,r=t.y,o=t.width,s=t.height,a=Math.max(0,Math.min(t.radius,Math.min(o,s)/2));e.length=0,a?(e0(i,r+a,i,r,i+a,r,e),e0(i+o-a,r,i+o,r,i+o,r+a,e),e0(i+o,r+s-a,i+o,r+s,i+o-a,r+s,e),e0(i+a,r+s,i,r+s,i,r+s-a,e)):e.push(i,r,i+o,r,i+o,r+s,i,r+s)},triangulate:function(n,t){for(var e=n.points,i=t.points,r=t.indices,o=i.length/2,s=ZT()(e,null,2),a=0,l=s.length;a<l;a+=3)r.push(s[a]+o),r.push(s[a+1]+o),r.push(s[a+2]+o);for(a=0,l=e.length;a<l;a++)i.push(e[a],e[++a])}};function EB(n,t,e,i,r,o,s,a){var w,P;s?(w=i,P=-e):(w=-i,P=e);var B=n+e*o+w,Y=t+i*o+P;return a.push(n-e*r+w,t-i*r+P),a.push(B,Y),2}function Kf(n,t,e,i,r,o,s,a){var l=e-n,u=i-t,g=Math.atan2(l,u),E=Math.atan2(r-n,o-t);a&&g<E?g+=2*Math.PI:!a&&g>E&&(E+=2*Math.PI);var w=g,P=E-g,A=Math.abs(P),D=Math.sqrt(l*l+u*u),B=1+(15*A*Math.sqrt(D)/Math.PI>>0),Y=P/B;if(w+=Y,a){s.push(n,t),s.push(e,i);for(var K=1,re=w;K<B;K++,re+=Y)s.push(n,t),s.push(n+Math.sin(re)*D,t+Math.cos(re)*D);s.push(n,t),s.push(r,o)}else{for(s.push(e,i),s.push(n,t),K=1,re=w;K<B;K++,re+=Y)s.push(n+Math.sin(re)*D,t+Math.cos(re)*D),s.push(n,t);s.push(r,o),s.push(n,t)}return 2*B}function mO(n,t){n.lineStyle.native?function oie(n,t){var e=0,i=n.shape,r=n.points||i.points,o=i.type!==ei.POLY||i.closeStroke;if(0!==r.length){var s=t.points,a=t.indices,l=r.length/2,u=s.length/2,g=u;for(s.push(r[0],r[1]),e=1;e<l;e++)s.push(r[2*e],r[2*e+1]),a.push(g,g+1),g++;o&&a.push(g,u)}}(n,t):function rie(n,t){var e=n.shape,i=n.points||e.points.slice(),r=t.closePointEps;if(0!==i.length){var o=n.lineStyle,s=new Ni(i[0],i[1]),a=new Ni(i[i.length-2],i[i.length-1]),l=e.type!==ei.POLY||e.closeStroke,u=Math.abs(s.x-a.x)<r&&Math.abs(s.y-a.y)<r;if(l){i=i.slice(),u&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var g=.5*(s.x+a.x),E=.5*(a.y+s.y);i.unshift(g,E),i.push(g,E)}var w=t.points,P=i.length/2,A=i.length,D=w.length/2,B=o.width/2,Y=B*B,K=o.miterLimit*o.miterLimit,re=i[0],ae=i[1],te=i[2],ne=i[3],Oe=0,Ie=0,ye=-(ae-ne),Ve=re-te,nt=0,it=0,Ze=Math.sqrt(ye*ye+Ve*Ve);ye/=Ze,Ve/=Ze,ye*=B,Ve*=B;var At=o.alignment,$e=2*(1-At),De=2*At;l||(o.cap===dl.ROUND?A+=Kf(re-ye*($e-De)*.5,ae-Ve*($e-De)*.5,re-ye*$e,ae-Ve*$e,re+ye*De,ae+Ve*De,w,!0)+2:o.cap===dl.SQUARE&&(A+=EB(re,ae,ye,Ve,$e,De,!0,w))),w.push(re-ye*$e,ae-Ve*$e),w.push(re+ye*De,ae+Ve*De);for(var Ke=1;Ke<P-1;++Ke){Oe=i[2*(Ke+1)],Ie=i[2*(Ke+1)+1],ye=-((ae=i[2*(Ke-1)+1])-(ne=i[2*Ke+1])),Ve=(re=i[2*(Ke-1)])-(te=i[2*Ke]),ye/=Ze=Math.sqrt(ye*ye+Ve*Ve),Ve/=Ze,ye*=B,Ve*=B,nt=-(ne-Ie),it=te-Oe,nt/=Ze=Math.sqrt(nt*nt+it*it),it/=Ze,nt*=B,it*=B;var ht=te-re,wt=ae-ne,We=te-Oe,bt=Ie-ne,Dt=wt*We-bt*ht,Nt=Dt<0;if(Math.abs(Dt)<.1)w.push(te-ye*$e,ne-Ve*$e),w.push(te+ye*De,ne+Ve*De);else{var Rt=(-ye+re)*(-Ve+ne)-(-ye+te)*(-Ve+ae),ui=(-nt+Oe)*(-it+ne)-(-nt+te)*(-it+Ie),Bn=(ht*ui-We*Rt)/Dt,pn=(bt*Rt-wt*ui)/Dt,Hn=(Bn-te)*(Bn-te)+(pn-ne)*(pn-ne),En=te+(Bn-te)*$e,un=ne+(pn-ne)*$e,tn=te-(Bn-te)*De,Yn=ne-(pn-ne)*De,ro=Nt?$e:De;Hn<=Math.min(ht*ht+wt*wt,We*We+bt*bt)+ro*ro*Y?o.join===hl.BEVEL||Hn/Y>K?(Nt?(w.push(En,un),w.push(te+ye*De,ne+Ve*De),w.push(En,un),w.push(te+nt*De,ne+it*De)):(w.push(te-ye*$e,ne-Ve*$e),w.push(tn,Yn),w.push(te-nt*$e,ne-it*$e),w.push(tn,Yn)),A+=2):o.join===hl.ROUND?Nt?(w.push(En,un),w.push(te+ye*De,ne+Ve*De),A+=Kf(te,ne,te+ye*De,ne+Ve*De,te+nt*De,ne+it*De,w,!0)+4,w.push(En,un),w.push(te+nt*De,ne+it*De)):(w.push(te-ye*$e,ne-Ve*$e),w.push(tn,Yn),A+=Kf(te,ne,te-ye*$e,ne-Ve*$e,te-nt*$e,ne-it*$e,w,!1)+4,w.push(te-nt*$e,ne-it*$e),w.push(tn,Yn)):(w.push(En,un),w.push(tn,Yn)):(w.push(te-ye*$e,ne-Ve*$e),w.push(te+ye*De,ne+Ve*De),o.join===hl.BEVEL||Hn/Y>K||(o.join===hl.ROUND?A+=Nt?Kf(te,ne,te+ye*De,ne+Ve*De,te+nt*De,ne+it*De,w,!0)+2:Kf(te,ne,te-ye*$e,ne-Ve*$e,te-nt*$e,ne-it*$e,w,!1)+2:(Nt?(w.push(tn,Yn),w.push(tn,Yn)):(w.push(En,un),w.push(En,un)),A+=2)),w.push(te-nt*$e,ne-it*$e),w.push(te+nt*De,ne+it*De),A+=2)}}ye=-((ae=i[2*(P-2)+1])-(ne=i[2*(P-1)+1])),Ve=(re=i[2*(P-2)])-(te=i[2*(P-1)]),ye/=Ze=Math.sqrt(ye*ye+Ve*Ve),Ve/=Ze,w.push(te-(ye*=B)*$e,ne-(Ve*=B)*$e),w.push(te+ye*De,ne+Ve*De),l||(o.cap===dl.ROUND?A+=Kf(te-ye*($e-De)*.5,ne-Ve*($e-De)*.5,te-ye*$e,ne-Ve*$e,te+ye*De,ne+Ve*De,w,!1)+2:o.cap===dl.SQUARE&&(A+=EB(te,ne,ye,Ve,$e,De,!1,w)));var Dl=t.indices,Vp=$f.epsilon*$f.epsilon;for(Ke=D;Ke<A+D-2;++Ke)re=w[2*Ke],ae=w[2*Ke+1],te=w[2*(Ke+1)],ne=w[2*(Ke+1)+1],Oe=w[2*(Ke+2)],Ie=w[2*(Ke+2)+1],!(Math.abs(re*(ne-Ie)+te*(Ie-ae)+Oe*(ae-ne))<Vp)&&Dl.push(Ke,Ke+1,Ke+2)}}(n,t)}var th,vO=function(){function n(){}return n.curveTo=function(t,e,i,r,o,s){var u=s[s.length-1]-e,g=s[s.length-2]-t,E=r-e,w=i-t,P=Math.abs(u*w-g*E);if(P<1e-8||0===o)return(s[s.length-2]!==t||s[s.length-1]!==e)&&s.push(t,e),null;var A=u*u+g*g,D=E*E+w*w,B=u*E+g*w,Y=o*Math.sqrt(A)/P,K=o*Math.sqrt(D)/P,re=Y*B/A,ae=K*B/D,te=Y*w+K*g,ne=Y*E+K*u,ye=w*(Y+ae),Ve=E*(Y+ae);return{cx:te+t,cy:ne+e,radius:o,startAngle:Math.atan2(u*(K+re)-ne,g*(K+re)-te),endAngle:Math.atan2(Ve-ne,ye-te),anticlockwise:g*E>w*u}},n.arc=function(t,e,i,r,o,s,a,l,u){for(var g=a-s,E=$f._segmentsCount(Math.abs(g)*o,40*Math.ceil(Math.abs(g)/e_)),w=g/(2*E),P=2*w,A=Math.cos(w),D=Math.sin(w),B=E-1,Y=B%1/B,K=0;K<=B;++K){var ae=w+s+P*(K+Y*K),te=Math.cos(ae),ne=-Math.sin(ae);u.push((A*te+D*ne)*o+i,(A*-ne+D*te)*o+r)}},n}(),SB=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s,a,l){for(var g=0,E=0,w=0,P=0,A=0,D=0,B=0,Y=0,K=0,re=0,ae=0,te=t,ne=e,Oe=1;Oe<=10;++Oe)re=te-(Y=(B=(D=(A=1-(E=Oe/10))*A)*A)*t+3*D*E*i+3*A*(w=E*E)*o+(P=w*E)*a),ae=ne-(K=B*e+3*D*E*r+3*A*w*s+P*l),te=Y,ne=K,g+=Math.sqrt(re*re+ae*ae);return g},n.curveTo=function(t,e,i,r,o,s,a){var l=a[a.length-2],u=a[a.length-1];a.length-=2;var g=$f._segmentsCount(n.curveLength(l,u,t,e,i,r,o,s)),E=0,w=0,P=0,A=0,D=0;a.push(l,u);for(var B=1,Y=0;B<=g;++B)a.push((P=(w=(E=1-(Y=B/g))*E)*E)*l+3*w*Y*t+3*E*(A=Y*Y)*i+(D=A*Y)*o,P*u+3*w*Y*e+3*E*A*r+D*s)},n}(),TB=function(){function n(){}return n.curveLength=function(t,e,i,r,o,s){var a=t-2*i+o,l=e-2*r+s,u=2*i-2*t,g=2*r-2*e,E=4*(a*a+l*l),w=4*(a*u+l*g),P=u*u+g*g,A=2*Math.sqrt(E+w+P),D=Math.sqrt(E),B=2*E*D,Y=2*Math.sqrt(P),K=w/D;return(B*A+D*w*(A-Y)+(4*P*E-w*w)*Math.log((2*D+K+A)/(K+Y)))/(4*B)},n.curveTo=function(t,e,i,r,o){for(var s=o[o.length-2],a=o[o.length-1],l=$f._segmentsCount(n.curveLength(s,a,t,e,i,r)),u=0,g=0,E=1;E<=l;++E){var w=E/l;o.push((u=s+(t-s)*w)+(t+(i-t)*w-u)*w,(g=a+(e-a)*w)+(e+(r-e)*w-g)*w)}},n}(),CB=function(){function n(){this.reset()}return n.prototype.begin=function(t,e,i){this.reset(),this.style=t,this.start=e,this.attribStart=i},n.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},n.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},n}(),t0=((th={})[ei.POLY]=gO,th[ei.CIRC]=_O,th[ei.ELIP]=_O,th[ei.RECT]=yB,th[ei.RREC]=bB,th),yO=[],f_=[];function sie(n){for(var t=n.points,e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0}var bO=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=null),void 0===r&&(r=null),this.points=[],this.holes=[],this.shape=t,this.lineStyle=i,this.fillStyle=e,this.matrix=r,this.type=t.type}return n.prototype.clone=function(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)},n.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},n}(),qf=new Ni,aie=new Vf,OB=function(n){function t(){var e=n.call(this)||this;return e.closePointEps=1e-4,e.boundsPadding=0,e.uvsFloat32=null,e.indicesUint16=null,e.batchable=!1,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.drawCalls=[],e.batchDirty=-1,e.batches=[],e.dirty=0,e.cacheDirty=-1,e.clearDirty=0,e.shapeIndex=0,e._bounds=new Vf,e.boundsDirty=-1,e}return pO(t,n),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),f_.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var i=this.batches[e];i.reset(),yO.push(i)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null);var s=new bO(e,i,r,o);return this.graphicsData.push(s),this.dirty++,this},t.prototype.drawHole=function(e,i){if(void 0===i&&(i=null),!this.graphicsData.length)return null;var r=new bO(e,null,null,i),o=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=o.lineStyle,o.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){n.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var i=this.graphicsData,r=0;r<i.length;++r){var o=i[r];if(o.fillStyle.visible&&o.shape&&(o.matrix?o.matrix.applyInverse(e,qf):qf.copyFrom(e),o.shape.contains(qf.x,qf.y))){var s=!1;if(o.holes)for(var a=0;a<o.holes.length;a++)if(o.holes[a].shape.contains(qf.x,qf.y)){s=!0;break}if(!s)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var i=this.uvs,r=this.graphicsData,o=null,s=null;this.batches.length>0&&(s=(o=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<r.length;a++){this.shapeIndex++;var l=r[a],u=l.fillStyle,g=l.lineStyle;t0[l.type].build(l),l.matrix&&this.transformPoints(l.points,l.matrix);for(var w=0;w<2;w++){var P=0===w?u:g;if(P.visible){var D=this.indices.length,B=this.points.length/2;P.texture.baseTexture.wrapMode=Xs.REPEAT,0===w?this.processFill(l):this.processLine(l);var Y=this.points.length/2-B;0!==Y&&(o&&!this._compareStyles(s,P)&&(o.end(D,B),o=null),o||((o=yO.pop()||new CB).begin(P,D,B),this.batches.push(o),s=P),this.addUvs(this.points,i,P.texture,B,Y,P.matrix))}}}var re=this.points.length/2;if(o&&o.end(this.indices.length,re),0===this.batches.length)return void(this.batchable=!0);this.indicesUint16&&this.indices.length===this.indicesUint16.length?this.indicesUint16.set(this.indices):this.indicesUint16=re>65535&&e?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,i){return!(!e||!i||e.texture.baseTexture!==i.texture.baseTexture||e.color+e.alpha!==i.color+i.alpha||!!e.native!=!!i.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,i=this.graphicsData.length;e<i;e++){var r=this.graphicsData[e],o=r.fillStyle,s=r.lineStyle;if(o&&!o.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,i=0,r=e.length;i<r;i++)for(var o=e[i],s=0;s<o.size;s++){var a=o.start+s;this.indicesUint16[a]=this.indicesUint16[a]-o.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,i=0;i<e.length;i++)if(e[i].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++Jn._globalBatch,i=0;i<this.drawCalls.length;i++)this.drawCalls[i].texArray.clear(),f_.push(this.drawCalls[i]);this.drawCalls.length=0;var r=this.colors,o=this.textureIds,s=f_.pop();s||((s=new Yy).texArray=new Wy),s.texArray.count=0,s.start=0,s.size=0,s.type=lo.TRIANGLES;var a=0,l=null,u=0,g=!1,E=lo.TRIANGLES,w=0;for(this.drawCalls.push(s),i=0;i<this.batches.length;i++){var P=this.batches[i],D=P.style,B=D.texture.baseTexture;g!==!!D.native&&(E=(g=!!D.native)?lo.LINES:lo.TRIANGLES,l=null,a=8,e++),l!==B&&(l=B,B._batchEnabled!==e&&(8===a&&(e++,a=0,s.size>0&&((s=f_.pop())||((s=new Yy).texArray=new Wy),this.drawCalls.push(s)),s.start=w,s.size=0,s.texArray.count=0,s.type=E),B.touched=1,B._batchEnabled=e,B._batchLocation=a,B.wrapMode=Xs.REPEAT,s.texArray.elements[s.texArray.count++]=B,a++)),s.size+=P.size,w+=P.size,u=B._batchLocation,this.addColors(r,D.color,D.alpha,P.attribSize,P.attribStart),this.addTextureIds(o,u,P.attribSize,P.attribStart)}Jn._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,i=this.uvs,r=this.colors,o=this.textureIds,s=new ArrayBuffer(3*e.length*4),a=new Float32Array(s),l=new Uint32Array(s),u=0,g=0;g<e.length/2;g++)a[u++]=e[2*g],a[u++]=e[2*g+1],a[u++]=i[2*g],a[u++]=i[2*g+1],l[u++]=r[g],a[u++]=o[g];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?(this.processHoles(e.holes),gO.triangulate(e,this)):t0[e.type].triangulate(e,this)},t.prototype.processLine=function(e){mO(e,this);for(var i=0;i<e.holes.length;i++)mO(e.holes[i],this)},t.prototype.processHoles=function(e){for(var i=0;i<e.length;i++){var r=e[i];t0[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,i=aie,r=pi.IDENTITY;this._bounds.clear(),i.clear();for(var o=0;o<this.graphicsData.length;o++){var s=this.graphicsData[o],a=s.shape,l=s.type,u=s.lineStyle,g=s.matrix||pi.IDENTITY,E=0;if(u&&u.visible){var w=u.alignment;E=u.width,l===ei.POLY?sie(a)?E*=1-w:E*=w:E*=Math.max(0,w)}r!==g&&(i.isEmpty()||(e.addBoundsMatrix(i,r),i.clear()),r=g),l===ei.RECT||l===ei.RREC?i.addFramePad(a.x,a.y,a.x+a.width,a.y+a.height,E,E):l===ei.CIRC?i.addFramePad(a.x,a.y,a.x,a.y,a.radius+E,a.radius+E):l===ei.ELIP?i.addFramePad(a.x,a.y,a.x,a.y,a.width+E,a.height+E):e.addVerticesMatrix(r,a.points,0,a.points.length,E,E)}i.isEmpty()||e.addBoundsMatrix(i,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,i){for(var r=0;r<e.length/2;r++){var o=e[2*r],s=e[2*r+1];e[2*r]=i.a*o+i.c*s+i.tx,e[2*r+1]=i.b*o+i.d*s+i.ty}},t.prototype.addColors=function(e,i,r,o,s){void 0===s&&(s=0);var l=Ty((i>>16)+(65280&i)+((255&i)<<16),r);e.length=Math.max(e.length,s+o);for(var u=0;u<o;u++)e[s+u]=l},t.prototype.addTextureIds=function(e,i,r,o){void 0===o&&(o=0),e.length=Math.max(e.length,o+r);for(var s=0;s<r;s++)e[o+s]=i},t.prototype.addUvs=function(e,i,r,o,s,a){void 0===a&&(a=null);for(var l=0,u=i.length,g=r.frame;l<s;){var E=e[2*(o+l)],w=e[2*(o+l)+1];if(a){var P=a.a*E+a.c*w+a.tx;w=a.b*E+a.d*w+a.ty,E=P}l++,i.push(E/g.width,w/g.height)}var A=r.baseTexture;(g.width<A.width||g.height<A.height)&&this.adjustUvs(i,r,u,s)},t.prototype.adjustUvs=function(e,i,r,o){for(var s=i.baseTexture,a=1e-6,l=r+2*o,u=i.frame,g=u.width/s.width,E=u.height/s.height,w=u.x/u.width,P=u.y/u.height,A=Math.floor(e[r]+a),D=Math.floor(e[r+1]+a),B=r+2;B<l;B+=2)A=Math.min(A,Math.floor(e[B]+a)),D=Math.min(D,Math.floor(e[B+1]+a));for(w-=A,P-=D,B=r;B<l;B+=2)e[B]=(e[B]+w)*g,e[B+1]=(e[B+1]+P)*E},t.BATCHABLE_SIZE=100,t}(iO),MB=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=dl.BUTT,e.join=hl.MITER,e.miterLimit=10,e}return pO(t,n),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){n.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(dO),lie=new Float32Array(3),EO={},Ts=function(n){function t(e){void 0===e&&(e=null);var i=n.call(this)||this;return i.shader=null,i.pluginName="batch",i.currentPath=null,i.batches=[],i.batchTint=-1,i.batchDirty=-1,i.vertexData=null,i._fillStyle=new dO,i._lineStyle=new MB,i._matrix=null,i._holeMode=!1,i.state=$u.for2d(),i._geometry=e||new OB,i._geometry.refCount++,i._transformID=-1,i.tint=16777215,i.blendMode=Ue.NORMAL,i}return pO(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,i,r,o,s){return void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=.5),void 0===s&&(s=!1),"number"==typeof e&&(e={width:e,color:i,alpha:r,alignment:o,native:s}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Gt.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:dl.BUTT,join:hl.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,i=this.currentPath.points.length;i>2&&(this.drawShape(this.currentPath),this.currentPath=new t_,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[i-2],e[i-1]))}else this.currentPath=new t_,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,i){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=i,this},t.prototype.lineTo=function(e,i){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points;return(r[r.length-2]!==e||r[r.length-1]!==i)&&r.push(e,i),this},t.prototype._initCurve=function(e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,i]):this.moveTo(e,i)},t.prototype.quadraticCurveTo=function(e,i,r,o){this._initCurve();var s=this.currentPath.points;return 0===s.length&&this.moveTo(0,0),TB.curveTo(e,i,r,o,s),this},t.prototype.bezierCurveTo=function(e,i,r,o,s,a){return this._initCurve(),SB.curveTo(e,i,r,o,s,a,this.currentPath.points),this},t.prototype.arcTo=function(e,i,r,o,s){this._initCurve(e,i);var l=vO.curveTo(e,i,r,o,s,this.currentPath.points);return l&&this.arc(l.cx,l.cy,l.radius,l.startAngle,l.endAngle,l.anticlockwise),this},t.prototype.arc=function(e,i,r,o,s,a){if(void 0===a&&(a=!1),o===s)return this;if(!a&&s<=o?s+=e_:a&&o<=s&&(o+=e_),0==s-o)return this;var u=e+Math.cos(o)*r,g=i+Math.sin(o)*r,E=this._geometry.closePointEps,w=this.currentPath?this.currentPath.points:null;if(w){var P=Math.abs(w[w.length-2]-u),A=Math.abs(w[w.length-1]-g);P<E&&A<E||w.push(u,g)}else this.moveTo(u,g),w=this.currentPath.points;return vO.arc(u,g,e,i,r,o,s,a,w),this},t.prototype.beginFill=function(e,i){return void 0===e&&(e=0),void 0===i&&(i=1),this.beginTextureFill({texture:Gt.WHITE,color:e,alpha:i})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Gt.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,i,r,o){return this.drawShape(new Gn(e,i,r,o))},t.prototype.drawRoundedRect=function(e,i,r,o,s){return this.drawShape(new eF(e,i,r,o,s))},t.prototype.drawCircle=function(e,i,r){return this.drawShape(new Qk(e,i,r))},t.prototype.drawEllipse=function(e,i,r,o){return this.drawShape(new Zk(e,i,r,o))},t.prototype.drawPolygon=function(){for(var e=arguments,i=[],r=0;r<arguments.length;r++)i[r]=e[r];var o,s=!0,a=i[0];a.points?(s=a.closeStroke,o=a.points):o=Array.isArray(i[0])?i[0]:i;var l=new t_(o);return l.closeStroke=s,this.drawShape(l),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==ei.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var i=this._geometry;i.updateBatches(e.context.supports.uint32Indices),i.batchable?(this.batchDirty!==i.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,i=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var o=0;o<r;o++){var s=e.batches[o],a=s.style.color,l=new Float32Array(this.vertexData.buffer,4*s.attribStart*2,2*s.attribSize),u=new Float32Array(e.uvsFloat32.buffer,4*s.attribStart*2,2*s.attribSize),E={vertexData:l,blendMode:i,indices:new Uint16Array(e.indicesUint16.buffer,2*s.start,s.size),uvs:u,_batchRGB:Xl(a),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[o]=E}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var i=0,r=this.batches.length;i<r;i++){var o=this.batches[i];o.worldAlpha=this.worldAlpha*o.alpha,e.plugins[this.pluginName].render(o)}}},t.prototype._renderDirect=function(e){var i=this._resolveDirectShader(e),r=this._geometry,o=this.tint,s=this.worldAlpha,a=i.uniforms,l=r.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(o>>16&255)/255*s,a.tint[1]=(o>>8&255)/255*s,a.tint[2]=(255&o)/255*s,a.tint[3]=s,e.shader.bind(i),e.geometry.bind(r,i),e.state.set(this.state);for(var u=0,g=l.length;u<g;u++)this._renderDrawCallDirect(e,r.drawCalls[u])},t.prototype._renderDrawCallDirect=function(e,i){for(var r=i.texArray,o=i.type,s=i.size,a=i.start,l=r.count,u=0;u<l;u++)e.texture.bind(r.elements[u],u);e.geometry.draw(o,s,a)},t.prototype._resolveDirectShader=function(e){var i=this.shader,r=this.pluginName;if(!i){if(!EO[r]){for(var o=e.plugins.batch.MAX_TEXTURES,s=new Int32Array(o),a=0;a<o;a++)s[a]=a;var l={tint:new Float32Array([1,1,1,1]),translationMatrix:new pi,default:zu.from({uSamplers:s},!0)};EO[r]=new Kl(e.plugins[r]._shader.program,l)}i=EO[r]}return i},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var i=e.bounds;this._bounds.addFrame(this.transform,i.minX,i.minY,i.maxX,i.maxY)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=Xl(this.tint,lie),i=0;i<this.batches.length;i++){var r=this.batches[i],o=r._batchRGB,u=(e[0]*o[0]*255<<16)+(e[1]*o[1]*255<<8)+(0|e[2]*o[2]*255);r._tintRGB=(u>>16)+(65280&u)+((255&u)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,u=i.ty,g=this._geometry.points,E=this.vertexData,w=0,P=0;P<g.length;P+=2){var A=g[P],D=g[P+1];E[w++]=r*A+s*D+l,E[w++]=a*D+o*A+u}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,n.prototype.destroy.call(this,e)},t._TEMP_POINT=new Ni,t}(zi),uie={buildPoly:gO,buildCircle:_O,buildRectangle:yB,buildRoundedRectangle:bB,buildLine:mO,ArcUtils:vO,BezierUtils:SB,QuadraticUtils:TB,BatchPart:CB,FILL_COMMANDS:t0,BATCH_POOL:yO,DRAW_CALL_POOL:f_},SO=function(n,t){return(SO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},p_=new Ni,hie=new Uint16Array([0,1,2,0,2,3]),Ho=function(n){function t(e){var i=n.call(this)||this;return i._anchor=new Wc(i._onAnchorUpdate,i,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),i._texture=null,i._width=0,i._height=0,i._tint=null,i._tintRGB=null,i.tint=16777215,i.blendMode=Ue.NORMAL,i._cachedTint=16777215,i.uvs=null,i.texture=e||Gt.EMPTY,i.vertexData=new Float32Array(8),i.vertexTrimmedData=null,i._transformID=-1,i._textureID=-1,i._transformTrimmedID=-1,i._textureTrimmedID=-1,i.indices=hie,i.pluginName="batch",i.isSprite=!0,i._roundPixels=lt.ROUND_PIXELS,i}return function cie(n,t){function e(){this.constructor=n}SO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Yc(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Yc(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var i=this.transform.worldTransform,r=i.a,o=i.b,s=i.c,a=i.d,l=i.tx,u=i.ty,g=this.vertexData,E=e.trim,w=e.orig,P=this._anchor,A=0,D=0,B=0,Y=0;if(E?(A=(D=E.x-P._x*w.width)+E.width,B=(Y=E.y-P._y*w.height)+E.height):(A=(D=-P._x*w.width)+w.width,B=(Y=-P._y*w.height)+w.height),g[0]=r*D+s*Y+l,g[1]=a*Y+o*D+u,g[2]=r*A+s*Y+l,g[3]=a*Y+o*A+u,g[4]=r*A+s*B+l,g[5]=a*B+o*A+u,g[6]=r*D+s*B+l,g[7]=a*B+o*D+u,this._roundPixels)for(var K=lt.RESOLUTION,re=0;re<g.length;++re)g[re]=Math.round((g[re]*K|0)/K)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var i=this.vertexTrimmedData,r=this._texture.orig,o=this._anchor,s=this.transform.worldTransform,a=s.a,l=s.b,u=s.c,g=s.d,E=s.tx,w=s.ty,P=-o._x*r.width,A=P+r.width,D=-o._y*r.height,B=D+r.height;i[0]=a*P+u*D+E,i[1]=g*D+l*P+w,i[2]=a*A+u*D+E,i[3]=g*D+l*A+w,i[4]=a*A+u*B+E,i[5]=g*B+l*A+w,i[6]=a*P+u*B+E,i[7]=g*B+l*P+w},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,i=this._texture.orig;!e||e.width===i.width&&e.height===i.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._localBounds||(this._localBounds=new Vf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Gn),e=this._localBoundsRect),this._localBounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,p_);var i=this._texture.orig.width,r=this._texture.orig.height,o=-i*this.anchor.x,s=0;return p_.x>=o&&p_.x<o+i&&p_.y>=(s=-r*this.anchor.y)&&p_.y<s+r},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,("boolean"==typeof e?e:e&&e.texture)&&this._texture.destroy(!!("boolean"==typeof e?e:e&&e.baseTexture)),this._texture=null},t.from=function(e,i){return new t(e instanceof Gt?e:Gt.from(e,i))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var i=Yc(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var i=Yc(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Gt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(zi),TO=function(n,t){return(TO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},nh=(()=>(function(n){n[n.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",n[n.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(nh||(nh={})),nh))(),CO={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:nh.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},fie=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],ih=function(){function n(t){this.styleID=0,this.reset(),MO(this,t,t)}return n.prototype.clone=function(){var t={};return MO(t,this,CO),new n(t)},n.prototype.reset=function(){MO(this,CO,CO)},Object.defineProperty(n.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=OO(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=OO(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function pie(n,t){if(!Array.isArray(n)||!Array.isArray(t)||n.length!==t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=OO(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),n.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var r=e[i].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&fie.indexOf(r)<0&&(r='"'+r+'"'),e[i]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},n}();function wB(n){return"number"==typeof n?Sy(n):("string"==typeof n&&0===n.indexOf("0x")&&(n=n.replace("0x","#")),n)}function OO(n){if(Array.isArray(n)){for(var t=0;t<n.length;++t)n[t]=wB(n[t]);return n}return wB(n)}function MO(n,t,e){for(var i in e)n[i]=Array.isArray(t[i])?t[i].slice():t[i]}var Cs=function(){function n(t,e,i,r,o,s,a,l,u){this.text=t,this.style=e,this.width=i,this.height=r,this.lines=o,this.lineWidths=s,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}return n.measureText=function(t,e,i,r){void 0===r&&(r=n._canvas),i=null==i?e.wordWrap:i;var o=e.toFontString(),s=n.measureFont(o);0===s.fontSize&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);var a=r.getContext("2d");a.font=o;for(var u=(i?n.wordWrap(t,e,r):t).split(/(?:\r\n|\r|\n)/),g=new Array(u.length),E=0,w=0;w<u.length;w++){var P=a.measureText(u[w]).width+(u[w].length-1)*e.letterSpacing;g[w]=P,E=Math.max(E,P)}var A=E+e.strokeThickness;e.dropShadow&&(A+=e.dropShadowDistance);var D=e.lineHeight||s.fontSize+e.strokeThickness,B=Math.max(D,s.fontSize+e.strokeThickness)+(u.length-1)*(D+e.leading);return e.dropShadow&&(B+=e.dropShadowDistance),new n(t,e,A,B,u,g,D+e.leading,E,s)},n.wordWrap=function(t,e,i){void 0===i&&(i=n._canvas);for(var r=i.getContext("2d"),o=0,s="",a="",l=Object.create(null),u=e.letterSpacing,g=e.whiteSpace,E=n.collapseSpaces(g),w=n.collapseNewlines(g),P=!E,A=e.wordWrapWidth+u,D=n.tokenize(t),B=0;B<D.length;B++){var Y=D[B];if(n.isNewline(Y)){if(!w){a+=n.addLine(s),P=!E,s="",o=0;continue}Y=" "}if(E){var K=n.isBreakingSpace(Y),re=n.isBreakingSpace(s[s.length-1]);if(K&&re)continue}var ae=n.getFromCache(Y,u,l,r);if(ae>A)if(""!==s&&(a+=n.addLine(s),s="",o=0),n.canBreakWords(Y,e.breakWords))for(var te=n.wordWrapSplit(Y),ne=0;ne<te.length;ne++){for(var Oe=te[ne],Ie=1;te[ne+Ie];){var ye=te[ne+Ie];if(n.canBreakChars(Oe[Oe.length-1],ye,Y,ne,e.breakWords))break;Oe+=ye,Ie++}ne+=Oe.length-1;var nt=n.getFromCache(Oe,u,l,r);nt+o>A&&(a+=n.addLine(s),P=!1,s="",o=0),s+=Oe,o+=nt}else s.length>0&&(a+=n.addLine(s),s="",o=0),a+=n.addLine(Y,!(B===D.length-1)),P=!1,s="",o=0;else ae+o>A&&(P=!1,a+=n.addLine(s),s="",o=0),(s.length>0||!n.isBreakingSpace(Y)||P)&&(s+=Y,o+=ae)}return a+n.addLine(s,!1)},n.addLine=function(t,e){return void 0===e&&(e=!0),t=n.trimRight(t),e?t+"\n":t},n.getFromCache=function(t,e,i,r){var o=i[t];if("number"!=typeof o){var s=t.length*e;o=r.measureText(t).width+s,i[t]=o}return o},n.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},n.collapseNewlines=function(t){return"normal"===t},n.trimRight=function(t){if("string"!=typeof t)return"";for(var e=t.length-1;e>=0&&n.isBreakingSpace(t[e]);e--)t=t.slice(0,-1);return t},n.isNewline=function(t){return"string"==typeof t&&n._newlines.indexOf(t.charCodeAt(0))>=0},n.isBreakingSpace=function(t,e){return"string"==typeof t&&n._breakingSpaces.indexOf(t.charCodeAt(0))>=0},n.tokenize=function(t){var e=[],i="";if("string"!=typeof t)return e;for(var r=0;r<t.length;r++){var o=t[r];n.isBreakingSpace(o,t[r+1])||n.isNewline(o)?(""!==i&&(e.push(i),i=""),e.push(o)):i+=o}return""!==i&&e.push(i),e},n.canBreakWords=function(t,e){return e},n.canBreakChars=function(t,e,i,r,o){return!0},n.wordWrapSplit=function(t){return t.split("")},n.measureFont=function(t){if(n._fonts[t])return n._fonts[t];var e={ascent:0,descent:0,fontSize:0},i=n._canvas,r=n._context;r.font=t;var o=n.METRICS_STRING+n.BASELINE_SYMBOL,s=Math.ceil(r.measureText(o).width),a=Math.ceil(r.measureText(n.BASELINE_SYMBOL).width),l=Math.ceil(n.HEIGHT_MULTIPLIER*a);a=a*n.BASELINE_MULTIPLIER|0,i.width=s,i.height=l,r.fillStyle="#f00",r.fillRect(0,0,s,l),r.font=t,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText(o,0,a);var u=r.getImageData(0,0,s,l).data,g=u.length,E=4*s,w=0,P=0,A=!1;for(w=0;w<a;++w){for(var D=0;D<E;D+=4)if(255!==u[P+D]){A=!0;break}if(A)break;P+=E}for(e.ascent=a-w,P=g-E,A=!1,w=l;w>a;--w){for(D=0;D<E;D+=4)if(255!==u[P+D]){A=!0;break}if(A)break;P-=E}return e.descent=w-a,e.fontSize=e.ascent+e.descent,n._fonts[t]=e,e},n.clearMetrics=function(t){void 0===t&&(t=""),t?delete n._fonts[t]:n._fonts={}},n}(),n0=function(){try{var n=new OffscreenCanvas(0,0),t=n.getContext("2d");return t&&t.measureText?n:document.createElement("canvas")}catch(e){return document.createElement("canvas")}}();n0.width=n0.height=10,Cs._canvas=n0,Cs._context=n0.getContext("2d"),Cs._fonts={},Cs.METRICS_STRING="|\xc9q\xc5",Cs.BASELINE_SYMBOL="M",Cs.BASELINE_MULTIPLIER=1.4,Cs.HEIGHT_MULTIPLIER=2,Cs._newlines=[10,13],Cs._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var gie={texture:!0,children:!1,baseTexture:!0},g_=function(n){function t(e,i,r){var o=this,s=!1;r||(r=document.createElement("canvas"),s=!0),r.width=3,r.height=3;var a=Gt.from(r);return a.orig=new Gn,a.trim=new Gn,(o=n.call(this,a)||this)._ownCanvas=s,o.canvas=r,o.context=o.canvas.getContext("2d"),o._resolution=lt.RESOLUTION,o._autoResolution=!0,o._text=null,o._style=null,o._styleListener=null,o._font="",o.text=e,o.style=i,o.localStyleID=-1,o}return function die(n,t){function e(){this.constructor=n}TO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(e){var i=this._style;if(this.localStyleID!==i.styleID&&(this.dirty=!0,this.localStyleID=i.styleID),this.dirty||!e){this._font=this._style.toFontString();var r=this.context,o=Cs.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=o.height,l=o.lines,u=o.lineHeight,g=o.lineWidths,E=o.maxLineWidth,w=o.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o.width)+2*i.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+2*i.padding)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=i.strokeThickness,r.textBaseline=i.textBaseline,r.lineJoin=i.lineJoin,r.miterLimit=i.miterLimit;for(var P,A,D=i.dropShadow?2:1,B=0;B<D;++B){var Y=i.dropShadow&&0===B,K=Y?Math.ceil(Math.max(1,a)+2*i.padding):0,re=K*this._resolution;if(Y){r.fillStyle="black",r.strokeStyle="black";var ae=i.dropShadowColor,te=Xl("number"==typeof ae?ae:Vo(ae)),ne=i.dropShadowBlur*this._resolution,Oe=i.dropShadowDistance*this._resolution;r.shadowColor="rgba("+255*te[0]+","+255*te[1]+","+255*te[2]+","+i.dropShadowAlpha+")",r.shadowBlur=ne,r.shadowOffsetX=Math.cos(i.dropShadowAngle)*Oe,r.shadowOffsetY=Math.sin(i.dropShadowAngle)*Oe+re}else r.fillStyle=this._generateFillStyle(i,l,o),r.strokeStyle=i.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;var Ie=(u-w.fontSize)/2;(!t.nextLineHeightBehavior||u-w.fontSize<0)&&(Ie=0);for(var ye=0;ye<l.length;ye++)P=i.strokeThickness/2,A=i.strokeThickness/2+ye*u+w.ascent+Ie,"right"===i.align?P+=E-g[ye]:"center"===i.align&&(P+=(E-g[ye])/2),i.stroke&&i.strokeThickness&&this.drawLetterSpacing(l[ye],P+i.padding,A+i.padding-K,!0),i.fill&&this.drawLetterSpacing(l[ye],P+i.padding,A+i.padding-K)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,i,r,o){void 0===o&&(o=!1);var a=this._style.letterSpacing,l="letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype;if(0===a||l)return l&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),void(o?this.context.strokeText(e,i,r):this.context.fillText(e,i,r));for(var u=i,g=Array.from?Array.from(e):e.split(""),E=this.context.measureText(e).width,w=0,P=0;P<g.length;++P){var A=g[P];o?this.context.strokeText(A,u,r):this.context.fillText(A,u,r);for(var D="",B=P+1;B<g.length;++B)D+=g[B];u+=E-(w=this.context.measureText(D).width)+a,E=w}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var i=$k(e);i.data&&(e.width=i.width,e.height=i.height,this.context.putImageData(i.data,0,0))}var r=this._texture,o=this._style,s=o.trim?0:o.padding,a=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-2*s,r.orig.height=r._frame.height-2*s,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},t.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(e){return this.updateText(!0),n.prototype.getLocalBounds.call(this,e)},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,i,r){var o=e.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var s,a=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,u=this.canvas.width/this._resolution-a-2*l,g=this.canvas.height/this._resolution-a-2*l,E=o.slice(),w=e.fillGradientStops.slice();if(!w.length)for(var P=E.length+1,A=1;A<P;++A)w.push(A/P);if(E.unshift(o[0]),w.unshift(0),E.push(o[o.length-1]),w.push(1),e.fillGradientType===nh.LINEAR_VERTICAL){s=this.context.createLinearGradient(u/2,l,u/2,g+l);var D=r.fontProperties.fontSize+e.strokeThickness;for(A=0;A<i.length;A++){var B=r.lineHeight*(A-1)+D,Y=r.lineHeight*A,K=Y;A>0&&B>Y&&(K=(Y+B)/2);var re=Y+D,ae=r.lineHeight*(A+1),te=re;A+1<i.length&&ae<re&&(te=(re+ae)/2);for(var ne=(te-K)/g,Oe=0;Oe<E.length;Oe++){var ye=Math.min(1,Math.max(0,K/g+("number"==typeof w[Oe]?w[Oe]:Oe/E.length)*ne));ye=Number(ye.toFixed(5)),s.addColorStop(ye,E[Oe])}}}else{s=this.context.createLinearGradient(l,g/2,u+l,g/2);var Ve=E.length+1,nt=1;for(A=0;A<E.length;A++)s.addColorStop("number"==typeof w[A]?w[A]:nt/Ve,E[A]),nt++}return s},t.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},gie,e),n.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var i=Yc(this.scale.x)||1;this.scale.x=i*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var i=Yc(this.scale.y)||1;this.scale.y=i*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){this._style=(e=e||{})instanceof ih?e:new ih(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t}(Ho);lt.UPLOADS_PER_FRAME=4;var wO=function(n,t){return(wO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},PB=function(){function n(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return n.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},n.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},n}();function mie(n,t){var e=!1;if(n&&n._textures&&n._textures.length)for(var i=0;i<n._textures.length;i++)if(n._textures[i]instanceof Gt){var r=n._textures[i].baseTexture;-1===t.indexOf(r)&&(t.push(r),e=!0)}return e}function vie(n,t){if(n.baseTexture instanceof Jn){var e=n.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function yie(n,t){if(n._texture&&n._texture instanceof Gt){var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function bie(n,t){return t instanceof g_&&(t.updateText(!0),!0)}function Eie(n,t){if(t instanceof ih){var e=t.toFontString();return Cs.measureFont(e),!0}return!1}function Sie(n,t){if(n instanceof g_){-1===t.indexOf(n.style)&&t.push(n.style),-1===t.indexOf(n)&&t.push(n);var e=n._texture.baseTexture;return-1===t.indexOf(e)&&t.push(e),!0}return!1}function Tie(n,t){return n instanceof ih&&(-1===t.indexOf(n)&&t.push(n),!0)}var PO=function(){function n(t){var e=this;this.limiter=new PB(lt.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!e.queue||e.prepareItems()},this.registerFindHook(Sie),this.registerFindHook(Tie),this.registerFindHook(mie),this.registerFindHook(vie),this.registerFindHook(yie),this.registerUploadHook(bie),this.registerUploadHook(Eie)}return n.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,Zr.system.addOnce(this.tick,this,Fa.UTILITY))):e&&e()},n.prototype.tick=function(){setTimeout(this.delayedTick,0)},n.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,r=this.uploadHooks.length;i<r;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)Zr.system.addOnce(this.tick,this,Fa.UTILITY);else{this.ticking=!1;var o=this.completes.slice(0);for(this.completes.length=0,i=0,r=o.length;i<r;i++)o[i]()}},n.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},n.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},n.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof zi)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},n.prototype.destroy=function(){this.ticking&&Zr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},n}();function AB(n,t){return t instanceof Jn&&(t._glTextures[n.CONTEXT_UID]||n.texture.bind(t),!0)}function Cie(n,t){if(!(t instanceof Ts))return!1;var e=t.geometry;t.finishPoly(),e.updateBatches();for(var i=e.batches,r=0;r<i.length;r++){var o=i[r].style.texture;o&&AB(n,o.baseTexture)}return e.batchable||n.geometry.bind(e,t._resolveDirectShader(n)),!0}function Oie(n,t){return n instanceof Ts&&(t.push(n),!0)}var xB=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i.renderer,i.registerFindHook(Oie),i.registerUploadHook(AB),i.registerUploadHook(Cie),i}return function _ie(n,t){function e(){this.constructor=n}wO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(PO),Mie=function(){function n(t){this.maxMilliseconds=t,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}(),RB=function(){function n(t,e,i){void 0===i&&(i=null),this._texture=t instanceof Gt?t:null,this.baseTexture=t instanceof Jn?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(i||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,i=Zg(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&this.baseTexture.setResolution(i),i},n.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=n.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},n.prototype._processFrames=function(t){for(var e=t,i=n.BATCH_SIZE;e-t<i&&e<this._frameKeys.length;){var r=this._frameKeys[e],o=this._frames[r],s=o.frame;if(s){var a,l=null,u=!1!==o.trimmed&&o.sourceSize?o.sourceSize:o.frame,g=new Gn(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);a=o.rotated?new Gn(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):new Gn(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),!1!==o.trimmed&&o.spriteSourceSize&&(l=new Gn(Math.floor(o.spriteSourceSize.x)/this.resolution,Math.floor(o.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[r]=new Gt(this.baseTexture,a,g,l,o.rotated?2:0,o.anchor),Gt.addToCache(this.textures[r],r)}e++}},n.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var i=0;i<t[e].length;i++)this.animations[e].push(this.textures[t[e][i]])}},n.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},n.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*n.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*n.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},n.prototype.destroy=function(t){var e;for(var i in void 0===t&&(t=!1),this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},n.BATCH_SIZE=1e3,n}(),DB=function(){function n(){}return n.use=function(t,e){var i,r,o=this,s=t.name+"_image";if(t.data&&t.type===Zi.TYPE.JSON&&t.data.frames&&!o.resources[s]){var a=null===(r=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===r?void 0:r.related_multi_packs;if(Array.isArray(a))for(var l=function(A){if("string"!=typeof A)return"continue";var D=A.replace(".json",""),B=Vc.resolve(t.url.replace(o.baseUrl,""),A);if(o.resources[D]||Object.values(o.resources).some(function(K){return Vc.format(Vc.parse(K.url))===B}))return"continue";o.add(D,B,{crossOrigin:t.crossOrigin,loadType:Zi.LOAD_TYPE.XHR,xhrType:Zi.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata})},u=0,g=a;u<g.length;u++)l(g[u]);var w={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},P=n.getResourcePath(t,o.baseUrl);o.add(s,P,w,function(D){if(D.error)e(D.error);else{var B=new RB(D.texture,t.data,t.url);B.parse(function(){t.spritesheet=B,t.textures=B.textures,e()})}})}else e()},n.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:Vc.resolve(t.url.replace(e,""),t.data.meta.image)},n}(),AO=function(n,t){return(AO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function IB(n,t){function e(){this.constructor=n}AO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var __=new Ni,NB=function(n){function t(e,i,r){void 0===i&&(i=100),void 0===r&&(r=100);var o=n.call(this,e)||this;return o.tileTransform=new dC,o._width=i,o._height=r,o.uvMatrix=o.texture.uvMatrix||new jy(e),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return IB(t,n),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var i=this._texture;!i||!i.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){this._bounds.addFrame(this.transform,this._width*-this._anchor._x,this._height*-this._anchor._y,this._width*(1-this._anchor._x),this._height*(1-this._anchor._y))},t.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Gn),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,__);var i=this._width,r=this._height,o=-i*this.anchor._x;if(__.x>=o&&__.x<o+i){var s=-r*this.anchor._y;if(__.y>=s&&__.y<s+r)return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,i){return new t(e instanceof Gt?e:Gt.from(e,i),i.width,i.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0}),t}(Ho),kB="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",r0=new pi,FB=function(n){function t(e){var i=n.call(this,e)||this;return e.runners.contextChange.add(i),i.quad=new xC,i.state=$u.for2d(),i}return IB(t,n),t.prototype.contextChange=function(){var e=this.renderer,i={globals:e.globalUniforms};this.simpleShader=Kl.from(kB,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",i),this.shader=e.context.webGLVersion>1?Kl.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",i):Kl.from(kB,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",i)},t.prototype.render=function(e){var i=this.renderer,r=this.quad,o=r.vertices;o[0]=o[6]=e._width*-e.anchor.x,o[1]=o[3]=e._height*-e.anchor.y,o[2]=o[4]=e._width*(1-e.anchor.x),o[5]=o[7]=e._height*(1-e.anchor.y);var s=e.uvRespectAnchor?e.anchor.x:0,a=e.uvRespectAnchor?e.anchor.y:0;(o=r.uvs)[0]=o[6]=-s,o[1]=o[3]=-a,o[2]=o[4]=1-s,o[5]=o[7]=1-a,r.invalidate();var l=e._texture,u=l.baseTexture,g=e.tileTransform.localTransform,E=e.uvMatrix,w=u.isPowerOfTwo&&l.frame.width===u.width&&l.frame.height===u.height;w&&(u._glTextures[i.CONTEXT_UID]?w=u.wrapMode!==Xs.CLAMP:u.wrapMode===Xs.CLAMP&&(u.wrapMode=Xs.REPEAT));var P=w?this.simpleShader:this.shader,A=l.width,D=l.height,B=e._width,Y=e._height;r0.set(g.a*A/B,g.b*A/Y,g.c*D/B,g.d*D/Y,g.tx/B,g.ty/Y),r0.invert(),w?r0.prepend(E.mapCoord):(P.uniforms.uMapCoord=E.mapCoord.toArray(!0),P.uniforms.uClampFrame=E.uClampFrame,P.uniforms.uClampOffset=E.uClampOffset),P.uniforms.uTransform=r0.toArray(!0),P.uniforms.uColor=aC(e.tint,e.worldAlpha,P.uniforms.uColor,u.alphaMode),P.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),P.uniforms.uSampler=l,i.shader.bind(P),i.geometry.bind(r),this.state.blendMode=sC(e.blendMode,u.alphaMode),i.state.set(this.state),i.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(o_),xO=function(n,t){return(xO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function RO(n,t){function e(){this.constructor=n}xO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var BB=function(){function n(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return n.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;(!this.data||this.data.length!==e.length)&&(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},n}(),DO=new Ni,LB=new t_,Qs=function(n){function t(e,i,r,o){void 0===o&&(o=lo.TRIANGLES);var s=n.call(this)||this;return s.geometry=e,s.shader=i,s.state=r||$u.for2d(),s.drawMode=o,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=lt.ROUND_PIXELS,s.batchUvs=null,s}return RO(t,n),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.shader.batchable&&this.drawMode===lo.TRIANGLES&&this.geometry.buffers[0].data.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var i=this.shader;i.alpha=this.worldAlpha,i.update&&i.update(),e.batch.flush(),i.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(i),e.state.set(this.state),e.geometry.bind(this.geometry,i),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var i=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=i.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var o=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[o]),e.plugins[o].render(this)},t.prototype.calculateVertices=function(){var i=this.geometry.buffers[0],r=i.data,o=i._updateID;if(o!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));for(var s=this.transform.worldTransform,a=s.a,l=s.b,u=s.c,g=s.d,E=s.tx,w=s.ty,P=this.vertexData,A=0;A<P.length/2;A++){var D=r[2*A],B=r[2*A+1];P[2*A]=a*D+u*B+E,P[2*A+1]=l*D+g*B+w}if(this._roundPixels){var Y=lt.RESOLUTION;for(A=0;A<P.length;++A)P[A]=Math.round((P[A]*Y|0)/Y)}this.vertexDirty=o}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],i=this.shader;i.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new BB(e,i.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,DO);for(var i=this.geometry.getBuffer("aVertexPosition").data,r=LB.points,o=this.geometry.getIndex().data,s=o.length,a=4===this.drawMode?3:1,l=0;l+2<s;l+=a){var u=2*o[l],g=2*o[l+1],E=2*o[l+2];if(r[0]=i[u],r[1]=i[u+1],r[2]=i[g],r[3]=i[g+1],r[4]=i[E],r[5]=i[E+1],LB.contains(DO.x,DO.y))return!0}return!1},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(zi),rh=function(n){function t(e,i){var r=this,o={uSampler:e,alpha:1,uTextureMatrix:pi.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(i=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},i)).uniforms&&Object.assign(o,i.uniforms),(r=n.call(this,i.program||Wf.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),o)||this)._colorDirty=!1,r.uvMatrix=new jy(e),r.batchable=void 0===i.program,r.pluginName=i.pluginName,r.tint=i.tint,r.alpha=i.alpha,r}return RO(t,n),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this._colorDirty&&(this._colorDirty=!1,aC(this._tint,this._alpha,this.uniforms.uColor,this.texture.baseTexture.alphaMode)),this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Kl),m_=function(n){function t(e,i,r){var o=n.call(this)||this,s=new Ir(e),a=new Ir(i,!0),l=new Ir(r,!0,!0);return o.addAttribute("aVertexPosition",s,2,!1,yt.FLOAT).addAttribute("aTextureCoord",a,2,!1,yt.FLOAT).addIndex(l),o._updateId=-1,o}return RO(t,n),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Yf),IO=function(n,t){return(IO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},v_=function n(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},Nie=function(){function n(){}return n.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},n.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var r in e){var o=e[r].match(/^[a-z]+/gm)[0],s=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var l in s){var u=s[l].split("="),g=u[0],E=u[1].replace(/"/gm,""),w=parseFloat(E),P=isNaN(w)?E:w;a[g]=P}i[o].push(a)}var A=new v_;return i.info.forEach(function(D){return A.info.push({face:D.face,size:parseInt(D.size,10)})}),i.common.forEach(function(D){return A.common.push({lineHeight:parseInt(D.lineHeight,10)})}),i.page.forEach(function(D){return A.page.push({id:parseInt(D.id,10),file:D.file})}),i.char.forEach(function(D){return A.char.push({id:parseInt(D.id,10),page:parseInt(D.page,10),x:parseInt(D.x,10),y:parseInt(D.y,10),width:parseInt(D.width,10),height:parseInt(D.height,10),xoffset:parseInt(D.xoffset,10),yoffset:parseInt(D.yoffset,10),xadvance:parseInt(D.xadvance,10)})}),i.kerning.forEach(function(D){return A.kerning.push({first:parseInt(D.first,10),second:parseInt(D.second,10),amount:parseInt(D.amount,10)})}),i.distanceField.forEach(function(D){return A.distanceField.push({distanceRange:parseInt(D.distanceRange,10),fieldType:D.fieldType})}),A},n}(),NO=function(){function n(){}return n.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},n.parse=function(t){for(var e=new v_,i=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),o=t.getElementsByTagName("page"),s=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField"),u=0;u<i.length;u++)e.info.push({face:i[u].getAttribute("face"),size:parseInt(i[u].getAttribute("size"),10)});for(u=0;u<r.length;u++)e.common.push({lineHeight:parseInt(r[u].getAttribute("lineHeight"),10)});for(u=0;u<o.length;u++)e.page.push({id:parseInt(o[u].getAttribute("id"),10)||0,file:o[u].getAttribute("file")});for(u=0;u<s.length;u++){var g=s[u];e.char.push({id:parseInt(g.getAttribute("id"),10),page:parseInt(g.getAttribute("page"),10)||0,x:parseInt(g.getAttribute("x"),10),y:parseInt(g.getAttribute("y"),10),width:parseInt(g.getAttribute("width"),10),height:parseInt(g.getAttribute("height"),10),xoffset:parseInt(g.getAttribute("xoffset"),10),yoffset:parseInt(g.getAttribute("yoffset"),10),xadvance:parseInt(g.getAttribute("xadvance"),10)})}for(u=0;u<a.length;u++)e.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(u=0;u<l.length;u++)e.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return e},n}(),kie=function(){function n(){}return n.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return NO.test(e)}return!1},n.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return NO.parse(e)},n}(),kO=[Nie,NO,kie];function UB(n){for(var t=0;t<kO.length;t++)if(kO[t].test(n))return kO[t];return null}function Bie(n,t,e,i,r,o,s){var a=e.text,l=e.fontProperties;t.translate(i,r),t.scale(o,o);var u=s.strokeThickness/2,g=-s.strokeThickness/2;if(t.font=s.toFontString(),t.lineWidth=s.strokeThickness,t.textBaseline=s.textBaseline,t.lineJoin=s.lineJoin,t.miterLimit=s.miterLimit,t.fillStyle=function Fie(n,t,e,i,r,o){var s=e.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var a,l=e.dropShadow?e.dropShadowDistance:0,u=e.padding||0,g=n.width/i-l-2*u,E=n.height/i-l-2*u,w=s.slice(),P=e.fillGradientStops.slice();if(!P.length)for(var A=w.length+1,D=1;D<A;++D)P.push(D/A);if(w.unshift(s[0]),P.unshift(0),w.push(s[s.length-1]),P.push(1),e.fillGradientType===nh.LINEAR_VERTICAL){a=t.createLinearGradient(g/2,u,g/2,E+u);var B=0,K=(o.fontProperties.fontSize+e.strokeThickness)/E;for(D=0;D<r.length;D++)for(var re=o.lineHeight*D,ae=0;ae<w.length;ae++){var Oe=Math.max(B,re/E+("number"==typeof P[ae]?P[ae]:ae/w.length)*K);Oe=Math.min(Oe,1),a.addColorStop(Oe,w[ae]),B=Oe}}else{a=t.createLinearGradient(u,E/2,g+u,E/2);var Ie=w.length+1,ye=1;for(D=0;D<w.length;D++)a.addColorStop("number"==typeof P[D]?P[D]:ye/Ie,w[D]),ye++}return a}(n,t,s,o,[a],e),t.strokeStyle=s.stroke,s.dropShadow){var E=s.dropShadowColor,w=Xl("number"==typeof E?E:Vo(E)),P=s.dropShadowBlur*o,A=s.dropShadowDistance*o;t.shadowColor="rgba("+255*w[0]+","+255*w[1]+","+255*w[2]+","+s.dropShadowAlpha+")",t.shadowBlur=P,t.shadowOffsetX=Math.cos(s.dropShadowAngle)*A,t.shadowOffsetY=Math.sin(s.dropShadowAngle)*A}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;s.stroke&&s.strokeThickness&&t.strokeText(a,u,g+e.lineHeight-l.descent),s.fill&&t.fillText(a,u,g+e.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function GB(n){return Array.from?Array.from(n):n.split("")}function o0(n){return n.codePointAt?n.codePointAt(0):n.charCodeAt(0)}var Ql=function(){function n(t,e,i){var r,o,s=t.info[0],a=t.common[0],u=t.distanceField[0],g=Zg(t.page[0].file),E={};this._ownsTextures=i,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/g,this.chars={},this.pageTextures=E;for(var w=0;w<t.page.length;w++){var P=t.page[w];E[A=P.id]=e instanceof Array?e[w]:e[P.file],(null==u?void 0:u.fieldType)&&"none"!==u.fieldType&&(E[A].baseTexture.alphaMode=Qr.NO_PREMULTIPLIED_ALPHA)}for(w=0;w<t.char.length;w++){var B=t.char[w],A=B.id,Y=B.page,K=t.char[w],re=K.x,ae=K.y,te=K.width,ne=K.height,Oe=K.xoffset,Ie=K.yoffset,ye=K.xadvance;Oe/=g,Ie/=g,ye/=g;var Ve=new Gn((re/=g)+E[Y].frame.x/g,(ae/=g)+E[Y].frame.y/g,te/=g,ne/=g);this.chars[A]={xOffset:Oe,yOffset:Ie,xAdvance:ye,kerning:{},texture:new Gt(E[Y].baseTexture,Ve),page:Y}}for(w=0;w<t.kerning.length;w++){var nt=t.kerning[w],it=nt.first,Ze=nt.second,At=nt.amount;it/=g,At/=g,this.chars[Ze/=g]&&(this.chars[Ze].kerning[it]=At)}this.distanceFieldRange=null==u?void 0:u.distanceRange,this.distanceFieldType=null!==(o=null===(r=null==u?void 0:u.fieldType)||void 0===r?void 0:r.toLowerCase())&&void 0!==o?o:"none"}return n.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},n.install=function(t,e,i){var r;if(t instanceof v_)r=t;else{var o=UB(t);if(!o)throw new Error("Unrecognized data format for font.");r=o.parse(t)}e instanceof Gt&&(e=[e]);var s=new n(r,e,i);return n.available[s.font]=s,s},n.uninstall=function(t){var e=n.available[t];if(!e)throw new Error("No font found named '"+t+"'");e.destroy(),delete n.available[t]},n.from=function(t,e,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var r=Object.assign({},n.defaultOptions,i),s=r.padding,a=r.resolution,l=r.textureWidth,u=r.textureHeight,g=function Lie(n){"string"==typeof n&&(n=[n]);for(var t=[],e=0,i=n.length;e<i;e++){var r=n[e];if(Array.isArray(r)){if(2!==r.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+r.length+".");var o=r[0].charCodeAt(0),s=r[1].charCodeAt(0);if(s<o)throw new Error("[BitmapFont]: Invalid character range.");for(var a=o,l=s;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,GB(r))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}(r.chars),E=e instanceof ih?e:new ih(e),w=l,P=new v_;P.info[0]={face:E.fontFamily,size:E.fontSize},P.common[0]={lineHeight:E.fontSize};for(var B,Y,K,A=0,D=0,re=0,ae=[],te=0;te<g.length;te++){B||((B=document.createElement("canvas")).width=l,B.height=u,Y=B.getContext("2d"),K=new Jn(B,{resolution:a}),ae.push(new Gt(K)),P.page.push({id:ae.length-1,file:""}));var ne=Cs.measureText(g[te],E,!1,B),Oe=ne.width,Ie=Math.ceil(ne.height),ye=Math.ceil(("italic"===E.fontStyle?2:1)*Oe);if(D>=u-Ie*a){if(0===D)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+E.fontSize+"px fonts");--te,B=null,Y=null,K=null,D=0,A=0,re=0}else if(re=Math.max(Ie+ne.fontProperties.descent,re),ye*a+A>=w)--te,D+=re*a,D=Math.ceil(D),A=0,re=0;else{Bie(B,Y,ne,A,D,a,E);var Ve=o0(ne.text);P.char.push({id:Ve,page:ae.length-1,x:A/a,y:D/a,width:ye,height:Ie,xoffset:0,yoffset:0,xadvance:Math.ceil(Oe-(E.dropShadow?E.dropShadowDistance:0)-(E.stroke?E.strokeThickness:0))}),A+=(ye+2*s)*a,A=Math.ceil(A)}}te=0;for(var nt=g.length;te<nt;te++)for(var it=g[te],Ze=0;Ze<nt;Ze++){var At=g[Ze],$e=Y.measureText(it).width,De=Y.measureText(At).width,ht=Y.measureText(it+At).width-($e+De);ht&&P.kerning.push({first:o0(it),second:o0(At),amount:ht})}var wt=new n(P,ae,!0);return void 0!==n.available[t]&&n.uninstall(t),n.available[t]=wt,wt},n.ALPHA=[["a","z"],["A","Z"]," "],n.NUMERIC=[["0","9"]],n.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],n.ASCII=[[" ","~"]],n.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:n.ALPHANUMERIC},n.available={},n}(),jie=[],Vie=[],jB=[],y_=function(n){function t(e,i){void 0===i&&(i={});var r=n.call(this)||this;r._tint=16777215;var o=Object.assign({},t.styleDefaults,i),s=o.align,a=o.tint,l=o.maxWidth,u=o.letterSpacing,g=o.fontName,E=o.fontSize;if(!Ql.available[g])throw new Error('Missing BitmapFont "'+g+'"');return r._activePagesMeshData=[],r._textWidth=0,r._textHeight=0,r._align=s,r._tint=a,r._fontName=g,r._fontSize=E||Ql.available[g].size,r._text=e,r._maxWidth=l,r._maxLineHeight=0,r._letterSpacing=u,r._anchor=new Wc(function(){r.dirty=!0},r,0,0),r._roundPixels=lt.ROUND_PIXELS,r.dirty=!0,r._textureCache={},r}return function Iie(n,t){function e(){this.constructor=n}IO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.updateText=function(){for(var e,i=Ql.available[this._fontName],r=this._fontSize/i.size,o=new Ni,s=[],a=[],l=[],g=GB(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),E=this._maxWidth*i.size/this._fontSize,w="none"===i.distanceFieldType?jie:Vie,P=null,A=0,D=0,B=0,Y=-1,K=0,re=0,ae=0,te=0,ne=0;ne<g.length;ne++){var Ie=o0(Oe=g[ne]);if(/(?:\s)/.test(Oe)&&(Y=ne,K=A,te++),"\r"!==Oe&&"\n"!==Oe){var ye=i.chars[Ie];if(ye){P&&ye.kerning[P]&&(o.x+=ye.kerning[P]);var Ve=jB.pop()||{texture:Gt.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ni};Ve.texture=ye.texture,Ve.line=B,Ve.charCode=Ie,Ve.position.x=o.x+ye.xOffset+this._letterSpacing/2,Ve.position.y=o.y+ye.yOffset,Ve.prevSpaces=te,s.push(Ve),A=Ve.position.x+ye.texture.orig.width,o.x+=ye.xAdvance+this._letterSpacing,ae=Math.max(ae,ye.yOffset+ye.texture.height),P=Ie,-1!==Y&&E>0&&o.x>E&&(Hc(s,1+Y-++re,1+ne-Y),ne=Y,Y=-1,a.push(K),l.push(s.length>0?s[s.length-1].prevSpaces:0),D=Math.max(D,K),B++,o.x=0,o.y+=i.lineHeight,P=null,te=0)}}else a.push(A),l.push(-1),D=Math.max(D,A),++B,++re,o.x=0,o.y+=i.lineHeight,P=null,te=0}var nt=g[g.length-1];"\r"!==nt&&"\n"!==nt&&(/(?:\s)/.test(nt)&&(A=K),a.push(A),D=Math.max(D,A),l.push(-1));var it=[];for(ne=0;ne<=B;ne++){var Ze=0;"right"===this._align?Ze=D-a[ne]:"center"===this._align?Ze=(D-a[ne])/2:"justify"===this._align&&(Ze=l[ne]<0?0:(D-a[ne])/l[ne]),it.push(Ze)}var At=s.length,$e={},De=[],Ke=this._activePagesMeshData;for(ne=0;ne<Ke.length;ne++)w.push(Ke[ne]);for(ne=0;ne<At;ne++){var wt=(ht=s[ne].texture).baseTexture.uid;if(!$e[wt]){if(!(We=w.pop())){var bt=new m_,Dt=void 0,Nt=void 0;"none"===i.distanceFieldType?(Dt=new rh(Gt.EMPTY),Nt=Ue.NORMAL):(Dt=new rh(Gt.EMPTY,{program:Wf.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n"),uniforms:{uFWidth:0}}),Nt=Ue.NORMAL_NPM);var Rt=new Qs(bt,Dt);Rt.blendMode=Nt,We={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:Rt,vertices:null,uvs:null,indices:null}}We.index=0,We.indexCount=0,We.vertexCount=0,We.uvsCount=0,We.total=0;var ui=this._textureCache;ui[wt]=ui[wt]||new Gt(ht.baseTexture),We.mesh.texture=ui[wt],We.mesh.tint=this._tint,De.push(We),$e[wt]=We}$e[wt].total++}for(ne=0;ne<Ke.length;ne++)-1===De.indexOf(Ke[ne])&&this.removeChild(Ke[ne].mesh);for(ne=0;ne<De.length;ne++)De[ne].mesh.parent!==this&&this.addChild(De[ne].mesh);for(var ne in this._activePagesMeshData=De,$e){var Bn=(We=$e[ne]).total;if(!((null===(e=We.indices)||void 0===e?void 0:e.length)>6*Bn)||We.vertices.length<2*Qs.BATCHABLE_SIZE)We.vertices=new Float32Array(8*Bn),We.uvs=new Float32Array(8*Bn),We.indices=new Uint16Array(6*Bn);else for(var Hn=We.vertices,En=4*We.total*2;En<Hn.length;En++)Hn[En]=0;We.mesh.size=6*Bn}for(ne=0;ne<At;ne++){var Oe,un=(Oe=s[ne]).position.x+it[Oe.line]*("justify"===this._align?Oe.prevSpaces:1);this._roundPixels&&(un=Math.round(un));var ht,tn=un*r,Yn=Oe.position.y*r,nn=$e[(ht=Oe.texture).baseTexture.uid],ro=ht.frame,di=ht._uvs,In=nn.index++;nn.indices[6*In+0]=0+4*In,nn.indices[6*In+1]=1+4*In,nn.indices[6*In+2]=2+4*In,nn.indices[6*In+3]=0+4*In,nn.indices[6*In+4]=2+4*In,nn.indices[6*In+5]=3+4*In,nn.vertices[8*In+0]=tn,nn.vertices[8*In+1]=Yn,nn.vertices[8*In+2]=tn+ro.width*r,nn.vertices[8*In+3]=Yn,nn.vertices[8*In+4]=tn+ro.width*r,nn.vertices[8*In+5]=Yn+ro.height*r,nn.vertices[8*In+6]=tn,nn.vertices[8*In+7]=Yn+ro.height*r,nn.uvs[8*In+0]=di.x0,nn.uvs[8*In+1]=di.y0,nn.uvs[8*In+2]=di.x1,nn.uvs[8*In+3]=di.y1,nn.uvs[8*In+4]=di.x2,nn.uvs[8*In+5]=di.y2,nn.uvs[8*In+6]=di.x3,nn.uvs[8*In+7]=di.y3}for(var ne in this._textWidth=D*r,this._textHeight=(o.y+i.lineHeight)*r,$e){var We=$e[ne];if(0!==this.anchor.x||0!==this.anchor.y)for(var Dl=0,Vp=this._textWidth*this.anchor.x,C1=this._textHeight*this.anchor.y,k6=0;k6<We.total;k6++)We.vertices[Dl++]-=Vp,We.vertices[Dl++]-=C1,We.vertices[Dl++]-=Vp,We.vertices[Dl++]-=C1,We.vertices[Dl++]-=Vp,We.vertices[Dl++]-=C1,We.vertices[Dl++]-=Vp,We.vertices[Dl++]-=C1;this._maxLineHeight=ae*r;var F6=We.mesh.geometry.getBuffer("aVertexPosition"),B6=We.mesh.geometry.getBuffer("aTextureCoord"),L6=We.mesh.geometry.getIndex();F6.data=We.vertices,B6.data=We.uvs,L6.data=We.indices,F6.update(),B6.update(),L6.update()}for(ne=0;ne<s.length;ne++)jB.push(s[ne])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(e){var i=Ql.available[this._fontName],r=i.distanceFieldRange,s=i.size;if("none"!==i.distanceFieldType)for(var a=this.worldTransform,l=a.a,u=a.b,g=a.c,E=a.d,w=Math.sqrt(l*l+u*u),P=Math.sqrt(g*g+E*E),A=(Math.abs(w)+Math.abs(P))/2,D=this._fontSize/s,B=0,Y=this._activePagesMeshData;B<Y.length;B++)Y[B].mesh.shader.uniforms.uFWidth=A*r*D*e.resolution;n.prototype._render.call(this,e)},t.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var i=0;i<this._activePagesMeshData.length;i++)this._activePagesMeshData[i].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!Ql.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e){var i=this._textureCache;for(var r in i)i[r].destroy(),delete i[r];this._textureCache=null,n.prototype.destroy.call(this,e)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},t}(zi),VB=function(){function n(){}return n.add=function(){Zi.setExtensionXhrType("fnt",Zi.XHR_RESPONSE_TYPE.TEXT)},n.use=function(t,e){var i=UB(t.data);if(i)for(var r=n.getBaseUrl(this,t),o=i.parse(t.data),s={},a=function(D){s[D.metadata.pageFile]=D.texture,Object.keys(s).length===o.page.length&&(t.bitmapFont=Ql.install(o,s,!0),e())},l=0;l<o.page.length;++l){var u=o.page[l].file,g=r+u,E=!1;for(var w in this.resources){var P=this.resources[w];if(P.url===g){P.metadata.pageFile=u,P.texture?a(P):P.onAfterMiddleware.add(a),E=!0;break}}if(!E){var A={crossOrigin:t.crossOrigin,loadType:Zi.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:u},t.metadata.imageMetadata),parentResource:t};this.add(g,A,a)}}else e()},n.getBaseUrl=function(t,e){var i=e.isDataUrl?"":n.dirname(e.url);return e.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},n.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},n}(),FO=function(n,t){return(FO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},Wie=function(n){function t(e){void 0===e&&(e=1);var i=n.call(this,UF,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return i.alpha=e,i}return function Hie(n,t){function e(){this.constructor=n}FO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(ql),BO=function(n,t){return(BO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function HB(n,t){function e(){this.constructor=n}BO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var Xie={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Kie=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),Jf=(()=>(function(n){n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT"}(Jf||(Jf={})),Jf))(),LO=function(n){function t(e,i,r,o,s){void 0===i&&(i=8),void 0===r&&(r=4),void 0===o&&(o=lt.FILTER_RESOLUTION),void 0===s&&(s=5);var a=this,l=function $ie(n,t){var o,e=Math.ceil(n/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",r="";o=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<n;s++){var a=o.replace("%index%",s.toString());r+=a=a.replace("%sampleIndex%",s-(e-1)+".0"),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s,e),u=function qie(n){for(var s,t=Xie[n],e=t.length,i=Kie,r="",a=0;a<n;a++){var l="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",a.toString());s=a,a>=e&&(s=n-a-1),r+=l=l.replace("%value%",t[s].toString()),r+="\n"}return(i=i.replace("%blur%",r)).replace("%size%",n.toString())}(s);return(a=n.call(this,l,u)||this).horizontal=e,a.resolution=o,a._quality=0,a.quality=r,a.blur=i,a}return HB(t,n),t.prototype.apply=function(e,i,r,o){if(this.uniforms.strength=r?this.horizontal?1/r.width*(r.width/i.width):1/r.height*(r.height/i.height):this.horizontal?1/e.renderer.width*(e.renderer.width/i.width):1/e.renderer.height*(e.renderer.height/i.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,i,r,o);else{var s=e.getFilterTexture(),a=e.renderer,l=i,u=s;this.state.blend=!1,e.applyFilter(this,l,u,Jf.CLEAR);for(var g=1;g<this.passes-1;g++){e.bindAndClear(l,Jf.BLIT),this.uniforms.uSampler=u;var E=u;u=l,l=E,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,r,o),e.returnFilterTexture(s)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(ql),Jie=function(n){function t(e,i,r,o){void 0===e&&(e=8),void 0===i&&(i=4),void 0===r&&(r=lt.FILTER_RESOLUTION),void 0===o&&(o=5);var s=n.call(this)||this;return s.blurXFilter=new LO(!0,e,i,r,o),s.blurYFilter=new LO(!1,e,i,r,o),s.resolution=r,s.quality=i,s.blur=e,s.repeatEdgePixels=!1,s}return HB(t,n),t.prototype.apply=function(e,i,r,o){var s=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(s&&a){var l=e.getFilterTexture();this.blurXFilter.apply(e,i,l,Jf.CLEAR),this.blurYFilter.apply(e,l,r,o),e.returnFilterTexture(l)}else a?this.blurYFilter.apply(e,i,r,o):this.blurXFilter.apply(e,i,r,o)},t.prototype.updatePadding=function(){this.padding=this._repeatEdgePixels?0:2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0}),t}(ql),UO=function(n,t){return(UO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},GO=function(n){function t(){var e=this,i={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=n.call(this,nO,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",i)||this).alpha=1,e}return function Qie(n,t){function e(){this.constructor=n}UO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype._loadMatrix=function(e,i){void 0===i&&(i=!1);var r=e;i&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,i,r){return e[0]=i[0]*r[0]+i[1]*r[5]+i[2]*r[10]+i[3]*r[15],e[1]=i[0]*r[1]+i[1]*r[6]+i[2]*r[11]+i[3]*r[16],e[2]=i[0]*r[2]+i[1]*r[7]+i[2]*r[12]+i[3]*r[17],e[3]=i[0]*r[3]+i[1]*r[8]+i[2]*r[13]+i[3]*r[18],e[4]=i[0]*r[4]+i[1]*r[9]+i[2]*r[14]+i[3]*r[19]+i[4],e[5]=i[5]*r[0]+i[6]*r[5]+i[7]*r[10]+i[8]*r[15],e[6]=i[5]*r[1]+i[6]*r[6]+i[7]*r[11]+i[8]*r[16],e[7]=i[5]*r[2]+i[6]*r[7]+i[7]*r[12]+i[8]*r[17],e[8]=i[5]*r[3]+i[6]*r[8]+i[7]*r[13]+i[8]*r[18],e[9]=i[5]*r[4]+i[6]*r[9]+i[7]*r[14]+i[8]*r[19]+i[9],e[10]=i[10]*r[0]+i[11]*r[5]+i[12]*r[10]+i[13]*r[15],e[11]=i[10]*r[1]+i[11]*r[6]+i[12]*r[11]+i[13]*r[16],e[12]=i[10]*r[2]+i[11]*r[7]+i[12]*r[12]+i[13]*r[17],e[13]=i[10]*r[3]+i[11]*r[8]+i[12]*r[13]+i[13]*r[18],e[14]=i[10]*r[4]+i[11]*r[9]+i[12]*r[14]+i[13]*r[19]+i[14],e[15]=i[15]*r[0]+i[16]*r[5]+i[17]*r[10]+i[18]*r[15],e[16]=i[15]*r[1]+i[16]*r[6]+i[17]*r[11]+i[18]*r[16],e[17]=i[15]*r[2]+i[16]*r[7]+i[17]*r[12]+i[18]*r[17],e[18]=i[15]*r[3]+i[16]*r[8]+i[17]*r[13]+i[18]*r[18],e[19]=i[15]*r[4]+i[16]*r[9]+i[17]*r[14]+i[18]*r[19]+i[19],e},t.prototype._colorMatrix=function(e){var i=new Float32Array(e);return i[4]/=255,i[9]/=255,i[14]/=255,i[19]/=255,i},t.prototype.brightness=function(e,i){this._loadMatrix([e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0],i)},t.prototype.tint=function(e,i){this._loadMatrix([(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0],i)},t.prototype.greyscale=function(e,i){this._loadMatrix([e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0],i)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,i){e=(e||0)/180*Math.PI;var r=Math.cos(e),o=Math.sin(e),a=1/3,l=(0,Math.sqrt)(a);this._loadMatrix([r+(1-r)*a,a*(1-r)-l*o,a*(1-r)+l*o,0,0,a*(1-r)+l*o,r+a*(1-r),a*(1-r)-l*o,0,0,a*(1-r)-l*o,a*(1-r)+l*o,r+a*(1-r),0,0,0,0,0,1,0],i)},t.prototype.contrast=function(e,i){var r=(e||0)+1,o=-.5*(r-1);this._loadMatrix([r,0,0,0,o,0,r,0,0,o,0,0,r,0,o,0,0,0,1,0],i)},t.prototype.saturate=function(e,i){void 0===e&&(e=0);var r=2*e/3+1,o=-.5*(r-1);this._loadMatrix([r,o,o,0,0,o,r,o,0,0,o,o,r,0,0,0,0,0,1,0],i)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,i,r,o,s){var a=((r=r||16770432)>>16&255)/255,l=(r>>8&255)/255,u=(255&r)/255,g=((o=o||3375104)>>16&255)/255,E=(o>>8&255)/255,w=(255&o)/255;this._loadMatrix([.3,.59,.11,0,0,a,l,u,e=e||.2,0,g,E,w,i=i||.15,0,a-g,l-E,u-w,0,0],s)},t.prototype.night=function(e,i){this._loadMatrix([-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0],i)},t.prototype.predator=function(e,i){this._loadMatrix([11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0],i)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(ql);GO.prototype.grayscale=GO.prototype.greyscale;var jO=function(n,t){return(jO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},ire=function(n){function t(e,i){var r=this,o=new pi;return e.renderable=!1,(r=n.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:o,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=o,null==i&&(i=20),r.scale=new Ni(i,i),r}return function ere(n,t){function e(){this.constructor=n}jO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.apply=function(e,i,r,o){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var s=this.maskSprite.worldTransform,a=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);0!==a&&0!==l&&(this.uniforms.rotation[0]=s.a/a,this.uniforms.rotation[1]=s.b/a,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0}),t}(ql),VO=function(n,t){return(VO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},are=function(n){function t(){return n.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function rre(n,t){function e(){this.constructor=n}VO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t}(ql),HO=function(n,t){return(HO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},cre=function(n){function t(e,i){void 0===e&&(e=.5),void 0===i&&(i=Math.random());var r=n.call(this,nO,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=i,r}return function lre(n,t){function e(){this.constructor=n}HO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0}),t}(ql),s0=(()=>(function(n){n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH"}(s0||(s0={})),s0))(),YB=new pi;Qi.prototype._cacheAsBitmap=!1,Qi.prototype._cacheData=null,Qi.prototype._cacheAsBitmapResolution=null,Qi.prototype._cacheAsBitmapMultisample=s0.NONE;var hre=function n(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(Qi.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(n){n!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(n){n!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=n,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(n){var t;this._cacheAsBitmap!==n&&(this._cacheAsBitmap=n,n?(this._cacheData||(this._cacheData=new hre),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),Qi.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},Qi.prototype._initCachedDisplayObject=function(t){var e;if(!this._cacheData||!this._cacheData.sprite){var i=this.alpha;this.alpha=1,t.batch.flush();var r=this.getLocalBounds(null,!0).clone();this.filters&&this.filters.length&&r.pad(this.filters[0].padding),r.ceil(lt.RESOLUTION);var s=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),l=t.renderTexture.destinationFrame.clone(),u=t.projection.transform,g=qs.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:null!==(e=this.cacheAsBitmapMultisample)&&void 0!==e?e:t.multisample}),E="cacheAsBitmap_"+Wu();this._cacheData.textureCacheId=E,Jn.addToCache(g.baseTexture,E),Gt.addToCache(g,E);var w=this.transform.localTransform.copyTo(YB).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:g,clear:!0,transform:w,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=u,t.renderTexture.bind(s,a,l),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var P=new Ho(g);P.transform.worldTransform=this.transform.worldTransform,P.anchor.x=-r.x/r.width,P.anchor.y=-r.y/r.height,P.alpha=i,P._bounds=this._bounds,this._cacheData.sprite=P,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=P.containsPoint.bind(P)}},Qi.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},Qi.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),i=this.alpha;this.alpha=1;var r=t.context,o=t._projTransform;e.ceil(lt.RESOLUTION);var s=qs.create({width:e.width,height:e.height}),a="cacheAsBitmap_"+Wu();this._cacheData.textureCacheId=a,Jn.addToCache(s.baseTexture,a),Gt.addToCache(s,a);var l=YB;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.context=r,t._projTransform=o,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;var u=new Ho(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=i,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},Qi.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},Qi.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},Qi.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Jn.removeFromCache(this._cacheData.textureCacheId),Gt.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},Qi.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},Qi.prototype.name=null,zi.prototype.getChildByName=function(t,e){for(var i=0,r=this.children.length;i<r;i++)if(this.children[i].name===t)return this.children[i];if(e)for(i=0,r=this.children.length;i<r;i++)if(this.children[i].getChildByName){var s=this.children[i].getChildByName(t,!0);if(s)return s}return null},Qi.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new Ni),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var YO=function(n,t){return(YO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Qf(n,t){function e(){this.constructor=n}YO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var WB=function(n){function t(e,i,r,o){void 0===e&&(e=100),void 0===i&&(i=100),void 0===r&&(r=10),void 0===o&&(o=10);var s=n.call(this)||this;return s.segWidth=r,s.segHeight=o,s.width=e,s.height=i,s.build(),s}return Qf(t,n),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,i=[],r=[],o=[],s=this.segWidth-1,a=this.segHeight-1,l=this.width/s,u=this.height/a,g=0;g<e;g++){var E=g%this.segWidth,w=g/this.segWidth|0;i.push(E*l,w*u),r.push(E/s,w/a)}var P=s*a;for(g=0;g<P;g++){var A=g%s,D=g/s|0,Y=D*this.segWidth+A+1,K=(D+1)*this.segWidth+A;o.push(D*this.segWidth+A,Y,K,Y,(D+1)*this.segWidth+A+1,K)}this.buffers[0].data=new Float32Array(i),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(o),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(m_),zB=function(n){function t(e,i,r){void 0===e&&(e=200),void 0===r&&(r=0);var o=n.call(this,new Float32Array(4*i.length),new Float32Array(4*i.length),new Uint16Array(6*(i.length-1)))||this;return o.points=i,o._width=e,o.textureScale=r,o.build(),o}return Qf(t,n),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var i=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),o=this.getIndex();if(!(e.length<1)){i.data.length/4!==e.length&&(i.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),o.data=new Uint16Array(6*(e.length-1)));var s=r.data,a=o.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;for(var l=0,u=e[0],g=this._width*this.textureScale,E=e.length,w=0;w<E;w++){var P=4*w;if(this.textureScale>0){var A=u.x-e[w].x,D=u.y-e[w].y,B=Math.sqrt(A*A+D*D);u=e[w],l+=B/g}else l=w/(E-1);s[P]=l,s[P+1]=0,s[P+2]=l,s[P+3]=1}var Y=0;for(w=0;w<E-1;w++)a[Y++]=P=2*w,a[Y++]=P+1,a[Y++]=P+2,a[Y++]=P+2,a[Y++]=P+1,a[Y++]=P+3;r.update(),o.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var r,i=e[0],o=0,s=0,a=this.buffers[0].data,l=e.length,u=0;u<l;u++){var g=e[u],E=4*u;s=-((r=u<e.length-1?e[u+1]:g).x-i.x),o=r.y-i.y;var w=Math.sqrt(o*o+s*s),P=this.textureScale>0?this.textureScale*this._width/2:this._width/2;o/=w,s/=w,s*=P,a[E]=g.x+(o*=P),a[E+1]=g.y+s,a[E+2]=g.x-o,a[E+3]=g.y-s,i=g}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(m_),$B=function(n){function t(e,i,r){void 0===r&&(r=0);var o=this,s=new zB(e.height,i,r),a=new rh(e);return r>0&&(e.baseTexture.wrapMode=Xs.REPEAT),(o=n.call(this,s,a)||this).autoUpdate=!0,o}return Qf(t,n),t.prototype._render=function(e){var i=this.geometry;(this.autoUpdate||i._width!==this.shader.texture.height)&&(i._width=this.shader.texture.height,i.update()),n.prototype._render.call(this,e)},t}(Qs),XB=function(n){function t(e,i,r){var o=this,s=new WB(e.width,e.height,i,r),a=new rh(Gt.WHITE);return(o=n.call(this,s,a)||this).texture=e,o.autoResize=!0,o}return Qf(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,i=this.shader.texture;this.autoResize&&(e.width!==i.width||e.height!==i.height)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),n.prototype._render.call(this,e)},t.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),n.prototype.destroy.call(this,e)},t}(Qs),KB=function(n){function t(e,i,r,o,s){void 0===e&&(e=Gt.EMPTY);var a=this,l=new m_(i,r,o);l.getBuffer("aVertexPosition").static=!1;var u=new rh(e);return(a=n.call(this,l,u,null,s)||this).autoUpdate=!0,a}return Qf(t,n),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),n.prototype._render.call(this,e)},t}(Qs),b_=function(n){function t(e,i,r,o,s){void 0===i&&(i=10),void 0===r&&(r=10),void 0===o&&(o=10),void 0===s&&(s=10);var a=n.call(this,Gt.WHITE,4,4)||this;return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=i,a._rightWidth=o,a._topHeight=r,a._bottomHeight=s,a.texture=e,a}return Qf(t,n),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,i=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,i=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,r=this._topHeight+this._bottomHeight;return Math.min(this._width>e?1:this._width/e,this._height>r?1:this._height/r)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,i=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,o=1/this._origHeight;i[0]=i[8]=i[16]=i[24]=0,i[1]=i[3]=i[5]=i[7]=0,i[6]=i[14]=i[22]=i[30]=1,i[25]=i[27]=i[29]=i[31]=1,i[2]=i[10]=i[18]=i[26]=r*this._leftWidth,i[4]=i[12]=i[20]=i[28]=1-r*this._rightWidth,i[9]=i[11]=i[13]=i[15]=o*this._topHeight,i[17]=i[19]=i[21]=i[23]=1-o*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},t}(XB),WO=function(n,t){return(WO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},qB=function(n){function t(e,i){void 0===i&&(i=!0);var r=n.call(this,e[0]instanceof Gt?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=i,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function dre(n,t){function e(){this.constructor=n}WO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Zr.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Zr.shared.add(this.update,this,Fa.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var i=this.currentFrame;this._currentTime=e,i!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var i=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var o=this._currentTime%1*this._durations[this.currentFrame];for(o+=i/60*1e3;o<0;)this._currentTime--,o+=this._durations[this.currentFrame];var s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);o>=this._durations[this.currentFrame];)o-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=o/this._durations[this.currentFrame]}else this._currentTime+=i;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Gt.from(e[r]));return new t(i)},t.fromImages=function(e){for(var i=[],r=0;r<e.length;++r)i.push(Gt.from(e[r]));return new t(i)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Gt)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var i=0;i<e.length;i++)this._textures.push(e[i].texture),this._durations.push(e[i].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Zr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Zr.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),t}(Ho);Ba.registerPlugin("accessibility",_C),Ba.registerPlugin("extract",qF),Ba.registerPlugin("interaction",bC),Ba.registerPlugin("particle",vB),Ba.registerPlugin("prepare",xB),Ba.registerPlugin("batch",WF),Ba.registerPlugin("tilingSprite",FB),Oo.registerPlugin(VB),Oo.registerPlugin(aB),Oo.registerPlugin(cB),Oo.registerPlugin(pB),Oo.registerPlugin(DB),u_.registerPlugin(oF),u_.registerPlugin(nB);var fre="6.2.2",pre={AlphaFilter:Wie,BlurFilter:Jie,BlurFilterPass:LO,ColorMatrixFilter:GO,DisplacementFilter:ire,FXAAFilter:are,NoiseFilter:cre},zO=function(n,t){return(zO=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)},_re=function(){function n(t){this._foundShapes=[],this.renderer=t}return n.prototype.pushMask=function(t){var e=this.renderer,i=t.maskObject||t;e.context.save();var r=this._foundShapes;if(this.recursiveFindShapes(i,r),r.length>0){var o=e.context;o.beginPath();for(var s=0;s<r.length;s++){var a=r[s];this.renderer.setContextTransform(a.transform.worldTransform),this.renderGraphicsShape(a)}r.length=0,o.clip()}},n.prototype.recursiveFindShapes=function(t,e){t.geometry&&t.geometry.graphicsData&&e.push(t);var i=t.children;if(i)for(var r=0;r<i.length;r++)this.recursiveFindShapes(i[r],e)},n.prototype.renderGraphicsShape=function(t){t.finishPoly();var e=this.renderer.context,i=t.geometry.graphicsData,r=i.length;if(0!==r)for(var o=0;o<r;o++){var s=i[o],a=s.shape;if(a.type===ei.POLY){var l=a.points,u=s.holes,g=void 0,E=void 0,w=void 0,P=void 0;e.moveTo(l[0],l[1]);for(var A=1;A<l.length/2;A++)e.lineTo(l[2*A],l[2*A+1]);if(u.length>0){for(g=0,w=l[0],P=l[1],A=2;A+2<l.length;A+=2)g+=(l[A]-w)*(l[A+3]-P)-(l[A+2]-w)*(l[A+1]-P);for(var D=0;D<u.length;D++)if(l=u[D].shape.points){for(E=0,w=l[0],P=l[1],A=2;A+2<l.length;A+=2)E+=(l[A]-w)*(l[A+3]-P)-(l[A+2]-w)*(l[A+1]-P);if(E*g<0)for(e.moveTo(l[0],l[1]),A=2;A<l.length;A+=2)e.lineTo(l[A],l[A+1]);else for(e.moveTo(l[l.length-2],l[l.length-1]),A=l.length-4;A>=0;A-=2)e.lineTo(l[A],l[A+1]);u[D].shape.closeStroke&&e.closePath()}}l[0]===l[l.length-2]&&l[1]===l[l.length-1]&&e.closePath()}else if(a.type===ei.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(a.type===ei.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(a.type===ei.ELIP){var B=2*a.width,Y=2*a.height,K=a.x-B/2,re=a.y-Y/2,ae=.5522848,te=B/2*ae,ne=Y/2*ae,Oe=K+B,Ie=re+Y,ye=K+B/2,Ve=re+Y/2;e.moveTo(K,Ve),e.bezierCurveTo(K,Ve-ne,ye-te,re,ye,re),e.bezierCurveTo(ye+te,re,Oe,Ve-ne,Oe,Ve),e.bezierCurveTo(Oe,Ve+ne,ye+te,Ie,ye,Ie),e.bezierCurveTo(ye-te,Ie,K,Ve+ne,K,Ve),e.closePath()}else if(a.type===ei.RREC){var nt=a.x,it=a.y,Ze=a.width,At=a.height,$e=a.radius,De=Math.min(Ze,At)/2;e.moveTo(nt,it+($e=$e>De?De:$e)),e.lineTo(nt,it+At-$e),e.quadraticCurveTo(nt,it+At,nt+$e,it+At),e.lineTo(nt+Ze-$e,it+At),e.quadraticCurveTo(nt+Ze,it+At,nt+Ze,it+At-$e),e.lineTo(nt+Ze,it+$e),e.quadraticCurveTo(nt+Ze,it,nt+Ze-$e,it),e.lineTo(nt+$e,it),e.quadraticCurveTo(nt,it,nt,it+$e),e.closePath()}}},n.prototype.popMask=function(t){t.context.restore(),t.invalidateBlendMode()},n.prototype.destroy=function(){},n}();function JB(n){var t=document.createElement("canvas");t.width=6,t.height=1;var e=t.getContext("2d");return e.fillStyle=n,e.fillRect(0,0,6,1),t}function QB(){if("undefined"==typeof document)return!1;var n=JB("#ff00ff"),t=JB("#ffff00"),e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");i.globalCompositeOperation="multiply",i.drawImage(n,0,0),i.drawImage(t,2,0);var r=i.getImageData(2,0,1,1);if(!r)return!1;var o=r.data;return 255===o[0]&&0===o[1]&&0===o[2]}var vre=new pi,fl=function(n){function t(e){var i=n.call(this,ka.CANVAS,e)||this;if(i.refresh=!0,i.maskManager=new _re(i),i.smoothProperty="imageSmoothingEnabled",i.blendModes=function mre(n){return void 0===n&&(n=[]),QB()?(n[Ue.NORMAL]="source-over",n[Ue.ADD]="lighter",n[Ue.MULTIPLY]="multiply",n[Ue.SCREEN]="screen",n[Ue.OVERLAY]="overlay",n[Ue.DARKEN]="darken",n[Ue.LIGHTEN]="lighten",n[Ue.COLOR_DODGE]="color-dodge",n[Ue.COLOR_BURN]="color-burn",n[Ue.HARD_LIGHT]="hard-light",n[Ue.SOFT_LIGHT]="soft-light",n[Ue.DIFFERENCE]="difference",n[Ue.EXCLUSION]="exclusion",n[Ue.HUE]="hue",n[Ue.SATURATION]="saturate",n[Ue.COLOR]="color",n[Ue.LUMINOSITY]="luminosity"):(n[Ue.NORMAL]="source-over",n[Ue.ADD]="lighter",n[Ue.MULTIPLY]="source-over",n[Ue.SCREEN]="source-over",n[Ue.OVERLAY]="source-over",n[Ue.DARKEN]="source-over",n[Ue.LIGHTEN]="source-over",n[Ue.COLOR_DODGE]="source-over",n[Ue.COLOR_BURN]="source-over",n[Ue.HARD_LIGHT]="source-over",n[Ue.SOFT_LIGHT]="source-over",n[Ue.DIFFERENCE]="source-over",n[Ue.EXCLUSION]="source-over",n[Ue.HUE]="source-over",n[Ue.SATURATION]="source-over",n[Ue.COLOR]="source-over",n[Ue.LUMINOSITY]="source-over"),n[Ue.NORMAL_NPM]=n[Ue.NORMAL],n[Ue.ADD_NPM]=n[Ue.ADD],n[Ue.SCREEN_NPM]=n[Ue.SCREEN],n[Ue.SRC_IN]="source-in",n[Ue.SRC_OUT]="source-out",n[Ue.SRC_ATOP]="source-atop",n[Ue.DST_OVER]="destination-over",n[Ue.DST_IN]="destination-in",n[Ue.DST_OUT]="destination-out",n[Ue.DST_ATOP]="destination-atop",n[Ue.XOR]="xor",n[Ue.SUBTRACT]="source-over",n}(),i.renderingToScreen=!1,i._activeBlendMode=null,i._projTransform=null,i._outerBlend=!1,i.rootContext=i.view.getContext("2d",{alpha:i.useContextAlpha}),i.context=i.rootContext,!i.rootContext.imageSmoothingEnabled){var r=i.rootContext;r.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":r.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":r.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":r.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")}return i.initPlugins(t.__plugins),nC("Canvas"),i.resize(i.options.width,i.options.height),i}return function gre(n,t){function e(){this.constructor=n}zO(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.render=function(e,i){if(this.view){var r,o,s,a;i&&(i instanceof qs||i instanceof r_?(ul("6.0.0","CanvasRenderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.emit("prerender");var l=this.resolution;r?((r=r.castToBaseTexture())._canvasRenderTarget||(r._canvasRenderTarget=new jf(r.width,r.height,r.resolution),r.resource=new i_(r._canvasRenderTarget.canvas),r.valid=!0),this.context=r._canvasRenderTarget.context,this.resolution=r._canvasRenderTarget.resolution):this.context=this.rootContext;var u=this.context;if(this._projTransform=s||null,r||(this._lastObjectRendered=e),!a){var g=e.enableTempParent();e.updateTransform(),e.disableTempParent(g)}if(u.save(),u.setTransform(1,0,0,1,0,0),u.globalAlpha=1,this._activeBlendMode=Ue.NORMAL,this._outerBlend=!1,u.globalCompositeOperation=this.blendModes[Ue.NORMAL],void 0!==o?o:this.clearBeforeRender)if(this.renderingToScreen)u.clearRect(0,0,this.width,this.height),this.backgroundAlpha>0&&(u.globalAlpha=this.useContextAlpha?this.backgroundAlpha:1,u.fillStyle=this._backgroundColorString,u.fillRect(0,0,this.width,this.height),u.globalAlpha=1);else{(r=r)._canvasRenderTarget.clear();var E=r.clearColor;E[3]>0&&(u.globalAlpha=this.useContextAlpha?E[3]:1,u.fillStyle=Sy(rC(E)),u.fillRect(0,0,r.realWidth,r.realHeight),u.globalAlpha=1)}var w=this.context;this.context=u,e.renderCanvas(this),this.context=w,u.restore(),this.resolution=l,this._projTransform=null,this.emit("postrender")}},t.prototype.setContextTransform=function(e,i,r){var o=e,s=this._projTransform,a=this.resolution;r=r||a,s&&((o=vre).copyFrom(e),o.prepend(s)),i?this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a|0,o.ty*a|0):this.context.setTransform(o.a*r,o.b*r,o.c*r,o.d*r,o.tx*a,o.ty*a)},t.prototype.clear=function(e,i){void 0===e&&(e=this._backgroundColorString),void 0===i&&(i=this.backgroundAlpha);var r=this.context;r.clearRect(0,0,this.width,this.height),e&&(r.globalAlpha=this.useContextAlpha?i:1,r.fillStyle=e,r.fillRect(0,0,this.width,this.height),r.globalAlpha=1)},t.prototype.setBlendMode=function(e,i){var r=e===Ue.SRC_IN||e===Ue.SRC_OUT||e===Ue.DST_IN||e===Ue.DST_ATOP;!i&&r&&(e=Ue.NORMAL),this._activeBlendMode!==e&&(this._activeBlendMode=e,this._outerBlend=r,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=lt.SCALE_MODE===xr.LINEAR)},t.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i},t}(tO),Or={canvas:null,getTintedCanvas:function(n,t){var e=n.texture,i="#"+("00000"+(0|(t=Or.roundColor(t))).toString(16)).substr(-6);e.tintCache=e.tintCache||{};var o,r=e.tintCache[i];if(r){if(r.tintId===e._updateID)return e.tintCache[i];o=e.tintCache[i]}else o=document.createElement("canvas");if(Or.tintMethod(e,t,o),o.tintId=e._updateID,Or.convertTintToImage){var s=new Image;s.src=o.toDataURL(),e.tintCache[i]=s}else e.tintCache[i]=o;return o},getTintedPattern:function(n,t){var e="#"+("00000"+(0|(t=Or.roundColor(t))).toString(16)).substr(-6);n.patternCache=n.patternCache||{};var i=n.patternCache[e];return i&&i.tintId===n._updateID||(Or.canvas||(Or.canvas=document.createElement("canvas")),Or.tintMethod(n,t,Or.canvas),(i=Or.canvas.getContext("2d").createPattern(Or.canvas,"repeat")).tintId=n._updateID,n.patternCache[e]=i),i},tintWithMultiply:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="multiply";var s=n.baseTexture.getDrawableSource();i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(s,r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithOverlay:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),i.fillRect(0,0,r.width,r.height),i.globalCompositeOperation="destination-atop",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore()},tintWithPerPixel:function(n,t,e){var i=e.getContext("2d"),r=n._frame.clone(),o=n.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,e.width=Math.ceil(r.width),e.height=Math.ceil(r.height),i.save(),i.globalCompositeOperation="copy",i.drawImage(n.baseTexture.getDrawableSource(),r.x,r.y,r.width,r.height,0,0,r.width,r.height),i.restore();for(var s=Xl(t),a=s[0],l=s[1],u=s[2],g=i.getImageData(0,0,r.width,r.height),E=g.data,w=0;w<E.length;w+=4)E[w+0]*=a,E[w+1]*=l,E[w+2]*=u;i.putImageData(g,0,0)},roundColor:function(n){var t=Or.cacheStepsPerColorChannel,e=Xl(n);return e[0]=Math.min(255,e[0]/t*t),e[1]=Math.min(255,e[1]/t*t),e[2]=Math.min(255,e[2]/t*t),rC(e)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:QB(),tintMethod:null};Or.tintMethod=Or.canUseMultiply?Or.tintWithMultiply:Or.tintWithPerPixel;var yre=Ba.create;Ba.create=function(t){if(!t||!t.forceCanvas)try{return yre(t)}catch(i){}return new fl(t)},Jn.prototype.getDrawableSource=function(){var t=this.resource;return t?t.bitmap||t.source:null},r_.prototype._canvasRenderTarget=null,Gt.prototype.patternCache=null,Gt.prototype.tintCache=null;var $O="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function XO(n,t,e){return n(e={path:t,exports:{},require:function(i,r){return function bre(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},e.exports),e.exports}var KO=XO(function(n){var t=Object.prototype.hasOwnProperty,e="~";function i(){}function r(l,u,g){this.fn=l,this.context=u,this.once=g||!1}function o(l,u,g,E,w){if("function"!=typeof g)throw new TypeError("The listener must be a function");var P=new r(g,E||l,w),A=e?e+u:u;return l._events[A]?l._events[A].fn?l._events[A]=[l._events[A],P]:l._events[A].push(P):(l._events[A]=P,l._eventsCount++),l}function s(l,u){0==--l._eventsCount?l._events=new i:delete l._events[u]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(e=!1)),a.prototype.eventNames=function(){var g,E,u=[];if(0===this._eventsCount)return u;for(E in g=this._events)t.call(g,E)&&u.push(e?E.slice(1):E);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(g)):u},a.prototype.listeners=function(u){var E=this._events[e?e+u:u];if(!E)return[];if(E.fn)return[E.fn];for(var w=0,P=E.length,A=new Array(P);w<P;w++)A[w]=E[w].fn;return A},a.prototype.listenerCount=function(u){var E=this._events[e?e+u:u];return E?E.fn?1:E.length:0},a.prototype.emit=function(u,g,E,w,P,A){var D=arguments,B=e?e+u:u;if(!this._events[B])return!1;var re,ae,Y=this._events[B],K=arguments.length;if(Y.fn){switch(Y.once&&this.removeListener(u,Y.fn,void 0,!0),K){case 1:return Y.fn.call(Y.context),!0;case 2:return Y.fn.call(Y.context,g),!0;case 3:return Y.fn.call(Y.context,g,E),!0;case 4:return Y.fn.call(Y.context,g,E,w),!0;case 5:return Y.fn.call(Y.context,g,E,w,P),!0;case 6:return Y.fn.call(Y.context,g,E,w,P,A),!0}for(ae=1,re=new Array(K-1);ae<K;ae++)re[ae-1]=D[ae];Y.fn.apply(Y.context,re)}else{var ne,te=Y.length;for(ae=0;ae<te;ae++)switch(Y[ae].once&&this.removeListener(u,Y[ae].fn,void 0,!0),K){case 1:Y[ae].fn.call(Y[ae].context);break;case 2:Y[ae].fn.call(Y[ae].context,g);break;case 3:Y[ae].fn.call(Y[ae].context,g,E);break;case 4:Y[ae].fn.call(Y[ae].context,g,E,w);break;default:if(!re)for(ne=1,re=new Array(K-1);ne<K;ne++)re[ne-1]=D[ne];Y[ae].fn.apply(Y[ae].context,re)}}return!0},a.prototype.on=function(u,g,E){return o(this,u,g,E,!1)},a.prototype.once=function(u,g,E){return o(this,u,g,E,!0)},a.prototype.removeListener=function(u,g,E,w){var P=e?e+u:u;if(!this._events[P])return this;if(!g)return s(this,P),this;var A=this._events[P];if(A.fn)A.fn===g&&(!w||A.once)&&(!E||A.context===E)&&s(this,P);else{for(var D=0,B=[],Y=A.length;D<Y;D++)(A[D].fn!==g||w&&!A[D].once||E&&A[D].context!==E)&&B.push(A[D]);B.length?this._events[P]=1===B.length?B[0]:B:s(this,P)}return this},a.prototype.removeAllListeners=function(u){var g;return u?this._events[g=e?e+u:u]&&s(this,g):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,n.exports=a}),Ere=XO(function(n,t){!function(e){var i=t&&!t.nodeType&&t,r=n&&!n.nodeType&&n,o="object"==typeof $O&&$O;(o.global===o||o.window===o||o.self===o)&&(e=o);var s,Oe,a=2147483647,l=36,B=/^xn--/,Y=/[^\x20-\x7E]/,K=/[\x2E\u3002\uFF0E\uFF61]/g,re={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},te=Math.floor,ne=String.fromCharCode;function Ie(We){throw RangeError(re[We])}function ye(We,bt){for(var Dt=We.length,Nt=[];Dt--;)Nt[Dt]=bt(We[Dt]);return Nt}function Ve(We,bt){var Dt=We.split("@"),Nt="";return Dt.length>1&&(Nt=Dt[0]+"@",We=Dt[1]),Nt+ye((We=We.replace(K,".")).split("."),bt).join(".")}function nt(We){for(var Rt,ui,bt=[],Dt=0,Nt=We.length;Dt<Nt;)(Rt=We.charCodeAt(Dt++))>=55296&&Rt<=56319&&Dt<Nt?56320==(64512&(ui=We.charCodeAt(Dt++)))?bt.push(((1023&Rt)<<10)+(1023&ui)+65536):(bt.push(Rt),Dt--):bt.push(Rt);return bt}function it(We){return ye(We,function(bt){var Dt="";return bt>65535&&(Dt+=ne((bt-=65536)>>>10&1023|55296),bt=56320|1023&bt),Dt+ne(bt)}).join("")}function Ze(We){return We-48<10?We-22:We-65<26?We-65:We-97<26?We-97:l}function At(We,bt){return We+22+75*(We<26)-((0!=bt)<<5)}function $e(We,bt,Dt){var Nt=0;for(We=Dt?te(We/700):We>>1,We+=te(We/bt);We>455;Nt+=l)We=te(We/35);return te(Nt+36*We/(We+38))}function De(We){var Nt,pn,Hn,En,un,tn,Yn,nn,ro,di,bt=[],Dt=We.length,Rt=0,ui=128,Bn=72;for((pn=We.lastIndexOf("-"))<0&&(pn=0),Hn=0;Hn<pn;++Hn)We.charCodeAt(Hn)>=128&&Ie("not-basic"),bt.push(We.charCodeAt(Hn));for(En=pn>0?pn+1:0;En<Dt;){for(un=Rt,tn=1,Yn=l;En>=Dt&&Ie("invalid-input"),((nn=Ze(We.charCodeAt(En++)))>=l||nn>te((a-Rt)/tn))&&Ie("overflow"),Rt+=nn*tn,!(nn<(ro=Yn<=Bn?1:Yn>=Bn+26?26:Yn-Bn));Yn+=l)tn>te(a/(di=l-ro))&&Ie("overflow"),tn*=di;Bn=$e(Rt-un,Nt=bt.length+1,0==un),te(Rt/Nt)>a-ui&&Ie("overflow"),ui+=te(Rt/Nt),Rt%=Nt,bt.splice(Rt++,0,ui)}return it(bt)}function Ke(We){var bt,Dt,Nt,Rt,ui,Bn,pn,Hn,En,un,tn,nn,ro,di,In,Yn=[];for(nn=(We=nt(We)).length,bt=128,Dt=0,ui=72,Bn=0;Bn<nn;++Bn)(tn=We[Bn])<128&&Yn.push(ne(tn));for(Nt=Rt=Yn.length,Rt&&Yn.push("-");Nt<nn;){for(pn=a,Bn=0;Bn<nn;++Bn)(tn=We[Bn])>=bt&&tn<pn&&(pn=tn);for(pn-bt>te((a-Dt)/(ro=Nt+1))&&Ie("overflow"),Dt+=(pn-bt)*ro,bt=pn,Bn=0;Bn<nn;++Bn)if((tn=We[Bn])<bt&&++Dt>a&&Ie("overflow"),tn==bt){for(Hn=Dt,En=l;!(Hn<(un=En<=ui?1:En>=ui+26?26:En-ui));En+=l)Yn.push(ne(At(un+(In=Hn-un)%(di=l-un),0))),Hn=te(In/di);Yn.push(ne(At(Hn,0))),ui=$e(Dt,ro,Nt==Rt),Dt=0,++Nt}++Dt,++bt}return Yn.join("")}if(s={version:"1.3.2",ucs2:{decode:nt,encode:it},decode:De,encode:Ke,toASCII:function wt(We){return Ve(We,function(bt){return Y.test(bt)?"xn--"+Ke(bt):bt})},toUnicode:function ht(We){return Ve(We,function(bt){return B.test(bt)?De(bt.slice(4).toLowerCase()):bt})}},i&&r)if(n.exports==i)r.exports=s;else for(Oe in s)s.hasOwnProperty(Oe)&&(i[Oe]=s[Oe]);else e.punycode=s}($O)}),pl_isString=function(n){return"string"==typeof n},pl_isObject=function(n){return"object"==typeof n&&null!==n},pl_isNull=function(n){return null===n};function Sre(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var Tre=function(n,t,e,i){e=e||"=";var r={};if("string"!=typeof n||0===n.length)return r;var o=/\+/g;n=n.split(t=t||"&");var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var a=n.length;s>0&&a>s&&(a=s);for(var l=0;l<a;++l){var E,w,P,A,u=n[l].replace(o,"%20"),g=u.indexOf(e);g>=0?(E=u.substr(0,g),w=u.substr(g+1)):(E=u,w=""),P=decodeURIComponent(E),A=decodeURIComponent(w),Sre(r,P)?Array.isArray(r[P])?r[P].push(A):r[P]=[r[P],A]:r[P]=A}return r},E_=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}},Cre=function(n,t,e,i){return t=t||"&",e=e||"=",null===n&&(n=void 0),"object"==typeof n?Object.keys(n).map(function(r){var o=encodeURIComponent(E_(r))+e;return Array.isArray(n[r])?n[r].map(function(s){return o+encodeURIComponent(E_(s))}).join(t):o+encodeURIComponent(E_(n[r]))}).join(t):i?encodeURIComponent(E_(i))+e+encodeURIComponent(E_(n)):""},qO=XO(function(n,t){t.decode=t.parse=Tre,t.encode=t.stringify=Cre}),Ore=l0;function Ga(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Pre=/^([a-z0-9.+-]+:)/i,Are=/:[0-9]*$/,xre=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,Dre=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),JO=["'"].concat(Dre),ZB=["%","/","?",";","#"].concat(JO),e3=["/","?","#"],t3=/^[+a-z0-9A-Z_-]{0,63}$/,Nre=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,kre={javascript:!0,"javascript:":!0},QO={javascript:!0,"javascript:":!0},Zf={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function l0(n,t,e){if(n&&pl_isObject(n)&&n instanceof Ga)return n;var i=new Ga;return i.parse(n,t,e),i}Ga.prototype.parse=function(n,t,e){if(!pl_isString(n))throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var i=n.indexOf("?"),r=-1!==i&&i<n.indexOf("#")?"?":"#",o=n.split(r);o[0]=o[0].replace(/\\/g,"/");var a=n=o.join(r);if(a=a.trim(),!e&&1===n.split("#").length){var l=xre.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],this.query=t?qO.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var u=Pre.exec(a);if(u){var g=(u=u[0]).toLowerCase();this.protocol=g,a=a.substr(u.length)}if(e||u||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===a.substr(0,2);E&&(!u||!QO[u])&&(a=a.substr(2),this.slashes=!0)}if(!QO[u]&&(E||u&&!Zf[u])){for(var w=-1,P=0;P<e3.length;P++)-1!==(A=a.indexOf(e3[P]))&&(-1===w||A<w)&&(w=A);var D,B;for(-1!==(B=-1===w?a.lastIndexOf("@"):a.lastIndexOf("@",w))&&(D=a.slice(0,B),a=a.slice(B+1),this.auth=decodeURIComponent(D)),w=-1,P=0;P<ZB.length;P++){var A;-1!==(A=a.indexOf(ZB[P]))&&(-1===w||A<w)&&(w=A)}-1===w&&(w=a.length),this.host=a.slice(0,w),a=a.slice(w),this.parseHost(),this.hostname=this.hostname||"";var Y="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Y)for(var K=this.hostname.split(/\./),re=(P=0,K.length);P<re;P++){var ae=K[P];if(ae&&!ae.match(t3)){for(var te="",ne=0,Oe=ae.length;ne<Oe;ne++)ae.charCodeAt(ne)>127?te+="x":te+=ae[ne];if(!te.match(t3)){var Ie=K.slice(0,P),ye=K.slice(P+1),Ve=ae.match(Nre);Ve&&(Ie.push(Ve[1]),ye.unshift(Ve[2])),ye.length&&(a="/"+ye.join(".")+a),this.hostname=Ie.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Y||(this.hostname=Ere.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Y&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==a[0]&&(a="/"+a))}if(!kre[g])for(P=0,re=JO.length;P<re;P++){var Ze=JO[P];if(-1!==a.indexOf(Ze)){var At=encodeURIComponent(Ze);At===Ze&&(At=escape(Ze)),a=a.split(Ze).join(At)}}var $e=a.indexOf("#");-1!==$e&&(this.hash=a.substr($e),a=a.slice(0,$e));var De=a.indexOf("?");return-1!==De?(this.search=a.substr(De),this.query=a.substr(De+1),t&&(this.query=qO.parse(this.query)),a=a.slice(0,De)):t&&(this.search="",this.query={}),a&&(this.pathname=a),Zf[g]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},Ga.prototype.format=function(){var n=this.auth||"";n&&(n=(n=encodeURIComponent(n)).replace(/%3A/i,":"),n+="@");var t=this.protocol||"",e=this.pathname||"",i=this.hash||"",r=!1,o="";this.host?r=n+this.host:this.hostname&&(r=n+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&pl_isObject(this.query)&&Object.keys(this.query).length&&(o=qO.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||Zf[t])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),i&&"#"!==i.charAt(0)&&(i="#"+i),s&&"?"!==s.charAt(0)&&(s="?"+s),t+r+(e=e.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(s=s.replace("#","%23"))+i},Ga.prototype.resolve=function(n){return this.resolveObject(l0(n,!1,!0)).format()},Ga.prototype.resolveObject=function(n){if(pl_isString(n)){var t=new Ga;t.parse(n,!1,!0),n=t}for(var e=new Ga,i=Object.keys(this),r=0;r<i.length;r++){var o=i[r];e[o]=this[o]}if(e.hash=n.hash,""===n.href)return e.href=e.format(),e;if(n.slashes&&!n.protocol){for(var s=Object.keys(n),a=0;a<s.length;a++){var l=s[a];"protocol"!==l&&(e[l]=n[l])}return Zf[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(n.protocol&&n.protocol!==e.protocol){if(!Zf[n.protocol]){for(var u=Object.keys(n),g=0;g<u.length;g++){var E=u[g];e[E]=n[E]}return e.href=e.format(),e}if(e.protocol=n.protocol,n.host||QO[n.protocol])e.pathname=n.pathname;else{for(var re=(n.pathname||"").split("/");re.length&&!(n.host=re.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),""!==re[0]&&re.unshift(""),re.length<2&&re.unshift(""),e.pathname=re.join("/")}return e.search=n.search,e.query=n.query,e.host=n.host||"",e.auth=n.auth,e.hostname=n.hostname||n.host,e.port=n.port,(e.pathname||e.search)&&(e.path=(e.pathname||"")+(e.search||"")),e.slashes=e.slashes||n.slashes,e.href=e.format(),e}var A=e.pathname&&"/"===e.pathname.charAt(0),D=n.host||n.pathname&&"/"===n.pathname.charAt(0),B=D||A||e.host&&n.pathname,Y=B,K=e.pathname&&e.pathname.split("/")||[],ae=(re=n.pathname&&n.pathname.split("/")||[],e.protocol&&!Zf[e.protocol]);if(ae&&(e.hostname="",e.port=null,e.host&&(""===K[0]?K[0]=e.host:K.unshift(e.host)),e.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(""===re[0]?re[0]=n.host:re.unshift(n.host)),n.host=null),B=B&&(""===re[0]||""===K[0])),D)e.host=n.host||""===n.host?n.host:e.host,e.hostname=n.hostname||""===n.hostname?n.hostname:e.hostname,e.search=n.search,e.query=n.query,K=re;else if(re.length)K||(K=[]),K.pop(),K=K.concat(re),e.search=n.search,e.query=n.query;else if(!function(n){return null==n}(n.search))return ae&&(e.hostname=e.host=K.shift(),(te=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=te.shift(),e.host=e.hostname=te.shift())),e.search=n.search,e.query=n.query,(!pl_isNull(e.pathname)||!pl_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e;if(!K.length)return e.pathname=null,e.path=e.search?"/"+e.search:null,e.href=e.format(),e;for(var ne=K.slice(-1)[0],Oe=(e.host||n.host||K.length>1)&&("."===ne||".."===ne)||""===ne,Ie=0,ye=K.length;ye>=0;ye--)"."===(ne=K[ye])?K.splice(ye,1):".."===ne?(K.splice(ye,1),Ie++):Ie&&(K.splice(ye,1),Ie--);if(!B&&!Y)for(;Ie--;Ie)K.unshift("..");B&&""!==K[0]&&(!K[0]||"/"!==K[0].charAt(0))&&K.unshift(""),Oe&&"/"!==K.join("/").substr(-1)&&K.push("");var te,Ve=""===K[0]||K[0]&&"/"===K[0].charAt(0);return ae&&(e.hostname=e.host=Ve?"":K.length?K.shift():"",(te=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=te.shift(),e.host=e.hostname=te.shift())),(B=B||e.host&&K.length)&&!Ve&&K.unshift(""),K.length?e.pathname=K.join("/"):(e.pathname=null,e.path=null),(!pl_isNull(e.pathname)||!pl_isNull(e.search))&&(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=n.auth||e.auth,e.slashes=e.slashes||n.slashes,e.href=e.format(),e},Ga.prototype.parseHost=function(){var n=this.host,t=Are.exec(n);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),n=n.substr(0,n.length-t.length)),n&&(this.hostname=n)};var Lre={parse:Ore,format:function Fre(n){return pl_isString(n)&&(n=l0(n)),n instanceof Ga?n.format():Ga.prototype.format.call(n)},resolve:function Bre(n,t){return l0(n,!1,!0).resolve(t)}};lt.RETINA_PREFIX=/@([0-9\.]+)x/,lt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ZO,n3=!1,Yre=function Hre(){for(var n=[],t=[],e=0;e<32;e++)n[e]=e,t[e]=e;n[Ue.NORMAL_NPM]=Ue.NORMAL,n[Ue.ADD_NPM]=Ue.ADD,n[Ue.SCREEN_NPM]=Ue.SCREEN,t[Ue.NORMAL]=Ue.NORMAL_NPM,t[Ue.ADD]=Ue.ADD_NPM,t[Ue.SCREEN]=Ue.SCREEN_NPM;var i=[];return i.push(t),i.push(n),i}();function o3(n){if(4===n.BYTES_PER_ELEMENT)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===n.BYTES_PER_ELEMENT){if(n instanceof Uint16Array)return"Uint16Array"}else if(1===n.BYTES_PER_ELEMENT&&n instanceof Uint8Array)return"Uint8Array";return null}function u0(n){return n+=0===n?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,1+(n|=n>>>16)}function s3(n){return!(n&n-1||!n)}function a3(n){var t=(n>65535?1:0)<<4,e=((n>>>=t)>255?1:0)<<3;return t|=e,t|=e=((n>>>=e)>15?1:0)<<2,(t|=e=((n>>>=e)>3?1:0)<<1)|(n>>>=e)>>1}var $re=0;function S_(){return++$re}var l3={};function oh(n,t,e){if(void 0===e&&(e=3),!l3[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n):(i=i.split("\n").splice(e).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+n),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+n),console.warn(i))),l3[t]=!0}}var c0,u3={},Zl=Object.create(null),sh=Object.create(null);function c3(n,t){var e=lt.RETINA_PREFIX.exec(n);return e?parseFloat(e[1]):void 0!==t?t:1}!function(){function n(t,e,i){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||lt.RESOLUTION,this.resize(t,e)}n.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},n.prototype.resize=function(t,e){this.canvas.width=Math.round(t*this.resolution),this.canvas.height=Math.round(e*this.resolution)},n.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(n.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=Math.round(t)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=Math.round(t)},enumerable:!1,configurable:!0})}();var Mo=function(){function n(t){this.items=[],this._name=t,this._aliasCount=0}return n.prototype.emit=function(t,e,i,r,o,s,a,l){if(arguments.length>8)throw new Error("max arguments reached");var u=this,g=u.name,E=u.items;this._aliasCount++;for(var w=0,P=E.length;w<P;w++)E[w][g](t,e,i,r,o,s,a,l);return E===this.items&&this._aliasCount--,this},n.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},n.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},n.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},n.prototype.contains=function(t){return-1!==this.items.indexOf(t)},n.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},n.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(n.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),n}();Object.defineProperties(Mo.prototype,{dispatch:{value:Mo.prototype.emit},run:{value:Mo.prototype.emit}}),lt.TARGET_FPMS=.06;var T_=(()=>(function(n){n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY"}(T_||(T_={})),T_))(),eM=function(){function n(t,e,i,r){void 0===e&&(e=null),void 0===i&&(i=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=i,this.once=r}return n.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},n}(),ep=function(){function n(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new eM(null,null,1/0),this.deltaMS=1/lt.TARGET_FPMS,this.elapsedMS=1/lt.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return n.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},n.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},n.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},n.prototype.add=function(t,e,i){return void 0===i&&(i=T_.NORMAL),this._addListener(new eM(t,e,i))},n.prototype.addOnce=function(t,e,i){return void 0===i&&(i=T_.NORMAL),this._addListener(new eM(t,e,i,!0))},n.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},n.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(n.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),n.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},n.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},n.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},n.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*lt.TARGET_FPMS;for(var r=this._head,o=r.next;o;)o=o.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(n.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,e)/1e3,lt.TARGET_FPMS);this._maxElapsedMS=1/i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(n,"shared",{get:function(){if(!n._shared){var t=n._shared=new n;t.autoStart=!0,t._protected=!0}return n._shared},enumerable:!1,configurable:!0}),Object.defineProperty(n,"system",{get:function(){if(!n._system){var t=n._system=new n;t.autoStart=!0,t._protected=!0}return n._system},enumerable:!1,configurable:!0}),n}(),Kre=2*Math.PI,h0=(()=>(function(n){n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC"}(h0||(h0={})),h0))(),wo=function(){function n(t,e,i,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=0),this.x=Number(t),this.y=Number(e),this.width=Number(i),this.height=Number(r),this.type=h0.RECT}return Object.defineProperty(n.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(n,"EMPTY",{get:function(){return new n(0,0,0,0)},enumerable:!1,configurable:!0}),n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},n.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},n.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height},n.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},n.prototype.fit=function(t){var e=Math.max(this.x,t.x),i=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),o=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(i-e,0),this.y=r,this.height=Math.max(o-r,0),this},n.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var i=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=i-this.x,this.height=r-this.y,this},n.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),o=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=i-e,this.y=r,this.height=o-r,this},n.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},n}(),Xu=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=0,this.y=0,this.x=t,this.y=e}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},n.prototype.copyTo=function(t){return t.set(this.x,this.y),t},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},n.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},n}(),d0=function(){function n(t,e,i,r){void 0===i&&(i=0),void 0===r&&(r=0),this._x=i,this._y=r,this.cb=t,this.scope=e}return n.prototype.clone=function(t,e){return void 0===t&&(t=this.cb),void 0===e&&(e=this.scope),new n(t,e,this._x,this._y)},n.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),(this._x!==t||this._y!==e)&&(this._x=t,this._y=e,this.cb.call(this.scope)),this},n.prototype.copyFrom=function(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},n.prototype.copyTo=function(t){return t.set(this._x,this._y),t},n.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},n.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(n.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),n}(),Os=function(){function n(t,e,i,r,o,s){void 0===t&&(t=1),void 0===e&&(e=0),void 0===i&&(i=0),void 0===r&&(r=1),void 0===o&&(o=0),void 0===s&&(s=0),this.array=null,this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s}return n.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},n.prototype.set=function(t,e,i,r,o,s){return this.a=t,this.b=e,this.c=i,this.d=r,this.tx=o,this.ty=s,this},n.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},n.prototype.apply=function(t,e){e=e||new Xu;var i=t.x,r=t.y;return e.x=this.a*i+this.c*r+this.tx,e.y=this.b*i+this.d*r+this.ty,e},n.prototype.applyInverse=function(t,e){e=e||new Xu;var i=1/(this.a*this.d+this.c*-this.b),r=t.x,o=t.y;return e.x=this.d*i*r+-this.c*i*o+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*o+-this.b*i*r+(-this.ty*this.a+this.tx*this.b)*i,e},n.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},n.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},n.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),r=this.a,o=this.c,s=this.tx;return this.a=r*e-this.b*i,this.b=r*i+this.b*e,this.c=o*e-this.d*i,this.d=o*i+this.d*e,this.tx=s*e-this.ty*i,this.ty=s*i+this.ty*e,this},n.prototype.append=function(t){var e=this.a,i=this.b,r=this.c,o=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*i+t.b*o,this.c=t.c*e+t.d*r,this.d=t.c*i+t.d*o,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*i+t.ty*o+this.ty,this},n.prototype.setTransform=function(t,e,i,r,o,s,a,l,u){return this.a=Math.cos(a+u)*o,this.b=Math.sin(a+u)*o,this.c=-Math.sin(a-l)*s,this.d=Math.cos(a-l)*s,this.tx=t-(i*this.a+r*this.c),this.ty=e-(i*this.b+r*this.d),this},n.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,r=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},n.prototype.decompose=function(t){var e=this.a,i=this.b,r=this.c,o=this.d,s=t.pivot,a=-Math.atan2(-r,o),l=Math.atan2(i,e),u=Math.abs(a+l);return u<1e-5||Math.abs(Kre-u)<1e-5?(t.rotation=l,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=a,t.skew.y=l),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(r*r+o*o),t.position.x=this.tx+(s.x*e+s.y*r),t.position.y=this.ty+(s.x*i+s.y*o),t},n.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,r=this.d,o=this.tx,s=t*r-e*i;return this.a=r/s,this.b=-e/s,this.c=-i/s,this.d=t/s,this.tx=(i*this.ty-r*o)/s,this.ty=-(t*this.ty-e*o)/s,this},n.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},n.prototype.clone=function(){var t=new n;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},n.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},n.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(n,"IDENTITY",{get:function(){return new n},enumerable:!1,configurable:!0}),Object.defineProperty(n,"TEMP_MATRIX",{get:function(){return new n},enumerable:!1,configurable:!0}),n}(),ah=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],lh=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],uh=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ch=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],tM=[],h3=[],f0=Math.sign;!function qre(){for(var n=0;n<16;n++){var t=[];tM.push(t);for(var e=0;e<16;e++)for(var i=f0(ah[n]*ah[e]+uh[n]*lh[e]),r=f0(lh[n]*ah[e]+ch[n]*lh[e]),o=f0(ah[n]*uh[e]+uh[n]*ch[e]),s=f0(lh[n]*uh[e]+ch[n]*ch[e]),a=0;a<16;a++)if(ah[a]===i&&lh[a]===r&&uh[a]===o&&ch[a]===s){t.push(a);break}}for(n=0;n<16;n++){var l=new Os;l.set(ah[n],lh[n],uh[n],ch[n],0,0),h3.push(l)}}();var er={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(n){return ah[n]},uY:function(n){return lh[n]},vX:function(n){return uh[n]},vY:function(n){return ch[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return tM[n][t]},sub:function(n,t){return tM[n][er.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?er.S:er.N:2*Math.abs(t)<=Math.abs(n)?n>0?er.E:er.W:t>0?n>0?er.SE:er.SW:n>0?er.NE:er.NW},matrixAppendRotationInv:function(n,t,e,i){void 0===e&&(e=0),void 0===i&&(i=0);var r=h3[er.inv(t)];r.tx=e,r.ty=i,n.append(r)}};!function(){function n(){this.worldTransform=new Os,this.localTransform=new Os,this.position=new d0(this.onChange,this,0,0),this.scale=new d0(this.onChange,this,1,1),this.pivot=new d0(this.onChange,this,0,0),this.skew=new d0(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}n.prototype.onChange=function(){this._localID++},n.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},n.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},n.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},n.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,r=this.worldTransform;r.a=e.a*i.a+e.b*i.c,r.b=e.a*i.b+e.b*i.d,r.c=e.c*i.a+e.d*i.c,r.d=e.c*i.b+e.d*i.d,r.tx=e.tx*i.a+e.ty*i.c+i.tx,r.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},n.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(n.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),n.IDENTITY=new n}(),lt.PREFER_ENV=Ss.any?Jr.WEBGL:Jr.WEBGL2,lt.STRICT_TEXTURE_CACHE=!1;var p0=[];function nM(n,t){if(!n)return null;var e="";if("string"==typeof n){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);i&&(e=i[1].toLowerCase())}for(var r=p0.length-1;r>=0;--r){var o=p0[r];if(o.test&&o.test(n,e))return new o(n,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var iM=function(n,t){return(iM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function Fi(n,t){function e(){this.constructor=n}iM(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var rM=function(){return rM=Object.assign||function(t){for(var i,e=arguments,r=1,o=arguments.length;r<o;r++)for(var s in i=e[r])Object.prototype.hasOwnProperty.call(i,s)&&(t[s]=i[s]);return t},rM.apply(this,arguments)},tp=function(){function n(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new Mo("setRealSize"),this.onUpdate=new Mo("update"),this.onError=new Mo("onError")}return n.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},n.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},n.prototype.resize=function(t,e){(t!==this._width||e!==this._height)&&(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(n.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),n.prototype.update=function(){this.destroyed||this.onUpdate.emit()},n.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(n.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),n.prototype.style=function(t,e,i){return!1},n.prototype.dispose=function(){},n.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},n.test=function(t,e){return!1},n}(),g0=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height;if(!s||!a)throw new Error("BufferResource width or height invalid");return(r=n.call(this,s,a)||this).data=e,r}return Fi(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Qr.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(tp),Qre={scaleMode:xr.NEAREST,format:He.RGBA,alphaMode:Qr.NPM},Hr=function(n){function t(e,i){void 0===e&&(e=null),void 0===i&&(i=null);var r=n.call(this)||this,o=(i=i||{}).alphaMode,s=i.mipmap,a=i.anisotropicLevel,l=i.scaleMode,u=i.width,g=i.height,E=i.wrapMode,w=i.format,P=i.type,A=i.target,D=i.resolution;return e&&!(e instanceof tp)&&((e=nM(e,i.resourceOptions)).internal=!0),r.resolution=D||lt.RESOLUTION,r.width=Math.round((u||0)*r.resolution)/r.resolution,r.height=Math.round((g||0)*r.resolution)/r.resolution,r._mipmap=void 0!==s?s:lt.MIPMAP_TEXTURES,r.anisotropicLevel=void 0!==a?a:lt.ANISOTROPIC_LEVEL,r._wrapMode=E||lt.WRAP_MODE,r._scaleMode=void 0!==l?l:lt.SCALE_MODE,r.format=w||He.RGBA,r.type=P||yt.UNSIGNED_BYTE,r.target=A||Zo.TEXTURE_2D,r.alphaMode=void 0!==o?o:Qr.UNPACK,r.uid=S_(),r.touched=0,r.isPowerOfTwo=!1,r._refreshPOT(),r._glTextures={},r.dirtyId=0,r.dirtyStyleId=0,r.cacheId=null,r.valid=u>0&&g>0,r.textureCacheIds=[],r.destroyed=!1,r.resource=null,r._batchEnabled=0,r._batchLocation=0,r.parentTextureArray=null,r.setResource(e),r}return Fi(t,n),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,i){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==i&&i!==this.mipmap&&(this.mipmap=i,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,i,r){return this.setRealSize(e*(r=r||this.resolution),i*r,r)},t.prototype.setRealSize=function(e,i,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(i)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=s3(this.realWidth)&&s3(this.realHeight)},t.prototype.setResolution=function(e){var i=this.resolution;return i===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*i)/e,this.height=Math.round(this.height*i)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete sh[this.cacheId],delete Zl[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,i,r){void 0===r&&(r=lt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+S_()),s=e._pixiId);var l=sh[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return l||((l=new t(e,i)).cacheId=s,t.addToCache(l,s)),l},t.fromBuffer=function(e,i,r,o){e=e||new Float32Array(i*r*4);var s=new g0(e,{width:i,height:r}),a=e instanceof Float32Array?yt.FLOAT:yt.UNSIGNED_BYTE;return new t(s,Object.assign(Qre,o||{width:i,height:r,type:a}))},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),sh[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),sh[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=sh[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete sh[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)delete sh[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(KO),oM=function(n){function t(e,i){var r=this,o=i||{};(r=n.call(this,o.width,o.height)||this).items=[],r.itemDirtyIds=[];for(var l=0;l<e;l++){var u=new Hr;r.items.push(u),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return Fi(t,n),t.prototype.initFromArray=function(e,i){for(var r=0;r<this.length;r++)!e[r]||(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):this.addResourceAt(e[r]instanceof tp?e[r]:nM(e[r],i),r))},t.prototype.dispose=function(){for(var e=0,i=this.length;e<i;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,i){if(!this.items[i])throw new Error("Index "+i+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[i].setResource(e),this},t.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");n.prototype.bind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=e,this.items[i].on("update",e.update,e)},t.prototype.unbind=function(e){n.prototype.unbind.call(this,e);for(var i=0;i<this.length;i++)this.items[i].parentTextureArray=null,this.items[i].off("update",e.update,e)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.items.map(function(o){return o.resource}).filter(function(o){return o}),r=i.map(function(o){return o.load()});return this._load=Promise.all(r).then(function(){var o=e.items[0];return e.resize(o.realWidth,o.realHeight),Promise.resolve(e)}),this._load},t}(tp),d3=function(n){function t(e,i){var l,u,r=this,o=i||{},s=o.width,a=o.height;return Array.isArray(e)?(l=e,u=e.length):u=e,r=n.call(this,u,{width:s,height:a})||this,l&&r.initFromArray(l,i),r}return Fi(t,n),t.prototype.addBaseTextureAt=function(e,i){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,i),this},t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Zo.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,i,r){var o=this,s=o.length,a=o.itemDirtyIds,l=o.items,u=e.gl;r.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,s,0,i.format,r.type,null);for(var g=0;g<s;g++){var E=l[g];a[g]<E.dirtyId&&(a[g]=E.dirtyId,E.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,g,E.resource.width,E.resource.height,1,i.format,r.type,E.resource.source))}return!0},t}(oM),eu=function(n){function t(e){var i=this;return(i=n.call(this,e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height)||this).source=e,i.noSubImage=!1,i}return Fi(t,n),t.crossOrigin=function(e,i,r){void 0===r&&0!==i.indexOf("data:")?e.crossOrigin=function Xre(n,t){if(void 0===t&&(t=self.location),0===n.indexOf("data:"))return"";t=t||self.location,c0||(c0=document.createElement("a")),c0.href=n;var e=Lre.parse(c0.href);return e.hostname!==t.hostname||(e.port||""!==t.port)&&e.port!==t.port||e.protocol!==t.protocol?"anonymous":""}(i):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,i,r,o){var s=e.gl,a=i.realWidth,l=i.realHeight;return o=o||this.source,s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Qr.UNPACK),this.noSubImage||i.target!==s.TEXTURE_2D||r.width!==a||r.height!==l?(r.width=a,r.height=l,s.texImage2D(i.target,0,r.internalFormat,i.format,r.type,o)):s.texSubImage2D(s.TEXTURE_2D,0,0,0,i.format,r.type,o),!0},t.prototype.update=function(){if(!this.destroyed){var e=this.source;this.resize(e.naturalWidth||e.videoWidth||e.width,e.naturalHeight||e.videoHeight||e.height),n.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(tp),sM=function(n){function t(e){return n.call(this,e)||this}return Fi(t,n),t.test=function(e){var i=self.OffscreenCanvas;return!!(i&&e instanceof i)||self.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(eu),f3=function(n){function t(e,i){var r=this,o=i||{},s=o.width,a=o.height,l=o.autoLoad,u=o.linkBaseTexture;if(e&&e.length!==t.SIDES)throw new Error("Invalid length. Got "+e.length+", expected 6");r=n.call(this,6,{width:s,height:a})||this;for(var g=0;g<t.SIDES;g++)r.items[g].target=Zo.TEXTURE_CUBE_MAP_POSITIVE_X+g;return r.linkBaseTexture=!1!==u,e&&r.initFromArray(e,i),!1!==l&&r.load(),r}return Fi(t,n),t.prototype.bind=function(e){n.prototype.bind.call(this,e),e.target=Zo.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,i,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[i])throw new Error("Index "+i+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,i)}else e.target=Zo.TEXTURE_CUBE_MAP_POSITIVE_X+i,e.parentTextureArray=this.baseTexture,this.items[i]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[i]=e,this},t.prototype.upload=function(e,i,r){for(var o=this.itemDirtyIds,s=0;s<t.SIDES;s++){var a=this.items[s];o[s]<a.dirtyId&&(a.valid&&a.resource?(a.resource.upload(e,a,r),o[s]=a.dirtyId):o[s]<-1&&(e.gl.texImage2D(a.target,0,r.internalFormat,i.realWidth,i.realHeight,0,i.format,r.type,null),o[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(oM),aM=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLImageElement)){var o=new Image;eu.crossOrigin(o,e,i.crossorigin),o.src=e,e=o}return r=n.call(this,e)||this,!e.complete&&!!r._width&&!!r._height&&(r._width=0,r._height=0),r.url=e.src,r._process=null,r.preserveBitmap=!1,r.createBitmap=(void 0!==i.createBitmap?i.createBitmap:lt.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,r.alphaMode="number"==typeof i.alphaMode?i.alphaMode:null,r.bitmap=null,r._load=null,!1!==i.autoLoad&&r.load(),r}return Fi(t,n),t.prototype.load=function(e){var i=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(function(r,o){var s=i.source;i.url=s.src;var a=function(){i.destroyed||(s.onload=null,s.onerror=null,i.resize(s.width,s.height),i._load=null,r(i.createBitmap?i.process():i))};s.complete&&s.src?a():(s.onload=a,s.onerror=function(l){o(l),i.onError.emit(l)})})),this._load},t.prototype.process=function(){var e=this,i=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!self.createImageBitmap)return Promise.resolve(this);var r=self.createImageBitmap;return this._process=fetch(i.src,{mode:i.crossOrigin&&"anonymous"!==i.crossOrigin?"no-cors":"cors"}).then(function(s){return s.blob()}).then(function(s){return r(s,0,0,i.width,i.height,{premultiplyAlpha:e.alphaMode===Qr.UNPACK?"premultiply":"none"})}).then(function(s){return e.destroyed?Promise.reject():(e.bitmap=s,e.update(),e._process=null,Promise.resolve(e))}),this._process},t.prototype.upload=function(e,i,r){if("number"==typeof this.alphaMode&&(i.alphaMode=this.alphaMode),!this.createBitmap)return n.prototype.upload.call(this,e,i,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(n.prototype.upload.call(this,e,i,r,this.bitmap),!this.preserveBitmap){var o=!0,s=i._glTextures;for(var a in s){var l=s[a];if(l!==r&&l.dirtyId!==i.dirtyId){o=!1;break}}o&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,n.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(eu),p3=function(n){function t(e,i){var r=this;return i=i||{},(r=n.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=i.scale||1,r._overrideWidth=i.width,r._overrideHeight=i.height,r._resolve=null,r._crossorigin=i.crossorigin,r._load=null,!1!==i.autoLoad&&r.load(),r}return Fi(t,n),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise(function(i){if(e._resolve=function(){e.resize(e.source.width,e.source.height),i(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()})),this._load},t.prototype._loadSvg=function(){var e=this,i=new Image;eu.crossOrigin(i,this.svg,this._crossorigin),i.src=this.svg,i.onerror=function(r){!e._resolve||(i.onerror=null,e.onError.emit(r))},i.onload=function(){if(e._resolve){var r=i.width,o=i.height;if(!r||!o)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var s=r*e.scale,a=o*e.scale;(e._overrideWidth||e._overrideHeight)&&(s=e._overrideWidth||e._overrideHeight/o*r,a=e._overrideHeight||e._overrideWidth/r*o),s=Math.round(s),a=Math.round(a);var l=e.source;l.width=s,l.height=a,l._pixiId="canvas_"+S_(),l.getContext("2d").drawImage(i,0,0,r,o,0,0,s,a),e._resolve(),e._resolve=null}}},t.getSize=function(e){var i=t.SVG_SIZE.exec(e),r={};return i&&(r[i[1]]=Math.round(parseFloat(i[3])),r[i[5]]=Math.round(parseFloat(i[7]))),r},t.prototype.dispose=function(){n.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,i){return"svg"===i||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(eu),g3=function(n){function t(e,i){var r=this;if(i=i||{},!(e instanceof HTMLVideoElement)){var o=document.createElement("video");o.setAttribute("preload","auto"),o.setAttribute("webkit-playsinline",""),o.setAttribute("playsinline",""),"string"==typeof e&&(e=[e]),eu.crossOrigin(o,e[0].src||e[0],i.crossorigin);for(var a=0;a<e.length;++a){var l=document.createElement("source"),u=e[a],g=u.src,E=u.mime,w=(g=g||e[a]).split("?").shift().toLowerCase(),P=w.substr(w.lastIndexOf(".")+1);E=E||t.MIME_TYPES[P]||"video/"+P,l.src=g,l.type=E,o.appendChild(l)}e=o}return(r=n.call(this,e)||this).noSubImage=!0,r._autoUpdate=!0,r._isConnectedToTicker=!1,r._updateFPS=i.updateFPS||0,r._msToNextUpdate=0,r.autoPlay=!1!==i.autoPlay,r._load=null,r._resolve=null,r._onCanPlay=r._onCanPlay.bind(r),r._onError=r._onError.bind(r),!1!==i.autoLoad&&r.load(),r}return Fi(t,n),t.prototype.update=function(e){this.destroyed||(this._msToNextUpdate=Math.floor(this._msToNextUpdate-ep.shared.elapsedMS*this.source.playbackRate),(!this._updateFPS||this._msToNextUpdate<=0)&&(n.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0))},t.prototype.load=function(){var e=this;if(this._load)return this._load;var i=this.source;return(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0),i.addEventListener("play",this._onPlayStart.bind(this)),i.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(i.addEventListener("canplay",this._onCanPlay),i.addEventListener("canplaythrough",this._onCanPlay),i.addEventListener("error",this._onError,!0)),this._load=new Promise(function(r){e.valid?r(e):(e._resolve=r,i.load())}),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(ep.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(ep.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var i=this.valid;this.resize(e.videoWidth,e.videoHeight),!i&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(ep.shared.remove(this.update,this),this._isConnectedToTicker=!1);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),n.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(ep.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(ep.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,i){return self.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(i)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(eu),_3=function(n){function t(e){return n.call(this,e)||this}return Fi(t,n),t.test=function(e){return!!self.createImageBitmap&&e instanceof ImageBitmap},t}(eu);p0.push(aM,_3,sM,g3,p3,g0,f3,d3);var m3={__proto__:null,Resource:tp,BaseImageResource:eu,INSTALLED:p0,autoDetectResource:nM,AbstractMultiResource:oM,ArrayResource:d3,BufferResource:g0,CanvasResource:sM,CubeResource:f3,ImageResource:aM,SVGResource:p3,VideoResource:g3,ImageBitmapResource:_3},Zre=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return Fi(t,n),t.prototype.upload=function(e,i,r){var o=e.gl;o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,i.alphaMode===Qr.UNPACK);var s=i.realWidth,a=i.realHeight;return r.width===s&&r.height===a?o.texSubImage2D(i.target,0,0,0,s,a,i.format,r.type,this.data):(r.width=s,r.height=a,o.texImage2D(i.target,0,r.internalFormat,s,a,0,i.format,r.type,this.data)),!0},t}(g0),lM=function(){function n(t,e){this.width=Math.round(t||100),this.height=Math.round(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Mo("disposeFramebuffer"),this.multisample=Cn.NONE}return Object.defineProperty(n.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),n.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new Hr(null,{scaleMode:xr.NEAREST,resolution:1,mipmap:jo.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.addDepthTexture=function(t){return this.depthTexture=t||new Hr(new Zre(null,{width:this.width,height:this.height}),{scaleMode:xr.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:jo.OFF,format:He.DEPTH_COMPONENT,type:yt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},n.prototype.resize=function(t,e){if(t=Math.round(t),e=Math.round(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var i=0;i<this.colorTextures.length;i++){var r=this.colorTextures[i];r.setSize(t/(o=r.resolution),e/o)}var o;this.depthTexture&&this.depthTexture.setSize(t/(o=this.depthTexture.resolution),e/o)}},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},n}(),v3=function(n){function t(e){var i=this;if("number"==typeof e){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];e={width:r,height:o,scaleMode:s,resolution:a}}return e.width=e.width||100,e.height=e.height||100,e.multisample=void 0!==e.multisample?e.multisample:Cn.NONE,(i=n.call(this,null,e)||this).mipmap=jo.OFF,i.valid=!0,i.clearColor=[0,0,0,0],i.framebuffer=new lM(i.realWidth,i.realHeight).addColorTexture(0,i),i.framebuffer.multisample=e.multisample,i.maskStack=[],i.filterStack=[{}],i}return Fi(t,n),t.prototype.resize=function(e,i){this.framebuffer.resize(e*this.resolution,i*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),n.prototype.dispose.call(this)},t.prototype.destroy=function(){n.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(Hr),y3=function(){function n(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return n.prototype.set=function(t,e,i){var r=e.width,o=e.height;if(i){var s=t.width/2/r,a=t.height/2/o,l=t.x/r+s,u=t.y/o+a;i=er.add(i,er.NW),this.x0=l+s*er.uX(i),this.y0=u+a*er.uY(i),i=er.add(i,2),this.x1=l+s*er.uX(i),this.y1=u+a*er.uY(i),i=er.add(i,2),this.x2=l+s*er.uX(i),this.y2=u+a*er.uY(i),i=er.add(i,2),this.x3=l+s*er.uX(i),this.y3=u+a*er.uY(i)}else this.x0=t.x/r,this.y0=t.y/o,this.x1=(t.x+t.width)/r,this.y1=t.y/o,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/o,this.x3=t.x/r,this.y3=(t.y+t.height)/o;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},n.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},n}(),b3=new y3,gl=function(n){function t(e,i,r,o,s,a){var l=n.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new wo(0,0,1,1)),e instanceof t&&(e=e.baseTexture),l.baseTexture=e,l._frame=i,l.trim=o,l.valid=!1,l._uvs=b3,l.uvMatrix=null,l.orig=r||i,l._rotate=Number(s||0),!0===s)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Xu(a.x,a.y):new Xu(0,0),l._updateID=0,l.textureCacheIds=[],e.valid?l.noFrame?e.valid&&l.onBaseTextureUpdated(e):l.frame=i:e.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&e.on("update",l.onBaseTextureUpdated,l),l}return Fi(t,n),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var i=this.baseTexture.resource;i&&i.url&&Zl[i.url]&&t.removeFromCache(i.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),i=this._frame===this.orig?e:this.orig.clone(),r=new t(this.baseTexture,!this.noFrame&&e,i,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(r._frame=e),r},t.prototype.updateUvs=function(){this._uvs===b3&&(this._uvs=new y3),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,i,r){void 0===i&&(i={}),void 0===r&&(r=lt.STRICT_TEXTURE_CACHE);var o="string"==typeof e,s=null;o?s=e:e instanceof Hr?(e.cacheId||(e.cacheId=(i&&i.pixiIdPrefix||"pixiid")+"-"+S_(),Hr.addToCache(e,e.cacheId)),s=e.cacheId):(e._pixiId||(e._pixiId=(i&&i.pixiIdPrefix||"pixiid")+"_"+S_()),s=e._pixiId);var l=Zl[s];if(o&&r&&!l)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return l||e instanceof Hr?!l&&e instanceof Hr&&(l=new t(e),t.addToCache(l,s)):(i.resolution||(i.resolution=c3(e)),(l=new t(new Hr(e,i))).baseTexture.cacheId=s,Hr.addToCache(l.baseTexture,s),t.addToCache(l,s)),l},t.fromURL=function(e,i){var r=Object.assign({autoLoad:!1},null==i?void 0:i.resourceOptions),o=t.from(e,Object.assign({resourceOptions:r},i),!1),s=o.baseTexture.resource;return o.baseTexture.valid?Promise.resolve(o):s.load().then(function(){return Promise.resolve(o)})},t.fromBuffer=function(e,i,r,o){return new t(Hr.fromBuffer(e,i,r,o))},t.fromLoader=function(e,i,r,o){var s=new Hr(e,Object.assign({scaleMode:lt.SCALE_MODE,resolution:c3(i)},o)),a=s.resource;a instanceof aM&&(a.url=i);var l=new t(s);return r||(r=i),Hr.addToCache(l.baseTexture,r),t.addToCache(l,r),r!==i&&(Hr.addToCache(l.baseTexture,i),t.addToCache(l,i)),l.baseTexture.valid?Promise.resolve(l):new Promise(function(u){l.baseTexture.once("loaded",function(){return u(l)})})},t.addToCache=function(e,i){i&&(-1===e.textureCacheIds.indexOf(i)&&e.textureCacheIds.push(i),Zl[i]&&console.warn("Texture added to the cache with an id ["+i+"] that already had an entry"),Zl[i]=e)},t.removeFromCache=function(e){if("string"==typeof e){var i=Zl[e];if(i){var r=i.textureCacheIds.indexOf(e);return r>-1&&i.textureCacheIds.splice(r,1),delete Zl[e],i}}else if(e&&e.textureCacheIds){for(var o=0;o<e.textureCacheIds.length;++o)Zl[e.textureCacheIds[o]]===e&&delete Zl[e.textureCacheIds[o]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var i=e.x,r=e.y,o=e.width,s=e.height,a=i+o>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: X: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.width+" "+(a&&l?"and":"or")+" Y: "+r+" + "+s+" = "+(r+s)+" > "+this.baseTexture.height);this.valid=o&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(KO);function _0(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}gl.EMPTY=new gl(new Hr),_0(gl.EMPTY),_0(gl.EMPTY.baseTexture),gl.WHITE=function eoe(){var n=document.createElement("canvas");n.width=16,n.height=16;var t=n.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new gl(new Hr(new sM(n)))}(),_0(gl.WHITE),_0(gl.WHITE.baseTexture);var uM=function(n){function t(e,i){var r=n.call(this,e,i)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return Fi(t,n),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i,r){void 0===r&&(r=!0);var o=this.baseTexture.resolution,s=Math.round(e*o)/o,a=Math.round(i*o)/o;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()},t.prototype.setResolution=function(e){var i=this.baseTexture;i.resolution!==e&&(i.setResolution(e),this.resize(i.width,i.height,!1))},t.create=function(e){for(var i=arguments,r=[],o=1;o<arguments.length;o++)r[o-1]=i[o];return"number"==typeof e&&(oh("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:r[0],scaleMode:r[1],resolution:r[2]}),new t(new v3(e))},t}(gl),toe=function(){function n(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return n.prototype.createTexture=function(t,e,i){void 0===i&&(i=Cn.NONE);var r=new v3(Object.assign({width:t,height:e,resolution:1,multisample:i},this.textureOptions));return new uM(r)},n.prototype.getOptimalTexture=function(t,e,i,r){var o;void 0===i&&(i=1),void 0===r&&(r=Cn.NONE),t=Math.ceil(t*i),e=Math.ceil(e*i),this.enableFullScreen&&t===this._pixelsWidth&&e===this._pixelsHeight?o=r>1?-r:-1:(o=((65535&(t=u0(t)))<<16|65535&(e=u0(e)))>>>0,r>1&&(o+=4294967296*r)),this.texturePool[o]||(this.texturePool[o]=[]);var s=this.texturePool[o].pop();return s||(s=this.createTexture(t,e,r)),s.filterPoolKey=o,s.setResolution(i),s},n.prototype.getFilterTexture=function(t,e,i){var r=this.getOptimalTexture(t.width,t.height,e||t.resolution,i||Cn.NONE);return r.filterFrame=t.filterFrame,r},n.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},n.prototype.returnFilterTexture=function(t){this.returnTexture(t)},n.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0)}this.texturePool={}},n.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var e in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(e)<0){var i=this.texturePool[e];if(i)for(var r=0;r<i.length;r++)i[r].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},n.SCREEN_KEY=-1,n}(),E3=function(){function n(t,e,i,r,o,s,a){void 0===e&&(e=0),void 0===i&&(i=!1),void 0===r&&(r=yt.FLOAT),this.buffer=t,this.size=e,this.normalized=i,this.type=r,this.stride=o,this.start=s,this.instance=a}return n.prototype.destroy=function(){this.buffer=null},n.from=function(t,e,i,r,o){return new n(t,e,i,r,o)},n}(),noe=0,Ms=function(){function n(t,e,i){void 0===e&&(e=!0),void 0===i&&(i=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=e,this.id=noe++,this.disposeRunner=new Mo("disposeBuffer")}return n.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(n.prototype,"index",{get:function(){return this.type===Dr.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?Dr.ELEMENT_ARRAY_BUFFER:Dr.ARRAY_BUFFER},enumerable:!1,configurable:!0}),n.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new n(t)},n}(),ioe={Float32Array,Uint32Array,Int32Array,Uint8Array},S3={5126:4,5123:2,5121:1},ooe=0,soe={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},cM=function(){function n(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=ooe++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Mo("disposeGeometry"),this.refCount=0}return n.prototype.addAttribute=function(t,e,i,r,o,s,a,l){if(void 0===i&&(i=0),void 0===r&&(r=!1),void 0===l&&(l=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof Ms||(e instanceof Array&&(e=new Float32Array(e)),e=new Ms(e));var u=t.split("|");if(u.length>1){for(var g=0;g<u.length;g++)this.addAttribute(u[g],e,i,r,o);return this}var E=this.buffers.indexOf(e);return-1===E&&(this.buffers.push(e),E=this.buffers.length-1),this.attributes[t]=new E3(E,i,r,o,s,a,l),this.instanced=this.instanced||l,this},n.prototype.getAttribute=function(t){return this.attributes[t]},n.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},n.prototype.addIndex=function(t){return t instanceof Ms||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ms(t)),t.type=Dr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},n.prototype.getIndex=function(){return this.indexBuffer},n.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var r,t=[],e=[],i=new Ms;for(r in this.attributes){var o=this.attributes[r];t.push(this.buffers[o.buffer].data),e.push(o.size*S3[o.type]/4),o.buffer=0}for(i.data=function roe(n,t){for(var e=0,i=0,r={},o=0;o<n.length;o++)i+=t[o],e+=n[o].length;var s=new ArrayBuffer(4*e),a=null,l=0;for(o=0;o<n.length;o++){var u=t[o],g=n[o],E=o3(g);r[E]||(r[E]=new ioe[E](s)),a=r[E];for(var w=0;w<g.length;w++)a[(w/u|0)*i+l+w%u]=g[w];l+=u}return new Float32Array(s)}(t,e),r=0;r<this.buffers.length;r++)this.buffers[r]!==this.indexBuffer&&this.buffers[r].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},n.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},n.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},n.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},n.prototype.clone=function(){for(var t=new n,e=0;e<this.buffers.length;e++)t.buffers[e]=new Ms(this.buffers[e].data.slice(0));for(var e in this.attributes){var i=this.attributes[e];t.attributes[e]=new E3(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=Dr.ELEMENT_ARRAY_BUFFER),t},n.merge=function(t){for(var s,e=new n,i=[],r=[],o=[],a=0;a<t.length;a++){s=t[a];for(var l=0;l<s.buffers.length;l++)r[l]=r[l]||0,r[l]+=s.buffers[l].data.length,o[l]=0}for(a=0;a<s.buffers.length;a++)i[a]=new(soe[o3(s.buffers[a].data)])(r[a]),e.buffers[a]=new Ms(i[a]);for(a=0;a<t.length;a++)for(s=t[a],l=0;l<s.buffers.length;l++)i[l].set(s.buffers[l].data,o[l]),o[l]+=s.buffers[l].data.length;if(e.attributes=s.attributes,s.indexBuffer){e.indexBuffer=e.buffers[s.buffers.indexOf(s.indexBuffer)],e.indexBuffer.type=Dr.ELEMENT_ARRAY_BUFFER;var u=0,g=0,E=0,w=0;for(a=0;a<s.buffers.length;a++)if(s.buffers[a]!==s.indexBuffer){w=a;break}for(var a in s.attributes){var P=s.attributes[a];(0|P.buffer)===w&&(g+=P.size*S3[P.type]/4)}for(a=0;a<t.length;a++){var A=t[a].indexBuffer.data;for(l=0;l<A.length;l++)e.indexBuffer.data[l+E]+=u;u+=t[a].buffers[w].data.length/g,E+=A.length}}return e},n}(),aoe=function(n){function t(){var e=n.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return Fi(t,n),t}(cM),loe=function(n){function t(){var e=n.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new Ms(e.vertices),e.uvBuffer=new Ms(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return Fi(t,n),t.prototype.map=function(e,i){var r=0,o=0;return this.uvs[0]=r,this.uvs[1]=o,this.uvs[2]=r+i.width/e.width,this.uvs[3]=o,this.uvs[4]=r+i.width/e.width,this.uvs[5]=o+i.height/e.height,this.uvs[6]=r,this.uvs[7]=o+i.height/e.height,o=i.y,this.vertices[0]=r=i.x,this.vertices[1]=o,this.vertices[2]=r+i.width,this.vertices[3]=o,this.vertices[4]=r+i.width,this.vertices[5]=o+i.height,this.vertices[6]=r,this.vertices[7]=o+i.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(cM),uoe=0,np=function(){function n(t,e,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=uoe++,this.static=!!e,this.ubo=!!i,t instanceof Ms?(this.buffer=t,this.buffer.type=Dr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ms(new Float32Array(1)),this.buffer.type=Dr.UNIFORM_BUFFER,this.autoManage=!0))}return n.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},n.prototype.add=function(t,e,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new n(e,i)},n.from=function(t,e,i){return new n(t,e,i)},n.uboFrom=function(t,e){return new n(t,null==e||e,!0)},n}(),coe=function(){function n(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Cn.NONE,this.sourceFrame=new wo,this.destinationFrame=new wo,this.bindingSourceFrame=new wo,this.bindingDestinationFrame=new wo,this.filters=[],this.transform=null}return n.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},n}(),m0=[new Xu,new Xu,new Xu,new Xu],hM=new Os,T3=function(){function n(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new toe,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new aoe,this.quadUv=new loe,this.tempRect=new wo,this.activeState={},this.globalUniforms=new np({outputFrame:new wo,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return n.prototype.push=function(t,e){for(var i,r,o=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new coe,l=this.renderer.renderTexture,u=e[0].resolution,g=e[0].multisample,E=e[0].padding,w=e[0].autoFit,P=null===(i=e[0].legacy)||void 0===i||i,A=1;A<e.length;A++){var D=e[A];u=Math.min(u,D.resolution),g=Math.min(g,D.multisample),E=this.useMaxPadding?Math.max(E,D.padding):E+D.padding,w=w&&D.autoFit,P=P||null===(r=D.legacy)||void 0===r||r}if(1===s.length&&(this.defaultFilterStack[0].renderTexture=l.current),s.push(a),a.resolution=u,a.multisample=g,a.legacy=P,a.target=t,a.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),a.sourceFrame.pad(E),w){var B=this.tempRect.copyFrom(l.sourceFrame);o.projection.transform&&this.transformAABB(hM.copyFrom(o.projection.transform).invert(),B),a.sourceFrame.fit(B)}this.roundFrame(a.sourceFrame,l.current?l.current.resolution:o.resolution,l.sourceFrame,l.destinationFrame,o.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,u,g),a.filters=e,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var Y=this.tempRect;Y.x=0,Y.y=0,Y.width=a.sourceFrame.width,Y.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(l.sourceFrame),a.bindingDestinationFrame.copyFrom(l.destinationFrame),a.transform=o.projection.transform,o.projection.transform=null,l.bind(a.renderTexture,a.sourceFrame,Y),o.framebuffer.clear(0,0,0,0)},n.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),i=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var o=r.inputSize,s=r.inputPixel,a=r.inputClamp;if(o[0]=e.destinationFrame.width,o[1]=e.destinationFrame.height,o[2]=1/o[0],o[3]=1/o[1],s[0]=Math.round(o[0]*e.resolution),s[1]=Math.round(o[1]*e.resolution),s[2]=1/s[0],s[3]=1/s[1],a[0]=.5*s[2],a[1]=.5*s[3],a[2]=e.sourceFrame.width*o[2]-.5*s[2],a[3]=e.sourceFrame.height*o[3]-.5*s[3],e.legacy){var l=r.filterArea;l[0]=e.destinationFrame.width,l[1]=e.destinationFrame.height,l[2]=e.sourceFrame.x,l[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var u=t[t.length-1];if(this.renderer.framebuffer.blit(),1===i.length)i[0].apply(this,e.renderTexture,u.renderTexture,Co.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var g=e.renderTexture,E=this.getOptimalFilterTexture(g.width,g.height,e.resolution);E.filterFrame=g.filterFrame;var w=0;for(w=0;w<i.length-1;++w){1===w&&e.multisample>1&&((E=this.getOptimalFilterTexture(g.width,g.height,e.resolution)).filterFrame=g.filterFrame),i[w].apply(this,g,E,Co.CLEAR,e);var P=g;g=E,E=P}i[w].apply(this,g,u.renderTexture,Co.BLEND,e),w>1&&e.multisample>1&&this.returnFilterTexture(e.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(E)}e.clear(),this.statePool.push(e)},n.prototype.bindAndClear=function(t,e){void 0===e&&(e=Co.CLEAR);var i=this.renderer,r=i.renderTexture,o=i.state;if(this.renderer.projection.transform=t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.activeState.transform:null,t&&t.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=t.filterFrame.width,s.height=t.filterFrame.height,r.bind(t,t.filterFrame,s)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);(e===Co.CLEAR||e===Co.BLIT&&(1&o.stateId||this.forceClear))&&this.renderer.framebuffer.clear(0,0,0,0)},n.prototype.applyFilter=function(t,e,i,r){var o=this.renderer;o.state.set(t.state),this.bindAndClear(i,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,o.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(e._frame,e.filterFrame),o.geometry.bind(this.quadUv),o.geometry.draw(lo.TRIANGLES)):(o.geometry.bind(this.quad),o.geometry.draw(lo.TRIANGLE_STRIP))},n.prototype.calculateSpriteMatrix=function(t,e){var i=this.activeState,r=i.sourceFrame,o=i.destinationFrame,s=e._texture.orig,a=t.set(o.width,0,0,o.height,r.x,r.y),l=e.worldTransform.copyTo(Os.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(e.anchor.x,e.anchor.y),a},n.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},n.prototype.getOptimalFilterTexture=function(t,e,i,r){return void 0===i&&(i=1),void 0===r&&(r=Cn.NONE),this.texturePool.getOptimalTexture(t,e,i,r)},n.prototype.getFilterTexture=function(t,e,i){if("number"==typeof t){var r=t;t=e,e=r}var o=this.texturePool.getOptimalTexture((t=t||this.activeState.renderTexture).width,t.height,e||t.resolution,i||Cn.NONE);return o.filterFrame=t.filterFrame,o},n.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},n.prototype.emptyPool=function(){this.texturePool.clear(!0)},n.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},n.prototype.transformAABB=function(t,e){var i=m0[0],r=m0[1],o=m0[2],s=m0[3];i.set(e.left,e.top),r.set(e.left,e.bottom),o.set(e.right,e.top),s.set(e.right,e.bottom),t.apply(i,i),t.apply(r,r),t.apply(o,o),t.apply(s,s);var a=Math.min(i.x,r.x,o.x,s.x),l=Math.min(i.y,r.y,o.y,s.y),u=Math.max(i.x,r.x,o.x,s.x),g=Math.max(i.y,r.y,o.y,s.y);e.x=a,e.y=l,e.width=u-a,e.height=g-l},n.prototype.roundFrame=function(t,e,i,r,o){if(!(t.width<=0||t.height<=0||i.width<=0||i.height<=0)){if(o){var s=o.a,l=o.c,u=o.d;if((Math.abs(o.b)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(u)>1e-4))return}(o=o?hM.copyFrom(o):hM.identity()).translate(-i.x,-i.y).scale(r.width/i.width,r.height/i.height).translate(r.x,r.y),this.transformAABB(o,t),t.ceil(e),this.transformAABB(o.invert(),t)}},n}(),C3=function(){function n(t){this.renderer=t}return n.prototype.flush=function(){},n.prototype.destroy=function(){this.renderer=null},n.prototype.start=function(){},n.prototype.stop=function(){this.flush()},n.prototype.render=function(t){},n}(),O3=function(){function n(t){this.renderer=t,this.emptyRenderer=new C3(t),this.currentRenderer=this.emptyRenderer}return n.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},n.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},n.prototype.copyBoundTextures=function(t,e){for(var i=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=i[r]||null,t[r]&&(t[r]._batchLocation=r)},n.prototype.boundArray=function(t,e,i,r){for(var o=t.elements,s=t.ids,a=t.count,l=0,u=0;u<a;u++){var g=o[u],E=g._batchLocation;if(E>=0&&E<r&&e[E]===g)s[u]=E;else for(;l<r;){var w=e[l];if(!w||w._batchEnabled!==i||w._batchLocation!==l){s[u]=l,g._batchLocation=l,e[l]=g;break}l++}}},n.prototype.destroy=function(){this.renderer=null},n}(),M3=0,w3=function(){function n(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(n.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),n.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=M3++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},n.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=M3++,this.renderer.runners.contextChange.emit(t)},n.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},n.prototype.createContext=function(t,e){var i;if(lt.PREFER_ENV>=Jr.WEBGL2&&(i=t.getContext("webgl2",e)),i)this.webGLVersion=2;else if(this.webGLVersion=1,!(i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl},n.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},n.prototype.handleContextLost=function(t){t.preventDefault()},n.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},n.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},n.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},n.prototype.validateContext=function(t){var e=t.getContextAttributes(),i="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;i&&(this.webGLVersion=2),e.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var r=i||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r,r||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},n}(),hoe=function n(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Cn.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},doe=new wo,P3=function(){function n(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new lM(10,10),this.msaaSamples=null}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new wo,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;lt.PREFER_ENV===Jr.WEBGL_LEGACY&&(e=null,i=null),e?t.drawBuffers=function(r){return e.drawBuffersWEBGL(r)}:(this.hasMRT=!1,t.drawBuffers=function(){}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},n.prototype.bind=function(t,e,i){void 0===i&&(i=0);var r=this.gl;if(t){var o=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,r.bindFramebuffer(r.FRAMEBUFFER,o.framebuffer)),o.mipLevel!==i&&(t.dirtyId++,t.dirtyFormat++,o.mipLevel=i),o.dirtyId!==t.dirtyId&&(o.dirtyId=t.dirtyId,o.dirtyFormat!==t.dirtyFormat?(o.dirtyFormat=t.dirtyFormat,o.dirtySize=t.dirtySize,this.updateFramebuffer(t,i)):o.dirtySize!==t.dirtySize&&(o.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var s=0;s<t.colorTextures.length;s++){var a=t.colorTextures[s];this.renderer.texture.unbind(a.parentTextureArray||a)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e){var g=(l=e.width>>i)/e.width;this.setViewport(e.x*g,e.y*g,l,e.height>>i)}else{var l;this.setViewport(0,0,l=t.width>>i,t.height>>i)}}else this.current&&(this.current=null,r.bindFramebuffer(r.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},n.prototype.setViewport=function(t,e,i,r){var o=this.viewport;t=Math.round(t),e=Math.round(e),i=Math.round(i),r=Math.round(r),(o.width!==i||o.height!==r||o.x!==t||o.y!==e)&&(o.x=t,o.y=e,o.width=i,o.height=r,this.gl.viewport(t,e,i,r))},Object.defineProperty(n.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),n.prototype.clear=function(t,e,i,r,o){void 0===o&&(o=Hu.COLOR|Hu.DEPTH);var s=this.gl;s.clearColor(t,e,i,r),s.clear(o)},n.prototype.initFramebuffer=function(t){var i=new hoe(this.gl.createFramebuffer());return i.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(t),t.disposeRunner.add(this),i},n.prototype.resizeFramebuffer=function(t){var e=this.gl,i=t.glFramebuffers[this.CONTEXT_UID];i.msaaBuffer&&(e.bindRenderbuffer(e.RENDERBUFFER,i.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.RGBA8,t.width,t.height)),i.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,i.stencil),i.msaaBuffer?e.renderbufferStorageMultisample(e.RENDERBUFFER,i.multisample,e.DEPTH24_STENCIL8,t.width,t.height):e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));var r=t.colorTextures,o=r.length;e.drawBuffers||(o=Math.min(o,1));for(var s=0;s<o;s++){var a=r[s];this.renderer.texture.bind(a.parentTextureArray||a,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},n.prototype.updateFramebuffer=function(t,e){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID],o=t.colorTextures,s=o.length;i.drawBuffers||(s=Math.min(s,1)),r.multisample>1&&this.canMultisampleFramebuffer(t)?(r.msaaBuffer=r.msaaBuffer||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r.msaaBuffer)):r.msaaBuffer&&(i.deleteRenderbuffer(r.msaaBuffer),r.msaaBuffer=null,r.blitFramebuffer&&(r.blitFramebuffer.dispose(),r.blitFramebuffer=null));for(var a=[],l=0;l<s;l++){var u=o[l],g=u.parentTextureArray||u;this.renderer.texture.bind(g,0),(0!==l||!r.msaaBuffer)&&(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+l,u.target,g._glTextures[this.CONTEXT_UID].texture,e),a.push(i.COLOR_ATTACHMENT0+l))}if(a.length>1&&i.drawBuffers(a),t.depthTexture&&this.writeDepthTexture){var w=t.depthTexture;this.renderer.texture.bind(w,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,w._glTextures[this.CONTEXT_UID].texture,e)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?r.stencil&&(i.deleteRenderbuffer(r.stencil),r.stencil=null):(r.stencil=r.stencil||i.createRenderbuffer(),i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,r.stencil))},n.prototype.canMultisampleFramebuffer=function(t){return 1!==this.renderer.context.webGLVersion&&t.colorTextures.length<=1&&!t.depthTexture},n.prototype.detectSamples=function(t){var e=this.msaaSamples,i=Cn.NONE;if(t<=1||null===e)return i;for(var r=0;r<e.length;r++)if(e[r]<=t){i=e[r];break}return 1===i&&(i=Cn.NONE),i},n.prototype.blit=function(t,e,i){var r=this,o=r.current,a=r.gl;if(2===r.renderer.context.webGLVersion&&o){var u=o.glFramebuffers[r.CONTEXT_UID];if(u){if(!t){if(!u.msaaBuffer)return;var g=o.colorTextures[0];if(!g)return;u.blitFramebuffer||(u.blitFramebuffer=new lM(o.width,o.height),u.blitFramebuffer.addColorTexture(0,g)),(t=u.blitFramebuffer).colorTextures[0]!==g&&(t.colorTextures[0]=g,t.dirtyId++,t.dirtyFormat++),(t.width!==o.width||t.height!==o.height)&&(t.width=o.width,t.height=o.height,t.dirtyId++,t.dirtySize++)}e||((e=doe).width=o.width,e.height=o.height),i||(i=e);var E=e.width===i.width&&e.height===i.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,u.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,i.x,i.y,i.width,i.height,a.COLOR_BUFFER_BIT,E?a.NEAREST:a.LINEAR)}}},n.prototype.disposeFramebuffer=function(t,e){var i=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(i){delete t.glFramebuffers[this.CONTEXT_UID];var o=this.managedFramebuffers.indexOf(t);o>=0&&this.managedFramebuffers.splice(o,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&r.deleteRenderbuffer(i.msaaBuffer),i.stencil&&r.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&i.blitFramebuffer.dispose()}},n.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var i=0;i<e.length;i++)this.disposeFramebuffer(e[i],t)},n.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.stencil=!0;var i=t.width,r=t.height,o=this.gl,s=o.createRenderbuffer();o.bindRenderbuffer(o.RENDERBUFFER,s),e.msaaBuffer?o.renderbufferStorageMultisample(o.RENDERBUFFER,e.multisample,o.DEPTH24_STENCIL8,i,r):o.renderbufferStorage(o.RENDERBUFFER,o.DEPTH_STENCIL,i,r),e.stencil=s,o.framebufferRenderbuffer(o.FRAMEBUFFER,o.DEPTH_STENCIL_ATTACHMENT,o.RENDERBUFFER,s)}}},n.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new wo},n.prototype.destroy=function(){this.renderer=null},n}(),dM={5126:4,5123:2,5121:1},A3=function(){function n(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return n.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var i=this.renderer.context.extensions.vertexArrayObject;lt.PREFER_ENV===Jr.WEBGL_LEGACY&&(i=null),i?(t.createVertexArray=function(){return i.createVertexArrayOES()},t.bindVertexArray=function(o){return i.bindVertexArrayOES(o)},t.deleteVertexArray=function(o){return i.deleteVertexArrayOES(o)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var r=t.getExtension("ANGLE_instanced_arrays");r?(t.vertexAttribDivisor=function(o,s){return r.vertexAttribDivisorANGLE(o,s)},t.drawElementsInstanced=function(o,s,a,l,u){return r.drawElementsInstancedANGLE(o,s,a,l,u)},t.drawArraysInstanced=function(o,s,a,l){return r.drawArraysInstancedANGLE(o,s,a,l)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},n.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var i=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],o=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},o=!0);var s=r[e.program.id]||this.initGeometryVao(t,e,o);this._activeGeometry=t,this._activeVao!==s&&(this._activeVao=s,this.hasVao?i.bindVertexArray(s):this.activateVao(t,e.program)),this.updateBuffers()},n.prototype.reset=function(){this.unbind()},n.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.renderer.buffer,i=0;i<t.buffers.length;i++)e.update(t.buffers[i])},n.prototype.checkCompatibility=function(t,e){var i=t.attributes,r=e.attributeData;for(var o in r)if(!i[o])throw new Error('shader and geometry incompatible, geometry missing the "'+o+'" attribute')},n.prototype.getSignature=function(t,e){var i=t.attributes,r=e.attributeData,o=["g",t.id];for(var s in i)r[s]&&o.push(s,r[s].location);return o.join("-")},n.prototype.initGeometryVao=function(t,e,i){void 0===i&&(i=!0);var r=this.gl,o=this.CONTEXT_UID,s=this.renderer.buffer,a=e.program;a.glPrograms[o]||this.renderer.shader.generateProgram(e),this.checkCompatibility(t,a);var l=this.getSignature(t,a),u=t.glVertexArrayObjects[this.CONTEXT_UID],g=u[l];if(g)return u[a.id]=g,g;var E=t.buffers,w=t.attributes,P={},A={};for(var D in E)P[D]=0,A[D]=0;for(var D in w)!w[D].size&&a.attributeData[D]?w[D].size=a.attributeData[D].size:w[D].size||console.warn("PIXI Geometry attribute '"+D+"' size cannot be determined (likely the bound shader does not have the attribute)"),P[w[D].buffer]+=w[D].size*dM[w[D].type];for(var D in w){var B=w[D],Y=B.size;void 0===B.stride&&(B.stride=P[B.buffer]===Y*dM[B.type]?0:P[B.buffer]),void 0===B.start&&(B.start=A[B.buffer],A[B.buffer]+=Y*dM[B.type])}g=r.createVertexArray(),r.bindVertexArray(g);for(var K=0;K<E.length;K++){var re=E[K];s.bind(re),i&&re._glBuffers[o].refCount++}return this.activateVao(t,a),this._activeVao=g,u[a.id]=g,u[l]=g,g},n.prototype.disposeGeometry=function(t,e){var i;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var r=t.glVertexArrayObjects[this.CONTEXT_UID],o=this.gl,s=t.buffers,a=null===(i=this.renderer)||void 0===i?void 0:i.buffer;if(t.disposeRunner.remove(this),r){if(a)for(var l=0;l<s.length;l++){var u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,0===u.refCount&&!e&&a.dispose(s[l],e))}if(!e)for(var g in r)if("g"===g[0]){var E=r[g];this._activeVao===E&&this.unbind(),o.deleteVertexArray(E)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),i=0;i<e.length;i++)this.disposeGeometry(this.managedGeometries[e[i]],t)},n.prototype.activateVao=function(t,e){var i=this.gl,r=this.CONTEXT_UID,o=this.renderer.buffer,s=t.buffers,a=t.attributes;t.indexBuffer&&o.bind(t.indexBuffer);var l=null;for(var u in a){var g=a[u],E=s[g.buffer],w=E._glBuffers[r];if(e.attributeData[u]){l!==w&&(o.bind(E),l=w);var P=e.attributeData[u].location;if(i.enableVertexAttribArray(P),i.vertexAttribPointer(P,g.size,g.type||i.FLOAT,g.normalized,g.stride,g.start),g.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");i.vertexAttribDivisor(P,1)}}}},n.prototype.draw=function(t,e,i,r){var o=this.gl,s=this._activeGeometry;if(s.indexBuffer){var a=s.indexBuffer.data.BYTES_PER_ELEMENT,l=2===a?o.UNSIGNED_SHORT:o.UNSIGNED_INT;2===a||4===a&&this.canUseUInt32ElementIndex?s.instanced?o.drawElementsInstanced(t,e||s.indexBuffer.data.length,l,(i||0)*a,r||1):o.drawElements(t,e||s.indexBuffer.data.length,l,(i||0)*a):console.warn("unsupported index buffer type: uint32")}else s.instanced?o.drawArraysInstanced(t,i,e||s.getSize(),r||1):o.drawArrays(t,i,e||s.getSize());return this},n.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},n.prototype.destroy=function(){this.renderer=null},n}(),foe=function(){function n(t){void 0===t&&(t=null),this.type=ai.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=lt.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(n.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),n.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=ai.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},n.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},n}();function x3(n,t,e){var i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}function R3(n,t){var e=n.getShaderSource(t).split("\n").map(function(u,g){return g+": "+u}),i=n.getShaderInfoLog(t),r=i.split("\n"),o={},s=r.map(function(u){return parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(u){return!(!u||o[u]||(o[u]=!0,0))}),a=[""];s.forEach(function(u){e[u-1]="%c"+e[u-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var l=e.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function fM(n){for(var t=new Array(n),e=0;e<t.length;e++)t[e]=!1;return t}function D3(n,t){switch(n){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return fM(2*t);case"bvec3":return fM(3*t);case"bvec4":return fM(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var v0,I3={},C_=I3;function N3(n,t,e){if("precision"!==n.substring(0,9)){var i=t;return t===Rr.HIGH&&e!==Rr.HIGH&&(i=Rr.MEDIUM),"precision "+i+" float;\n"+n}return e!==Rr.HIGH&&"precision highp"===n.substring(0,15)?n.replace("precision highp","precision mediump"):n}var moe={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function k3(n){return moe[n]}var y0=null,F3={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function B3(n,t){if(!y0){var e=Object.keys(F3);y0={};for(var i=0;i<e.length;++i){var r=e[i];y0[n[r]]=F3[r]}}return y0[t]}var O_,ip=[{test:function(n){return"float"===n.type&&1===n.size},code:function(n){return'\n            if(uv["'+n+'"] !== ud["'+n+'"].value)\n            {\n                ud["'+n+'"].value = uv["'+n+'"]\n                gl.uniform1f(ud["'+n+'"].location, uv["'+n+'"])\n            }\n            '}},{test:function(n){return("sampler2D"===n.type||"samplerCube"===n.type||"sampler2DArray"===n.type)&&1===n.size&&!n.isArray},code:function(n){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+n+'"], t);\n\n            if(ud["'+n+'"].value !== t)\n            {\n                ud["'+n+'"].value = t;\n                gl.uniform1i(ud["'+n+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(n,t){return"mat3"===n.type&&1===n.size&&void 0!==t.a},code:function(n){return'\n            gl.uniformMatrix3fv(ud["'+n+'"].location, false, uv["'+n+'"].toArray(true));\n            '},codeUbo:function(n){return"\n                var "+n+"_matrix = uv."+n+".toArray(true);\n\n                data[offset] = "+n+"_matrix[0];\n                data[offset+1] = "+n+"_matrix[1];\n                data[offset+2] = "+n+"_matrix[2];\n        \n                data[offset + 4] = "+n+"_matrix[3];\n                data[offset + 5] = "+n+"_matrix[4];\n                data[offset + 6] = "+n+"_matrix[5];\n        \n                data[offset + 8] = "+n+"_matrix[6];\n                data[offset + 9] = "+n+"_matrix[7];\n                data[offset + 10] = "+n+"_matrix[8];\n            "}},{test:function(n,t){return"vec2"===n.type&&1===n.size&&void 0!==t.x},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+n+'"].location, v.x, v.y);\n                }'},codeUbo:function(n){return"\n                v = uv."+n+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(n){return"vec2"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+n+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(n,t){return"vec4"===n.type&&1===n.size&&void 0!==t.width},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+n+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(n){return"\n                    v = uv."+n+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(n){return"vec4"===n.type&&1===n.size},code:function(n){return'\n                cv = ud["'+n+'"].value;\n                v = uv["'+n+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+n+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],voe={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},yoe={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"},Eoe=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Soe(n){for(var t="",e=0;e<n;++e)e>0&&(t+="\nelse "),e<n-1&&(t+="if(test == "+e+".0){}");return t}var woe=0,b0={},pM=function(){function n(t,e,i){void 0===i&&(i="pixi-shader"),this.id=woe++,this.vertexSrc=t||n.defaultVertexSrc,this.fragmentSrc=e||n.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),b0[i]?(b0[i]++,i+="-"+b0[i]):b0[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=N3(this.vertexSrc,lt.PRECISION_VERTEX,Rr.HIGH),this.fragmentSrc=N3(this.fragmentSrc,lt.PRECISION_FRAGMENT,function _oe(){if(!v0){v0=Rr.MEDIUM;var n=function goe(){if(C_===I3||C_&&C_.isContextLost()){var n=document.createElement("canvas"),t=void 0;lt.PREFER_ENV>=Jr.WEBGL2&&(t=n.getContext("webgl2",{})),t||((t=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),C_=t}return C_}();if(n&&n.getShaderPrecisionFormat){var t=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);v0=t.precision?Rr.HIGH:Rr.MEDIUM}}return v0}())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(n,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),n.from=function(t,e,i){var r=t+e,o=u3[r];return o||(u3[r]=o=new n(t,e,i)),o},n}(),L3=function(){function n(t,e){this.uniformBindCount=0,this.program=t,this.uniformGroup=e?e instanceof np?e:new np(e):new np({})}return n.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var i in e.uniforms){var r=e.uniforms[i];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},n.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(n.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),n.from=function(t,e,i){return new n(pM.from(t,e),i)},n}(),EM=function(){function n(){this.data=0,this.blendMode=Ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(n.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==Ue.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),n.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},n.for2d=function(){var t=new n;return t.depthTest=!1,t.blend=!0,t},n}(),xoe=function(n){function t(e,i,r){var o=this,s=pM.from(e||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(o=n.call(this,s,r)||this).padding=0,o.resolution=lt.FILTER_RESOLUTION,o.multisample=lt.FILTER_MULTISAMPLE,o.enabled=!0,o.autoFit=!0,o.state=new EM,o}return Fi(t,n),t.prototype.apply=function(e,i,r,o,s){e.applyFilter(this,i,r,o)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),t}(L3),U3=new Os,Ioe=function(){function n(t,e){this._texture=t,this.mapCoord=new Os,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(n.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),n.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,r=0;r<t.length;r+=2){var o=t[r],s=t[r+1];e[r]=o*i.a+s*i.c+i.tx,e[r+1]=o*i.b+s*i.d+i.ty}return e},n.prototype.update=function(t){var e=this._texture;if(!e||!e.valid||!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var r=e.orig,o=e.trim;o&&(U3.set(r.width/o.width,0,0,r.height/o.height,-o.x/o.width,-o.y/o.height),this.mapCoord.append(U3));var s=e.baseTexture,a=this.uClampFrame,l=this.clampMargin/s.resolution,u=this.clampOffset;return a[0]=(e._frame.x+l+u)/s.width,a[1]=(e._frame.y+l+u)/s.height,a[2]=(e._frame.x+e._frame.width-l+u)/s.width,a[3]=(e._frame.y+e._frame.height-l+u)/s.height,this.uClampOffset[0]=u/s.realWidth,this.uClampOffset[1]=u/s.realHeight,this.isSimple=e._frame.width===s.width&&e._frame.height===s.height&&0===e.rotate,!0},n}(),Noe=function(n){function t(e,i,r){var o=this,s=null;return"string"!=typeof e&&void 0===i&&void 0===r&&(s=e,e=void 0,i=void 0,r=void 0),(o=n.call(this,e||"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",i||"varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",r)||this).maskSprite=s,o.maskMatrix=new Os,o}return Fi(t,n),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,i,r,o){var s=this._maskSprite,a=s._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new Ioe(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,i,r,o))},t}(xoe),G3=function(){function n(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return n.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},n.prototype.push=function(t,e){var i=e;if(!i.isMaskData){var r=this.maskDataPool.pop()||new foe;r.pooled=!0,r.maskObject=e,i=r}if(i.copyCountersOrReset(0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null),i.autoDetect&&this.detect(i),i._target=t,i.type!==ai.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case ai.SCISSOR:this.renderer.scissor.push(i);break;case ai.STENCIL:this.renderer.stencil.push(i);break;case ai.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i)}i.type===ai.SPRITE&&this.maskStack.push(i)},n.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){if(e.enabled)switch(e.type){case ai.SCISSOR:this.renderer.scissor.pop();break;case ai.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case ai.SPRITE:this.popSpriteMask(e)}if(e.reset(),e.pooled&&this.maskDataPool.push(e),0!==this.maskStack.length){var i=this.maskStack[this.maskStack.length-1];i.type===ai.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}},n.prototype.detect=function(t){t.type=t.maskObject.isSprite?ai.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?ai.SCISSOR:ai.STENCIL},n.prototype.pushSpriteMask=function(t){var e,i,r=t.maskObject,o=t._target,s=t._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new Noe]);var u,g,a=this.renderer,l=a.renderTexture;if(l.current){var E=l.current;u=t.resolution||E.resolution,g=null!==(e=t.multisample)&&void 0!==e?e:E.multisample}else u=t.resolution||a.resolution,g=null!==(i=t.multisample)&&void 0!==i?i:a.multisample;s[0].resolution=u,s[0].multisample=g,s[0].maskSprite=r;var w=o.filterArea;o.filterArea=r.getBounds(!0),a.filter.push(o,s),o.filterArea=w,t._filters||this.alphaMaskIndex++},n.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},n.prototype.destroy=function(){this.renderer=null},n}(),j3=function(){function n(t){this.renderer=t,this.maskStack=[],this.glConst=0}return n.prototype.getStackLength=function(){return this.maskStack.length},n.prototype.setMaskStack=function(t){var e=this.renderer.gl,i=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==i&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},n.prototype._useCurrent=function(){},n.prototype.destroy=function(){this.renderer=null,this.maskStack=null},n}(),V3=new Os,H3=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.SCISSOR_TEST,i}return Fi(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var i=e._scissorRect,r=e.maskObject,o=this.renderer,s=o.renderTexture;r.renderable=!0;var a=r.getBounds();this.roundFrameToPixels(a,s.current?s.current.resolution:o.resolution,s.sourceFrame,s.destinationFrame,o.projection.transform),r.renderable=!1,i&&a.fit(i),e._scissorRectLocal=a}},t.isMatrixRotated=function(e){if(!e)return!1;var i=e.a,o=e.c,s=e.d;return(Math.abs(e.b)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(i)>1e-4||Math.abs(s)>1e-4)},t.prototype.testScissor=function(e){var i=e.maskObject;if(!i.isFastRect||!i.isFastRect()||t.isMatrixRotated(i.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var r=e._scissorRectLocal;return r.width>0&&r.height>0},t.prototype.roundFrameToPixels=function(e,i,r,o,s){t.isMatrixRotated(s)||((s=s?V3.copyFrom(s):V3.identity()).translate(-r.x,-r.y).scale(o.width/r.width,o.height/r.height).translate(o.x,o.y),this.renderer.filter.transformAABB(s,e),e.fit(o),e.x=Math.round(e.x*i),e.y=Math.round(e.y*i),e.width=Math.round(e.width*i),e.height=Math.round(e.height*i))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var i=this.renderer.gl;e._scissorRect||i.enable(i.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e=this.maskStack[this.maskStack.length-1]._scissorRect;this.renderer.gl.scissor(e.x,this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,e.width,e.height)},t}(j3),Y3=function(n){function t(e){var i=n.call(this,e)||this;return i.glConst=WebGLRenderingContext.STENCIL_TEST,i}return Fi(t,n),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var i=e.maskObject,r=this.renderer.gl,o=e._stencilCounter;0===o&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,o,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var i=this.renderer.gl;0===this.getStackLength()?i.disable(i.STENCIL_TEST):(i.colorMask(!1,!1,!1,!1),i.stencilOp(i.KEEP,i.KEEP,i.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(j3),W3=function(){function n(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Os,this.transform=null}return n.prototype.update=function(t,e,i,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,r),this.transform&&this.projectionMatrix.append(this.transform);var o=this.renderer;o.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,o.globalUniforms.update(),o.shader.shader&&o.shader.syncUniformGroup(o.shader.shader.uniforms.globals)},n.prototype.calculateProjection=function(t,e,i,r){var o=this.projectionMatrix,s=r?-1:1;o.identity(),o.a=1/e.width*2,o.d=s*(1/e.height*2),o.tx=-1-e.x*o.a,o.ty=-s-e.y*o.d},n.prototype.setTransform=function(t){},n.prototype.destroy=function(){this.renderer=null},n}(),hh=new wo,M_=new wo,z3=function(){function n(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new wo,this.destinationFrame=new wo,this.viewportFrame=new wo}return n.prototype.bind=function(t,e,i){void 0===t&&(t=null);var o,s,a,r=this.renderer;this.current=t,t?(a=(o=t.baseTexture).resolution,e||(hh.width=t.frame.width,hh.height=t.frame.height,e=hh),i||(M_.x=t.frame.x,M_.y=t.frame.y,M_.width=e.width,M_.height=e.height,i=M_),s=o.framebuffer):(a=r.resolution,e||(hh.width=r.screen.width,hh.height=r.screen.height,e=hh),i||((i=hh).width=e.width,i.height=e.height));var l=this.viewportFrame;l.x=i.x*a,l.y=i.y*a,l.width=i.width*a,l.height=i.height*a,t||(l.y=r.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(s,l),this.renderer.projection.update(i,e,a,!s),this.renderer.mask.setMaskStack(t?o.maskStack:this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(i)},n.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var i=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,o=i.width!==r.width||i.height!==r.height;if(o){var s=this.viewportFrame,a=s.x,l=s.y,u=s.width,g=s.height;a=Math.round(a),l=Math.round(l),u=Math.round(u),g=Math.round(g),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,l,u,g)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),o&&this.renderer.scissor.pop()},n.prototype.resize=function(){this.bind(null)},n.prototype.reset=function(){this.bind(null)},n.prototype.destroy=function(){this.renderer=null},n}();function koe(n,t,e,i,r){e.buffer.update(r)}var Foe={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},$3={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};var Goe=function(){function n(t,e){this.program=t,this.uniformData=e,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return n.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},n}();var Yoe=0,E0={textureCount:0,uboCount:0},X3=function(){function n(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Yoe++}return n.prototype.systemCheck=function(){if(!function Coe(){if("boolean"==typeof O_)return O_;try{var n=new Function("param1","param2","param3","return param1[param2] === param3;");O_=!0===n({a:"b"},"a","b")}catch(t){O_=!1}return O_}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},n.prototype.contextChange=function(t){this.gl=t,this.reset()},n.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var i=t.program,r=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==i&&(this.program=i,this.gl.useProgram(r.program)),e||(E0.textureCount=0,E0.uboCount=0,this.syncUniformGroup(t.uniformGroup,E0)),r},n.prototype.setUniforms=function(t){var e=this.shader.program;e.syncUniforms(e.glPrograms[this.renderer.CONTEXT_UID].uniformData,t,this.renderer)},n.prototype.syncUniformGroup=function(t,e){var i=this.getGlProgram();(!t.static||t.dirtyId!==i.uniformDirtyGroups[t.id])&&(i.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,i,e))},n.prototype.syncUniforms=function(t,e,i){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,i)},n.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[e]||(this.cache[e]=function boe(n,t){var e,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var r in n.uniforms){var o=t[r];if(o){for(var s=n.uniforms[r],a=!1,l=0;l<ip.length;l++)if(ip[l].test(o,s)){i.push(ip[l].code(r,s)),a=!0;break}if(!a){var g=(1===o.size?voe:yoe)[o.type].replace("location",'ud["'+r+'"].location');i.push('\n            cu = ud["'+r+'"];\n            cv = cu.value;\n            v = uv["'+r+'"];\n            '+g+";")}}else(null===(e=n.uniforms[r])||void 0===e?void 0:e.group)&&i.push(n.uniforms[r].ubo?"\n                        renderer.shader.syncUniformBufferGroup(uv."+r+", '"+r+"');\n                    ":"\n                        renderer.shader.syncUniformGroup(uv."+r+", syncData);\n                    ")}return new Function("ud","uv","renderer","syncData",i.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},n.prototype.syncUniformBufferGroup=function(t,e){var i=this.getGlProgram();if(!t.static||0!==t.dirtyId||!i.uniformGroups[t.id]){t.dirtyId=0;var r=i.uniformGroups[t.id]||this.createSyncBufferGroup(t,i,e);t.buffer.update(),r(i.uniformData,t.uniforms,this.renderer,E0,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,i.uniformBufferBindings[e])},n.prototype.createSyncBufferGroup=function(t,e,i){var r=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var o=this.gl.getUniformBlockIndex(e.program,i);e.uniformBufferBindings[i]=this.shader.uniformBindCount,r.uniformBlockBinding(e.program,o,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(t,this.shader.program.uniformData,"ubo"),a=this._uboCache[s];if(a||(a=this._uboCache[s]=function Uoe(n,t){if(!n.autoManage)return{size:0,syncFunc:koe};for(var e=function Loe(n,t){var e=[];for(var i in n)t[i]&&e.push(t[i]);return e.sort(function(r,o){return r.index-o.index}),e}(n.uniforms,t),i=function Boe(n){for(var t=n.map(function(l){return{data:l,offset:0,dataLen:0,dirty:0}}),e=0,i=0,r=0,o=0;o<t.length;o++){var s=t[o];if(e=$3[s.data.type],s.data.size>1&&(e=Math.max(e,16)*s.data.size),s.dataLen=e,i%e!=0&&i<16){var a=i%e%16;i+=a,r+=a}i+e>16?(r=16*Math.ceil(r/16),s.offset=r,r+=e,i=e):(s.offset=r,i+=e,r+=e)}return{uboElements:t,size:r=16*Math.ceil(r/16)}}(e),r=i.uboElements,o=i.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],a=0;a<r.length;a++){for(var l=r[a],u=n.uniforms[l.data.name],g=l.data.name,E=!1,w=0;w<ip.length;w++){var P=ip[w];if(P.codeUbo&&P.test(l.data,u)){s.push("offset = "+l.offset/4+";",ip[w].codeUbo(l.data.name,u)),E=!0;break}}if(!E)if(l.data.size>1){var A=k3(l.data.type),D=Math.max($3[l.data.type]/16,1),B=A/D;s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+l.data.size*D+"; i++)\n                {\n                    for(var j = 0; j < "+B+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+(4-B%4)%4+";\n                }\n\n                ")}else s.push("\n                cv = ud."+g+".value;\n                v = uv."+g+";\n                offset = "+l.offset/4+";\n                "+Foe[l.data.type]+";\n                ")}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:o,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}(t,this.shader.program.uniformData)),t.autoManage){var l=new Float32Array(a.size/4);t.buffer.update(l)}return e.uniformGroups[t.id]=a.syncFunc,e.uniformGroups[t.id]},n.prototype.getSignature=function(t,e,i){var r=t.uniforms,o=[i+"-"];for(var s in r)o.push(s),e[s]&&o.push(e[s].type);return o.join("-")},n.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},n.prototype.generateProgram=function(t){var i=t.program,r=function Hoe(n,t){var e=x3(n,n.VERTEX_SHADER,t.vertexSrc),i=x3(n,n.FRAGMENT_SHADER,t.fragmentSrc),r=n.createProgram();if(n.attachShader(r,e),n.attachShader(r,i),n.linkProgram(r),n.getProgramParameter(r,n.LINK_STATUS)||function poe(n,t,e,i){n.getProgramParameter(t,n.LINK_STATUS)||(n.getShaderParameter(e,n.COMPILE_STATUS)||R3(n,e),n.getShaderParameter(i,n.COMPILE_STATUS)||R3(n,i),console.error("PixiJS Error: Could not initialize shader."),""!==n.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(t)))}(n,r,e,i),t.attributeData=function joe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_ATTRIBUTES),r=0;r<i;r++){var o=t.getActiveAttrib(n,r);if(0!==o.name.indexOf("gl_")){var s=B3(t,o.type),a={type:s,name:o.name,size:k3(s),location:t.getAttribLocation(n,o.name)};e[o.name]=a}}return e}(r,n),t.uniformData=function Voe(n,t){for(var e={},i=t.getProgramParameter(n,t.ACTIVE_UNIFORMS),r=0;r<i;r++){var o=t.getActiveUniform(n,r),s=o.name.replace(/\[.*?\]$/,""),a=!!o.name.match(/\[.*?\]$/),l=B3(t,o.type);e[s]={name:s,index:r,type:l,size:o.size,isArray:a,value:D3(l,o.size)}}return e}(r,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var o=Object.keys(t.attributeData);o.sort(function(g,E){return g>E?1:-1});for(var s=0;s<o.length;s++)t.attributeData[o[s]].location=s,n.bindAttribLocation(r,s,o[s]);n.linkProgram(r)}n.deleteShader(e),n.deleteShader(i);var a={};for(var s in t.uniformData){var l=t.uniformData[s];a[s]={location:n.getUniformLocation(r,s),value:D3(l.type,l.size)}}return new Goe(r,a)}(this.gl,i);return i.glPrograms[this.renderer.CONTEXT_UID]=r,r},n.prototype.reset=function(){this.program=null,this.shader=null},n.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},n}(),K3=function(){function n(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ue.NONE,this._blendEq=!1,this.map=[],this.map[0]=this.setBlend,this.map[1]=this.setOffset,this.map[2]=this.setCullFace,this.map[3]=this.setDepthTest,this.map[4]=this.setFrontFace,this.map[5]=this.setDepthMask,this.checks=[],this.defaultState=new EM,this.defaultState.blend=!0}return n.prototype.contextChange=function(t){this.gl=t,this.blendModes=function Woe(n,t){return void 0===t&&(t=[]),t[Ue.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD]=[n.ONE,n.ONE],t[Ue.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.NONE]=[0,0],t[Ue.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],t[Ue.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],t[Ue.SRC_IN]=[n.DST_ALPHA,n.ZERO],t[Ue.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],t[Ue.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],t[Ue.DST_IN]=[n.ZERO,n.SRC_ALPHA],t[Ue.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],t[Ue.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],t[Ue.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],t[Ue.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],t}(t),this.set(this.defaultState),this.reset()},n.prototype.set=function(t){if(this.stateId!==(t=t||this.defaultState).data){for(var e=this.stateId^t.data,i=0;e;)1&e&&this.map[i].call(this,!!(t.data&1<<i)),e>>=1,i++;this.stateId=t.data}for(i=0;i<this.checks.length;i++)this.checks[i](this,t)},n.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},n.prototype.setBlend=function(t){this.updateCheck(n.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},n.prototype.setOffset=function(t){this.updateCheck(n.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},n.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},n.prototype.setDepthMask=function(t){this.gl.depthMask(t)},n.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},n.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},n.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],i=this.gl;2===e.length?i.blendFunc(e[0],e[1]):i.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,i.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}},n.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},n.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},n.prototype.updateCheck=function(t,e){var i=this.checks.indexOf(t);e&&-1===i?this.checks.push(t):!e&&-1!==i&&this.checks.splice(i,1)},n.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},n.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},n.prototype.destroy=function(){this.gl=null},n}(),q3=function(){function n(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=lt.GC_MAX_IDLE,this.checkCountMax=lt.GC_MAX_CHECK_COUNT,this.mode=lt.GC_MODE}return n.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==Gf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},n.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,i=!1,r=0;r<e.length;r++){var o=e[r];!o.framebuffer&&this.count-o.touched>this.maxIdle&&(t.destroyTexture(o,!0),e[r]=null,i=!0)}if(i){var s=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[s++]=e[r]);e.length=s}},n.prototype.unload=function(t){var i=t._texture;i&&!i.framebuffer&&this.renderer.texture.destroyTexture(i);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},n.prototype.destroy=function(){this.renderer=null},n}(),SM=function n(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=yt.UNSIGNED_BYTE,this.internalFormat=He.RGBA,this.samplerType=0},J3=function(){function n(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Hr,this.hasIntegerTextures=!1}return n.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=function Qoe(n){var t,e,i,r,o,s,a,l,u,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe;return"WebGL2RenderingContext"in self&&n instanceof self.WebGL2RenderingContext?((t={})[yt.UNSIGNED_BYTE]=((e={})[He.RGBA]=n.RGBA8,e[He.RGB]=n.RGB8,e[He.RG]=n.RG8,e[He.RED]=n.R8,e[He.RGBA_INTEGER]=n.RGBA8UI,e[He.RGB_INTEGER]=n.RGB8UI,e[He.RG_INTEGER]=n.RG8UI,e[He.RED_INTEGER]=n.R8UI,e[He.ALPHA]=n.ALPHA,e[He.LUMINANCE]=n.LUMINANCE,e[He.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,e),t[yt.BYTE]=((i={})[He.RGBA]=n.RGBA8_SNORM,i[He.RGB]=n.RGB8_SNORM,i[He.RG]=n.RG8_SNORM,i[He.RED]=n.R8_SNORM,i[He.RGBA_INTEGER]=n.RGBA8I,i[He.RGB_INTEGER]=n.RGB8I,i[He.RG_INTEGER]=n.RG8I,i[He.RED_INTEGER]=n.R8I,i),t[yt.UNSIGNED_SHORT]=((r={})[He.RGBA_INTEGER]=n.RGBA16UI,r[He.RGB_INTEGER]=n.RGB16UI,r[He.RG_INTEGER]=n.RG16UI,r[He.RED_INTEGER]=n.R16UI,r[He.DEPTH_COMPONENT]=n.DEPTH_COMPONENT16,r),t[yt.SHORT]=((o={})[He.RGBA_INTEGER]=n.RGBA16I,o[He.RGB_INTEGER]=n.RGB16I,o[He.RG_INTEGER]=n.RG16I,o[He.RED_INTEGER]=n.R16I,o),t[yt.UNSIGNED_INT]=((s={})[He.RGBA_INTEGER]=n.RGBA32UI,s[He.RGB_INTEGER]=n.RGB32UI,s[He.RG_INTEGER]=n.RG32UI,s[He.RED_INTEGER]=n.R32UI,s[He.DEPTH_COMPONENT]=n.DEPTH_COMPONENT24,s),t[yt.INT]=((a={})[He.RGBA_INTEGER]=n.RGBA32I,a[He.RGB_INTEGER]=n.RGB32I,a[He.RG_INTEGER]=n.RG32I,a[He.RED_INTEGER]=n.R32I,a),t[yt.FLOAT]=((l={})[He.RGBA]=n.RGBA32F,l[He.RGB]=n.RGB32F,l[He.RG]=n.RG32F,l[He.RED]=n.R32F,l[He.DEPTH_COMPONENT]=n.DEPTH_COMPONENT32F,l),t[yt.HALF_FLOAT]=((u={})[He.RGBA]=n.RGBA16F,u[He.RGB]=n.RGB16F,u[He.RG]=n.RG16F,u[He.RED]=n.R16F,u),t[yt.UNSIGNED_SHORT_5_6_5]=((g={})[He.RGB]=n.RGB565,g),t[yt.UNSIGNED_SHORT_4_4_4_4]=((E={})[He.RGBA]=n.RGBA4,E),t[yt.UNSIGNED_SHORT_5_5_5_1]=((w={})[He.RGBA]=n.RGB5_A1,w),t[yt.UNSIGNED_INT_2_10_10_10_REV]=((P={})[He.RGBA]=n.RGB10_A2,P[He.RGBA_INTEGER]=n.RGB10_A2UI,P),t[yt.UNSIGNED_INT_10F_11F_11F_REV]=((A={})[He.RGB]=n.R11F_G11F_B10F,A),t[yt.UNSIGNED_INT_5_9_9_9_REV]=((D={})[He.RGB]=n.RGB9_E5,D),t[yt.UNSIGNED_INT_24_8]=((B={})[He.DEPTH_STENCIL]=n.DEPTH24_STENCIL8,B),t[yt.FLOAT_32_UNSIGNED_INT_24_8_REV]=((Y={})[He.DEPTH_STENCIL]=n.DEPTH32F_STENCIL8,Y),Oe=t):((K={})[yt.UNSIGNED_BYTE]=((re={})[He.RGBA]=n.RGBA,re[He.RGB]=n.RGB,re[He.ALPHA]=n.ALPHA,re[He.LUMINANCE]=n.LUMINANCE,re[He.LUMINANCE_ALPHA]=n.LUMINANCE_ALPHA,re),K[yt.UNSIGNED_SHORT_5_6_5]=((ae={})[He.RGB]=n.RGB,ae),K[yt.UNSIGNED_SHORT_4_4_4_4]=((te={})[He.RGBA]=n.RGBA,te),K[yt.UNSIGNED_SHORT_5_5_5_1]=((ne={})[He.RGBA]=n.RGBA,ne),Oe=K),Oe}(t);var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var i=0;i<e;i++)this.boundTextures[i]=null;this.emptyTextures={};var r=new SM(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new SM(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),i=0;i<this.boundTextures.length;i++)this.bind(null,i)},n.prototype.bind=function(t,e){void 0===e&&(e=0);var i=this.gl;if((t=null==t?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}else this.currentLocation!==e&&(this.currentLocation=e,i.activeTexture(i.TEXTURE0+e)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[e]=null},n.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},n.prototype.unbind=function(t){var i=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var o=0;o<r.length;o++)r[o]===this.unknownTexture&&this.bind(null,o)}for(o=0;o<r.length;o++)r[o]===t&&(this.currentLocation!==o&&(i.activeTexture(i.TEXTURE0+o),this.currentLocation=o),i.bindTexture(t.target,this.emptyTextures[t.target].texture),r[o]=null)},n.prototype.ensureSamplerType=function(t){var e=this,i=e.boundTextures,o=e.CONTEXT_UID;if(e.hasIntegerTextures)for(var s=t-1;s>=0;--s){var a=i[s];a&&a._glTextures[o].samplerType!==Yu.FLOAT&&this.renderer.texture.unbind(a)}},n.prototype.initTexture=function(t){var e=new SM(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},n.prototype.initTextureType=function(t,e){var i,r;e.internalFormat=null!==(r=null===(i=this.internalFormats[t.type])||void 0===i?void 0:i[t.format])&&void 0!==r?r:t.format,e.type=2===this.webGLVersion&&t.type===yt.HALF_FLOAT?this.gl.HALF_FLOAT:t.type},n.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var i=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(i,t,e))e.samplerType!==Yu.FLOAT&&(this.hasIntegerTextures=!0);else{var r=t.realWidth,o=t.realHeight,s=i.gl;(e.width!==r||e.height!==o||e.dirtyId<0)&&(e.width=r,e.height=o,s.texImage2D(t.target,0,e.internalFormat,r,o,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},n.prototype.destroyTexture=function(t,e){var i=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),i.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&function zre(n,t,e){var r,i=n.length;if(!(t>=i||0===e)){var o=i-(e=t+e>i?i-t:e);for(r=t;r<o;++r)n[r]=n[r+e];n.length=o}}(this.managedTextures,r,1)}},n.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];!e||(e.mipmap=!!(t.mipmap!==jo.POW2&&2===this.webGLVersion||t.isPowerOfTwo)&&t.mipmap>=1,e.wrapMode=2===this.webGLVersion||t.isPowerOfTwo?t.wrapMode:Xs.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},n.prototype.setStyle=function(t,e){var i=this.gl;if(e.mipmap&&t.mipmap!==jo.ON_MANUAL&&i.generateMipmap(t.target),i.texParameteri(t.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(t.target,i.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===xr.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===xr.LINEAR){var o=Math.min(t.anisotropicLevel,i.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,o)}}else i.texParameteri(t.target,i.TEXTURE_MIN_FILTER,t.scaleMode===xr.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(t.target,i.TEXTURE_MAG_FILTER,t.scaleMode===xr.LINEAR?i.LINEAR:i.NEAREST)},n.prototype.destroy=function(){this.renderer=null},n}(),Q3={__proto__:null,FilterSystem:T3,BatchSystem:O3,ContextSystem:w3,FramebufferSystem:P3,GeometrySystem:A3,MaskSystem:G3,ScissorSystem:H3,StencilSystem:Y3,ProjectionSystem:W3,RenderTextureSystem:z3,ShaderSystem:X3,StateSystem:K3,TextureGCSystem:q3,TextureSystem:J3},TM=new Os,Zoe=function(n){function t(e,i){void 0===e&&(e=ka.UNKNOWN);var r=n.call(this)||this;return i=Object.assign({},lt.RENDER_OPTIONS,i),r.options=i,r.type=e,r.screen=new wo(0,0,i.width,i.height),r.view=i.view||document.createElement("canvas"),r.resolution=i.resolution||lt.RESOLUTION,r.useContextAlpha=i.useContextAlpha,r.autoDensity=!!i.autoDensity,r.preserveDrawingBuffer=i.preserveDrawingBuffer,r.clearBeforeRender=i.clearBeforeRender,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,1],r._backgroundColorString="#000000",r.backgroundColor=i.backgroundColor||r._backgroundColor,r.backgroundAlpha=i.backgroundAlpha,void 0!==i.transparent&&(oh("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),r.useContextAlpha=i.transparent,r.backgroundAlpha=i.transparent?0:1),r._lastObjectRendered=null,r.plugins={},r}return Fi(t,n),t.prototype.initPlugins=function(e){for(var i in e)this.plugins[i]=new e[i](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,i){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(i*this.resolution);var r=this.view.width/this.resolution,o=this.view.height/this.resolution;this.screen.width=r,this.screen.height=o,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=o+"px"),this.emit("resize",r,o)},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={}),"number"==typeof i&&(oh("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),i={scaleMode:i,resolution:r,region:o});var s=i.region,a=function Jre(n,t){var e={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&t.indexOf(i)<0&&(e[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)t.indexOf(i[r])<0&&(e[i[r]]=n[i[r]])}return e}(i,["region"]);0===(o=s||e.getLocalBounds(null,!0)).width&&(o.width=1),0===o.height&&(o.height=1);var l=uM.create(rM({width:o.width,height:o.height},a));return TM.tx=-o.x,TM.ty=-o.y,this.render(e,{renderTexture:l,clear:!1,transform:TM,skipUpdateTransform:!!e.parent}),l},t.prototype.destroy=function(e){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=ka.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=function Vre(n){var t=n.toString(16);return"#"+("000000".substr(0,6-t.length)+t)}(e),function jre(n,t){void 0===t&&(t=[]),t[0]=(n>>16&255)/255,t[1]=(n>>8&255)/255,t[2]=(255&n)/255}(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(KO),ese=function n(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},tse=function(){function n(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return n.prototype.destroy=function(){this.renderer=null},n.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},n.prototype.bind=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);i.bindBuffer(t.type,o.buffer)},n.prototype.bindBufferBase=function(t,e){var r=this.gl;if(this.boundBufferBases[e]!==t){var s=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);this.boundBufferBases[e]=t,r.bindBufferBase(r.UNIFORM_BUFFER,e,s.buffer)}},n.prototype.bindBufferRange=function(t,e,i){var o=this.gl;i=i||0;var a=t._glBuffers[this.CONTEXT_UID]||this.createGLBuffer(t);o.bindBufferRange(o.UNIFORM_BUFFER,e||0,a.buffer,256*i,256)},n.prototype.update=function(t){var i=this.gl,o=t._glBuffers[this.CONTEXT_UID];if(t._updateID!==o.updateID)if(o.updateID=t._updateID,i.bindBuffer(t.type,o.buffer),o.byteLength>=t.data.byteLength)i.bufferSubData(t.type,0,t.data);else{var s=t.static?i.STATIC_DRAW:i.DYNAMIC_DRAW;o.byteLength=t.data.byteLength,i.bufferData(t.type,t.data,s)}},n.prototype.dispose=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var i=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),i&&(e||r.deleteBuffer(i.buffer),delete t._glBuffers[this.CONTEXT_UID])}},n.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedBuffers),i=0;i<e.length;i++)this.dispose(this.managedBuffers[e[i]],t)},n.prototype.createGLBuffer=function(t){var i=this.CONTEXT_UID;return t._glBuffers[i]=new ese(this.gl.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[i]},n}(),nse=(function(n){function t(e){var i=n.call(this,ka.WEBGL,e)||this;return e=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Mo("destroy"),contextChange:new Mo("contextChange"),reset:new Mo("reset"),update:new Mo("update"),postrender:new Mo("postrender"),prerender:new Mo("prerender"),resize:new Mo("resize")},i.runners.contextChange.add(i),i.globalUniforms=new np({projectionMatrix:new Os},!0),i.addSystem(G3,"mask").addSystem(w3,"context").addSystem(K3,"state").addSystem(X3,"shader").addSystem(J3,"texture").addSystem(tse,"buffer").addSystem(A3,"geometry").addSystem(P3,"framebuffer").addSystem(H3,"scissor").addSystem(Y3,"stencil").addSystem(W3,"projection").addSystem(q3,"textureGC").addSystem(T3,"filter").addSystem(z3,"renderTexture").addSystem(O3,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,e.context?i.context.initFromContext(e.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:e.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,function Ure(n){var t;n3||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1?(t=self.console).log.apply(t,["\n %c %c %c PixiJS 6.2.2 - \u2730 "+n+" \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"]):self.console&&self.console.log("PixiJS 6.2.2 - "+n+" - http://www.pixijs.com/"),n3=!0)}(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}Fi(t,n),t.create=function(e){if(function Gre(){return void 0===ZO&&(ZO=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:lt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),r=!(!i||!i.getContextAttributes().stencil);if(i){var o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,r}catch(s){return!1}}()),ZO}())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,e=this.gl;if(1===this.context.webGLVersion){var r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),i=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r);this.multisample=i>=Cn.HIGH?Cn.HIGH:i>=Cn.MEDIUM?Cn.MEDIUM:i>=Cn.LOW?Cn.LOW:Cn.NONE},t.prototype.addSystem=function(e,i){var r=new e(this);if(this[i])throw new Error('Whoops! The name "'+i+'" is already in use');for(var o in this[i]=r,this.runners)this.runners[o].add(r);return this},t.prototype.render=function(e,i){var r,o,s,a;if(i&&(i instanceof uM?(oh("6.0.0","Renderer#render arguments changed, use options instead."),r=i,o=arguments[2],s=arguments[3],a=arguments[4]):(r=i.renderTexture,o=i.clear,s=i.transform,a=i.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=s,!this.context.isLost){if(r||(this._lastObjectRendered=e),!a){var l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==o?o:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(e,i,r,o){void 0===i&&(i={});var s=n.prototype.generateTexture.call(this,e,i,r,o);return this.framebuffer.blit(),s},t.prototype.resize=function(e,i){n.prototype.resize.call(this,e,i),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(e){for(var i in this.runners.destroy.emit(),this.runners)this.runners[i].destroy();n.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return oh("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,i){(t.__plugins=t.__plugins||{})[e]=i}}(Zoe),function n(){this.texArray=null,this.blend=0,this.type=lo.TRIANGLES,this.start=0,this.size=0,this.data=null}),ise=function(){function n(){this.elements=[],this.ids=[],this.count=0}return n.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},n}(),rse=function(){function n(t){this.rawBinaryData="number"==typeof t?new ArrayBuffer(t):t instanceof Uint8Array?t.buffer:t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(n.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),n.prototype.view=function(t){return this[t+"View"]},n.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},n.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},n}(),ose=function(n){function t(e){var i=n.call(this,e)||this;return i.shaderGenerator=null,i.geometryClass=null,i.vertexSize=null,i.state=EM.for2d(),i.size=4*lt.SPRITE_BATCH_SIZE,i._vertexCount=0,i._indexCount=0,i._bufferedElements=[],i._bufferedTextures=[],i._bufferSize=0,i._shader=null,i._packedGeometries=[],i._packedGeometryPoolSize=2,i._flushId=0,i._aBuffers={},i._iBuffers={},i.MAX_TEXTURES=1,i.renderer.on("prerender",i.onPrerender,i),e.runners.contextChange.add(i),i._dcIndex=0,i._aIndex=0,i._iIndex=0,i._attributeBuffer=null,i._indexBuffer=null,i._tempBoundTextures=[],i}return Fi(t,n),t.prototype.contextChange=function(){var e=this.renderer.gl;lt.PREFER_ENV===Jr.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),lt.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=function Toe(n,t){if(0===n)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var e=t.createShader(t.FRAGMENT_SHADER);;){var i=Eoe.replace(/%forloop%/gi,Soe(n));if(t.shaderSource(e,i),t.compileShader(e),t.getShaderParameter(e,t.COMPILE_STATUS))break;n=n/2|0}return n}(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,i=t._textureArrayPool,r=this.size/4,o=Math.floor(r/this.MAX_TEXTURES)+1;e.length<r;)e.push(new nse);for(;i.length<o;)i.push(new ise);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this._bufferedTextures,r=this.MAX_TEXTURES,o=t._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,l=this.renderer.textureGC.count,u=++Hr._globalBatch,g=0,E=o[0],w=0;s.copyBoundTextures(a,r);for(var P=0;P<this._bufferSize;++P){var A=i[P];i[P]=null,A._batchEnabled!==u&&(E.count>=r&&(s.boundArray(E,a,u,r),this.buildDrawCalls(E,w,P),w=P,E=o[++g],++u),A._batchEnabled=u,A.touched=l,E.elements[E.count++]=A)}for(E.count>0&&(s.boundArray(E,a,u,r),this.buildDrawCalls(E,w,this._bufferSize),++g,++u),P=0;P<a.length;P++)a[P]=null;Hr._globalBatch=u},t.prototype.buildDrawCalls=function(e,i,r){var o=this,s=o._bufferedElements,a=o._attributeBuffer,l=o._indexBuffer,u=o.vertexSize,g=t._drawCallPool,E=this._dcIndex,w=this._aIndex,P=this._iIndex,A=g[E];A.start=this._iIndex,A.texArray=e;for(var D=i;D<r;++D){var B=s[D],K=Yre[B._texture.baseTexture.alphaMode?1:0][B.blendMode];s[D]=null,i<D&&A.blend!==K&&(A.size=P-A.start,i=D,(A=g[++E]).texArray=e,A.start=P),this.packInterleavedGeometry(B,a,l,w,P),w+=B.vertexData.length/2*u,P+=B.indices.length,A.blend=K}i<r&&(A.size=P-A.start,++E),this._dcIndex=E,this._aIndex=w,this._iIndex=P},t.prototype.bindAndClearTexArray=function(e){for(var i=this.renderer.texture,r=0;r<e.count;r++)i.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,i=e._packedGeometries,r=e._attributeBuffer,o=e._indexBuffer;lt.CAN_UPLOAD_SAME_BUFFER?(i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,i[this._flushId]=new this.geometryClass),i[this._flushId]._buffer.update(r.rawBinaryData),i[this._flushId]._indexBuffer.update(o),this.renderer.geometry.bind(i[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,i=this.renderer,r=i.gl,o=i.state,s=t._drawCallPool,a=null,l=0;l<e;l++){var u=s[l],g=u.texArray,E=u.type,w=u.size,P=u.start,A=u.blend;a!==g&&(a=g,this.bindAndClearTexArray(g)),this.state.blendMode=A,o.set(this.state),r.drawElements(E,w,r.UNSIGNED_SHORT,2*P)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),lt.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),n.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var i=u0(Math.ceil(e/8)),r=a3(i),o=8*i;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._aBuffers[o];return s||(this._aBuffers[o]=s=new rse(o*this.vertexSize*4)),s},t.prototype.getIndexBuffer=function(e){var i=u0(Math.ceil(e/12)),r=a3(i),o=12*i;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(o)),s},t.prototype.packInterleavedGeometry=function(e,i,r,o,s){for(var a=i.uint32View,l=i.float32View,u=o/this.vertexSize,g=e.uvs,E=e.indices,w=e.vertexData,P=e._texture.baseTexture._batchLocation,A=Math.min(e.worldAlpha,1),D=A<1&&e._texture.baseTexture.alphaMode?function Wre(n,t){if(1===t)return(255*t<<24)+n;if(0===t)return 0;var e=n>>16&255,i=n>>8&255;return(255*t<<24)+((e=e*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+((255&n)*t+.5|0)}(e._tintRGB,A):e._tintRGB+(255*A<<24),B=0;B<w.length;B+=2)l[o++]=w[B],l[o++]=w[B+1],l[o++]=g[B],l[o++]=g[B+1],a[o++]=D,l[o++]=P;for(B=0;B<E.length;B++)r[s++]=u+E[B]},t._drawCallPool=[],t._textureArrayPool=[],t}(C3),sse=function(){function n(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return n.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),i=0;i<t;i++)e[i]=i;this.defaultGroupCache[t]=np.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new pM(this.vertexSrc,r)}var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Os,default:this.defaultGroupCache[t]};return new L3(this.programCache[t],o)},n.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(vTextureId < "+i+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return(e+="\n")+"\n"},n}(),ase=function(n){function t(e){void 0===e&&(e=!1);var i=n.call(this)||this;return i._buffer=new Ms(null,e,!1),i._indexBuffer=new Ms(null,e,!0),i.addAttribute("aVertexPosition",i._buffer,2,!1,yt.FLOAT).addAttribute("aTextureCoord",i._buffer,2,!1,yt.FLOAT).addAttribute("aColor",i._buffer,4,!0,yt.UNSIGNED_BYTE).addAttribute("aTextureId",i._buffer,1,!0,yt.FLOAT).addIndex(i._indexBuffer),i}return Fi(t,n),t}(cM),Z3="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",eL="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",lse=function(){function n(){}return n.create=function(t){var e=Object.assign({vertex:Z3,fragment:eL,geometryClass:ase,vertexSize:6},t),i=e.vertex,r=e.fragment,o=e.vertexSize,s=e.geometryClass;return function(a){function l(u){var g=a.call(this,u)||this;return g.shaderGenerator=new sse(i,r),g.geometryClass=s,g.vertexSize=o,g}return Fi(l,a),l}(ose)},Object.defineProperty(n,"defaultVertexSrc",{get:function(){return Z3},enumerable:!1,configurable:!0}),Object.defineProperty(n,"defaultFragmentTemplate",{get:function(){return eL},enumerable:!1,configurable:!0}),n}(),use=(lse.create(),{}),cse=function(n){Object.defineProperty(use,n,{get:function(){return oh("6.0.0","PIXI.systems."+n+" has moved to PIXI."+n),m3[n]}})};for(var CM in m3)cse(CM);var hse={},dse=function(n){Object.defineProperty(hse,n,{get:function(){return oh("6.0.0","PIXI.resources."+n+" has moved to PIXI."+n),Q3[n]}})};for(var CM in Q3)dse(CM);var tL=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=this.renderer,i=t.worldTransform;e.context.globalAlpha=t.worldAlpha,e.setBlendMode(t.blendMode),e.setContextTransform(i,t.roundPixels),t.drawMode!==lo.TRIANGLES?this._renderTriangleMesh(t):this._renderTriangles(t)},n.prototype._renderTriangleMesh=function(t){for(var e=t.geometry.buffers[0].data.length,i=0;i<e-2;i++){var r=2*i;this._renderDrawTriangle(t,r,r+2,r+4)}},n.prototype._renderTriangles=function(t){for(var e=t.geometry.getIndex().data,i=e.length,r=0;r<i;r+=3)this._renderDrawTriangle(t,2*e[r],2*e[r+1],2*e[r+2])},n.prototype._renderDrawTriangle=function(t,e,i,r){var o=this.renderer.context,s=t.geometry.buffers[0].data,a=t.uvs,l=t.texture;if(l.valid){var u=16777215!==t.tint,g=l.baseTexture,E=g.width,w=g.height;u&&t._cachedTint!==t.tint&&(t._cachedTint=t.tint,t._cachedTexture=t._cachedTexture||new gl(g),t._tintedCanvas=Or.getTintedCanvas({texture:t._cachedTexture},t.tint));var P=u?t._tintedCanvas:g.getDrawableSource(),A=a[e]*g.width,D=a[i]*g.width,B=a[r]*g.width,Y=a[e+1]*g.height,K=a[i+1]*g.height,re=a[r+1]*g.height,ae=s[e],te=s[i],ne=s[r],Oe=s[e+1],Ie=s[i+1],ye=s[r+1],Ve=t.canvasPadding/this.renderer.resolution;if(Ve>0){var nt=t.worldTransform,it=nt.a,Ze=nt.b,At=nt.c,$e=nt.d,De=(ae+te+ne)/3,Ke=(Oe+Ie+ye)/3,ht=ae-De,wt=Oe-Ke,We=it*ht+At*wt,bt=Ze*ht+$e*wt,Dt=Math.sqrt(We*We+bt*bt),Nt=1+Ve/Dt;ae=De+ht*Nt,Oe=Ke+wt*Nt,We=it*(ht=te-De)+At*(wt=Ie-Ke),bt=Ze*ht+$e*wt,te=De+ht*(Nt=1+Ve/(Dt=Math.sqrt(We*We+bt*bt))),Ie=Ke+wt*Nt,We=it*(ht=ne-De)+At*(wt=ye-Ke),bt=Ze*ht+$e*wt,ne=De+ht*(Nt=1+Ve/(Dt=Math.sqrt(We*We+bt*bt))),ye=Ke+wt*Nt}o.save(),o.beginPath(),o.moveTo(ae,Oe),o.lineTo(te,Ie),o.lineTo(ne,ye),o.closePath(),o.clip();var Rt=A*K+Y*B+D*re-K*B-Y*D-A*re;o.transform((ae*K+Y*ne+te*re-K*ne-Y*te-ae*re)/Rt,(Oe*K+Y*ye+Ie*re-K*ye-Y*Ie-Oe*re)/Rt,(A*te+ae*B+D*ne-te*B-ae*D-A*ne)/Rt,(A*Ie+Oe*B+D*ye-Ie*B-Oe*D-A*ye)/Rt,(A*K*ne+Y*te*B+ae*D*re-ae*K*B-Y*D*ne-A*te*re)/Rt,(A*K*ye+Y*Ie*B+Oe*D*re-Oe*K*B-Y*D*ye-A*Ie*re)/Rt),o.drawImage(P,0,0,E*g.resolution,w*g.resolution,0,0,E,w),o.restore(),this.renderer.invalidateBlendMode()}},n.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.geometry.getBuffer("aVertexPosition").data,r=i.length/2;e.beginPath();for(var o=1;o<r-2;++o){var s=2*o,u=i[s+2],g=i[s+3],E=i[s+4],w=i[s+5];e.moveTo(i[s],i[s+1]),e.lineTo(u,g),e.lineTo(E,w)}e.fillStyle="#FF0000",e.fill(),e.closePath()},n.prototype.destroy=function(){this.renderer=null},n}();lt.MESH_CANVAS_PADDING=0,rh.prototype._renderCanvas=function(t,e){t.plugins.mesh.render(e)},b_.prototype._cachedTint=16777215,b_.prototype._tintedCanvas=null,b_.prototype._canvasUvs=null,b_.prototype._renderCanvas=function(t){var e=t.context,i=this.worldTransform,r=16777215!==this.tint,o=this.texture;if(o.valid){r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedCanvas=Or.getTintedCanvas(this,this.tint));var s=r?this._tintedCanvas:o.baseTexture.getDrawableSource();this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var a=this.vertices,l=this._canvasUvs,u=r?0:o.frame.x,g=r?0:o.frame.y,E=u+o.frame.width,w=g+o.frame.height;l[0]=u,l[1]=u+this._leftWidth,l[2]=E-this._rightWidth,l[3]=E,l[4]=g,l[5]=g+this._topHeight,l[6]=w-this._bottomHeight,l[7]=w;for(var P=0;P<8;P++)l[P]*=o.baseTexture.resolution;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),t.setContextTransform(i,this.roundPixels);for(var A=0;A<3;A++)for(var D=0;D<3;D++){var B=2*D+8*A,Y=Math.max(1,l[D+1]-l[D]),K=Math.max(1,l[A+5]-l[A+4]),re=Math.max(1,a[B+10]-a[B]),ae=Math.max(1,a[B+11]-a[B+1]);e.drawImage(s,l[D],l[A+4],Y,K,a[B],a[B+1],re,ae)}}};var nL=!1;Qs.prototype._cachedTint=16777215,Qs.prototype._tintedCanvas=null,Qs.prototype._cachedTexture=null,Qs.prototype._renderCanvas=function(t){this.shader.uvMatrix&&(this.shader.uvMatrix.update(),this.calculateUvs()),this.material._renderCanvas?this.material._renderCanvas(t,this):nL||(nL=!0,self.console&&console.warn("Mesh with custom shaders are not supported in CanvasRenderer."))},Qs.prototype._canvasPadding=null,Object.defineProperty(Qs.prototype,"canvasPadding",{get:function(){return null!==this._canvasPadding?this._canvasPadding:lt.MESH_CANVAS_PADDING},set:function(n){this._canvasPadding=n}}),KB.prototype._renderCanvas=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)},$B.prototype._renderCanvas=function(t){(this.autoUpdate||this.geometry._width!==this.shader.texture.height)&&(this.geometry._width=this.shader.texture.height,this.geometry.update()),this.shader.update&&this.shader.update(),this.calculateUvs(),this.material._renderCanvas(t,this)};var OM,iL=function(){function n(){}return n.offsetPolygon=function(t,e){var i=[],r=t.length;e=n.isPolygonClockwise(t)?e:-1*e;for(var o=0;o<r;o+=2){var s=o-2;s<0&&(s+=r);var a=(o+2)%r,l=t[o]-t[s],u=t[o+1]-t[s+1],g=Math.sqrt(l*l+u*u);l/=g,u/=g;var E=-(u*=e),P=[t[s]+E,t[s+1]+(l*=e)],A=[t[o]+E,t[o+1]+l],D=t[a]-t[o],B=t[a+1]-t[o+1];D/=g=Math.sqrt(D*D+B*B),B/=g;var Y=-(B*=e),re=[t[o]+Y,t[o+1]+(D*=e)],ae=[t[a]+Y,t[a+1]+D],te=n.findIntersection(P[0],P[1],A[0],A[1],re[0],re[1],ae[0],ae[1]);te&&i.push.apply(i,te)}return i},n.findIntersection=function(t,e,i,r,o,s,a,l){var u=(l-s)*(i-t)-(a-o)*(r-e),g=(a-o)*(e-s)-(l-s)*(t-o);if(0===u)return 0===g&&0==(i-t)*(e-s)-(r-e)*(t-o)?[(t+i)/2,(e+r)/2]:null;var w=g/u;return[t+w*(i-t),e+w*(r-e)]},n.isPolygonClockwise=function(t){for(var e=0,i=0;i<t.length-2;i+=2)e+=(t[i+2]-t[i])*(t[i+3]+t[i+1]);return e>0},n}(),rL=function(){function n(t){this._svgMatrix=null,this._tempMatrix=new pi,this.renderer=t}return n.prototype._calcCanvasStyle=function(t,e){var i;return t.texture&&t.texture.baseTexture!==Gt.WHITE.baseTexture?t.texture.valid?(i=Or.getTintedPattern(t.texture,e),this.setPatternTransform(i,t.matrix||pi.IDENTITY)):i="#808080":i="#"+("00000"+(0|e).toString(16)).substr(-6),i},n.prototype.render=function(t){var e=this.renderer,i=e.context,r=t.worldAlpha,o=t.transform.worldTransform;e.setContextTransform(o),e.setBlendMode(t.blendMode);for(var a,l,s=t.geometry.graphicsData,u=(t.tint>>16&255)/255,g=(t.tint>>8&255)/255,E=(255&t.tint)/255,w=0;w<s.length;w++){var P=s[w],A=P.shape,D=P.fillStyle,B=P.lineStyle,Y=0|P.fillStyle.color,K=0|P.lineStyle.color;if(P.matrix&&e.setContextTransform(o.copyTo(this._tempMatrix).append(P.matrix)),D.visible&&(a=this._calcCanvasStyle(D,((Y>>16&255)/255*u*255<<16)+((Y>>8&255)/255*g*255<<8)+(255&Y)/255*E*255)),B.visible&&(l=this._calcCanvasStyle(B,((K>>16&255)/255*u*255<<16)+((K>>8&255)/255*g*255<<8)+(255&K)/255*E*255)),i.lineWidth=B.width,i.lineCap=B.cap,i.lineJoin=B.join,i.miterLimit=B.miterLimit,P.type===ei.POLY){i.beginPath();var ne=(te=A).points,Oe=P.holes,Ie=void 0,ye=void 0,Ve=void 0,nt=void 0,it=void 0;i.moveTo(ne[0],ne[1]);for(var Ze=2;Ze<ne.length;Ze+=2)i.lineTo(ne[Ze],ne[Ze+1]);if(te.closeStroke&&i.closePath(),Oe.length>0){for(it=[],Ie=0,Ve=ne[0],nt=ne[1],Ze=2;Ze+2<ne.length;Ze+=2)Ie+=(ne[Ze]-Ve)*(ne[Ze+3]-nt)-(ne[Ze+2]-Ve)*(ne[Ze+1]-nt);for(var At=0;At<Oe.length;At++)if(ne=Oe[At].shape.points){for(ye=0,Ve=ne[0],nt=ne[1],Ze=2;Ze+2<ne.length;Ze+=2)ye+=(ne[Ze]-Ve)*(ne[Ze+3]-nt)-(ne[Ze+2]-Ve)*(ne[Ze+1]-nt);if(ye*Ie<0)for(i.moveTo(ne[0],ne[1]),Ze=2;Ze<ne.length;Ze+=2)i.lineTo(ne[Ze],ne[Ze+1]);else for(i.moveTo(ne[ne.length-2],ne[ne.length-1]),Ze=ne.length-4;Ze>=0;Ze-=2)i.lineTo(ne[Ze],ne[Ze+1]);Oe[At].shape.closeStroke&&i.closePath(),it[At]=ye*Ie<0}}D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fill()),B.visible&&this.paintPolygonStroke(te,B,l,Oe,it,r,i)}else if(P.type===ei.RECT){var te=A;if(D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fillRect(te.x,te.y,te.width,te.height)),B.visible){var De=te.width+2*($e=B.width*(.5-(1-B.alignment))),Ke=te.height+2*$e;i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.strokeRect(te.x-$e,te.y-$e,De,Ke)}}else if(P.type===ei.CIRC){if(te=A,i.beginPath(),i.arc(te.x,te.y,te.radius,0,2*Math.PI),i.closePath(),D.visible&&(i.globalAlpha=D.alpha*r,i.fillStyle=a,i.fill()),B.visible){if(.5!==B.alignment){var $e=B.width*(.5-(1-B.alignment));i.beginPath(),i.arc(te.x,te.y,te.radius+$e,0,2*Math.PI),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}}else if(P.type===ei.ELIP){if(te=A,(ht=1===B.alignment)||this.paintEllipse(te,D,B,a,r,i),B.visible){if(.5!==B.alignment){var wt=.5522848,We=2*(te.width+($e=B.width*(.5-(1-B.alignment)))),bt=2*(te.height+$e),Dt=te.x-We/2,Nt=te.y-bt/2,Rt=We/2*wt,ui=bt/2*wt,Bn=Dt+We,pn=Nt+bt,Hn=Dt+We/2,En=Nt+bt/2;i.beginPath(),i.moveTo(Dt,En),i.bezierCurveTo(Dt,En-ui,Hn-Rt,Nt,Hn,Nt),i.bezierCurveTo(Hn+Rt,Nt,Bn,En-ui,Bn,En),i.bezierCurveTo(Bn,En+ui,Hn+Rt,pn,Hn,pn),i.bezierCurveTo(Hn-Rt,pn,Dt,En+ui,Dt,En),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}ht&&this.paintEllipse(te,D,B,a,r,i)}else if(P.type===ei.RREC){var ht;if(te=A,(ht=1===B.alignment)||this.paintRoundedRectangle(te,D,B,a,r,i),B.visible){if(.5!==B.alignment){De=te.width,Ke=te.height;var un=te.x-($e=B.width*(.5-(1-B.alignment))),tn=te.y-$e,Yn=te.width+2*$e,nn=te.height+2*$e,ro=$e*(B.alignment>=1?Math.min(Yn/De,nn/Ke):Math.min(De/Yn,Ke/nn)),di=te.radius+ro,In=Math.min(Yn,nn)/2;di=di>In?In:di,i.beginPath(),i.moveTo(un,tn+di),i.lineTo(un,tn+nn-di),i.quadraticCurveTo(un,tn+nn,un+di,tn+nn),i.lineTo(un+Yn-di,tn+nn),i.quadraticCurveTo(un+Yn,tn+nn,un+Yn,tn+nn-di),i.lineTo(un+Yn,tn+di),i.quadraticCurveTo(un+Yn,tn,un+Yn-di,tn),i.lineTo(un+di,tn),i.quadraticCurveTo(un,tn,un,tn+di),i.closePath()}i.globalAlpha=B.alpha*r,i.strokeStyle=l,i.stroke()}ht&&this.paintRoundedRectangle(te,D,B,a,r,i)}}},n.prototype.paintPolygonStroke=function(t,e,i,r,o,s,a){if(.5!==e.alignment){var l=e.width*(.5-(1-e.alignment)),u=iL.offsetPolygon(t.points,l);a.beginPath(),a.moveTo(u[0],u[1]);for(var E=2;E<u.length;E+=2)a.lineTo(u[E],u[E+1]);t.closeStroke&&a.closePath();for(var w=0;w<r.length;w++){if(u=iL.offsetPolygon(r[w].shape.points,l),o[w])for(a.moveTo(u[0],u[1]),E=2;E<u.length;E+=2)a.lineTo(u[E],u[E+1]);else for(a.moveTo(u[u.length-2],u[u.length-1]),E=u.length-4;E>=0;E-=2)a.lineTo(u[E],u[E+1]);r[w].shape.closeStroke&&a.closePath()}}a.globalAlpha=e.alpha*s,a.strokeStyle=i,a.stroke()},n.prototype.paintEllipse=function(t,e,i,r,o,s){var a=2*t.width,l=2*t.height,u=t.x-a/2,g=t.y-l/2,E=.5522848,w=a/2*E,P=l/2*E,A=u+a,D=g+l,B=u+a/2,Y=g+l/2;0===i.alignment&&s.save(),s.beginPath(),s.moveTo(u,Y),s.bezierCurveTo(u,Y-P,B-w,g,B,g),s.bezierCurveTo(B+w,g,A,Y-P,A,Y),s.bezierCurveTo(A,Y+P,B+w,D,B,D),s.bezierCurveTo(B-w,D,u,Y+P,u,Y),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.paintRoundedRectangle=function(t,e,i,r,o,s){var a=t.x,l=t.y,u=t.width,g=t.height,E=t.radius,w=Math.min(u,g)/2;E=E>w?w:E,0===i.alignment&&s.save(),s.beginPath(),s.moveTo(a,l+E),s.lineTo(a,l+g-E),s.quadraticCurveTo(a,l+g,a+E,l+g),s.lineTo(a+u-E,l+g),s.quadraticCurveTo(a+u,l+g,a+u,l+g-E),s.lineTo(a+u,l+E),s.quadraticCurveTo(a+u,l,a+u-E,l),s.lineTo(a+E,l),s.quadraticCurveTo(a,l,a,l+E),s.closePath(),0===i.alignment&&s.clip(),e.visible&&(s.globalAlpha=e.alpha*o,s.fillStyle=r,s.fill()),0===i.alignment&&s.restore()},n.prototype.setPatternTransform=function(t,e){if(!1!==this._svgMatrix){if(!this._svgMatrix){var i=document.createElementNS("http://www.w3.org/2000/svg","svg");if(i&&i.createSVGMatrix&&(this._svgMatrix=i.createSVGMatrix()),!this._svgMatrix||!t.setTransform)return void(this._svgMatrix=!1)}this._svgMatrix.a=e.a,this._svgMatrix.b=e.b,this._svgMatrix.c=e.c,this._svgMatrix.d=e.d,this._svgMatrix.e=e.tx,this._svgMatrix.f=e.ty,t.setTransform(this._svgMatrix.inverse())}},n.prototype.destroy=function(){this.renderer=null,this._svgMatrix=null,this._tempMatrix=null},n}(),w_=new pi;Ts.prototype.generateCanvasTexture=function(t,e){void 0===e&&(e=1);var i=this.getLocalBounds(),r=qs.create({width:i.width,height:i.height,scaleMode:t,resolution:e});OM||(OM=new fl),this.transform.updateLocalTransform(),this.transform.localTransform.copyTo(w_),w_.invert(),w_.tx-=i.x,w_.ty-=i.y,OM.render(this,{renderTexture:r,clear:!0,transform:w_});var o=Gt.from(r.baseTexture._canvasRenderTarget.canvas,{scaleMode:t});return o.baseTexture.setResolution(e),o},Ts.prototype.cachedGraphicsData=[],Ts.prototype._renderCanvas=function(t){!0!==this.isMask&&(this.finishPoly(),t.plugins.graphics.render(this))};var oL=new pi,sL=function(){function n(t){this.renderer=t}return n.prototype.render=function(t){var e=t._texture,i=this.renderer,r=i.context;if(e.valid){var o=e._frame.width,s=e._frame.height,a=t.transform.worldTransform,l=0,u=0,g=e.baseTexture.getDrawableSource();if(!(e.orig.width<=0||e.orig.height<=0)&&e.valid&&g){i.setBlendMode(t.blendMode,!0),i.context.globalAlpha=t.worldAlpha;var E=e.baseTexture.scaleMode===xr.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==E&&(r[i.smoothProperty]=E),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,u=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,u=(.5-t.anchor.y)*e.orig.height),e.rotate&&(a.copyTo(oL),ji.matrixAppendRotationInv(a=oL,e.rotate,l,u),l=0,u=0),l-=o/2,u-=s/2,i.setContextTransform(a,t.roundPixels,1),t.roundPixels&&(l|=0,u|=0);var w=e.baseTexture.resolution,P=i._outerBlend;P&&(r.save(),r.beginPath(),r.rect(l*i.resolution,u*i.resolution,o*i.resolution,s*i.resolution),r.clip()),16777215!==t.tint?((t._cachedTint!==t.tint||t._tintedCanvas.tintId!==t._texture._updateID)&&(t._cachedTint=t.tint,t._tintedCanvas=Or.getTintedCanvas(t,t.tint)),r.drawImage(t._tintedCanvas,0,0,Math.floor(o*w),Math.floor(s*w),Math.floor(l*i.resolution),Math.floor(u*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution))):r.drawImage(g,e._frame.x*w,e._frame.y*w,Math.floor(o*w),Math.floor(s*w),Math.floor(l*i.resolution),Math.floor(u*i.resolution),Math.floor(o*i.resolution),Math.floor(s*i.resolution)),P&&r.restore(),i.setBlendMode(Ue.NORMAL)}}},n.prototype.destroy=function(){this.renderer=null},n}();Ho.prototype._tintedCanvas=null,Ho.prototype._renderCanvas=function(t){t.plugins.sprite.render(this)};var aL=new Gn,lL=function(){function n(t){this.renderer=t}return n.prototype.image=function(t,e,i){var r=new Image;return r.src=this.base64(t,e,i),r},n.prototype.base64=function(t,e,i){return this.canvas(t).toDataURL(e,i)},n.prototype.canvas=function(t){var i,r,o,s,e=this.renderer;t&&(s=t instanceof qs?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=aL).width=this.renderer.width,o.height=this.renderer.height);var a=Math.floor(o.width*r+1e-4),l=Math.floor(o.height*r+1e-4),u=new jf(a,l,1),g=i.getImageData(o.x*r,o.y*r,a,l);return u.context.putImageData(g,0,0),u.canvas},n.prototype.pixels=function(t){var i,r,o,s,e=this.renderer;return t&&(s=t instanceof qs?t:e.generateTexture(t)),s?(i=s.baseTexture._canvasRenderTarget.context,r=s.baseTexture._canvasRenderTarget.resolution,o=s.frame):(i=e.rootContext,r=e.resolution,(o=aL).width=e.width,o.height=e.height),i.getImageData(o.x*r,o.y*r,o.width*r,o.height*r).data},n.prototype.destroy=function(){this.renderer=null},n}(),MM=function(n,t){return(MM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,i){e.__proto__=i}||function(e,i){for(var r in i)i.hasOwnProperty(r)&&(e[r]=i[r])})(n,t)};function pse(n,t){var e=n;if(t instanceof Jn){var i=t.source,r=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),o=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,r,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}var cL=function(n){function t(e){var i=n.call(this,e)||this;return i.uploadHookHelper=i,i.canvas=document.createElement("canvas"),i.canvas.width=16,i.canvas.height=16,i.ctx=i.canvas.getContext("2d"),i.registerUploadHook(pse),i}return function fse(n,t){function e(){this.constructor=n}MM(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}(t,n),t.prototype.destroy=function(){n.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(PO),S0=new pi,P_=new pi,_l=[new Ni,new Ni,new Ni,new Ni];function ml(n){return!!n&&(n instanceof oe||y(n.lift)&&y(n.subscribe))}NB.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var i=t.context,r=this.worldTransform,o=e.baseTexture,s=o.getDrawableSource(),a=o.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new jf(e._frame.width,e._frame.height,a);16777215!==this.tint?(this._tintedCanvas=Or.getTintedCanvas(this,this.tint),l.context.drawImage(this._tintedCanvas,0,0)):l.context.drawImage(s,-e._frame.x*a,-e._frame.y*a),this._cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var u=this.tileTransform.localTransform,g=this._width,E=this._height;S0.identity(),P_.copyFrom(u),this.uvRespectAnchor||P_.translate(-this.anchor.x*g,-this.anchor.y*E),P_.scale(this.tileScale.x/a,this.tileScale.y/a),S0.prepend(P_),S0.prepend(r),t.setContextTransform(S0),i.fillStyle=this._canvasPattern;var w=this.anchor.x*-g,P=this.anchor.y*-E;_l[0].set(w,P),_l[1].set(w+g,P),_l[2].set(w+g,P+E),_l[3].set(w,P+E);for(var A=0;A<4;A++)P_.applyInverse(_l[A],_l[A]);for(i.beginPath(),i.moveTo(_l[0].x,_l[0].y),A=1;A<4;A++)i.lineTo(_l[A].x,_l[A].y);i.closePath(),i.fill()}},_B.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,r=!0,o=0,s=0,a=0,l=0;t.setBlendMode(this.blendMode),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var u=0;u<this.children.length;++u){var g=this.children[u];if(g.visible&&g._texture.valid){var E=g._texture.frame;e.globalAlpha=this.worldAlpha*g.alpha,g.rotation%(2*Math.PI)==0?(r&&(t.setContextTransform(i,!1,1),r=!1),o=g.anchor.x*(-E.width*g.scale.x)+g.position.x+.5,s=g.anchor.y*(-E.height*g.scale.y)+g.position.y+.5,a=E.width*g.scale.x,l=E.height*g.scale.y):(r||(r=!0),g.displayObjectUpdateTransform(),t.setContextTransform(g.worldTransform,this.roundPixels,1),o=g.anchor.x*-E.width+.5,s=g.anchor.y*-E.height+.5,a=E.width,l=E.height);var P=g._texture.baseTexture.resolution;e.drawImage(g._texture.baseTexture.getDrawableSource(),E.x*P,E.y*P,E.width*P,E.height*P,o*t.resolution,s*t.resolution,a*t.resolution,l*t.resolution)}}}},zi.prototype._renderCanvas=function(t){},zi.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},Qi.prototype.renderCanvas=function(t){},g_.prototype._renderCanvas=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),Ho.prototype._renderCanvas.call(this,t)},fl.registerPlugin("accessibility",_C),fl.registerPlugin("extract",lL),fl.registerPlugin("graphics",rL),fl.registerPlugin("interaction",bC),fl.registerPlugin("mesh",tL),fl.registerPlugin("prepare",cL),fl.registerPlugin("sprite",sL);const{isArray:_se}=Array,{getPrototypeOf:mse,prototype:vse,keys:yse}=Object;function hL(n){if(1===n.length){const t=n[0];if(_se(t))return{args:t,keys:null};if(function bse(n){return n&&"object"==typeof n&&mse(n)===vse}(t)){const e=yse(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}function dL(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function fL(...n){const t=Pi(n),{args:e,keys:i}=hL(n),r=new oe(o=>{const{length:s}=e;if(!s)return void o.complete();const a=new Array(s);let l=s,u=s;for(let g=0;g<s;g++){let E=!1;pt(e[g]).subscribe(ie(o,w=>{E||(E=!0,u--),a[g]=w},()=>l--,void 0,()=>{(!l||!E)&&(u||o.next(i?dL(i,a):a),o.complete())}))}});return t?r.pipe(GT(t)):r}function T0(n){return new oe(t=>{pt(n()).subscribe(t)})}class pL extends Le{constructor(t=1/0,e=1/0,i=LT){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;e||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=e.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}function wM(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=null!=n?n:1/0,go({connector:()=>new pL(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Zs(n,t){return je((e,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();e.subscribe(ie(i,l=>{null==r||r.unsubscribe();let u=0;const g=o++;pt(n(l,g)).subscribe(r=ie(i,E=>i.next(t?t(l,E,g,u++):E),()=>{r=null,a()}))},()=>{s=!0,a()}))})}class A_{}let gL=(()=>{class n extends A_{getTranslation(e){return Vt({})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Lr(n)))(i||n)}}(),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class PM{}let _L=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function x_(n,t){if(n===t)return!0;if(null===n||null===t)return!1;if(n!=n&&t!=t)return!0;let r,o,s,e=typeof n;if(e==typeof t&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(t))return!1;for(o in s=Object.create(null),n){if(!x_(n[o],t[o]))return!1;s[o]=!0}for(o in t)if(!(o in s)&&void 0!==t[o])return!1;return!0}if(!Array.isArray(t))return!1;if((r=n.length)==t.length){for(o=0;o<r;o++)if(!x_(n[o],t[o]))return!1;return!0}}return!1}function ws(n){return null!=n}function AM(n){return n&&"object"==typeof n&&!Array.isArray(n)}function mL(n,t){let e=Object.assign({},n);return AM(n)&&AM(t)&&Object.keys(t).forEach(i=>{AM(t[i])?i in n?e[i]=mL(n[i],t[i]):Object.assign(e,{[i]:t[i]}):Object.assign(e,{[i]:t[i]})}),e}class C0{}let vL=(()=>{class n extends C0{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,i){let r;return r="string"==typeof e?this.interpolateString(e,i):"function"==typeof e?this.interpolateFunction(e,i):e,r}getValue(e,i){let r="string"==typeof i?i.split("."):[i];i="";do{i+=r.shift(),!ws(e)||!ws(e[i])||"object"!=typeof e[i]&&r.length?r.length?i+=".":e=void 0:(e=e[i],i="")}while(r.length);return e}interpolateFunction(e,i){return e(i)}interpolateString(e,i){return i?e.replace(this.templateMatcher,(r,o)=>{let s=this.getValue(i,o);return ws(s)?s:r}):e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Lr(n)))(i||n)}}(),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class O0{}let yL=(()=>{class n extends O0{compile(e,i){return e}compileTranslations(e,i){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Lr(n)))(i||n)}}(),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class bL{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new jt,this.onLangChange=new jt,this.onDefaultLangChange=new jt}}const xM=new Kt("USE_STORE"),RM=new Kt("USE_DEFAULT_LANG"),DM=new Kt("DEFAULT_LANGUAGE"),IM=new Kt("USE_EXTEND");let Ku=(()=>{class n{constructor(e,i,r,o,s,a=!0,l=!1,u=!1,g){this.store=e,this.currentLoader=i,this.compiler=r,this.parser=o,this.missingTranslationHandler=s,this.useDefaultLang=a,this.isolate=l,this.extend=u,this.pending=!1,this._onTranslationChange=new jt,this._onLangChange=new jt,this._onDefaultLangChange=new jt,this._langs=[],this._translations={},this._translationRequests={},g&&this.setDefaultLang(g)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let i=this.retrieveTranslations(e);void 0!==i?(null==this.defaultLang&&(this.defaultLang=e),i.pipe($n(1)).subscribe(r=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return Vt(this.translations[e]);let i=this.retrieveTranslations(e);return void 0!==i?(this.currentLang||(this.currentLang=e),i.pipe($n(1)).subscribe(r=>{this.changeLang(e)}),i):(this.changeLang(e),Vt(this.translations[e]))}retrieveTranslations(e){let i;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),i=this._translationRequests[e]),i}getTranslation(e){this.pending=!0;const i=this.currentLoader.getTranslation(e).pipe(wM(1),$n(1));return this.loadingTranslations=i.pipe(pe(r=>this.compiler.compileTranslations(r,e)),wM(1),$n(1)),this.loadingTranslations.subscribe({next:r=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},r),this.translations[e]):r,this.updateLangs(),this.pending=!1},error:r=>{this.pending=!1}}),i}setTranslation(e,i,r=!1){i=this.compiler.compileTranslations(i,e),this.translations[e]=(r||this.extend)&&this.translations[e]?mL(this.translations[e],i):i,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(i=>{-1===this.langs.indexOf(i)&&this.langs.push(i)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,i,r){let o;if(i instanceof Array){let s={},a=!1;for(let l of i)s[l]=this.getParsedResult(e,l,r),ml(s[l])&&(a=!0);return a?fL(i.map(u=>ml(s[u])?s[u]:Vt(s[u]))).pipe(pe(u=>{let g={};return u.forEach((E,w)=>{g[i[w]]=E}),g})):s}if(e&&(o=this.parser.interpolate(this.parser.getValue(e,i),r)),void 0===o&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(o=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],i),r)),void 0===o){let s={key:i,translateService:this};void 0!==r&&(s.interpolateParams=r),o=this.missingTranslationHandler.handle(s)}return void 0!==o?o:i}get(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Uc(r=>ml(r=this.getParsedResult(r,e,i))?r:Vt(r)));{let r=this.getParsedResult(this.translations[this.currentLang],e,i);return ml(r)?r:Vt(r)}}getStreamOnTranslationChange(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');return ju(T0(()=>this.get(e,i)),this.onTranslationChange.pipe(Zs(r=>{const o=this.getParsedResult(r.translations,e,i);return"function"==typeof o.subscribe?o:Vt(o)})))}stream(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');return ju(T0(()=>this.get(e,i)),this.onLangChange.pipe(Zs(r=>{const o=this.getParsedResult(r.translations,e,i);return ml(o)?o:Vt(o)})))}instant(e,i){if(!ws(e)||!e.length)throw new Error('Parameter "key" required');let r=this.getParsedResult(this.translations[this.currentLang],e,i);if(ml(r)){if(e instanceof Array){let o={};return e.forEach((s,a)=>{o[e[a]]=e[a]}),o}return e}return r}set(e,i,r=this.currentLang){this.translations[r][e]=this.compiler.compile(i,r),this.updateLangs(),this.onTranslationChange.emit({lang:r,translations:this.translations[r]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(ke(bL),ke(A_),ke(O0),ke(C0),ke(PM),ke(RM),ke(xM),ke(IM),ke(DM))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),jn=(()=>{class n{constructor(e,i,r){this.translateService=e,this.element=i,this._ref=r,this.onTranslationChangeSub||(this.onTranslationChangeSub=this.translateService.onTranslationChange.subscribe(o=>{o.lang===this.translateService.currentLang&&this.checkNodes(!0,o.translations)})),this.onLangChangeSub||(this.onLangChangeSub=this.translateService.onLangChange.subscribe(o=>{this.checkNodes(!0,o.translations)})),this.onDefaultLangChangeSub||(this.onDefaultLangChangeSub=this.translateService.onDefaultLangChange.subscribe(o=>{this.checkNodes(!0)}))}set translate(e){e&&(this.key=e,this.checkNodes())}set translateParams(e){x_(this.currentParams,e)||(this.currentParams=e,this.checkNodes(!0))}ngAfterViewChecked(){this.checkNodes()}checkNodes(e=!1,i){let r=this.element.nativeElement.childNodes;r.length||(this.setContent(this.element.nativeElement,this.key),r=this.element.nativeElement.childNodes);for(let o=0;o<r.length;++o){let s=r[o];if(3===s.nodeType){let a;if(e&&(s.lastKey=null),ws(s.lookupKey))a=s.lookupKey;else if(this.key)a=this.key;else{let l=this.getContent(s),u=l.trim();u.length&&(s.lookupKey=u,l!==s.currentValue?(a=u,s.originalContent=l||s.originalContent):s.originalContent?a=s.originalContent.trim():l!==s.currentValue&&(a=u,s.originalContent=l||s.originalContent))}this.updateValue(a,s,i)}}}updateValue(e,i,r){if(e){if(i.lastKey===e&&this.lastParams===this.currentParams)return;this.lastParams=this.currentParams;let o=s=>{s!==e&&(i.lastKey=e),i.originalContent||(i.originalContent=this.getContent(i)),i.currentValue=ws(s)?s:i.originalContent||e,this.setContent(i,this.key?i.currentValue:i.originalContent.replace(e,i.currentValue)),this._ref.markForCheck()};if(ws(r)){let s=this.translateService.getParsedResult(r,e,this.currentParams);ml(s)?s.subscribe({next:o}):o(s)}else this.translateService.get(e,this.currentParams).subscribe(o)}}getContent(e){return ws(e.textContent)?e.textContent:e.data}setContent(e,i){ws(e.textContent)?e.textContent=i:e.data=i}ngOnDestroy(){this.onLangChangeSub&&this.onLangChangeSub.unsubscribe(),this.onDefaultLangChangeSub&&this.onDefaultLangChangeSub.unsubscribe(),this.onTranslationChangeSub&&this.onTranslationChangeSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(X(Ku),X(ri),X(Mn))},n.\u0275dir=mt({type:n,selectors:[["","translate",""],["","ngx-translate",""]],inputs:{translate:"translate",translateParams:"translateParams"}}),n})(),Qn=(()=>{class n{constructor(e,i){this.translate=e,this._ref=i,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,i,r){let o=s=>{this.value=void 0!==s?s:e,this.lastKey=e,this._ref.markForCheck()};if(r){let s=this.translate.getParsedResult(r,e,i);ml(s.subscribe)?s.subscribe(o):o(s)}this.translate.get(e,i).subscribe(o)}transform(e,...i){if(!e||!e.length)return e;if(x_(e,this.lastKey)&&x_(i,this.lastParams))return this.value;let r;if(ws(i[0])&&i.length)if("string"==typeof i[0]&&i[0].length){let o=i[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{r=JSON.parse(o)}catch(s){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${i[0]}`)}}else"object"==typeof i[0]&&!Array.isArray(i[0])&&(r=i[0]);return this.lastKey=e,this.lastParams=i,this.updateValue(e,r),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(o=>{this.lastKey&&o.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(o=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r,o.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,r))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(X(Ku,16),X(Mn,16))},n.\u0275pipe=oo({name:"translate",type:n,pure:!1}),n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),bn=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:A_,useClass:gL},e.compiler||{provide:O0,useClass:yL},e.parser||{provide:C0,useClass:vL},e.missingTranslationHandler||{provide:PM,useClass:_L},bL,{provide:xM,useValue:e.isolate},{provide:RM,useValue:e.useDefaultLang},{provide:IM,useValue:e.extend},{provide:DM,useValue:e.defaultLanguage},Ku]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:A_,useClass:gL},e.compiler||{provide:O0,useClass:yL},e.parser||{provide:C0,useClass:vL},e.missingTranslationHandler||{provide:PM,useClass:_L},{provide:xM,useValue:e.isolate},{provide:RM,useValue:e.useDefaultLang},{provide:IM,useValue:e.extend},{provide:DM,useValue:e.defaultLanguage},Ku]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();var R_=(()=>(function(n){n.SessionStorage="sessionStorage",n.LocalStorage="localStorage"}(R_||(R_={})),R_))();class Ese{constructor(){this.storage=new Map}get length(){return this.storage.size}clear(){this.storage.clear()}key(t){return this.storage.keys()[t]?this.storage.keys()[t]:null}removeItem(t){this.storage.delete(t)}getItem(t){return this.storage.get(t)?this.storage.get(t):null}setItem(t,e){this.storage.set(t,""+e)}}let EL=(()=>{class n{constructor(){this._session=this.setStorage(R_.SessionStorage),this._local=this.setStorage(R_.LocalStorage)}get session(){return this._session}get local(){return this._local}setStorage(e){try{const i="__storage_test__";return window[e].setItem(i,i),window[e].removeItem(i),window[e]}catch(i){return new Ese}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ja=(()=>(function(n){n.user="user",n.token="token",n.currency="currency",n.lang="lang",n.operator="operator",n.returnUrl="return_url",n.accountHistoryUrl="account_history_url",n.jurisdiction="jurisdiction"}(ja||(ja={})),ja))(),D_=(()=>(function(n){n.ircDuration="irc_duration",n.ircElapsed="irc_elapsed",n.gameSessionId="gameSessionId",n.sisalToken="sisaltoken",n.licenseeId="licenseeid",n.isbgameId="isbgameid",n.isbskinId="isbskinid",n.country="country",n.launcherCode="launchercode",n.extra="extra",n.username="username",n.isoftBetOperator="isoftBetOperator",n.rci="rci",n.realityCheckUKLimit="realitycheck_uk_limit",n.realityCheckUkElapsed="realitycheck_uk_elapsed",n.realityCheckTimeout="realityCheckTimeout",n.loggedInTime="loggedInTime",n.extraData="extraData"}(D_||(D_={})),D_))();let tu=(()=>{class n{constructor(){this.DEFAULT_LANG="en",this.user=this.getRequiredParam(ja.user),this.operator=this.getRequiredParam(ja.operator),this.currency=this.getRequiredParam(ja.currency),this.lang=this.getOptionalLangParam(ja.lang),this.returnUrl=this.getOptionalParam(ja.returnUrl),this.accountHistoryUrl=this.getOptionalParam(ja.accountHistoryUrl),this.jurisdiction=this.getOptionalParam(ja.jurisdiction),this.additionalParams=[],Object.values(D_).forEach(e=>{const i=this.getOptionalParam(e);null!==i&&this.additionalParams.push({[e]:i})}),this.token="sisal"===this.operator.toLowerCase()?this.getRequiredParam(D_.sisalToken):this.getRequiredParam(ja.token),Fu("url.param.user",this.user),Fu("url.param.operator",this.operator),Fu("url.param.currency",this.currency),Fu("url.param.token",this.token),Fu("url.param.lang",this.lang),Fu("url.param.return_url",this.returnUrl),Fu("url.param.account_history_url",this.accountHistoryUrl),Fu("url.param.jurisdiction",this.jurisdiction)}getRequiredParam(e){const i=this.searchURLParam(e);if(null===i||""===i)throw new Error(`URL parameters are missing or invalid. Key: ${e} | Value: ${i}`);return i}getOptionalLangParam(e){const i=this.searchURLParam(e);return null===i||""===i?this.DEFAULT_LANG:i.toLowerCase()}getOptionalParam(e){const i=this.searchURLParam(e);return null===i||""===i?null:i}searchURLParam(e){const i=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");const o=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(i);return o?o[2]?decodeURIComponent(o[2].replace(/\+/g," ")):"":null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ln=(()=>{class n{constructor(e,i,r,o,s){this.translate=e,this.http=i,this.storage=r,this.deviceService=o,this.urlParams=s,this.SESSION_TOKEN_KEY="__spavstk",this.useInnerScroll=!1,this._isGameInited=!1,this.preloadFonts=()=>{const a=[];return a.push(document.fonts.load(`16px ${Vu.Base}`)),Promise.all(a)},this.isMobile=this.deviceService.isMobile(),this.isTablet=this.deviceService.isTablet(),this.isDesktop=this.deviceService.isDesktop(),this.deviceInfo=this.deviceService.getDeviceInfo(),!1===this.isDesktop&&this.deviceInfo.os===Sk.IOS&&parseInt(function SJ(){if("MSStream"in window)return 0;let t,n=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return null!=n?(t=[parseInt(n[1],10),parseInt(n[2],10),parseInt(n[3]||"0",10)],parseFloat(t.join("."))):0}().toString())<=12&&FT()&&(this.useInnerScroll=!0)}init(){const e=[];return e.push(this.setLanguage()),e.push(this.getClientConfig().then(()=>this.preloadResources())),e.push(this.preloadFonts()),Promise.all(e)}getClientConfig(){const e="Retry limit of client config exceeded!",l=`${Wi_clientConfig.path}${this.urlParams.operator}${Wi_clientConfig.ext}?v=${Wi_version}`;return new Promise((u,g)=>{this.http.get(l).pipe(function nQ(n){return je((t,e)=>{let i,o,r=!1;const s=()=>{i=t.subscribe(ie(e,void 0,void 0,a=>{o||(o=new Le,n(o).subscribe(ie(e,()=>i?s():r=!0))),o&&o.next(a)})),r&&(i.unsubscribe(),i=null,r=!1,s())};s()})}(E=>E.pipe($n(5),WT(2e3),w=>ju(w,Kg(new Error(e)))))).subscribe(E=>{this._clientConfig=Object.freeze(E),u()},()=>g(e))})}get sessionToken(){return(null===this.storage.session.getItem(this.SESSION_TOKEN_KEY)||function TJ(){try{if(performance&&performance.getEntriesByType){const n=performance.getEntriesByType("navigation");if(n&&n.length>0)return n[n.length-1].type}}catch(n){return null}return null}()===fy.backForward)&&this.storage.session.setItem(this.SESSION_TOKEN_KEY,hk(64)),this.storage.session.getItem(this.SESSION_TOKEN_KEY)}setLanguage(){return this.translate.setDefaultLang(this.urlParams.DEFAULT_LANG),new Promise(e=>{this.translate.use(this.urlParams.lang).subscribe(()=>{e()},()=>{this.urlParams.lang=this.urlParams.DEFAULT_LANG,e()})})}preloadResources(){const e=((n,t=!1)=>{n="adjarabet"===n?"adjarabet":"spribe";const i="./assets/images/canvas/",r=[{name:"bg",url:`${i}bg/bg-${t?"dashed-line":"sun"}.svg`},{name:"prop",url:`${i}prop/prop.svg`},{name:"multiplier-bg-blur",url:`${i}multiplier/bg/blur.svg`},{name:"icon-login-timer",url:`${i}icons/login-timer.svg`},{name:"icon-clock",url:`${i}icons/clock.svg`},{name:"icon-up-down",url:`${i}icons/up-down.svg`}],o=[];for(let s=0;s<4;s++)o.push({name:`plane-${s}`,url:`${i}plane/${n}/plane-${s}.svg`});return r.concat(o)})(this.clientConfig.brandName,this.clientConfig.isDashedLineBg);return class gse{static load(t,e=null,i=1){const r=this.versionResources(t);return new Promise(o=>{r.forEach(s=>{Oo.shared.resources[s.name]||Oo.shared.add(s)}),"function"==typeof e&&(this.onProgressID=Oo.shared.onProgress.add(s=>{e(null==s?void 0:s.progress,i)})),Oo.shared.load(()=>{this.onProgressID&&Oo.shared.onProgress.detach(this.onProgressID),o()})})}static versionResources(t){return t.map(e=>({name:e.name,url:e.url+=`?v=${Wi_version}`}))}}.load(e)}get config(){return this._config}setConfig(e){this._config=Object.freeze(e)}get clientConfig(){return this._clientConfig}get isFunMode(){return"demo"===this.urlParams.operator}get isLongPrecision(){return this._config&&this._config.betPrecision>=4}get isIrcDisplayModal(){return this.config.ircDisplayType===gy.modal}get isGameInited(){return this._isGameInited}getFormattedUsername(e){return this._clientConfig&&!1!==this._clientConfig.isUseMaskedUsername?function MJ(n){return n&&function OJ(n){return"string"==typeof n||n instanceof String}(n)?`${n.charAt(0)}***${n.charAt(n.length-1)}`.toLowerCase():"*****"}(e):e}get isAutoBetFeatureEnabled(){return!this.config.hasOwnProperty("isAutoBetFeatureEnabled")||this.config.isAutoBetFeatureEnabled}get isFreeBetsEnabled(){return this.config.hasOwnProperty("isFreeBetsEnabled")?this.config.isFreeBetsEnabled:!this.clientConfig.hasOwnProperty("isHideFreeBetsInUserMenu")||!this.clientConfig.isHideFreeBetsInUserMenu}get onLockUIActions(){var e;return null!==(e=this.config.onLockUIActions)&&void 0!==e?e:Ff.CancelBet}setGameInited(){this._isGameInited=!0}get isBrandAdjarabet(){return"adjarabet"===this.clientConfig.brandName}getAvatarUrl(e){return Wi_avatarPath+e+`?v=${Wi_version}`}}return n.\u0275fac=function(e){return new(e||n)(ke(Ku),ke(xT),ke(EL),ke(tQ),ke(tu))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),dh=(()=>{class n{constructor(e){this.zone=e,this._messageSubject=new Le,this._clearSubject=new Le,this._message$=this._messageSubject.asObservable(),this._clear$=this._clearSubject.asObservable()}add(e,i=!1){e&&(!1===i?this._messageSubject.next(e):!0===i&&this.zone.run(()=>this._messageSubject.next(e)))}clear(e=null,i=!1){!1===i?this._clearSubject.next(e):!0===i&&this.zone.run(()=>this._clearSubject.next(e))}get clear$(){return this._clear$}get message$(){return this._message$}}return n.\u0275fac=function(e){return new(e||n)(ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yo=(()=>{class n{constructor(){this._subject=new Le,this._onOpen$=this._subject.asObservable()}open(e,i=null){this._subject.next({key:e,params:i})}get onOpen$(){return this._onOpen$}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yi=(()=>{class n{constructor(e,i,r,o,s){this.app=e,this.zone=i,this.message=r,this.modal=o,this.urlParams=s,this._display=new Le,this.responseSubject=new Le,this.isOnLoginError=!1,this.reconnection=new RJ}get display(){return this._display.asObservable()}init(){return this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.zone.runOutsideAngular(()=>{console.log("[ SFS ] instantiate"),this.smartFox=new Ki.SmartFox(this.app.clientConfig.ws),this.bindEvents(!0),console.log("[ SFS ] connect"),this.smartFox.connect(),this.pingMonitor=new KJ(this.smartFox,e=>{this.setDisplay(e)},15e3)}),this.response(yn.Init)}shutdown(e){this.smartFox&&(this.bindEvents(!1),this.smartFox.disconnect(),this.smartFox=null),this.reconnection.reset(),this.pingMonitor.reset(),this.setDisplay(e)}bindEvents(e=!0){e?(this.smartFox.addEventListener(Ki.SFSEvent.CONNECTION,this.onConnection,this),this.smartFox.addEventListener(Ki.SFSEvent.CONNECTION_LOST,this.onConnectionLost,this),this.smartFox.addEventListener(Ki.SFSEvent.LOGIN,this.onLogin,this),this.smartFox.addEventListener(Ki.SFSEvent.LOGIN_ERROR,this.onLoginError,this),this.smartFox.addEventListener(Ki.SFSEvent.EXTENSION_RESPONSE,this.onResponse,this)):(this.smartFox.removeEventListener(Ki.SFSEvent.CONNECTION,this.onConnection),this.smartFox.removeEventListener(Ki.SFSEvent.CONNECTION_LOST,this.onConnectionLost),this.smartFox.removeEventListener(Ki.SFSEvent.LOGIN,this.onLogin),this.smartFox.removeEventListener(Ki.SFSEvent.LOGIN_ERROR,this.onLoginError),this.smartFox.removeEventListener(Ki.SFSEvent.EXTENSION_RESPONSE,this.onResponse))}request(e,i){if(null==this.smartFox)return;console.log("%c[ SFS SEND ] "+e,"background: #222; color: #caa817",i);let r=null;null!==i&&i.constructor==={}.constructor&&(r=fk.toSFSObject(i)),this.smartFox.send(new Ki.ExtensionRequest(e+"Handler",r))}response(e,i=null){return this.responseSubject.pipe(Ut(null===i?r=>r.cmd===e:r=>{var o;return r.cmd===e&&(null===(o=r.data)||void 0===o?void 0:o.code)===i}),pe(r=>r.data))}setDisplay(e,i){this.zone.run(()=>this._display.next({state:e,data:i}))}onConnection(e){if(console.log("[ SFS ] onConnection",e),e.success){this.reconnection.reset(),this.setDisplay(null),this.pingMonitor.reset();const i=new Ki.SFSObject;i.putUtfString("token",this.urlParams.token),i.putUtfString("currency",this.urlParams.currency),i.putUtfString("lang",this.urlParams.lang),i.putUtfString("sessionToken",this.app.sessionToken),i.putSFSObject("platform",function DJ(n){let t=new Ki.SFSObject;return t.putUtfString("deviceInfo",JSON.stringify(n.deviceInfo)),t.putUtfString("userAgent",JSON.stringify(n.deviceInfo.userAgent)),n.isDesktop?t.putUtfString("deviceType",Rf.Desktop):n.isMobile?t.putUtfString("deviceType",Rf.Mobile):n.isTablet&&t.putUtfString("deviceType",Rf.Tablet),t}(this.app)),i.putUtfString("version",Wi_version),this.urlParams.jurisdiction&&i.putUtfString("jurisdiction",this.urlParams.jurisdiction);const r=this.urlParams.additionalParams;if(Array.isArray(r)){const s=new Ki.SFSObject;r.forEach(a=>{const l=function CJ(n){return"object"!=typeof n?"":Object.keys(n)[0]}(a);s.putUtfString(l,a[l])}),i.putSFSObject("additionalParams",s)}let o=this.urlParams.user;this.app.clientConfig.userWithOperator&&!0===this.app.clientConfig.userWithOperator&&(o=o+"&&"+this.urlParams.operator),console.log("[ SFS ] login"),this.smartFox.send(new Ki.LoginRequest(o,"",i))}else this.setDisplay(si.reconnect),this.reconnection.try(this.smartFox,()=>{this.setDisplay(si.connectionLost)})}onConnectionLost(e){if(console.log("[ SFS ] onConnectionLost",e),!this.isOnLoginError){if(e.reason===Ki.ClientDisconnectionReason.BAN)return this.pingMonitor.reset(),void this.setDisplay(si.ban);if(e.reason===Ki.ClientDisconnectionReason.KICK)return this.pingMonitor.reset(),void this.setDisplay(si.kicked);this.setDisplay(si.reconnect),this.reconnection.try(this.smartFox)}}onLogin(){console.log("[ SFS ] onLogin"),this.pingMonitor.start()}onLoginError(e){console.log("[ SFS ] onLoginError",e),this.isOnLoginError=!0,this.smartFox.disconnect(),this.setDisplay(e.errorCode===dy.LOGIN_BANNED_USER?si.ban:si.loginError,this.getDisplayData(e.errorMessage))}getDisplayData(e){if(function wJ(n){try{JSON.parse(n)}catch(t){return!1}return!0}(e))return{additionalOperatorData:JSON.parse(e)}}onResponse(e){if(e.cmd===Df.Response)return;const i=fk.toObject(e.params);i.code===Gc.RealityCheck&&this.zone.run(()=>{this.modal.open(Un.notification,{type:zl.RealityCheck,message:i.errorMessage})}),i.code!==Gc.Success&&i.code!==Gc.RealityCheck&&this.zone.run(()=>{this.message.add({value:i.errorMessage,context:Es.danger,errorMessageParams:i.errorMessageParams})}),e.cmd!==yn.CurrentMultiplier&&console.log("%c[ SFS RESPONSE ] "+e.cmd,"background: #222; color: #bada55",i);const r={cmd:e.cmd,data:i};e.cmd===yn.CurrentMultiplier?this.responseSubject.next(r):this.zone.run(()=>{this.responseSubject.next(r)})}}return n.\u0275fac=function(e){return new(e||n)(ke(ln),ke(On),ke(dh),ke(Yo),ke(tu))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class li extends Le{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var SL=M(6461),nu=(()=>(function(n){n.Bet="bet_placed",n.FlyAway="fly_away",n.RoundStart="round_start",n.Win="win"}(nu||(nu={})),nu))();let rp=(()=>{class n{constructor(){this.soundPath="assets/sounds/",this._soundOn=!0,this._musicOn=!0,this._stopAll=!1;const i={src:[`${this.soundPath}sprite_audio.mp3?v=${Wi_version}`],autoplay:!1,loop:!1,volume:.3,sprite:{bet_placed:[0,522.4489795918367],fly_away:[2e3,2574.126984126984],round_start:[6e3,1515.102040816327],win:[9e3,4022.857142857143]}};this._music=new SL.Howl({src:[`${this.soundPath}bg_music.mp3?v=${Wi_version}`],autoplay:!0,loop:!0,volume:.1}),this._sound=new SL.Howl(i),this.soundOn=!1,this.musicOn=!1}play(e){this._stopAll||this._sound.play(e)}set musicOn(e){this._musicOn!==e&&(this._musicOn=e,this._music.mute(!e))}set soundOn(e){this._soundOn!==e&&(this._soundOn=e,this._sound.mute(!e))}stopAll(e=!0){this._stopAll=e,e?(this._sound.stop(),this._music.stop()):this._music.play()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vi=(()=>{class n{constructor(e,i,r){this.connector=e,this.sound=i,this.modal=r,this._events=new Le,this._eventsObs=this._events.asObservable(),this._stateSubject=new li(null),this._stateObs=this._stateSubject.asObservable()}init(e){this.reset(),this._roundId=e.roundId,this._onlinePlayers=e.onlinePlayers,this._timeLeft=e.betTimeLeft,this._stateSubject.next(e.stageId),this.changeState$=this.connector.response(yn.ChangeState,200).pipe(Ut(i=>i.newStateId!==Ji.End)).subscribe(i=>this.onChangeState(i)),this.connector.response(yn.CurrentMultiplier,200).pipe(Ut(i=>!!i.crashMultiplier)).subscribe(()=>this.onChangeState({newStateId:Ji.End,roundId:this.roundId})),this.onlinePlayers$=this.connector.response(yn.OnlinePlayers,200).subscribe(i=>this._onlinePlayers=i.onlinePlayers)}onChangeState(e){this._roundId=e.roundId,this._timeLeft=e.timeLeft,e.newStateId===Ji.End&&this.sound.play(nu.FlyAway),e.newStateId===Ji.Run&&this.sound.play(nu.RoundStart),this._stateSubject.next(e.newStateId)}getState(e=null){return null===e?this._stateObs:this._stateObs.pipe(Ut(i=>i===e))}get state(){return this._stateSubject.value}get timeLeft(){return this._timeLeft}get roundId(){return this._roundId}get onlinePlayers(){return this._onlinePlayers}get isBettingState(){return this.state===Ji.Bet}get isRunningState(){return this.state===Ji.Run}get isEndingState(){return this.state===Ji.End||this.state===Ji.EndDelay}emitEvent(e,i){this._events.next({type:e,data:i})}event(e){return this._eventsObs.pipe(Ut(i=>i.type===e))}checkFairness(e){this.canCheckFairness(e)&&this.modal.open(Un.fairness,e)}canCheckFairness(e){return this.roundId!==e}reset(){this.changeState$&&this.changeState$.unsubscribe(),this.onlinePlayers$&&this.onlinePlayers$.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(ke(yi),ke(rp),ke(Yo))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var co=(()=>(function(n){n.sid="sid",n.manualSeed="msd",n.randomSeed="rsd",n.isRandomSeed="irs"}(co||(co={})),co))();let NM=(()=>{class n{constructor(e){this.storage=e,this.STORE_PREFIX="__av_gs",this.RANDOM_SEED_LEN=20,null===this.getItem(co.isRandomSeed)&&(this.isRandomSeed=!0),null===this.getItem(co.randomSeed)&&(this.randomSeed=this.getRandomSeed()),null===this.getItem(co.manualSeed)&&(this.manualSeed=this.getRandomSeed()),null===this.getItem(co.sid)&&(this.sid=0)}get isRandomSeed(){const e=this.getItem(co.isRandomSeed);return null===e||e&&"true"===e}set isRandomSeed(e){this.setItem(co.isRandomSeed,e)}get randomSeed(){return null===this.getItem(co.randomSeed)&&(this.randomSeed=this.getRandomSeed()),this.getItem(co.randomSeed)}set randomSeed(e){this.setItem(co.randomSeed,e)}get manualSeed(){return null===this.getItem(co.manualSeed)&&(this.manualSeed=this.getRandomSeed()),this.getItem(co.manualSeed).trim()}set manualSeed(e){this.sid=0,e=e.trim(),this.setItem(co.manualSeed,e)}get manualSeedWithId(){return this.manualSeed+"-"+this.sid}get clientSeed(){let e="";return this.isRandomSeed?(e=this.randomSeed,this.randomSeed=this.getRandomSeed()):(e=this.manualSeedWithId,this.sid++),e}get sid(){return parseInt(this.getItem(co.sid))}set sid(e){this.setItem(co.sid,e)}getRandomSeed(){return hk(this.RANDOM_SEED_LEN)}getItem(e){return this.storage.local.getItem(this.STORE_PREFIX+e)}setItem(e,i){this.storage.local.setItem(this.STORE_PREFIX+e,`${i}`)}}return n.\u0275fac=function(e){return new(e||n)(ke(EL))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var bi=(()=>(function(n){n.CancelBet="cancelBet",n.CashOut="cashOut",n.Bet="bet",n.CurrentBetsInfo="currentBetsInfo",n.PreviousRoundInfo="previousRoundInfo",n.BetHistory="betHistory",n.GetTopRoundsInfo="getTopRoundsInfo",n.GetTopWinsInfo="getTopWinsInfo",n.GetHugeWinsInfo="getHugeWinsInfo",n.AddChatMessage="AddChatMessage",n.SearchGifs="searchGifs",n.Like="like",n.ClaimRainWin="claimRainWin",n.RoundFairness="roundFairness",n.ServerSeed="serverSeed",n.FreeBetsArchive="freeBetsArchive",n.ChangeProfileImage="changeProfileImage",n.NotificationCallback="notificationCallback",n.FreeBetFinish="freeBetFinish",n.UpdateBalance="updateBalance",n.SetPlayerSetting="setPlayerSetting"}(bi||(bi={})),bi))(),Ei=(()=>(function(n){n.Init="ifc.init",n.Close="ifc.close",n.BackToHome="ifc.back.to.home",n.AccountHistory="ifc.account.history",n.Sound="ifc.sound",n.Music="ifc.music",n.Animation="ifc.animation",n.WinInfo="ifc.win.info",n.UpdateBalance="ifc.update.balance",n.UpdateStake="ifc.update.stake",n.StartBetTimer="ifc.start.bet.timer",n.StartRound="ifc.start.round",n.EndRound="ifc.end.round",n.MakeBet="ifc.make.bet",n.MakeBetComplete="ifc.make.bet.complete",n.CancelBet="ifc.cancel.bet",n.CancelBetComplete="ifc.cancel.bet.complete",n.Cashout="ifc.cashout",n.CashoutComplete="ifc.cashout.complete",n.InternalRealityCheck="ifc.internal.reality.check",n.Autoplay="ifc.autoplay",n.SwitchGame="ifc.switch.game"}(Ei||(Ei={})),Ei))(),fh=(()=>(function(n){n.Sound="sound",n.Music="music",n.Animation="animation",n.SecondBet="secondBet"}(fh||(fh={})),fh))(),Va=(()=>(function(n){n.HideLiveBetsAndStatistics="hideLiveBetsAndStatistics",n.HideMyActivity="hideMyActivity"}(Va||(Va={})),Va))();let iu=(()=>{class n{constructor(){this._selfInited=!1,this.isInited=!1,this._commands=new Le,this._commandsObs=this._commands.asObservable(),this.sendPostMessage=(e,i)=>{console.log("%c[ IFC EVENT ] "+e,"background: #222; color: #caa817","\n",i);try{parent.postMessage({type:e,data:i},"*")}catch(r){}}}setup(){this._selfInited||(this._selfInited=!0,Gi(window,"message").pipe(Ut(e=>Object.values(Cr).includes(e.data.cmd))).subscribe(e=>this.onMessageCommand(e.data)))}onMessageCommand(e){console.log("%c[ IFC COMMAND ] "+e.cmd,"background: #222; color: #bada55","\n",e.data),this._commands.next(e)}command(e){return this._commandsObs.pipe(Ut(i=>i.cmd===e),pe(i=>i.data))}emitEvent(e,i){!this._selfInited||this.sendPostMessage(e,i)}emitCloseEvent(e){!FT()||this.sendPostMessage(Ei.Close,e)}emitInitEvent(e){this.emitEvent(Ei.Init,{isReInit:this.isInited,balance:e.user.balance,currency:e.config.currency,sound:e.user.settings.sound,music:e.user.settings.music,animation:e.user.settings.animation,additionalOperatorData:e.additionalOperatorData}),this.isInited=!0}emitUpdateStakeEvent(e,i){this.emitEvent(Ei.UpdateStake,{id:e,amount:i})}emitEventStartRound(e){const i=[];e&&Array.isArray(e)&&e.forEach(r=>{i.push({id:r.betId,amount:r.data.bet})}),this.emitEvent(Ei.StartRound,{bets:i})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tse=(()=>{class n{constructor(e,i,r){this.connector=e,this.soundService=i,this.ifc=r,this._animationSubject=new li(null),this._soundSubject=new li(null),this._musicSubject=new li(null),this._secondBetSubject=new li(null),this.otherSubject=new Le,this.other$=this.otherSubject.asObservable(),this.other=new Map([]),this.otherSettingNames=Object.values(Va),this._isOtherEnabled=!1,this._otherKeys=[],this.saveLock=!1}init(e){this.saveLock=!1,this.sound=e.sound,this.music=e.music,this.animation=e.animation,this.secondBet=e.secondBet,"other"in e&&this.otherSettingNames.forEach(i=>{i in e.other&&this.other.set(i,e.other[i])}),this._otherKeys=Array.from(this.other.keys()),this._isOtherEnabled=!!this.other.size,this.saveLock=!0}changeOther(e,i){this.other.set(e,i),this.otherSubject.next({name:e,value:i}),this.save(e,i)}getOther(e){return this.other.get(e)||!1}get isOtherEnabled(){return this._isOtherEnabled}get otherKeys(){return this._otherKeys}get sound(){return this._soundSubject.value}set sound(e){this._soundSubject.value!==e&&(this._soundSubject.next(e),this.soundService.soundOn=e,this.ifc.emitEvent(Ei.Sound,{value:e}),this.save(fh.Sound,e))}get music(){return this._musicSubject.value}set music(e){this._musicSubject.value!==e&&(this._musicSubject.next(e),this.soundService.musicOn=e,this.ifc.emitEvent(Ei.Music,{value:e}),this.save(fh.Music,e))}get animation(){return this._animationSubject.value}set animation(e){this._animationSubject.value!==e&&(this._animationSubject.next(e),this.ifc.emitEvent(Ei.Animation,{value:e}),this.save(fh.Animation,e))}get animation$(){return this._animationSubject.asObservable()}get secondBet(){return this._secondBetSubject.value}set secondBet(e){this._secondBetSubject.value!==e&&(this._secondBetSubject.next(e),this.save(fh.SecondBet,e))}save(e,i){!1!==this.saveLock&&this.connector.request(bi.SetPlayerSetting,{settingName:e,value:i})}}return n.\u0275fac=function(e){return new(e||n)(ke(yi),ke(rp),ke(iu))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ha=(()=>{class n{constructor(e,i,r){this.seed=e,this.app=i,this.settings=r}init(e){this._id=e.userId,this._balance=e.balance,this._username=e.username,this._avatar=e.profileImage,this.settings.init(e.settings)}get id(){return this._id}get username(){return this._username}get avatar(){return this._avatar}set avatar(e){this._avatar=e}get balance(){return this._balance}get formattedBalance(){return(this._balance>=0?this._balance:0).toFixed(this.app.config.betPrecision)}set balance(e){this._balance=e}get clientSeed(){return this.seed.clientSeed}}return n.\u0275fac=function(e){return new(e||n)(ke(NM),ke(ln),ke(Tse))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ru=(()=>{class n{constructor(e,i){this.modal=e,this.connector=i,this._list=[],this._activeId=null,this._activateSource=new Le,this._updateSource=new Le,this.onActivate$=this._activateSource.asObservable(),this.onUpdate$=this._updateSource.asObservable(),this.connector.response(yn.FreeBetInfo).subscribe(r=>{r.activeFreeBetsInfo&&200===r.code&&this.update(r.activeFreeBetsInfo)}),this.connector.response(yn.FreeBetFinish,200).subscribe(()=>{this.remove(this.activeFreeBet),this.activate(null)})}setList(e,i=!0){!Array.isArray(e)||(this._list=e,i&&this.autoActivation())}autoActivation(){this.activate(this._list.length>0?this._list[0].freeBetsId:null)}get list(){return this._list}get freeBetsCount(){return Array.isArray(this._list)?this._list.length:0}get activeFreeBet(){if(null!==this._activeId&&this.freeBetsCount>0)return this._list.find(e=>e.freeBetsId===this._activeId)}withdrawFreeBet(e){return 0!==e.freeBetsLeft&&(e.freeBetsLeft--,!0)}isActive(e){return this._activeId===e}update(e){this._list[this._list.findIndex(i=>i.freeBetsId===e.freeBetsId)]=e,this._updateSource.next(e)}add(e){this._list.find(i=>i.freeBetsId===e.freeBetsId)||(this._list.push(e),this._updateSource.next(e))}remove(e){const i=this._list.findIndex(r=>r.freeBetsId===e.freeBetsId);this._list.splice(i,1),this._updateSource.next(e)}activate(e=null){e!==this._activeId&&(this._activeId=e,this._activateSource.next(e))}onClaim(){this.connector.request(bi.FreeBetFinish,{freeBetsId:this.activeFreeBet.freeBetsId})}onManage(){this.modal.open(Un.freeBets)}}return n.\u0275fac=function(e){return new(e||n)(ke(Yo),ke(yi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ou=(()=>(function(n){n[n.xs=0]="xs",n[n.sm=576]="sm",n[n.md=768]="md",n[n.lg=992]="lg",n[n.xl=1200]="xl",n[n.xl1300=1300]="xl1300",n[n.xxl=1400]="xxl"}(ou||(ou={})),ou))();function Ya(n,t=$g){return function Cse(n){return je((t,e)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(null==o||o.unsubscribe(),o=null,i){i=!1;const u=r;r=null,e.next(u)}s&&e.complete()},l=()=>{o=null,s&&e.complete()};t.subscribe(ie(e,u=>{i=!0,r=u,o||pt(n(u)).subscribe(o=ie(e,a,l))},()=>{s=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Uu(n,t))}let I_=(()=>{class n{constructor(e){this.zone=e,this.AUDIT_TIME=100,this.resizeSubject=new li(this.getSize()),this._size$=this.resizeSubject.asObservable(),this.zone.runOutsideAngular(()=>{Gi(window,"resize").pipe(pe(()=>this.getSize()),Ya(this.AUDIT_TIME)).subscribe(i=>this.zone.run(()=>this.resizeSubject.next(i)))})}get onResize$(){return this._size$}manualEmitResizeEvent(){setTimeout(()=>{this.resizeSubject.next(this.getSize())})}getSize(){return{width:window.innerWidth,height:window.innerHeight}}isSmallScreen(){return this.getSize().width>=ou.md}}return n.\u0275fac=function(e){return new(e||n)(ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CL=(()=>{class n{constructor(){this.fakeElem=null,this.container=document.body}copyToClipBoard(e){this.createFake(e),this.select(this.fakeElem),this.copyText(),this.removeFake()}select(e){e.select(),e.setSelectionRange(0,e.value.length)}copyText(){document.execCommand("copy")}createFake(e){const i="rtl"===document.documentElement.getAttribute("dir");this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[i?"right":"left"]="-9999px";const r=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=`${r}px`,this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=e,this.container.appendChild(this.fakeElem)}removeFake(){this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null),window.getSelection().removeAllRanges()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wa=(()=>{class n{constructor(e,i,r,o){this.app=e,this.window=i,this.clipBoard=r,this.bsMessage=o,this._isOpen=!1,this._top10Gifs=[],this.tagUserSubject=new Le,this._openSubject=new li(!1),this.isOpen$=this._openSubject.asObservable()}init(e){if(this.app.config.chat.isEnabled){const i=this.window.getSize().width;i>=ou.md&&(this.isOpen=!(i<ou.xl1300&&i>=ou.lg)),this.messages=function EJ(n,t){return n.slice(Math.max(n.length-t,0))}(e.chatHistory,this.app.config.chat.maxMessages),this._top10Gifs=dk(e.chatSettings.top10Gifs)}}get isOpen(){return this._isOpen}set isOpen(e){this._isOpen!==e&&(this._isOpen=e,this._openSubject.next(e),this.window.manualEmitResizeEvent())}shareBet(e){this.clipBoard.copyToClipBoard(`/share_bet:${e} `),this.bsMessage.add({value:"copied-for-chat",context:Es.success,lifeTime:1e3,closable:!1})}tagUser(e){this.tagUserSubject.next(`@${e} `)}get onTagUser(){return this.tagUserSubject.asObservable()}get top10Gifs(){return this._top10Gifs}}return n.\u0275fac=function(e){return new(e||n)(ke(ln),ke(I_),ke(CL),ke(dh))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M0=(()=>{class n{constructor(e){this.connector=e,this.inited=!1,this.isSendInitialize=!1,this.stopAutoBetSubject=new Le,this.stopAutoBet$=this.stopAutoBetSubject.asObservable(),this.sendPostMessage=(i,r)=>{try{parent.postMessage({name:i,status:r},"*")}catch(o){}},this.sendActionPostMessage=(i,r)=>{try{parent.postMessage({action:i,data:r},"*")}catch(o){}}}setup(){this.inited||(this.inited=!0,Gi(window,"message").pipe(Ut(e=>"updatebalance"===e.data.name)).subscribe(()=>{this.updateBalanceHandler()}),Gi(window,"message").pipe(Ut(e=>"stopAutospins"===e.data.name)).subscribe(()=>{this.stopAutoGameHandler()}))}stopAutoGameHandler(){this.stopAutoBetSubject.next()}updateBalanceHandler(){this.connector.request(bi.UpdateBalance,null)}sendClosed(){!this.inited||this.sendPostMessage("gameStatus","closed")}sendBackToHome(e){!this.inited||this.sendActionPostMessage("backToHome",e)}sendInitialized(){!this.inited||this.isSendInitialize||(this.isSendInitialize=!0,this.sendPostMessage("gameStatus","initialized"))}}return n.\u0275fac=function(e){return new(e||n)(ke(yi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kM=(()=>{class n{constructor(e){this.zone=e,this.windowGrecaptcha="grecaptcha",this.windowOnLoadCallbackProperty="ngx_captcha_onload_callback",this.globalDomain="recaptcha.net",this.defaultDomain="google.com"}registerCaptchaScript(e,i,r,o){if(this.grecaptchaScriptLoaded())return void this.zone.run(()=>{r(window[this.windowGrecaptcha])});window[this.windowOnLoadCallbackProperty]=()=>this.zone.run(r.bind(this,window[this.windowGrecaptcha]));const s=document.createElement("script");s.innerHTML="",s.src=this.getCaptchaScriptUrl(e,i,o),s.async=!0,s.defer=!0,document.getElementsByTagName("head")[0].appendChild(s)}cleanup(){window[this.windowOnLoadCallbackProperty]=void 0,window[this.windowGrecaptcha]=void 0}grecaptchaScriptLoaded(){return!(!window[this.windowOnLoadCallbackProperty]||!window[this.windowGrecaptcha])}getLanguageParam(e){return e?`&hl=${e}`:""}getCaptchaScriptUrl(e,i,r){return`https://www.${e?this.globalDomain:this.defaultDomain}/recaptcha/api.js?onload=${this.windowOnLoadCallbackProperty}&render=${i}${this.getLanguageParam(r)}`}}return n.\u0275fac=function(e){return new(e||n)(ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),OL=(()=>{class n{constructor(e,i){this.scriptService=e,this.zone=i}execute(e,i,r,o,s){this.executeAsPromise(e,i,o).then(r).catch(a=>s?s(a):console.error(a))}executeAsPromise(e,i,r){return new Promise((o,s)=>{this.scriptService.registerCaptchaScript(!(!r||!r.useGlobalDomain),e,u=>{this.zone.runOutsideAngular(()=>{try{u.execute(e,{action:i}).then(g=>this.zone.run(()=>o(g)))}catch(g){s(g)}})})})}}return n.\u0275fac=function(e){return new(e||n)(ke(kM),ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),Ose=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[kM,OL],imports:[[xt]]}),n})(),vl=(()=>{class n{constructor(){this.bets=[],this.cancelBetsSubject=new Le,this.cancelBets$=this.cancelBetsSubject.asObservable(),this.betSettedSubject=new Le,this.betSetted=this.betSettedSubject.asObservable()}getBets(){return this.bets}getBet(e){return this.bets.find(i=>i.betId===e)}setBet(e){this.isBetSetted||this.betSettedSubject.next(!0),this.bets=this.bets.filter(i=>i.betId!==e.betId),this.bets.push(e)}removeBet(e){this.bets=this.bets.filter(i=>i.betId!==e),this.isBetSetted||this.betSettedSubject.next(!1)}get isBetSetted(){return this.bets.length>0}restoreBets(e){e&&Array.isArray(e)&&e.forEach(i=>{this.setBet({betId:i.betId,preBet:!1,data:i})})}cancelBets(){this.cancelBetsSubject.next()}isWinCelebrated(e,i){return void 0===i||e>i}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tr(n,t,e){const i=y(n)||t||e?{next:n,error:t,complete:e}:n;return i?je((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(ie(o,l=>{var u;null===(u=i.next)||void 0===u||u.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var u;a=!1,null===(u=i.error)||void 0===u||u.call(i,l),o.error(l)},()=>{var l,u;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(u=i.finalize)||void 0===u||u.call(i)}))}):se}var ph=(()=>(function(n){n[n.Low=1]="Low",n[n.Medium=2]="Medium",n[n.High=10]="High"}(ph||(ph={})),ph))(),op=(()=>(function(n){n.Low="#34B4FF",n.Medium="#913EF8",n.High="#C017B4"}(op||(op={})),op))();class Mse{getString(t){return t<ph.Medium?op.Low:t<ph.High?op.Medium:op.High}getHex(t){return Vo(this.getString(t))}}let w0=(()=>{class n{constructor(e,i){this.connector=e,this.main=i,this._startingValue=1,this.levelColor=new Mse,this.dataSubject=new li({currentMultiplier:1}),this.data$=this.dataSubject.asObservable(),this.connector.response(yn.CurrentMultiplier,200).pipe(tr(r=>{r.currentPayout<this.dataSubject.getValue().currentMultiplier&&function dq(n,t){var e="string"==typeof t?t:void 0,i="string"!=typeof t?{captureContext:t}:void 0;(0,_r.Gd)().captureMessage(n,e,i)}("The new multiplier is less than the previous multiplier in the current round")}),Ut(r=>r.currentPayout>this.dataSubject.getValue().currentMultiplier)).subscribe(r=>{this.dataSubject.next({currentMultiplier:r.currentPayout})}),this.main.getState(Ji.Run).subscribe(()=>this.dataSubject.next({currentMultiplier:1}))}init(e){this._startingValue=e.currentMultiplier?e.currentMultiplier:1}get startingValue(){const e=this._startingValue;return this._startingValue=1,e}}return n.\u0275fac=function(e){return new(e||n)(ke(yi),ke(Vi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const{isArray:wse}=Array;function ML(n){return 1===n.length&&wse(n[0])?n[0]:n}function wL(...n){return 1===(n=ML(n)).length?pt(n[0]):new oe(function Pse(n){return t=>{let e=[];for(let i=0;e&&!t.closed&&i<n.length;i++)e.push(pt(n[i]).subscribe(ie(t,r=>{if(e){for(let o=0;o<e.length;o++)o!==i&&e[o].unsubscribe();e=null}t.next(r)})))}}(n))}function PL(n,t,e){n?Io(e,n,t):t()}function P0(...n){const t=Pi(n),e=ML(n);return e.length?new oe(i=>{let r=e.map(()=>[]),o=e.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<e.length;s++)pt(e[s]).subscribe(ie(i,a=>{if(r[s].push(a),r.every(l=>l.length)){const l=r.map(u=>u.shift());i.next(t?t(...l):l),r.some((u,g)=>!u.length&&o[g])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):Qe}function sp(...n){const t=ls(n);return je((e,i)=>{(t?ju(n,e,t):ju(n,e)).subscribe(i)})}function ap(n,t=se){return n=null!=n?n:Rse,je((e,i)=>{let r,o=!0;e.subscribe(ie(i,s=>{const a=t(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function Rse(n,t){return n===t}function BM(...n){const t=Pi(n);return je((e,i)=>{const r=n.length,o=new Array(r);let s=n.map(()=>!1),a=!1;for(let l=0;l<r;l++)pt(n[l]).subscribe(ie(i,u=>{o[l]=u,!a&&!s[l]&&(s[l]=!0,(a=s.every(se))&&(s=null))},O));e.subscribe(ie(i,l=>{if(a){const u=[l,...o];i.next(t?t(...u):u)}}))})}new oe(O);let xL=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(X(Eo),X(ri))},n.\u0275dir=mt({type:n}),n})(),gh=(()=>{class n extends xL{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Lr(n)))(i||n)}}(),n.\u0275dir=mt({type:n,features:[hi]}),n})();const Wo=new Kt("NgValueAccessor"),Nse={provide:Wo,useExisting:gn(()=>_h),multi:!0},Fse=new Kt("CompositionEventMode");let _h=(()=>{class n extends xL{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function kse(){const n=rl()?rl().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(X(Eo),X(ri),X(Fse,8))},n.\u0275dir=mt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&Me("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Zn([Nse]),hi]}),n})();function DL(n){return null!=n&&"number"==typeof n.length}const Po=new Kt("NgValidators"),Ju=new Kt("NgAsyncValidators");function A0(n){return null}function jL(n){return null!=n}function VL(n){const t=mg(n)?Ln(n):n;return hS(t),t}function HL(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function YL(n,t){return t.map(e=>e(n))}function WL(n){return n.map(t=>function Lse(n){return!n.validate}(t)?t:e=>t.validate(e))}function LM(n){return null!=n?function zL(n){if(!n)return null;const t=n.filter(jL);return 0==t.length?null:function(e){return HL(YL(e,t))}}(WL(n)):null}function UM(n){return null!=n?function $L(n){if(!n)return null;const t=n.filter(jL);return 0==t.length?null:function(e){return fL(YL(e,t).map(VL)).pipe(pe(HL))}}(WL(n)):null}function XL(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function GM(n){return n?Array.isArray(n)?n:[n]:[]}function x0(n,t){return Array.isArray(n)?n.includes(t):n===t}function JL(n,t){const e=GM(t);return GM(n).forEach(r=>{x0(e,r)||e.push(r)}),e}function QL(n,t){return GM(t).filter(e=>!x0(n,e))}class ZL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=LM(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=UM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qu extends ZL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class zo extends ZL{get formDirective(){return null}get path(){return null}}let ea=(()=>{class n extends class eU{constructor(t){this._cd=t}is(t){var e,i,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(i=this._cd)||void 0===i?void 0:i.control)||void 0===r?void 0:r[t])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(X(Qu,2))},n.\u0275dir=mt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&at("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[hi]}),n})();function N_(n,t){(function HM(n,t){const e=function KL(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(XL(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function qL(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(XL(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();N0(t._rawValidators,r),N0(t._rawAsyncValidators,r)})(n,t),t.valueAccessor.writeValue(n.value),function $se(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nU(n,t)})}(n,t),function Kse(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Xse(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nU(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function zse(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function N0(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nU(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zM(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const k_="VALID",F0="INVALID",lp="PENDING",F_="DISABLED";function XM(n){return(B0(n)?n.validators:n)||null}function oU(n){return Array.isArray(n)?LM(n):n||null}function KM(n,t){return(B0(t)?t.asyncValidators:n)||null}function sU(n){return Array.isArray(n)?UM(n):n||null}function B0(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const qM=n=>n instanceof QM;function lU(n){return(n=>n instanceof hU)(n)?n.value:n.getRawValue()}function uU(n,t){const e=qM(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new kt(1e3,"");if(!i[t])throw new kt(1001,"")}function cU(n,t){qM(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new kt(1002,"")})}class JM{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=oU(this._rawValidators),this._composedAsyncValidatorFn=sU(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===k_}get invalid(){return this.status===F0}get pending(){return this.status==lp}get disabled(){return this.status===F_}get enabled(){return this.status!==F_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=oU(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=sU(t)}addValidators(t){this.setValidators(JL(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(JL(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(QL(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(QL(t,this._rawAsyncValidators))}hasValidator(t){return x0(this._rawValidators,t)}hasAsyncValidator(t){return x0(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=lp,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=F_,this.errors=null,this._forEachChild(i=>{i.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=k_,this._forEachChild(i=>{i.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k_||this.status===lp)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F_:k_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=lp,this._hasOwnPendingAsyncValidator=!0;const e=VL(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Zse(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=qM(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof tae)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new jt,this.statusChanges=new jt}_calculateStatus(){return this._allControlsDisabled()?F_:this.errors?F0:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lp)?lp:this._anyControlsHaveStatus(F0)?F0:k_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){B0(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class hU extends JM{constructor(t=null,e,i){super(XM(e),KM(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),B0(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class QM extends JM{constructor(t,e,i){super(XM(e),KM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){cU(this,t),Object.keys(t).forEach(i=>{uU(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=lU(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class tae extends JM{constructor(t,e,i){super(XM(e),KM(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){cU(this,t),t.forEach((i,r)=>{uU(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>lU(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const rae={provide:Qu,useExisting:gn(()=>Ps)},pU=(()=>Promise.resolve(null))();let Ps=(()=>{class n extends Qu{constructor(e,i,r,o,s){super(),this._changeDetectorRef=s,this.control=new hU,this._registered=!1,this.update=new jt,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function WM(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===_h?e=o:function Qse(n){return Object.getPrototypeOf(n.constructor)===gh}(o)?i=o:r=o}),r||i||e||null}(0,o)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function YM(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){N_(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){pU.then(()=>{var i;this.control.setValue(e,{emitViewToModelChange:!1}),null===(i=this._changeDetectorRef)||void 0===i||i.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;pU.then(()=>{var o;r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_getPath(e){return this._parent?function D0(n,t){return[...t.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(X(zo,9),X(Po,10),X(Ju,10),X(Wo,10),X(Mn,8))},n.\u0275dir=mt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Zn([rae]),hi,Kr]}),n})(),_U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();const ew=new Kt("NgModelWithFormControlWarning");function CU(n){return"number"==typeof n?n:parseInt(n,10)}let mh=(()=>{class n{constructor(){this._validator=A0}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):A0,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,features:[Kr]}),n})();const wae={provide:Po,useExisting:gn(()=>L0),multi:!0};let L0=(()=>{class n extends mh{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=e=>CU(e),this.createValidator=e=>function LL(n){return t=>function qu(n){return null==n||0===n.length}(t.value)||!DL(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Lr(n)))(i||n)}}(),n.\u0275dir=mt({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ii("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Zn([wae]),hi]}),n})();const Pae={provide:Po,useExisting:gn(()=>U0),multi:!0};let U0=(()=>{class n extends mh{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>CU(e),this.createValidator=e=>function UL(n){return t=>DL(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=Lr(n)))(i||n)}}(),n.\u0275dir=mt({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,i){2&e&&ii("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Zn([Pae]),hi]}),n})(),RU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[_U]]}),n})(),ta=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[RU]}),n})(),xae=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ew,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[RU]}),n})();const DU=["*"],tle=["dialog"];function Ile(n,t){1&n&&z(0),2&n&&St(he(2).title)}function Nle(n,t){}function kle(n,t){if(1&n&&(R(0,"h3",3),ue(1,Ile,1,1,"ng-template",null,4,vs),ue(3,Nle,0,0,"ng-template",5),I()),2&n){const e=Lo(2),i=he();F(3),Q("ngTemplateOutlet",i.isTitleTemplate()?i.title:e)("ngTemplateOutletContext",i.context)}}function vh(n){return null!=n}function up(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});const NU={animation:!0,transitionTimerDelayMs:5},Jle=()=>{},{transitionTimerDelayMs:Qle}=NU,L_=new Map,$o=(n,t,e,i)=>{let r=i.context||{};const o=L_.get(t);if(o)switch(i.runningTransition){case"continue":return Qe;case"stop":n.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),L_.delete(t)}const s=e(t,i.animation,r)||Jle;if(!i.animation||"none"===window.getComputedStyle(t).transitionProperty)return n.run(()=>s()),Vt(void 0).pipe(function Kle(n){return t=>new oe(e=>t.subscribe({next:s=>n.run(()=>e.next(s)),error:s=>n.run(()=>e.error(s)),complete:()=>n.run(()=>e.complete())}))}(n));const a=new Le,l=new Le,u=a.pipe(function xse(...n){return t=>ju(t,Vt(...n))}(!0));L_.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});const g=function qle(n){const{transitionDelay:t,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(t)+parseFloat(e))}(t);return n.runOutsideAngular(()=>{const E=Gi(t,"transitionend").pipe(qi(u),Ut(({target:P})=>P===t));wL(Uu(g+Qle).pipe(qi(u)),E,l).pipe(qi(u)).subscribe(()=>{L_.delete(t),n.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};let U_=(()=>{class n{constructor(){this.animation=NU.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),jU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),HU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),$U=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();var Yr=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Yr||(Yr={})),Yr))();const V0=(n,t)=>!!t&&t.some(e=>e.contains(n)),XU=(n,t)=>!t||null!=function Xle(n,t){return t&&void 0!==n.closest?n.closest(t):null}(n,t),_ue="undefined"!=typeof navigator&&!!navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));function KU(n,t,e,i,r,o,s,a){e&&n.runOutsideAngular((n=>_ue?()=>setTimeout(()=>n(),100):n)(()=>{const u=Gi(t,"keydown").pipe(qi(r),Ut(w=>w.which===Yr.Escape),tr(w=>w.preventDefault())),g=Gi(t,"mousedown").pipe(pe(w=>{const P=w.target;return 2!==w.button&&!V0(P,s)&&("inside"===e?V0(P,o)&&XU(P,a):"outside"===e?!V0(P,o):XU(P,a)||!V0(P,o))}),qi(r)),E=Gi(t,"mouseup").pipe(BM(g),Ut(([w,P])=>P),WT(0),qi(r));wL([u.pipe(pe(w=>0)),E.pipe(pe(w=>1))]).subscribe(w=>n.run(()=>i(w)))}))}const qU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function JU(n){const t=Array.from(n.querySelectorAll(qU)).filter(e=>-1!==e.tabIndex);return[t[0],t[t.length-1]]}const bue=/\s+/,QU=new class yue{getAllStyles(t){return window.getComputedStyle(t)}getStyle(t,e){return this.getAllStyles(t)[e]}isStaticPositioned(t){return"static"===(this.getStyle(t,"position")||"static")}offsetParent(t){let e=t.offsetParent||document.documentElement;for(;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement}position(t,e=!0){let i,r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(t,"position"))i=t.getBoundingClientRect(),i={top:i.top,bottom:i.bottom,left:i.left,right:i.right,height:i.height,width:i.width};else{const o=this.offsetParent(t);i=this.offset(t,!1),o!==document.documentElement&&(r=this.offset(o,!1)),r.top+=o.clientTop,r.left+=o.clientLeft}return i.top-=r.top,i.bottom-=r.top,i.left-=r.left,i.right-=r.left,e&&(i.top=Math.round(i.top),i.bottom=Math.round(i.bottom),i.left=Math.round(i.left),i.right=Math.round(i.right)),i}offset(t,e=!0){const i=t.getBoundingClientRect(),r_top=window.scrollY-document.documentElement.clientTop,r_left=window.scrollX-document.documentElement.clientLeft;let o={height:i.height||t.offsetHeight,width:i.width||t.offsetWidth,top:i.top+r_top,bottom:i.bottom+r_top,left:i.left+r_left,right:i.right+r_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}positionElements(t,e,i,r){const[o="top",s="center"]=i.split("-"),a=r?this.offset(t,!1):this.position(t,!1),l=this.getAllStyles(e),u=parseFloat(l.marginTop),g=parseFloat(l.marginBottom),E=parseFloat(l.marginLeft),w=parseFloat(l.marginRight);let P=0,A=0;switch(o){case"top":P=a.top-(e.offsetHeight+u+g);break;case"bottom":P=a.top+a.height;break;case"left":A=a.left-(e.offsetWidth+E+w);break;case"right":A=a.left+a.width}switch(s){case"top":P=a.top;break;case"bottom":P=a.top+a.height-e.offsetHeight;break;case"left":A=a.left;break;case"right":A=a.left+a.width-e.offsetWidth;break;case"center":"top"===o||"bottom"===o?A=a.left+a.width/2-e.offsetWidth/2:P=a.top+a.height/2-e.offsetHeight/2}e.style.transform=`translate(${Math.round(A)}px, ${Math.round(P)}px)`;const D=e.getBoundingClientRect(),B=document.documentElement,Y=window.innerHeight||B.clientHeight,K=window.innerWidth||B.clientWidth;return D.left>=0&&D.top>=0&&D.right<=K&&D.bottom<=Y}};function ZU(n,t,e,i,r){let o=Array.isArray(e)?e:e.split(bue);const s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],a=t.classList,l=P=>{const[A,D]=P.split("-"),B=[];return r&&(B.push(`${r}-${A}`),D&&B.push(`${r}-${A}-${D}`),B.forEach(Y=>{a.add(Y)})),B};r&&s.forEach(P=>{a.remove(`${r}-${P}`)});let u=o.findIndex(P=>"auto"===P);u>=0&&s.forEach(function(P){null==o.find(A=>-1!==A.search("^"+P))&&o.splice(u++,1,P)});const g=t.style;g.position="absolute",g.top="0",g.left="0",g["will-change"]="transform";let E=null,w=!1;for(E of o){let P=l(E);if(QU.positionElements(n,t,E,i)){w=!0;break}r&&P.forEach(A=>{a.remove(A)})}return w||(E=o[0],l(E),QU.positionElements(n,t,E,i)),E}new Date(1882,10,12),new Date(2174,10,25);let o5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,ta]]}),n})(),Aue=(()=>{class n{constructor(){this.autoClose=!0,this.placement=["bottom-left","bottom-right","top-left","top-right"]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),s5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,selectors:[["",8,"navbar"]]}),n})(),gw=(()=>{class n{constructor(e){this.elementRef=e,this._disabled=!1}set disabled(e){this._disabled=""===e||!0===e}get disabled(){return this._disabled}}return n.\u0275fac=function(e){return new(e||n)(X(ri))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:2,hostBindings:function(e,i){2&e&&at("disabled",i.disabled)},inputs:{disabled:"disabled"}}),n})(),z0=(()=>{class n{constructor(e,i){this.dropdown=e,this.placement="bottom",this.isOpen=!1,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(X(gn(()=>hp)),X(ri))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(e,i,r){if(1&e&&Er(r,gw,4),2&e){let o;Kn(o=qn())&&(i.menuItems=o)}},hostVars:5,hostBindings:function(e,i){1&e&&Me("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Enter",function(o){return i.dropdown.onKeyDown(o)})("keydown.Space",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&(ii("x-placement",i.placement),at("dropdown-menu",!0)("show",i.dropdown.isOpen()))}}),n})(),$0=(()=>{class n{constructor(e,i){this.dropdown=e,this.nativeElement=i.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(X(gn(()=>hp)),X(ri))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){2&e&&ii("aria-expanded",i.dropdown.isOpen())}}),n})(),_w=(()=>{class n extends $0{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(X(gn(()=>hp)),X(ri))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:1,hostBindings:function(e,i){1&e&&Me("click",function(){return i.dropdown.toggle()})("keydown.ArrowUp",function(o){return i.dropdown.onKeyDown(o)})("keydown.ArrowDown",function(o){return i.dropdown.onKeyDown(o)})("keydown.Home",function(o){return i.dropdown.onKeyDown(o)})("keydown.End",function(o){return i.dropdown.onKeyDown(o)})("keydown.Tab",function(o){return i.dropdown.onKeyDown(o)})("keydown.Shift.Tab",function(o){return i.dropdown.onKeyDown(o)}),2&e&&ii("aria-expanded",i.dropdown.isOpen())},features:[Zn([{provide:$0,useExisting:gn(()=>n)}]),hi]}),n})(),hp=(()=>{class n{constructor(e,i,r,o,s,a,l){this._changeDetector=e,this._document=r,this._ngZone=o,this._elementRef=s,this._renderer=a,this._closed$=new Le,this._bodyContainer=null,this._open=!1,this.openChange=new jt,this.placement=i.placement,this.container=i.container,this.autoClose=i.autoClose,this.display=l?"static":"dynamic",this._zoneSubscription=o.onStable.subscribe(()=>{this._positionMenu()})}ngAfterContentInit(){this._ngZone.onStable.pipe($n(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(e){if(e.container&&this._open&&this._applyContainer(this.container),e.placement&&!e.placement.isFirstChange&&this._applyPlacementClasses(),e.dropdownClass){const{currentValue:i,previousValue:r}=e.dropdownClass;this._applyCustomDropdownClass(i,r)}}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&this._anchor.nativeElement.focus())}_setCloseHandlers(){KU(this._ngZone,this._document,this.autoClose,e=>{this.close(),0===e&&this._anchor.nativeElement.focus()},this._closed$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._closed$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this._resetContainer(),this._closed$.next(),this._zoneSubscription.unsubscribe()}onKeyDown(e){const i=e.which,r=this._getMenuElements();let o=-1,s=null;const a=this._isEventFromToggle(e);if(!a&&r.length&&r.forEach((l,u)=>{l.contains(e.target)&&(s=l),l===this._document.activeElement&&(o=u)}),i!==Yr.Space&&i!==Yr.Enter){if(i!==Yr.Tab){if(a||s){if(this.open(),r.length){switch(i){case Yr.ArrowDown:o=Math.min(o+1,r.length-1);break;case Yr.ArrowUp:if(this._isDropup()&&-1===o){o=r.length-1;break}o=Math.max(o-1,0);break;case Yr.Home:o=0;break;case Yr.End:o=r.length-1}r[o].focus()}e.preventDefault()}}else if(e.target&&this.isOpen()&&this.autoClose){if(this._anchor.nativeElement===e.target)return void("body"!==this.container||e.shiftKey?e.shiftKey&&this.close():(this._renderer.setAttribute(this._menu.nativeElement,"tabindex","0"),this._menu.nativeElement.focus(),this._renderer.removeAttribute(this._menu.nativeElement,"tabindex")));if("body"===this.container){const l=this._menu.nativeElement.querySelectorAll(qU);e.shiftKey&&e.target===l[0]?(this._anchor.nativeElement.focus(),e.preventDefault()):!e.shiftKey&&e.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else Gi(e.target,"focusout").pipe($n(1)).subscribe(({relatedTarget:l})=>{this._elementRef.nativeElement.contains(l)||this.close()})}}else s&&(!0===this.autoClose||"inside"===this.autoClose)&&Gi(s,"click").pipe($n(1)).subscribe(()=>this.close())}_isDropup(){return this._elementRef.nativeElement.classList.contains("dropup")}_isEventFromToggle(e){return this._anchor.nativeElement.contains(e.target)}_getMenuElements(){const e=this._menu;return null==e?[]:e.menuItems.filter(i=>!i.disabled).map(i=>i.elementRef.nativeElement)}_positionMenu(){const e=this._menu;this.isOpen()&&e&&this._applyPlacementClasses("dynamic"===this.display?ZU(this._anchor.nativeElement,this._bodyContainer||this._menu.nativeElement,this.placement,"body"===this.container):this._getFirstPlacement(this.placement))}_getFirstPlacement(e){return Array.isArray(e)?e[0]:e.split(" ")[0]}_resetContainer(){const e=this._renderer;if(this._menu){const r=this._menu.nativeElement;e.appendChild(this._elementRef.nativeElement,r),e.removeStyle(r,"position"),e.removeStyle(r,"transform")}this._bodyContainer&&(e.removeChild(this._document.body,this._bodyContainer),this._bodyContainer=null)}_applyContainer(e=null){if(this._resetContainer(),"body"===e){const i=this._renderer,r=this._menu.nativeElement,o=this._bodyContainer=this._bodyContainer||i.createElement("div");i.setStyle(o,"position","absolute"),i.setStyle(r,"position","static"),i.setStyle(o,"z-index","1050"),i.appendChild(o,r),i.appendChild(this._document.body,o)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(e,i){const r="body"===this.container?this._bodyContainer:this._elementRef.nativeElement;r&&(i&&this._renderer.removeClass(r,i),e&&this._renderer.addClass(r,e))}_applyPlacementClasses(e){const i=this._menu;if(i){e||(e=this._getFirstPlacement(this.placement));const r=this._renderer,o=this._elementRef.nativeElement;r.removeClass(o,"dropup"),r.removeClass(o,"dropdown"),i.placement="static"===this.display?null:e;const s=-1!==e.search("^top")?"dropup":"dropdown";r.addClass(o,s);const a=this._bodyContainer;a&&(r.removeClass(a,"dropup"),r.removeClass(a,"dropdown"),r.addClass(a,s))}}}return n.\u0275fac=function(e){return new(e||n)(X(Mn),X(Aue),X(Di),X(On),X(ri),X(Eo),X(s5,8))},n.\u0275dir=mt({type:n,selectors:[["","ngbDropdown",""]],contentQueries:function(e,i,r){if(1&e&&(Er(r,z0,5),Er(r,$0,5)),2&e){let o;Kn(o=qn())&&(i._menu=o.first),Kn(o=qn())&&(i._anchor=o.first)}},hostVars:2,hostBindings:function(e,i){2&e&&at("show",i.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:["open","_open"],placement:"placement",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],features:[Kr]}),n})(),a5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();class Sh{constructor(t,e,i){this.nodes=t,this.viewRef=e,this.componentRef=i}}class xue{constructor(t,e,i,r,o,s){this._type=t,this._injector=e,this._viewContainerRef=i,this._renderer=r,this._ngZone=o,this._applicationRef=s,this._windowRef=null,this._contentRef=null}open(t,e,i=!1){this._windowRef||(this._contentRef=this._getContentRef(t,e),this._windowRef=this._viewContainerRef.createComponent(this._type,{index:this._viewContainerRef.length,injector:this._injector,projectableNodes:this._contentRef.nodes}));const{nativeElement:r}=this._windowRef.location,o=this._ngZone.onStable.pipe($n(1),wi(()=>$o(this._ngZone,r,({classList:s})=>s.add("show"),{animation:i,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:o}}close(t=!1){return this._windowRef?$o(this._ngZone,this._windowRef.location.nativeElement,({classList:e})=>e.remove("show"),{animation:t,runningTransition:"stop"}).pipe(tr(()=>{var e;this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),(null===(e=this._contentRef)||void 0===e?void 0:e.viewRef)&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Vt(void 0)}_getContentRef(t,e){if(t){if(t instanceof Ui){const i=t.createEmbeddedView(e);return this._applicationRef.attachView(i),new Sh([i.rootNodes],i)}return new Sh([[this._renderer.createText(`${t}`)]])}return new Sh([])}}let Rue=(()=>{class n{constructor(e,i){this._el=e,this._zone=i}ngOnInit(){this._zone.onStable.asObservable().pipe($n(1)).subscribe(()=>{$o(this._zone,this._el.nativeElement,(e,i)=>{i&&up(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $o(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(X(ri),X(On))},n.\u0275cmp=gt({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(e,i){2&e&&(xu("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),at("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})();class Wr{close(t){}dismiss(t){}}class Due{constructor(t,e,i,r){this._windowCmptRef=t,this._contentRef=e,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new Le,this._dismissed=new Le,this._hidden=new Le,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(qi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(qi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function $le(n){return n&&n.then}(e)?!1!==e&&this._dismiss(t):e.then(i=>{!1!==i&&this._dismiss(t)},()=>{})}else this._dismiss(t)}_removeModalElements(){const t=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Vt(void 0);t.subscribe(()=>{const{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),P0(t,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var H_=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(H_||(H_={})),H_))();let Iue=(()=>{class n{constructor(e,i,r){this._document=e,this._elRef=i,this._zone=r,this._closed$=new Le,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new jt,this.shown=new Le,this.hidden=new Le}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe($n(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,i={animation:this.animation,runningTransition:"stop"},s=P0($o(this._zone,e,()=>e.classList.remove("show"),i),$o(this._zone,this._dialogEl.nativeElement,()=>{},i));return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){const e={animation:this.animation,runningTransition:"continue"},i=$o(this._zone,this._elRef.nativeElement,(o,s)=>{s&&up(o),o.classList.add("show")},e);P0(i,$o(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Gi(e,"keydown").pipe(qi(this._closed$),Ut(r=>r.which===Yr.Escape)).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(H_.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let i=!1;Gi(this._dialogEl.nativeElement,"mousedown").pipe(qi(this._closed$),tr(()=>i=!1),Zs(()=>Gi(e,"mouseup").pipe(qi(this._closed$),$n(1))),Ut(({target:r})=>e===r)).subscribe(()=>{i=!0}),Gi(e,"click").pipe(qi(this._closed$)).subscribe(({target:r})=>{e===r&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!i&&this._zone.run(()=>this.dismiss(H_.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const i=e.querySelector("[ngbAutofocus]"),r=JU(e)[0];(i||r||e).focus()}}_restoreFocus(){const e=this._document.body,i=this._elWithFocus;let r;r=i&&i.focus&&e.contains(i)?i:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$o(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(X(Di),X(ri),X(On))},n.\u0275cmp=gt({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,i){if(1&e&&Jo(tle,7),2&e){let r;Kn(r=qn())&&(i._dialogEl=r.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,i){2&e&&(ii("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),xu("modal d-block"+(i.windowClass?" "+i.windowClass:"")),at("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:DU,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,i){1&e&&(vg(),R(0,"div",0,1)(2,"div",2),yg(3),I()()),2&e&&xu("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})();const Nue=()=>{};let kue=(()=>{class n{constructor(e){this._document=e}compensate(){const e=this._getWidth();return this._isPresent(e)?this._adjustBody(e):Nue}_adjustBody(e){const i=this._document.body,r=i.style.paddingRight,o=parseFloat(window.getComputedStyle(i)["padding-right"]);return i.style["padding-right"]=`${o+e}px`,()=>i.style["padding-right"]=r}_isPresent(e){const i=this._document.body.getBoundingClientRect();return window.innerWidth-(i.left+i.right)>=e-.1*e}_getWidth(){const e=this._document.createElement("div");e.className="modal-scrollbar-measure";const i=this._document.body;i.appendChild(e);const r=e.getBoundingClientRect().width-e.clientWidth;return i.removeChild(e),r}}return n.\u0275fac=function(e){return new(e||n)(ke(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fue=(()=>{class n{constructor(e,i,r,o,s,a){this._applicationRef=e,this._injector=i,this._document=r,this._scrollBar=o,this._rendererFactory=s,this._ngZone=a,this._activeWindowCmptHasChanged=new Le,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new jt,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const l=this._windowCmpts[this._windowCmpts.length-1];((n,t,e,i=!1)=>{this._ngZone.runOutsideAngular(()=>{const r=Gi(t,"focusin").pipe(qi(e),pe(o=>o.target));Gi(t,"keydown").pipe(qi(e),Ut(o=>o.which===Yr.Tab),BM(r)).subscribe(([o,s])=>{const[a,l]=JU(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&Gi(t,"click").pipe(qi(e),BM(r),pe(o=>o[1])).subscribe(o=>o.focus())})})(0,l.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(l.location.nativeElement)}})}open(e,i,r,o){const s=o.container instanceof HTMLElement?o.container:vh(o.container)?this._document.querySelector(o.container):this._document.body,a=this._rendererFactory.createRenderer(null,null),l=this._scrollBar.compensate(),u=()=>{this._modalRefs.length||(a.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!s)throw new Error(`The specified modal container "${o.container||"body"}" was not found in the DOM.`);const g=new Wr,E=this._getContentRef(e,o.injector||i,r,g,o);let w=!1!==o.backdrop?this._attachBackdrop(e,s):void 0,P=this._attachWindowComponent(e,s,E),A=new Due(P,E,w,o.beforeDismiss);return this._registerModalRef(A),this._registerWindowCmpt(P),A.result.then(l,l),A.result.then(u,u),g.close=D=>{A.close(D)},g.dismiss=D=>{A.dismiss(D)},this._applyWindowOptions(P.instance,o),1===this._modalRefs.length&&a.addClass(this._document.body,"modal-open"),w&&w.instance&&(this._applyBackdropOptions(w.instance,o),w.changeDetectorRef.detectChanges()),P.changeDetectorRef.detectChanges(),A}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(i=>i.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,i){let o=e.resolveComponentFactory(Rue).create(this._injector);return this._applicationRef.attachView(o.hostView),i.appendChild(o.location.nativeElement),o}_attachWindowComponent(e,i,r){let s=e.resolveComponentFactory(Iue).create(this._injector,r.nodes);return this._applicationRef.attachView(s.hostView),i.appendChild(s.location.nativeElement),s}_applyWindowOptions(e,i){this._windowAttributes.forEach(r=>{vh(i[r])&&(e[r]=i[r])})}_applyBackdropOptions(e,i){this._backdropAttributes.forEach(r=>{vh(i[r])&&(e[r]=i[r])})}_getContentRef(e,i,r,o,s){return r?r instanceof Ui?this._createFromTemplateRef(r,o):function IU(n){return"string"==typeof n}(r)?this._createFromString(r):this._createFromComponent(e,i,r,o,s):new Sh([])}_createFromTemplateRef(e,i){const o=e.createEmbeddedView({$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}});return this._applicationRef.attachView(o),new Sh([o.rootNodes],o)}_createFromString(e){const i=this._document.createTextNode(`${e}`);return new Sh([[i]])}_createFromComponent(e,i,r,o,s){const a=e.resolveComponentFactory(r),l=br.create({providers:[{provide:Wr,useValue:o}],parent:i}),u=a.create(l),g=u.location.nativeElement;return s.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(u.hostView),new Sh([[g]],u.hostView,u)}_setAriaHidden(e){const i=e.parentElement;i&&e!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==e&&"SCRIPT"!==r.nodeName&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,i)=>{e?i.setAttribute("aria-hidden",e):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const i=()=>{const r=this._modalRefs.indexOf(e);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(i,i)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const i=this._windowCmpts.indexOf(e);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(ke(Rg),ke(br),ke(Di),ke(kue),ke(gf),ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bue=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(ke(U_))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),X0=(()=>{class n{constructor(e,i,r,o){this._moduleCFR=e,this._injector=i,this._modalStack=r,this._config=o}open(e,i={}){const r=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._moduleCFR,this._injector,e,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(ke(ff),ke(br),ke(Fue),ke(Bue))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),l5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[X0]}),n})(),d5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),b5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})();class Hue{constructor(t,e){this.open=t,this.close=e,e||(this.close=t)}isManual(){return"manual"===this.open||"manual"===this.close}}const Yue={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]},E5=n=>n>0?WT(n):t=>t;let Kue=(()=>{class n{constructor(e){this._ngbConfig=e,this.autoClose=!0,this.placement="auto",this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(ke(U_))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),que=0,Jue=(()=>{class n{isTitleTemplate(){return this.title instanceof Ui}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(e,i){2&e&&(Ru("id",i.id),xu("popover"+(i.popoverClass?" "+i.popoverClass:"")),at("fade",i.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},ngContentSelectors:DU,decls:4,vars:1,consts:[[1,"arrow"],["class","popover-header",4,"ngIf"],[1,"popover-body"],[1,"popover-header"],["simpleTitle",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){1&e&&(vg(),Ae(0,"div",0),ue(1,kle,4,2,"h3",1),R(2,"div",2),yg(3),I()),2&e&&(F(1),Q("ngIf",i.title))},directives:[Zt,bf],styles:["ngb-popover-window.bs-popover-top>.arrow,ngb-popover-window.bs-popover-bottom>.arrow{left:50%;margin-left:-.5rem}ngb-popover-window.bs-popover-top-left>.arrow,ngb-popover-window.bs-popover-bottom-left>.arrow{left:2em}ngb-popover-window.bs-popover-top-right>.arrow,ngb-popover-window.bs-popover-bottom-right>.arrow{left:auto;right:2em}ngb-popover-window.bs-popover-left>.arrow,ngb-popover-window.bs-popover-right>.arrow{top:50%;margin-top:-.5rem}ngb-popover-window.bs-popover-left-top>.arrow,ngb-popover-window.bs-popover-right-top>.arrow{top:.7em}ngb-popover-window.bs-popover-left-bottom>.arrow,ngb-popover-window.bs-popover-right-bottom>.arrow{top:auto;bottom:.7em}\n"],encapsulation:2,changeDetection:0}),n})(),Que=(()=>{class n{constructor(e,i,r,o,s,a,l,u,g){this._elementRef=e,this._renderer=i,this._ngZone=a,this._document=l,this._changeDetector=u,this.shown=new jt,this.hidden=new jt,this._ngbPopoverWindowId="ngb-popover-"+que++,this._windowRef=null,this.animation=s.animation,this.autoClose=s.autoClose,this.placement=s.placement,this.triggers=s.triggers,this.container=s.container,this.disablePopover=s.disablePopover,this.popoverClass=s.popoverClass,this.openDelay=s.openDelay,this.closeDelay=s.closeDelay,this._popupService=new xue(Jue,r,o,i,this._ngZone,g),this._zoneSubscription=a.onStable.subscribe(()=>{this._windowRef&&ZU(this._elementRef.nativeElement,this._windowRef.location.nativeElement,this.placement,"body"===this.container,"bs-popover")})}_isDisabled(){return!(!this.disablePopover&&(this.ngbPopover||this.popoverTitle))}open(e){if(!this._windowRef&&!this._isDisabled()){const{windowRef:i,transition$:r}=this._popupService.open(this.ngbPopover,e,this.animation);this._windowRef=i,this._windowRef.instance.animation=this.animation,this._windowRef.instance.title=this.popoverTitle,this._windowRef.instance.context=e,this._windowRef.instance.popoverClass=this.popoverClass,this._windowRef.instance.id=this._ngbPopoverWindowId,this._renderer.setAttribute(this._elementRef.nativeElement,"aria-describedby",this._ngbPopoverWindowId),"body"===this.container&&this._document.querySelector(this.container).appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),KU(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),r.subscribe(()=>this.shown.emit())}}close(){this._windowRef&&(this._renderer.removeAttribute(this._elementRef.nativeElement,"aria-describedby"),this._popupService.close(this.animation).subscribe(()=>{this._windowRef=null,this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return null!=this._windowRef}ngOnInit(){this._unregisterListenersFn=function Xue(n,t,e,i,r,o,s=0,a=0){const l=function Wue(n,t=Yue){const e=(n||"").trim();if(0===e.length)return[];const i=e.split(/\s+/).map(o=>o.split(":")).map(o=>{let s=t[o[0]]||o;return new Hue(s[0],s[1])}),r=i.filter(o=>o.isManual());if(r.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(1===r.length&&i.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return i}(e);if(1===l.length&&l[0].isManual())return()=>{};const u=function zue(n,t,e,i){return new oe(r=>{const o=[],s=()=>r.next(!0),a=()=>r.next(!1),l=()=>r.next(!i());return e.forEach(u=>{u.open===u.close?o.push(n.listen(t,u.open,l)):o.push(n.listen(t,u.open,s),n.listen(t,u.close,a))}),()=>{o.forEach(u=>u())}})}(n,t,l,i).pipe(function $ue(n,t,e){return i=>{let r=null;const o=i.pipe(pe(l=>({open:l})),Ut(l=>{const u=e();return u===l.open||r&&r.open!==u?(r&&r.open!==l.open&&(r=null),!1):(r=l,!0)}),go());return fi(o.pipe(Ut(l=>l.open),E5(n)),o.pipe(Ut(l=>!l.open),E5(t))).pipe(Ut(l=>l===r&&(r=null,l.open!==e())),pe(l=>l.open))}}(s,a,i)).subscribe(g=>g?r():o());return()=>u.unsubscribe()}(this._renderer,this._elementRef.nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:e,popoverTitle:i,disablePopover:r,popoverClass:o}){o&&this.isOpen()&&(this._windowRef.instance.popoverClass=o.currentValue),(e||i||r)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(),this._unregisterListenersFn&&this._unregisterListenersFn(),this._zoneSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(X(ri),X(Eo),X(br),X(ms),X(Kue),X(On),X(Di),X(Mn),X(Rg))},n.\u0275dir=mt({type:n,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",triggers:"triggers",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],features:[Kr]}),n})(),S5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),T5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),C5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),M5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),w5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();new Kt("live announcer delay",{providedIn:"root",factory:function tce(){return 100}});let P5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})();const nce=[GU,jU,HU,zU,$U,o5,a5,l5,d5,b5,S5,T5,C5,O5,M5,w5,P5];let dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[nce,GU,jU,HU,zU,$U,o5,a5,l5,d5,b5,S5,T5,C5,O5,M5,w5,P5]}),n})(),A5=(()=>{class n{constructor(e,i){this.elRef=e,this.multiplierService=i}ngAfterViewInit(){this.elRef.nativeElement.style.color=this.multiplierService.levelColor.getString(this.elRef.nativeElement.textContent.replace("x",""))}}return n.\u0275fac=function(e){return new(e||n)(X(ri),X(w0))},n.\u0275dir=mt({type:n,selectors:[["","appColoredMultiplier",""]]}),n})();const ice=function(n,t){return{padding:n,borderRadius:t}};let bl=(()=>{class n{constructor(){this.padding="2px 11px",this.borderRadius="11px"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-bubble-multiplier"]],inputs:{multiplier:"multiplier",padding:"padding",borderRadius:"borderRadius"},decls:2,vars:5,consts:[["appColoredMultiplier","",1,"bubble-multiplier","font-weight-bold",3,"ngStyle"]],template:function(e,i){1&e&&(R(0,"div",0),z(1),I()),2&e&&(Q("ngStyle",Aa(2,ice,i.padding,i.borderRadius)),F(1),Pe(" ",i.multiplier.toFixed(2),"x\n"))},directives:[A5,Bg],styles:[".bubble-multiplier[_ngcontent-%COMP%]{background-color:#00000080}"]}),n})(),Th=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-loader"]],inputs:{size:"size"},decls:1,vars:1,consts:[[1,"loader",3,"ngClass"]],template:function(e,i){1&e&&Ae(0,"div",0),2&e&&Q("ngClass",i.size)},directives:[yf],styles:[".loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:after{border-radius:50%;width:30px;height:30px}.loader[_ngcontent-%COMP%]{margin:60px auto;font-size:10px;position:relative;text-indent:-9999em;border-top:3px solid rgba(208,2,27,.2);border-right:3px solid rgba(208,2,27,.2);border-bottom:3px solid rgba(208,2,27,.2);border-left:3px solid #d0021b;transform:translateZ(0);-webkit-animation:load8 1.1s infinite linear;animation:load8 1.1s infinite linear}.loader.small[_ngcontent-%COMP%]{margin:5px auto}@-webkit-keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes load8{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]}),n})();function rce(n,t){if(1&n&&(R(0,"div",12)(1,"div",13),Ae(2,"app-bubble-multiplier",14),I(),R(3,"div",15),z(4),Ce(5,"date"),I()()),2&n){const e=he();F(2),Q("multiplier",e.fairnessData.result),F(2),Pe(" ",oi(5,2,e.fairnessData.roundStartDate,"HH:mm:ss")," ")}}const oce=function(n){return{value:n}};function sce(n,t){if(1&n&&(R(0,"div",23)(1,"div",36)(2,"span",37),z(3," shared.modals.fairness.player "),I(),R(4,"div",38),Ae(5,"img",39),z(6),I()(),R(7,"div",40)(8,"span",21),z(9,"shared.modals.fairness.seed"),I(),R(10,"div",41),z(11),I()()()),2&n){const e=he(),i=e.index,r=e.$implicit,o=he(2);F(2),Q("translateParams",Pa(5,oce,i+1)),F(3),Q("src",o.getAvatar(r),so)("alt",o.getAvatar(r)),F(1),Pe(" ",o.app.getFormattedUsername(r.username)," "),F(5),Pe(" ",r.seed," ")}}function ace(n,t){if(1&n&&(R(0,"div"),ue(1,sce,12,7,"div",35),I()),2&n){const e=t.$implicit;he();const i=Lo(22);F(1),Q("ngIf",e)("ngIfElse",i)}}function lce(n,t){1&n&&(R(0,"div",42),z(1," shared.modals.fairness.not enough "),I())}function uce(n,t){if(1&n){const e=Ct();R(0,"div",16)(1,"div",17)(2,"div",18),Ae(3,"div",19),R(4,"div",20)(5,"span",21),z(6,"shared.modals.fairness.server seed"),I(),R(7,"div",22),z(8,"shared.modals.fairness.server tip"),I()()(),R(9,"div",23)(10,"input",24,25),Me("ngModelChange",function(r){return ft(e),he().fairnessData.serverSeed=r})("click",function(){ft(e);const r=Lo(11);return he().onSelect(r)}),I()()(),R(12,"div",26)(13,"div",18),Ae(14,"div",27),R(15,"div",20)(16,"span",21),z(17,"shared.modals.fairness.client seed"),I(),R(18,"div",22),z(19,"shared.modals.fairness.client tip"),I()()(),ue(20,ace,2,2,"div",28),ue(21,lce,2,0,"ng-template",null,29,vs),I(),R(23,"div",30)(24,"div",18),Ae(25,"div",31),R(26,"div",20)(27,"span",21),z(28,"shared.modals.fairness.hash"),I(),R(29,"div",22),z(30,"shared.modals.fairness.hash tip"),I()()(),R(31,"div",23)(32,"input",24,32),Me("ngModelChange",function(r){return ft(e),he().fairnessData.seedSHA256=r})("click",function(){ft(e);const r=Lo(33);return he().onSelect(r)}),I()()(),R(34,"div",33)(35,"div",18)(36,"span",21),z(37,"shared.modals.fairness.hex"),I(),R(38,"span",21),z(39,"shared.modals.fairness.decimal"),I(),R(40,"span",21),z(41,"shared.modals.fairness.result"),I()(),R(42,"div",23)(43,"span"),z(44),I(),R(45,"span"),z(46),I(),R(47,"span"),z(48),I()()(),R(49,"div",34)(50,"div",18)(51,"span",21),z(52,"shared.modals.fairness.hex"),I()(),R(53,"div",23)(54,"span"),z(55),I()(),R(56,"div",18)(57,"span",21),z(58,"shared.modals.fairness.decimal"),I()(),R(59,"div",23)(60,"span"),z(61),I()(),R(62,"div",18)(63,"span",21),z(64,"shared.modals.fairness.result"),I()(),R(65,"div",23)(66,"span"),z(67),I()()()()}if(2&n){const e=he();F(10),Q("readonly",!0)("ngModel",e.fairnessData.serverSeed),F(10),Q("ngForOf",e.players),F(12),Q("readonly",!0)("ngModel",e.fairnessData.seedSHA256),F(12),St(e.fairnessData.partSeedHexNumber),F(2),St(e.fairnessData.partSeedDecimalNumber),F(2),St(e.fairnessData.result),F(7),St(e.fairnessData.partSeedHexNumber),F(6),St(e.fairnessData.partSeedDecimalNumber),F(6),St(e.fairnessData.result)}}function cce(n,t){1&n&&(R(0,"div"),Ae(1,"app-loader"),I())}let Ch=class{constructor(t,e,i,r){this.activeModal=t,this.app=e,this.modal=i,this.connector=r,this.loaded=!1}ngOnInit(){this.connector.request(bi.RoundFairness,{roundId:this.betId}),this.connector.response(yn.RoundFairness,200).pipe(Tt(this)).subscribe(t=>{this.fairnessData=t.fairness,this.loaded=!0})}onPFModalOpen(){this.modal.open(Un.whatIsPf)}onSelect(t){t.select()}get players(){const t=this.fairnessData.playerSeeds;for(let e=t.length;e<3;e++)t.push(null);return t}getAvatar(t){return Wi_avatarPath+t.profileImage+`?v=${Wi_version}`}ngOnDestroy(){this.loaded=!1}};Ch.\u0275fac=function(t){return new(t||Ch)(X(Wr),X(ln),X(Yo),X(yi))},Ch.\u0275cmp=gt({type:Ch,selectors:[["app-fairness"]],decls:17,vars:7,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["class","header__info",4,"ngIf"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content-wrapper"],["class","content",4,"ngIf"],[4,"ngIf"],[1,"modal-footer"],["translate","",1,"help"],["translate","",3,"click"],[1,"header__info"],[1,"bubble-multiplier-wrapper"],[3,"multiplier"],[1,"header__info-time"],[1,"content"],[1,"content-part"],[1,"title"],[1,"icon-server","flex-shrink-0"],[1,"text"],["translate",""],["translate","",1,"tip"],[1,"value"],["type","text",1,"value-input",3,"readonly","ngModel","ngModelChange","click"],["serverSeed",""],[1,"content-part","client","pt-3"],[1,"icon-client","flex-shrink-0"],[4,"ngFor","ngForOf"],["notEnoughBlock",""],[1,"content-part","pt-3"],[1,"icon-hash","flex-shrink-0"],["hash",""],[1,"content-part","result","result-line","pt-3"],[1,"content-part","result","result-col","pt-3"],["class","value",4,"ngIf","ngIfElse"],[1,"player"],["translate","",3,"translateParams"],[1,"user"],[1,"avatar",3,"src","alt"],[1,"seed"],[1,"seed-value","canSelect"],["translate","",1,"value","empty"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),ue(4,rce,6,5,"div",2),R(5,"button",3),Me("click",function(){return e.activeModal.close()}),R(6,"span",4),z(7,"\xd7"),I()()(),R(8,"div",5)(9,"div",6),ue(10,uce,68,11,"div",7),ue(11,cce,2,0,"div",8),I()(),R(12,"div",9)(13,"div",10),z(14," shared.modals.fairness.help "),R(15,"span",11),Me("click",function(){return e.onPFModalOpen()}),z(16," shared.what_is_provably_fair "),I()()()),2&t&&(F(2),Yi(" ",Ne(3,5,"shared.round")," ",e.betId," "),F(2),Q("ngIf",e.loaded),F(6),Q("ngIf",e.loaded),F(1),Q("ngIf",!e.loaded))},directives:[Zt,bl,jn,_h,ea,Ps,Ti,Th],pipes:[Qn,sl],styles:[".header__info[_ngcontent-%COMP%]{font-size:14px;display:flex;justify-content:center;align-items:center;margin-right:auto;margin-left:5px}.header__info[_ngcontent-%COMP%]   .bubble-multiplier-wrapper[_ngcontent-%COMP%]{font-size:12px}.header__info[_ngcontent-%COMP%]   .header__info-time[_ngcontent-%COMP%]{padding-left:5px}.content-wrapper[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{max-width:700px;width:100%;line-height:14px;font-size:14px;display:flex;flex-direction:column;justify-content:space-evenly;height:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;width:100%;align-items:center;margin-bottom:8px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-server[_ngcontent-%COMP%]{width:32px;height:31px;background-image:url(server.14ac68b338b918d9.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-client[_ngcontent-%COMP%]{width:32px;height:25px;background-image:url(client.72620f2a0ac61808.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-hash[_ngcontent-%COMP%]{min-width:30px;max-width:30px;height:30px;background-image:url(hash.8df4a583745aa47b.svg);margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .tip[_ngcontent-%COMP%]{margin-top:3px;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{width:100%;border-radius:6px;background-color:#0707084d;padding:12px 20px;display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .value-input[_ngcontent-%COMP%]{width:100%;background:transparent;border:none;color:#fff}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:4px 20px;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80;margin-right:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{display:flex;min-width:40%;max-width:40%;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{display:flex;font-weight:700;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;border:3px solid #343434;margin-right:7px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;white-space:nowrap}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{padding:12px 20px;justify-content:center;color:#ffffff80}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#ffffff80;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{padding:12px 0;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:25%;text-align:center}.modal-footer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#ffffff80;text-align:center}.modal-footer[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px;color:#e30c32;cursor:pointer}@media (max-width: 991.98px){.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .player[_ngcontent-%COMP%]{width:auto;min-width:auto;max-width:-webkit-fit-content;max-width:-moz-fit-content;max-width:fit-content}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .client[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .seed[_ngcontent-%COMP%]{margin-top:4px;width:auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-line[_ngcontent-%COMP%]{display:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]{display:flex}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result-col[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-bottom:10px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .result[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:auto}}"],data:{animation:[]}}),Ch=Ye([Ci()],Ch);let hce=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-what-is-pf-modal"]],decls:53,vars:39,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","modal-bottom-radius"],[1,"d-flex","justify-content-center","mb-1"],[1,"fairness-i"],[1,"text-center","mt-2","mb-1"],[1,"top-text","description","p-2","my-3"],["translate",""],[1,"text-center","text-uppercase"],["translate","",1,"description","mt-2"],["translate","",1,"mt-3"],[1,"description","mt-2"],[1,"d-flex","justify-content-center","my-sm-4"],[1,"pf-scheme"],[1,"description","mt-4"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return i.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"div",5),Ae(9,"div",6),I(),R(10,"div",7)(11,"span"),z(12),Ce(13,"translate"),I()(),R(14,"div",8)(15,"span",9),z(16,"shared.modals.provably-fair.top text"),I()(),R(17,"div",10),z(18),Ce(19,"translate"),I(),R(20,"div",9),z(21,"shared.modals.provably-fair.Simple"),I(),R(22,"div",11),z(23," shared.modals.provably-fair.text1 "),I(),R(24,"div",12),z(25,"shared.modals.provably-fair.more"),I(),R(26,"div",13),z(27),Ce(28,"translate"),Ce(29,"translate"),Ce(30,"translate"),I(),R(31,"div",13),z(32),Ce(33,"translate"),I(),R(34,"div",14),Ae(35,"div",15),I(),R(36,"div",10),z(37),Ce(38,"translate"),I(),R(39,"div",16)(40,"div"),z(41),Ce(42,"translate"),I(),R(43,"div"),z(44),Ce(45,"translate"),I(),R(46,"div"),z(47),Ce(48,"translate"),Ce(49,"translate"),I(),R(50,"div"),z(51),Ce(52,"translate"),I()()()),2&e&&(F(2),Pe(" ",Ne(3,13,"shared.what_is_provably_fair"),"? "),F(10),Pe(" Provably Fair - ",Ne(13,15,"shared.modals.provably-fair.slogan")," "),F(6),Pe(" ",Ne(19,17,"shared.modals.provably-fair.How does it work")," "),F(9),Ov(" ",Ne(28,19,"shared.modals.provably-fair.text2-1")," ",Ne(29,21,"shared.modals.provably-fair.text2-2")," ",Ne(30,23,"shared.modals.provably-fair.text2-3")," "),F(5),Pe(" ",Ne(33,25,"shared.modals.provably-fair.text2-4")," "),F(5),Pe(" ",Ne(38,27,"shared.modals.provably-fair.video title")," "),F(4),Pe("- ",Ne(42,29,"shared.modals.provably-fair.stats-1"),""),F(3),Pe("- ",Ne(45,31,"shared.modals.provably-fair.stats-2"),""),F(3),Yi(" - ",Ne(48,33,"shared.modals.provably-fair.settings-1")," ",Ne(49,35,"shared.modals.provably-fair.settings-2")," "),F(4),Pe("- ",Ne(52,37,"shared.modals.provably-fair.settings-3"),""))},directives:[jn],pipes:[Qn],styles:[".modal-body[_ngcontent-%COMP%]{background-color:#2d3c27}.modal-body[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:80px;height:90px}.modal-body[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#9ea0a3}.modal-body[_ngcontent-%COMP%]   .top-text[_ngcontent-%COMP%]{border-radius:6px;background-color:#0000004d}.modal-body[_ngcontent-%COMP%]   .pf-scheme[_ngcontent-%COMP%]{background:url(pf-scheme.77cec112dd06b391.svg) no-repeat center center/contain;width:500px;height:513px}"]}),n})(),dce=(()=>{class n{constructor(e){this.seed=e,this.finish=new jt,this.isSaveBtnEnabled=!0}ngOnInit(){this.seedValue=this.seed.manualSeed}handlerSave(){this.seed.manualSeed!==this.seedValue&&(this.seed.manualSeed=this.seedValue),this.finish.emit()}handlerClose(){this.finish.emit()}handlerRandom(){this.seedValue=this.seed.getRandomSeed()}validateSeedValue(e){const i=new RegExp(String.raw`^[A-Za-z0-9-]{5,}$`,"g");this.isSaveBtnEnabled=!!e.match(i)}}return n.\u0275fac=function(e){return new(e||n)(X(NM))},n.\u0275cmp=gt({type:n,selectors:[["app-seed-change"]],outputs:{finish:"finish"},decls:26,vars:11,consts:[[1,"seed-wrapper"],[1,"seed-change"],[1,"seed-header"],["translate",""],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"seed-body"],["translate","",1,"seed-body-title"],[1,"seed-value"],["type","text","title","Seed",3,"ngModel","ngModelChange"],["type","button",1,"btn","btn-warning","btn-random",3,"click"],[1,"text-uppercase"],[1,"actions"],["type","button",1,"btn","btn-success",3,"disabled","click"],["type","button",1,"btn","btn-danger",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),z(4," shared.modals.fairness-settings.seed-change.change seed "),I(),R(5,"button",4),Me("click",function(){return i.handlerClose()}),R(6,"span",5),z(7,"\xd7"),I()()(),R(8,"div",6)(9,"div",7),z(10," shared.modals.fairness-settings.seed-change.enter new seed "),I(),R(11,"div",8)(12,"input",9),Me("ngModelChange",function(o){return i.seedValue=o})("ngModelChange",function(o){return i.validateSeedValue(o)}),I(),R(13,"button",10),Me("click",function(){return i.handlerRandom()}),R(14,"span",11),z(15),Ce(16,"translate"),I()()(),R(17,"div",12)(18,"button",13),Me("click",function(){return i.handlerSave()}),R(19,"span",11),z(20),Ce(21,"translate"),I()(),R(22,"button",14),Me("click",function(){return i.handlerClose()}),R(23,"span",11),z(24),Ce(25,"translate"),I()()()()()()),2&e&&(F(12),Q("ngModel",i.seedValue),F(3),St(Ne(16,5,"shared.random")),F(3),Q("disabled",!i.isSaveBtnEnabled),F(2),St(Ne(21,7,"shared.save")),F(4),St(Ne(25,9,"shared.cancel")))},directives:[jn,_h,ea,Ps],pipes:[Qn],styles:[".seed-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(23,30,35,.8);position:absolute;top:0;left:0}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:10px;width:310px;height:210px;box-shadow:0 0 50px 4px #000000bf;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;border:0;padding:0 10px;min-height:36px;max-height:36px;align-items:center;font-size:16px;background:#2c2d30;border-top-left-radius:8px;border-top-right-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]{background:#1b1c1d;width:100%;height:100%;padding:16px 10px 20px;border-bottom-right-radius:8px;border-bottom-left-radius:8px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body-title[_ngcontent-%COMP%]{font-size:14px;margin-bottom:6px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]{position:relative;width:100%;max-width:300px;display:flex;flex-direction:column;align-items:center}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .seed-value[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#000;border-radius:22px;border:none;padding:5px 15px;color:#fff;width:100%;height:30px;margin-bottom:12px}.seed-wrapper[_ngcontent-%COMP%]   .seed-change[_ngcontent-%COMP%]   .seed-body[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{padding:0 5px;display:flex;justify-content:space-between;margin-top:18px}.btn[_ngcontent-%COMP%]{width:135px;height:30px;font-size:16px;line-height:1.2}"]}),n})();function fce(n,t){1&n&&(R(0,"div",34)(1,"div",35),z(2," shared.modals.fairness-settings.alert "),I()())}function pce(n,t){if(1&n){const e=Ct();R(0,"app-seed-change",36),Me("finish",function(){return ft(e),he().changeSeed=!1}),I()}}let Oh=class{constructor(t,e,i,r,o,s,a){this.modal=t,this.seed=e,this.bsMessage=i,this.connector=r,this.betControl=o,this.clipboard=s,this.activeModal=a,this.changeSeed=!1,this.serverSeed=null,this.loaded=!1,this.betSetted=!1}ngOnInit(){this.betSetted=this.betControl.isBetSetted,this.connector.request(bi.ServerSeed,null),this.connector.response(yn.ServerSeed,200).pipe(Tt(this)).subscribe(t=>this.serverSeed=t.serverSeedSHA256)}onSelectClientSeedType(t){this.seed.isRandomSeed!==t&&(this.seed.isRandomSeed=t)}copySeedToClipboard(t){this.clipboard.copyToClipBoard(t),this.bsMessage.add({value:"copied",context:Es.success,lifeTime:1e3,closable:!1})}onPFModalOpen(){this.modal.open(Un.whatIsPf)}};function gce(n,t){if(1&n){const e=Ct();R(0,"img",9),Me("click",function(){const o=ft(e).$implicit;return he().onSaveAvatar(o.name)}),I()}if(2&n){const e=t.$implicit,i=he();at("active",i.user.avatar===e.name),Q("src",i.getAvatar(e.name),so)("alt",i.getAvatar(e.name))}}Oh.\u0275fac=function(t){return new(t||Oh)(X(Yo),X(NM),X(dh),X(yi),X(vl),X(CL),X(Wr))},Oh.\u0275cmp=gt({type:Oh,selectors:[["app-fairness-settings"]],decls:70,vars:16,consts:[[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","fairness-disabled",4,"ngIf"],[1,"info"],["translate",""],["translate","",1,"info-link",3,"click"],[1,"question-icon"],[1,"client-seed"],[1,"client-seed-title"],[1,"client-seed-title-main"],[1,"client-icon"],[1,"client-seed-title-sub"],[1,"client-seed-type"],[3,"click"],[1,"radio"],[1,"dot"],[1,"block-key"],[1,"key-container","random"],[1,"key"],["translate","",1,"current"],[1,"copy-icon",3,"click"],[1,"block-key","d-flex"],[1,"key-container","manual","mr-lg-2","flex-grow-1"],[1,"btn","btn-success","btn-change","text-uppercase",3,"disabled","click"],[1,"server-seed"],[1,"server-seed-title"],[1,"server-icon"],[1,"server-seed-value-block"],[1,"key-container"],["translate","",1,"modal-footer"],[3,"finish",4,"ngIf"],[1,"fairness-disabled"],["translate","",1,"alert","alert-danger"],[3,"finish"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return e.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4),ue(8,fce,3,0,"div",5),R(9,"div",6)(10,"p",7),z(11,"shared.modals.fairness-settings.tooltip.text"),I(),R(12,"p",8),Me("click",function(){return e.onPFModalOpen()}),Ae(13,"i",9),z(14," shared.what_is_provably_fair "),I()(),R(15,"div",10)(16,"div",11)(17,"div",12),Ae(18,"i",13),R(19,"span",7),z(20,"shared.modals.fairness-settings.client-part.title"),I()(),R(21,"div",14)(22,"span",7),z(23,"shared.modals.fairness-settings.client-part.text"),I()()(),R(24,"div",15)(25,"label",16),Me("click",function(){return e.onSelectClientSeedType(!0)}),R(26,"span",17),Ae(27,"i",18),I(),R(28,"span",7),z(29," shared.modals.fairness-settings.client-part.random "),I()(),R(30,"div",19)(31,"div",20)(32,"div",21)(33,"p")(34,"span",22),z(35," shared.modals.fairness-settings.client-part.current "),I(),R(36,"span"),z(37),I()()(),R(38,"i",23),Me("click",function(){return e.copySeedToClipboard(e.seed.randomSeed)}),I()()()(),R(39,"div",15)(40,"label",16),Me("click",function(){return e.onSelectClientSeedType(!1)}),R(41,"span",17),Ae(42,"i",18),I(),R(43,"span",7),z(44," shared.modals.fairness-settings.client-part.manual "),I()(),R(45,"div",24)(46,"div",25)(47,"div",21)(48,"p")(49,"span",22),z(50," shared.modals.fairness-settings.client-part.current "),I(),R(51,"span"),z(52),I()()(),R(53,"i",23),Me("click",function(){return e.copySeedToClipboard(e.seed.manualSeedWithId)}),I()(),R(54,"button",26),Me("click",function(){return e.changeSeed=!0}),R(55,"span"),z(56),Ce(57,"translate"),I()()()()(),R(58,"div",27)(59,"div",28),Ae(60,"i",29),R(61,"span",7),z(62,"shared.modals.fairness-settings.server seed"),I()(),R(63,"div",30)(64,"div",31)(65,"div",21),z(66),I()()()()(),R(67,"div",32),z(68,"shared.modals.fairness-settings.bottom"),I(),ue(69,pce,1,0,"app-seed-change",33)),2&t&&(F(2),Pe(" ",Ne(3,12,"shared.provably_fair_settings")," "),F(6),Q("ngIf",e.betSetted),F(16),at("active",e.seed.isRandomSeed),F(13),St(e.seed.randomSeed),F(2),at("active",!e.seed.isRandomSeed),F(13),St(e.seed.manualSeedWithId),F(2),Q("disabled",e.seed.isRandomSeed),F(2),St(Ne(57,14,"shared.change")),F(10),Pe(" ",null===e.serverSeed?"loading...":e.serverSeed," "),F(3),Q("ngIf",e.changeSeed))},directives:[Zt,jn,dce],pipes:[Qn],styles:[".modal-body[_ngcontent-%COMP%]{color:#868b8d;padding:unset;font-size:13px}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center}.modal-body[_ngcontent-%COMP%]   .fairness-disabled[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{min-width:260px;max-width:360px}p[_ngcontent-%COMP%]{margin-bottom:0}.info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:20px;border-bottom:1px solid rgba(255,255,255,.1);text-align:left;line-height:14px;cursor:pointer}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{color:#e30c32;display:flex;align-items:center;flex-shrink:0;margin-left:8px}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]   .question-icon[_ngcontent-%COMP%]{background:url(question.e62efb43de5363fc.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer;margin-right:4px}.info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{max-width:647px}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer;display:flex;align-items:center}.info[_ngcontent-%COMP%]   .help[_ngcontent-%COMP%]   .help-icon[_ngcontent-%COMP%]{min-width:16px;height:16px;margin-left:8px;display:inline-block;background-size:cover;margin-right:5px}.client-seed[_ngcontent-%COMP%]{padding:10px 20px;display:flex;flex-direction:column;align-items:center;border-bottom:1px solid rgba(255,255,255,.1)}.client-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;flex-direction:column;align-items:center;color:#fff;width:100%}.client-seed-title-main[_ngcontent-%COMP%]{width:100%;display:flex}.client-seed-title-sub[_ngcontent-%COMP%]{width:100%;display:flex;max-width:689px;color:#9b9c9e}.client-seed-title[_ngcontent-%COMP%]   .client-icon[_ngcontent-%COMP%]{background-image:url(client.72620f2a0ac61808.svg);width:32px;height:25px;display:inline-block;background-size:cover;margin-right:10px}.client-seed-type[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%;margin-top:10px;max-width:689px;border-radius:8px;background-color:#0707084d;padding:10px 10px 10px 20px}.client-seed-type[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-bottom:0;display:flex;align-items:center;cursor:pointer;flex-shrink:0}.client-seed-type[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#0006;border:solid 1px #38ca07;border-radius:50%;margin-right:5px}.client-seed[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:.2}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{opacity:1;-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.client-seed[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .block-key[_ngcontent-%COMP%]{opacity:1}.server-seed[_ngcontent-%COMP%]{padding:10px 20px 20px;display:flex;flex-direction:column;align-items:center}.server-seed-title[_ngcontent-%COMP%]{align-self:flex-start;display:flex;align-items:center;color:#fff}.server-seed-title[_ngcontent-%COMP%]   .server-icon[_ngcontent-%COMP%]{background-image:url(server.14ac68b338b918d9.svg);width:32px;height:31px;display:inline-block;background-size:cover;margin-right:10px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;justify-content:center;width:100%;margin-top:13px}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]{margin-left:10px;margin-right:10px;margin-top:7px;max-width:100px;min-width:100px;height:32px;border-radius:40px;background-color:#0006;border:solid 2px #38ca07;font-size:13px;color:#fff;cursor:pointer}.server-seed[_ngcontent-%COMP%]   .server-seed-value-block[_ngcontent-%COMP%]   .change[_ngcontent-%COMP%]:disabled{opacity:.3;cursor:default}.modal-footer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:20px!important;color:#868b8d;font-size:13px}.modal-footer[_ngcontent-%COMP%]   .game-history[_ngcontent-%COMP%]{color:#38ca07;cursor:pointer}.modal-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center}.key-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:700px;margin-top:5px;padding:12px 23px 14px 20px;background-color:#000;position:relative;overflow:hidden;color:#fff;border-radius:24px}.key-container.random[_ngcontent-%COMP%]{min-width:400px;max-width:400px}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{display:flex;align-items:center;overflow:hidden;margin-right:8px;height:20px;white-space:nowrap}.key-container[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{height:100%}.key-container[_ngcontent-%COMP%]   .copy-icon[_ngcontent-%COMP%]{background:url(copy.163c9ecbadb7cbd9.svg) no-repeat center center/contain;width:16px;height:16px;display:inline-block;flex-shrink:0;cursor:pointer}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]{width:60px;height:100%;border-radius:6px;position:absolute;right:0;top:0;display:flex;align-items:center;justify-content:flex-end}.key-container[_ngcontent-%COMP%]   .block-copy[_ngcontent-%COMP%]   .icon-copy[_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px;color:#fff;margin-right:13px}.key-container[_ngcontent-%COMP%]   .current[_ngcontent-%COMP%]{color:#868b8d}.btn-change[_ngcontent-%COMP%]{height:30px;line-height:1.2}.block-key[_ngcontent-%COMP%]{width:100%;max-width:400px;align-items:center;justify-content:space-between}@media (max-width: 991.98px){.info[_ngcontent-%COMP%]{flex-direction:column}.info[_ngcontent-%COMP%]   .info-link[_ngcontent-%COMP%]{margin-top:10px;margin-left:0}.client-seed[_ngcontent-%COMP%]   .client-seed-type[_ngcontent-%COMP%]{flex-direction:column}.block-key[_ngcontent-%COMP%]{flex-wrap:wrap;width:100%;max-width:100%;justify-content:center}.block-key[_ngcontent-%COMP%]   .btn-change[_ngcontent-%COMP%]{margin-top:10px}.key-container.random[_ngcontent-%COMP%], .key-container.manual[_ngcontent-%COMP%]{min-width:100%;max-width:100%}}"]}),Oh=Ye([Ci()],Oh);let _ce=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.connector=i,this.user=r,this.avatars=[];for(let o=1;o<=72;o++)this.avatars.push({name:"av-"+o+".png"})}getAvatar(e){return Wi_avatarPath+e+`?v=${Wi_version}`}onSaveAvatar(e){this.user.avatar!==e&&(this.user.avatar=e,this.activeModal.close(),this.connector.request(bi.ChangeProfileImage,{profileImage:e}))}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(yi),X(Ha))},n.\u0275cmp=gt({type:n,selectors:[["app-game-avatar"]],decls:12,vars:1,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"content"],["class","game-img mr-2 mb-2",3,"active","src","alt","click",4,"ngFor","ngForOf"],[1,"modal-footer"],["translate","",1,"btn","btn-outline-secondary",3,"click"],[1,"game-img","mr-2","mb-2",3,"src","alt","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2,"shared.modals.game-avatar.title"),I(),R(3,"button",2),Me("click",function(){return i.activeModal.close()}),R(4,"span",3),z(5,"\xd7"),I()()(),R(6,"div",4)(7,"div",5),ue(8,gce,1,4,"img",6),I()(),R(9,"div",7)(10,"button",8),Me("click",function(){return i.activeModal.close()}),z(11," shared.close "),I()()),2&e&&(F(8),Q("ngForOf",i.avatars))},directives:[jn,Ti],styles:[".content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;position:relative;overflow:hidden;justify-content:center}.content[_ngcontent-%COMP%]   .game-img[_ngcontent-%COMP%]{width:70px;height:70px;border-radius:50%;border:4px solid #333;background-position:center;cursor:pointer}.content[_ngcontent-%COMP%]   .game-img.active[_ngcontent-%COMP%]{border:4px solid #428a12;cursor:default}.btn[_ngcontent-%COMP%]{margin:0 auto}"]}),n})();function mce(n,t){if(1&n){const e=Ct();R(0,"div",3)(1,"div",4)(2,"span",5),Me("click",function(){return ft(e),he().selectClick(null)}),Ae(3,"i",6),I(),R(4,"div",7),z(5," shared.modals.free-bets-management.play with cash "),I()()()}2&n&&at("selected",he().freeBets.isActive(null))}function vce(n,t){if(1&n){const e=Ct();R(0,"span",5),Me("click",function(){ft(e);const r=he(2);return r.selectClick(r.freeBet.freeBetsId)}),Ae(1,"i",6),I()}}function yce(n,t){if(1&n&&(R(0,"div",18),z(1),I()),2&n){const e=he(2);F(1),Pe(" ",e.freeBet.numberOfFreeBets," ")}}function bce(n,t){if(1&n&&(R(0,"div",19),z(1),I()),2&n){const e=he(2);F(1),St(e.freeBet.freeBetsLeft)}}function Ece(n,t){if(1&n&&(R(0,"div",20)(1,"div",21)(2,"div",22),z(3," shared.modals.free-bets-management.granted "),I(),R(4,"div",23),z(5),Ce(6,"date"),I()(),R(7,"div",24)(8,"div",22),z(9," shared.modals.free-bets-management.min cashout coefficient "),I(),R(10,"div",23),z(11),I()(),R(12,"div",24)(13,"div",22),z(14," shared.modals.free-bets-management.expires "),I(),R(15,"div",23),z(16),Ce(17,"date"),I()()()),2&n){const e=he(2);F(5),Pe(" ",oi(6,3,e.freeBet.freeBetsStartDate,"dd.MM.y")," "),F(6),St(e.freeBet.freeBetsMinCashOut),F(5),Pe(" ",oi(17,6,e.freeBet.freeBetsEndDate,"dd.MM.y")," ")}}function Sce(n,t){if(1&n){const e=Ct();R(0,"div",8)(1,"div",4),ue(2,vce,2,0,"span",9),ue(3,yce,2,1,"div",10),ue(4,bce,2,1,"div",11),R(5,"div",12)(6,"div",13)(7,"span"),z(8),I()()(),R(9,"div",14)(10,"div",13),z(11),I()(),R(12,"div",15),Me("click",function(){return ft(e),he().toggleDisplayDetails()}),Ae(13,"div",16),I()(),ue(14,Ece,18,9,"div",17),I()}if(2&n){const e=he();at("detailed",e.isDisplayedDetails)("selected",e.freeBets.isActive(e.freeBet.freeBetsId)),F(2),Q("ngIf",!e.isArchive),F(1),Q("ngIf",e.isArchive),F(1),Q("ngIf",!e.isArchive),F(4),Pe(" ",e.freeBet.freeBetsBetAmount.toFixed(e.app.config.betPrecision)," "),F(3),Pe(" ",e.freeBet.freeBetsWinSum.toFixed(e.app.config.betPrecision)," "),F(2),at("rotate",e.isDisplayedDetails),F(1),Q("ngIf",e.isDisplayedDetails)}}let Tce=(()=>{class n{constructor(e,i,r,o){this.mainService=e,this.freeBets=i,this.activeModal=r,this.app=o,this.isDisplayedDetails=!1}selectClick(e){this.freeBets.isActive(e)||(this.freeBets.activate(e),this.activeModal.close())}clickPlayWithCash(){}clickPlayWithFreeBet(){}toggleDisplayDetails(){this.isDisplayedDetails=!this.isDisplayedDetails}}return n.\u0275fac=function(e){return new(e||n)(X(Vi),X(ru),X(Wr),X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-free-bet-management-item"]],inputs:{itemType:"itemType",isArchive:"isArchive",freeBet:"freeBet"},decls:3,vars:2,consts:[[1,"item-wrapper",3,"ngSwitch"],["class","rounded-block cash-block",3,"selected",4,"ngSwitchCase"],["class","rounded-block",3,"detailed","selected",4,"ngSwitchDefault"],[1,"rounded-block","cash-block"],[1,"main-row"],[1,"radio",3,"click"],[1,"dot"],["translate","",1,"cash-block__text"],[1,"rounded-block"],["class","radio",3,"click",4,"ngIf"],["class","quantity archive",4,"ngIf"],["class","quantity",4,"ngIf"],[1,"bet"],[1,"amount"],[1,"total-win"],[1,"arrow-wrapper",3,"click"],[1,"arrow"],["class","details",4,"ngIf"],[1,"quantity","archive"],[1,"quantity"],[1,"details"],[1,"table-row","top-row"],["translate","",1,"col-first"],[1,"col-sec"],[1,"table-row"]],template:function(e,i){1&e&&(R(0,"div",0),ue(1,mce,6,2,"div",1),ue(2,Sce,15,12,"div",2),I()),2&e&&(Q("ngSwitch",i.itemType),F(1),Q("ngSwitchCase","playWithCash"))},directives:[ol,Nu,jn,Fg,Zt],pipes:[sl],styles:[".item-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;width:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:34px;border-radius:8px;background-color:#0707084d;margin:5px auto 0;border:solid 1px transparent}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]{height:32px;width:100%;display:flex;align-items:center}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:inline-block;min-width:16px;height:16px;background-color:#1b1c1d;border:solid 1px #38ca07;border-radius:50%;margin-left:9px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:12px;flex-shrink:0}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{width:30%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:20%;flex-shrink:0;height:100%}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{text-align:center;height:100%;display:flex;align-items:center;font-size:12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{margin-left:2px;font-size:9px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;width:12%;padding-right:10px;cursor:pointer}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]:hover   .arrow[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .arrow-wrapper[_ngcontent-%COMP%]   .arrow.rotate[_ngcontent-%COMP%]{transform:rotate(180deg)}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-around;width:276px;min-height:70px;border-radius:6px;background-color:#212123;font-size:12px;margin:8px 0 12px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{width:100%;display:flex;line-height:1}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-first[_ngcontent-%COMP%]{flex-shrink:0;margin-left:10px;width:50%;font-size:11px;color:#83878e}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]   .col-sec[_ngcontent-%COMP%]{display:flex;align-items:center;flex-shrink:0;margin-left:20px;width:35%;color:#fff}.item-wrapper[_ngcontent-%COMP%]   .rounded-block[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .table-row.top-row[_ngcontent-%COMP%]{margin-top:5px}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]{border:solid 1px #229607}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;cursor:default}.item-wrapper[_ngcontent-%COMP%]   .rounded-block.selected[_ngcontent-%COMP%]   .main-row[_ngcontent-%COMP%]   .radio[_ngcontent-%COMP%]   .dot[_ngcontent-%COMP%]{display:block;width:8px;height:8px;border-radius:50%;background-color:#38ca07}.item-wrapper[_ngcontent-%COMP%]   .detailed[_ngcontent-%COMP%]{height:121px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]{margin-top:10px}.item-wrapper[_ngcontent-%COMP%]   .cash-block[_ngcontent-%COMP%]   .cash-block__text[_ngcontent-%COMP%]{margin-left:12px}"]}),n})();function Cce(n,t){1&n&&Ae(0,"app-free-bet-management-item",13),2&n&&Q("itemType","playWithCash")}function Oce(n,t){if(1&n){const e=Ct();R(0,"div",14)(1,"div",1),z(2,"shared.modals.free-bets-management.active free bets"),I(),R(3,"div",15),Me("click",function(){return ft(e),he().onClickArchiveHistory()}),Ae(4,"div",16),R(5,"div",1),z(6,"shared.archive"),I()()()}}function Mce(n,t){if(1&n){const e=Ct();R(0,"div",17)(1,"div",1),z(2,"shared.archive"),I(),R(3,"div",15),Me("click",function(){return ft(e),he().isArchive=!1}),Ae(4,"div",18),R(5,"div",1),z(6,"shared.back"),I()()()}if(2&n){const e=he();F(3),at("disabled",!e.loaded)}}function wce(n,t){if(1&n&&(R(0,"div",27),Ae(1,"app-free-bet-management-item",28),I()),2&n){const e=t.$implicit,i=he(2);F(1),Q("isArchive",i.isArchive)("freeBet",e)}}function Pce(n,t){if(1&n){const e=Ct();R(0,"div",29)(1,"div",30),Me("click",function(){ft(e);const r=he(2);return r.getFreeBetsArchive(r.freeBetsList[r.freeBetsList.length-1].freeBetsId)}),Ae(2,"div",31),R(3,"span",32),z(4,"shared.load_more"),I()()()}}function Ace(n,t){1&n&&(R(0,"div"),Ae(1,"app-loader",33),I())}function xce(n,t){if(1&n&&(R(0,"div",19)(1,"div",20)(2,"div",21),z(3," shared.modals.free-bets-management.quantity "),I(),R(4,"div",22),z(5),Ce(6,"translate"),I(),R(7,"div",23),z(8),Ce(9,"translate"),I()(),R(10,"div",24),ue(11,wce,2,2,"div",25),ue(12,Pce,5,0,"div",26),ue(13,Ace,2,0,"div",11),I()()),2&n){const e=he();F(2),at("archive",e.isArchive),F(3),Yi(" ",Ne(6,9,"shared.bet"),", ",e.app.config.currency," "),F(3),Yi(" ",Ne(9,11,"shared.win"),", ",e.app.config.currency," "),F(3),Q("ngForOf",e.freeBetsList),F(1),Q("ngIf",e.isArchive&&e.isMoreArchive&&e.loaded),F(1),Q("ngIf",e.isArchive&&!e.loaded)}}function Rce(n,t){1&n&&(R(0,"div"),Ae(1,"app-loader"),I())}function Dce(n,t){1&n&&(R(0,"div",37),z(1," shared.modals.free-bets-management.no active free bets "),I())}function Ice(n,t){1&n&&(R(0,"div",37),z(1," shared.modals.free-bets-management.nothing yet "),I())}function Nce(n,t){if(1&n&&(R(0,"div",34),Ae(1,"div",35),ue(2,Dce,2,0,"div",36),ue(3,Ice,2,0,"div",36),I()),2&n){const e=he();F(2),Q("ngIf",!e.isArchive),F(1),Q("ngIf",e.isArchive)}}let Mh=class{constructor(t,e,i,r){this.app=t,this.activeModal=e,this.freeBets=i,this.connector=r,this.isArchive=!1,this.loaded=!0,this.isMoreArchive=!1}ngOnInit(){this.connector.response(yn.FreeBetsArchive).pipe(Tt(this)).subscribe(t=>this.freeBetsArchiveResponse(t))}freeBetsArchiveResponse(t){this.loaded=!0,200===t.code&&(this.isMoreArchive=t.isHaveMore,t.freeBetsArchiveInfo&&(this.freeBetsArchiveList?this.freeBetsArchiveList.push(...t.freeBetsArchiveInfo):this.freeBetsArchiveList=t.freeBetsArchiveInfo))}onClickArchiveHistory(){this.isArchive=!0,this.getFreeBetsArchive()}getFreeBetsArchive(t){if(!t&&this.freeBetsArchiveList)return;this.loaded=!1;const e={};t&&(e.startId=t),this.connector.request(bi.FreeBetsArchive,e)}get freeBetsList(){return this.isArchive?this.freeBetsArchiveList:this.freeBets.list}get freeBetsCount(){return this.freeBetsList?this.freeBetsList.length:0}};Mh.\u0275fac=function(t){return new(t||Mh)(X(ln),X(Wr),X(ru),X(yi))},Mh.\u0275cmp=gt({type:Mh,selectors:[["app-free-bets-management"]],decls:15,vars:6,consts:[[1,"title","modal-header","canSelect"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-2"],[1,"content-wrapper"],[1,"content"],["class","free-bet-item",3,"itemType",4,"ngIf"],["class","free-bets-header pl-1",4,"ngIf"],["class","free-bets-header free-bets-header-archive",4,"ngIf"],["class","content__free-bets",4,"ngIf"],[4,"ngIf"],["class","content__none",4,"ngIf"],[1,"free-bet-item",3,"itemType"],[1,"free-bets-header","pl-1"],[1,"archive-btn","pl-1","pr-2",3,"click"],[1,"history-i"],[1,"free-bets-header","free-bets-header-archive"],[1,"close-i"],[1,"content__free-bets"],[1,"free-bets-table-header"],["translate","",1,"quantity"],[1,"bet"],[1,"total-win"],[1,"free-bets-list-wrapper"],["class","free-bets-list",4,"ngFor","ngForOf"],["class","load-more-wrapper",4,"ngIf"],[1,"free-bets-list"],[1,"free-bets-list__item",3,"isArchive","freeBet"],[1,"load-more-wrapper"],[1,"load-more",3,"click"],[1,"load-more-i"],["translate","",1,"load-more__text"],["type","small"],[1,"content__none"],[1,"free-bet-image"],["class","none-text","translate","",4,"ngIf"],["translate","",1,"none-text"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2,"shared.modals.free-bets-management.title"),I(),R(3,"button",2),Me("click",function(){return e.activeModal.close()}),R(4,"span",3),z(5,"\xd7"),I()()(),R(6,"div",4)(7,"div",5)(8,"div",6),ue(9,Cce,1,1,"app-free-bet-management-item",7),ue(10,Oce,7,0,"div",8),ue(11,Mce,7,2,"div",9),ue(12,xce,14,13,"div",10),ue(13,Rce,2,0,"div",11),ue(14,Nce,4,2,"div",12),I()()()),2&t&&(F(9),Q("ngIf",!e.isArchive),F(1),Q("ngIf",!e.isArchive),F(1),Q("ngIf",e.isArchive),F(1),Q("ngIf",e.freeBetsCount>0),F(1),Q("ngIf",e.isArchive&&!e.loaded&&0===e.freeBetsCount),F(1),Q("ngIf",0===e.freeBetsCount&&e.loaded))},directives:[jn,Zt,Tce,Ti,Th],pipes:[Qn],styles:[".title.modal-header.canSelect[_ngcontent-%COMP%]{padding-left:15px}.content-wrapper[_ngcontent-%COMP%]{position:relative}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__free-bets[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;flex-direction:column}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]{width:100%;height:100%;padding:30px 0;display:flex;align-items:center;flex-direction:column;justify-content:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .free-bet-image[_ngcontent-%COMP%]{width:100px;height:62px;background:url(ticket.adefaa8953b7a11e.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content__none[_ngcontent-%COMP%]   .none-text[_ngcontent-%COMP%]{margin-top:14px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-between;margin-top:12px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header-archive[_ngcontent-%COMP%]{margin:0 auto}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:12px;cursor:pointer;color:#b8b8b7;border-radius:17px;border:solid 1px #414148;background-color:#252528}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn.disabled[_ngcontent-%COMP%]{cursor:auto;opacity:.2;pointer-events:none}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{background:url(history.a8377d083674a681.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]   .close-i[_ngcontent-%COMP%]{background:url(x-r.b2d16e043b6ad29d.svg) no-repeat center center/contain;width:11px;height:11px;margin-right:3px;align-self:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-header[_ngcontent-%COMP%]   .archive-btn[_ngcontent-%COMP%]:hover   .close-i[_ngcontent-%COMP%]{background:url(x-r-h.3da436b8879be7c2.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]{margin-top:9px;width:100%;display:flex;font-size:11px;color:#83878e;justify-content:flex-start}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity[_ngcontent-%COMP%]{width:30%;margin-left:37px;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .quantity.archive[_ngcontent-%COMP%]{margin-left:8%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%], .content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-table-header[_ngcontent-%COMP%]   .total-win[_ngcontent-%COMP%]{width:30%;flex-shrink:0}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]{height:calc(100% - 40px);width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child{width:100%;margin-bottom:5px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .free-bets-list[_ngcontent-%COMP%]:last-child   .free-bets-list__item[_ngcontent-%COMP%]{width:100%}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]{text-align:center}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{margin:11px 0 5px;display:inline-flex;align-items:center;height:22px;border-radius:13px;border:solid 1px #6f6f6f;background-color:#1e1e1e;color:#b8b8b7;cursor:pointer}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]:hover   .load-more-i[_ngcontent-%COMP%]{background:url(load-h.45bbe491bf39179a.svg) no-repeat center center/contain}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more-i[_ngcontent-%COMP%]{background:url(load.bf5127f9fcce9dbc.svg) no-repeat center center/contain;margin:0 4px 0 10px;width:14px;height:9px}.content-wrapper[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .free-bets-list-wrapper[_ngcontent-%COMP%]   .load-more-wrapper[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .load-more__text[_ngcontent-%COMP%]{font-size:12px;margin-right:10px}.free-bet-item[_ngcontent-%COMP%]{width:100%;color:#d2d2d2}"]}),Mh=Ye([Ci()],Mh);var ts=(()=>(function(n){n.EN="en",n.KA="ka",n.RU="ru",n.HY="hy",n.TR="tr",n.BG="bg",n.IT="it",n.ZH="zh",n.KO="ko",n.HR="hr",n.SV="sv",n.FA="fa",n.ES="es"}(ts||(ts={})),ts))();const x5=n=>{const t={};return t[ts.EN]="https://www.youtube.com/embed/PZejs3XDCSY?playsinline=1",t[ts.RU]="https://www.youtube.com/embed/dcThkn7JMV0?playsinline=1",t[ts.TR]="https://www.youtube.com/embed/04Kjqzxuv4w?playsinline=1",t[ts.BG]="https://www.youtube.com/embed/uqqaznDHThM?playsinline=1",t[ts.IT]="https://www.youtube.com/embed/pWRuRU01zV8?playsinline=1",t[ts.ZH]="https://www.youtube.com/embed/Q7GDLGcSTu0?playsinline=1",t[ts.KO]="https://www.youtube.com/embed/ZVatehIvZb0?playsinline=1",t[ts.FA]="https://www.youtube.com/embed/_5DNXyuabns?playsinline=1",t[ts.HR]="https://www.youtube.com/embed/jwi2__ybp1o?playsinline=1",t[ts.ES]="https://www.youtube.com/embed/kXxVkRHKhQI?playsinline=1",t.hasOwnProperty(n)?t[n]:t[ts.EN]};function kce(n,t){1&n&&(R(0,"li",24),z(1," shared.modals.rules.game-rules.game-functions.bet-cashout.point2 "),I())}function Fce(n,t){1&n&&(R(0,"ul",23)(1,"li",24),z(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point1 "),I(),R(3,"li",24),z(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point2 "),I(),R(5,"li",24),z(6," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point3 "),I(),R(7,"li",24),z(8," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point4 "),I(),R(9,"li",24),z(10," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5 "),I()())}function Bce(n,t){1&n&&(R(0,"ul",23)(1,"li",24),z(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point6 "),I(),R(3,"li",24),z(4," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.point5 "),I()())}function Lce(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.auto-play-auto-cashout.title "),I(),ue(3,Fce,11,0,"ul",32),ue(4,Bce,5,0,"ul",32),I()),2&n){const e=he();F(3),Q("ngIf",void 0!==e.app.config.autoBetOptions),F(1),Q("ngIf",void 0===e.app.config.autoBetOptions)}}function Uce(n,t){1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.in-game-chat.title "),I(),R(3,"ul",23)(4,"li",24),z(5," shared.modals.rules.game-rules.game-functions.in-game-chat.point1 "),I()()())}function Gce(n,t){1&n&&(R(0,"div",27)(1,"div",33),z(2),Ce(3,"translate"),I(),R(4,"ul",23)(5,"li",24),z(6," shared.modals.rules.game-rules.game-functions.free-bets.point1 "),I()()()),2&n&&(F(2),Pe(" ",Ne(3,1,"shared.free_bets")," "))}function jce(n,t){1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.rain-feature.title "),I(),R(3,"ul",23)(4,"li",24),z(5," shared.modals.rules.game-rules.game-functions.rain-feature.point1 "),I()()())}const Vce=function(n,t){return{minBankValue:n,currency:t}};function Hce(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.minimum_bank_value.title "),I(),R(3,"ul",23)(4,"li",34),z(5),Ce(6,"translate"),I()()()),2&n){const e=he();F(5),Pe(" ",oi(6,1,"shared.modals.rules.game-rules.game-functions.minimum_bank_value.point1",Aa(4,Vce,e.minBankValue,e.app.config.currency))," ")}}const Yce=function(n,t){return{returnToPlayer:n,numberOfRounds:t}};function Wce(n,t){if(1&n&&(R(0,"div",27)(1,"div",22),z(2," shared.modals.rules.game-rules.game-functions.return-to-player.title "),I(),R(3,"ul",23)(4,"li",34),z(5),Ce(6,"translate"),I()()()),2&n){const e=he();F(5),Pe(" ",oi(6,1,"shared.modals.rules.game-rules.game-functions.return-to-player.point1",Aa(4,Yce,e.app.config.returnToPlayer,100-e.app.config.returnToPlayer))," ")}}function zce(n,t){1&n&&(R(0,"li",24),z(1," shared.modals.rules.game-rules.game-functions.other.unfinished game "),I())}const $ce=function(n,t){return{maxWin:n,currency:t}};function Xce(n,t){if(1&n&&(R(0,"li",34),z(1),Ce(2,"translate"),I()),2&n){const e=he();F(1),Pe(" ",oi(2,1,"shared.modals.rules.game-rules.game-functions.other.max_win",Aa(4,$ce,e.app.config.maxUserWin,e.app.config.currency))," ")}}function Kce(n,t){if(1&n&&(R(0,"div",35)(1,"div")(2,"span",36),z(3," shared.modals.rules.game-rules.game-functions.version "),I(),R(4,"span"),z(5),I()()()),2&n){const e=he();F(5),St(e.app.config.gameVersion)}}let qce=(()=>{class n{constructor(e,i,r,o,s){this.activeModal=e,this.app=i,this.modal=r,this.urlParams=o,this.sanitizer=s,this.minBankValue=(1.01*this.app.config.minBet).toFixed(this.app.config.betPrecision)}ngOnInit(){const e=x5(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onPFModalOpen(e){e.preventDefault(),this.modal.open(Un.whatIsPf)}get isShowRainFeature(){try{return this.app.config.chat.rain.isEnabled||this.app.config.chat.promo.isEnabled}catch(e){return!0}}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(ln),X(Yo),X(tu),X(_T))},n.\u0275cmp=gt({type:n,selectors:[["app-rules"]],decls:117,vars:26,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["translate","",1,"text-grey"],["href","#","translate","",3,"click"],[1,"mt-4","mb-2","text-uppercase"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"steps-wrapper"],["translate","",1,"pt-5","pl-2"],[1,"steps-container"],[1,"step","step-1"],[1,"step-bg-img"],["translate","",1,"step-text","pt-2"],[1,"step","step-2"],["translate","",1,"step-text"],[1,"step","step-3"],["translate","",1,"mt-3","text-grey"],[1,"rules-list","pt-3"],["translate","",1,"rules-list-title"],[1,"list-group"],["translate","",1,"list-group-item"],[1,"icon-fair"],["translate","",1,"mt-4","mt-5"],[1,"rules-list","pt-2"],["class","list-group-item","translate","",4,"ngIf"],["class","rules-list pt-2",4,"ngIf"],["class","list-group-item",4,"ngIf"],["class","game-version-wrapper border-top mt-4 pt-2 d-flex justify-content-center",4,"ngIf"],["class","list-group",4,"ngIf"],[1,"rules-list-title","text-capitalize"],[1,"list-group-item"],[1,"game-version-wrapper","border-top","mt-4","pt-2","d-flex","justify-content-center"],["translate",""]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return i.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"p",5),z(9,"shared.modals.rules.game-rules.main-text"),I(),R(10,"a",6),Me("click",function(o){return i.onPFModalOpen(o)}),z(11," shared.modals.rules.game-rules.link "),I(),R(12,"h6",7),z(13),Ce(14,"translate"),I(),R(15,"div",8)(16,"div",9),Ae(17,"iframe",10),I()(),R(18,"div",11)(19,"h6",12),z(20," shared.modals.rules.game-rules.steps.title "),I(),R(21,"div",13)(22,"div",14)(23,"h3"),z(24,"01"),I(),Ae(25,"div",15),R(26,"div",16)(27,"span",1),z(28),Ce(29,"translate"),I(),z(30," shared.modals.rules.game-rules.steps.first-step "),I()(),R(31,"div",17)(32,"h3"),z(33,"02"),I(),Ae(34,"div",15),R(35,"div",18)(36,"span",1),z(37),Ce(38,"translate"),I(),z(39," shared.modals.rules.game-rules.steps.second-step "),I()(),R(40,"div",19)(41,"h3"),z(42,"03"),I(),Ae(43,"div",15),R(44,"div",18)(45,"span",1),z(46),Ce(47,"translate"),I(),z(48," shared.modals.rules.game-rules.steps.third-step "),I()()(),R(49,"p",20),z(50," shared.modals.rules.game-rules.steps.text "),I(),R(51,"div",21)(52,"div",22),z(53," shared.modals.rules.game-rules.details.title "),I(),R(54,"ul",23)(55,"li",24),z(56," shared.modals.rules.game-rules.details.point1 "),I(),R(57,"li",24),z(58," shared.modals.rules.game-rules.details.point2 "),I(),R(59,"li",24),z(60," shared.modals.rules.game-rules.details.point3-1 "),Ae(61,"span",25),z(62," shared.modals.rules.game-rules.details.point3-2 "),I()()()(),R(63,"h6",26),z(64," shared.modals.rules.game-rules.game-functions.title "),I(),R(65,"div",27)(66,"div",22),z(67," shared.modals.rules.game-rules.game-functions.bet-cashout.title "),I(),R(68,"ul",23)(69,"li",24),z(70," shared.modals.rules.game-rules.game-functions.bet-cashout.point1 "),I(),ue(71,kce,2,0,"li",28),R(72,"li",24),z(73," shared.modals.rules.game-rules.game-functions.bet-cashout.point3 "),I(),R(74,"li",24),z(75," shared.modals.rules.game-rules.game-functions.bet-cashout.point4 "),I()()(),ue(76,Lce,5,2,"div",29),R(77,"div",27)(78,"div",22),z(79," shared.modals.rules.game-rules.game-functions.live-bets-statistics.title "),I(),R(80,"ul",23)(81,"li",24),z(82," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point1 "),I(),R(83,"li",24),z(84," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point2 "),I(),R(85,"li",24),z(86," shared.modals.rules.game-rules.game-functions.live-bets-statistics.point3 "),I()()(),ue(87,Uce,6,0,"div",29),ue(88,Gce,7,3,"div",29),ue(89,jce,6,0,"div",29),R(90,"div",27)(91,"div",22),z(92," shared.modals.rules.game-rules.game-functions.randomization.title "),I(),R(93,"ul",23)(94,"li",24),z(95," shared.modals.rules.game-rules.game-functions.randomization.point1 "),R(96,"a",6),Me("click",function(o){return i.onPFModalOpen(o)}),z(97," shared.modals.rules.game-rules.link "),I()(),R(98,"li",24),z(99," shared.modals.rules.game-rules.game-functions.randomization.point2 "),I(),R(100,"li",24),z(101," shared.modals.rules.game-rules.game-functions.randomization.point3-1 "),Ae(102,"span",25),z(103," shared.modals.rules.game-rules.game-functions.randomization.point3-2 "),I()()(),ue(104,Hce,7,7,"div",29),ue(105,Wce,7,7,"div",29),R(106,"div",27)(107,"div",22),z(108," shared.modals.rules.game-rules.game-functions.other.title "),I(),R(109,"ul",23)(110,"li",24),z(111," shared.modals.rules.game-rules.game-functions.other.point1 "),I(),R(112,"li",24),z(113," shared.modals.rules.game-rules.game-functions.other.point2 "),I(),ue(114,zce,2,0,"li",28),ue(115,Xce,3,7,"li",30),I()(),ue(116,Kce,6,1,"div",31),I()),2&e&&(F(2),St(Ne(3,16,"shared.game_rules")),F(11),Pe(" ",Ne(14,18,"shared.how_to_play")," "),F(4),Q("src",i.videoURL,cv),F(11),St(Ne(29,20,"shared.bet")),F(9),St(Ne(38,22,"shared.watch")),F(9),Pe(" ",Ne(47,24,"shared.cash_out")," "),F(25),Q("ngIf",i.app.config.isMultipleBetsEnabled),F(5),Q("ngIf",i.app.isAutoBetFeatureEnabled),F(11),Q("ngIf",i.app.config.chat.isEnabled),F(1),Q("ngIf",i.app.isFreeBetsEnabled),F(1),Q("ngIf",i.isShowRainFeature),F(15),Q("ngIf",i.app.config.isGameRulesHaveMinimumBankValue),F(1),Q("ngIf",i.app.config.returnToPlayer>0),F(9),Q("ngIf",i.app.config.isRuleUnfinishedGame),F(1),Q("ngIf",i.app.config.isGameRulesHaveMaxWin),F(1),Q("ngIf",i.app.config.gameVersion))},directives:[jn,Zt],pipes:[Qn],styles:[".list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{margin:0;border:0;background:transparent url(right-red-arrow.6fd455f16f929594.svg) no-repeat 0 3px;padding:2px 0 2px 14px;color:#d2d2d2}a[_ngcontent-%COMP%]{color:red}.youtube[_ngcontent-%COMP%]{display:block}.icon-fair[_ngcontent-%COMP%]{background-image:url(icon-provabyfair.652dcfd9d89241e2.svg);background-repeat:no-repeat;min-width:14px;height:16px;display:inline-block;background-size:contain;transform:translateY(4px)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly;flex-wrap:wrap}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:700;font-size:24px;margin-top:20px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{flex:0 0 240px}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{width:240px;height:140px;border-radius:20px;border:1px solid #4e4e4e;background-size:100% 100%}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]{margin-top:10px;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat top left;background-size:36px 36px;padding-left:40px;min-height:36px;font-weight:700}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-1[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-01.d2bc6dfa6d5518ce.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-2[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-02.6aae9ac8161a78ed.png)}.steps-wrapper[_ngcontent-%COMP%]   .steps-container[_ngcontent-%COMP%]   .step.step-3[_ngcontent-%COMP%]   .step-bg-img[_ngcontent-%COMP%]{background:url(rules-step-03.8bd39c6ac174d9c4.png)}.rules-list[_ngcontent-%COMP%]{padding-left:20px;padding-right:20px}.rules-list[_ngcontent-%COMP%]   .rules-list-title[_ngcontent-%COMP%]{margin-left:-20px;margin-bottom:10px}.text-grey[_ngcontent-%COMP%]{color:#d2d2d2}.game-version-wrapper[_ngcontent-%COMP%]{border-color:#fff3!important}"]}),n})(),Jce=(()=>{class n{constructor(e,i,r,o){this.activeModal=e,this.sanitizer=i,this.modal=r,this.urlParams=o}ngOnInit(){const e=x5(this.urlParams.lang);this.videoURL=this.sanitizer.bypassSecurityTrustResourceUrl(e)}onShowRules(){this.modal.open(Un.rules),this.activeModal.close()}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(_T),X(Yo),X(tu))},n.\u0275cmp=gt({type:n,selectors:[["app-quick-help-modal"]],decls:29,vars:4,consts:[[1,"modal-header","text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[1,"youtube"],[1,"embed-responsive","embed-responsive-16by9"],["frameborder","0","allowfullscreen","","allow","accelerometer; encrypted-media; gyroscope; picture-in-picture",1,"embed-responsive-item",3,"src"],[1,"step"],[1,"bullet","bullet-1"],["translate",""],[1,"bullet","bullet-2"],[1,"bullet","bullet-3"],[1,"modal-footer","p-0"],["translate","",1,"btn","btn-link","btn-sm","mx-auto",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),z(2),Ce(3,"translate"),I(),R(4,"button",1),Me("click",function(){return i.activeModal.close()}),R(5,"span",2),z(6,"\xd7"),I()()(),R(7,"div",3)(8,"div",4)(9,"div",5),Ae(10,"iframe",6),I()(),R(11,"div",7)(12,"div",8),z(13,"01"),I(),R(14,"p",9),z(15,"shared.modals.quick-help.step1"),I()(),R(16,"div",7)(17,"div",10),z(18,"02"),I(),R(19,"p",9),z(20,"shared.modals.quick-help.step2"),I()(),R(21,"div",7)(22,"div",11),z(23,"03"),I(),R(24,"p",9),z(25,"shared.modals.quick-help.step3"),I()()(),R(26,"div",12)(27,"button",13),Me("click",function(){return i.onShowRules()}),z(28," shared.modals.quick-help.details "),I()()),2&e&&(F(2),Pe("",Ne(3,2,"shared.how_to_play"),"?"),F(8),Q("src",i.videoURL,cv))},directives:[jn],pipes:[Qn],styles:[".modal-header[_ngcontent-%COMP%], .modal-footer[_ngcontent-%COMP%]{background:#e69308!important}.modal-body[_ngcontent-%COMP%]{background:#f5a623}.modal-header[_ngcontent-%COMP%]{color:#965419!important;font-weight:700}.modal-header[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{color:#49290c!important}.step[_ngcontent-%COMP%]{display:flex;color:#5f3816;margin-top:15px}.step[_ngcontent-%COMP%]   .bullet[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;background:url(01-bet.3abfc8a0377d7f10.svg) no-repeat right;background-size:40px 40px;min-width:65px;max-width:65px;height:40px;font-size:18px;font-weight:700}.step[_ngcontent-%COMP%]   .bullet.bullet-2[_ngcontent-%COMP%]{background:url(02-watch.894883471c6dcfbf.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   .bullet.bullet-3[_ngcontent-%COMP%]{background:url(03-cashout.c3a9f1cc78219734.svg) no-repeat right;background-size:40px 40px}.step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding-left:15px;margin-bottom:0}.btn-link[_ngcontent-%COMP%]{color:#5f3816!important}.youtube[_ngcontent-%COMP%]{display:block;width:calc(100% + 2rem);margin-left:-1rem;margin-right:-1rem}"]}),n})();var Y_=(()=>(function(n){n.RealityCheck="reality_check"}(Y_||(Y_={})),Y_))(),wh=(()=>(function(n){n.Continue="CONTINUE",n.Stop="STOP"}(wh||(wh={})),wh))();function Qce(n,t){1&n&&(R(0,"p",7),z(1," shared.modals.notification.alderney_message "),I())}function Zce(n,t){if(1&n&&(R(0,"p",8),z(1),I()),2&n){const e=he();F(1),St(e.params.message)}}function ehe(n,t){if(1&n){const e=Ct();R(0,"p",9)(1,"button",10),Me("click",function(){return ft(e),he().onOpenAccountHistory()}),z(2," shared.modals.notification.account_history "),I()()}}function the(n,t){if(1&n){const e=Ct();R(0,"div",11)(1,"button",12),Me("click",function(){ft(e);const r=he();return r.onRealityCheck(r.realityCheckAction.Continue)}),z(2),Ce(3,"translate"),I(),R(4,"button",13),Me("click",function(){ft(e);const r=he();return r.onRealityCheck(r.realityCheckAction.Stop)}),z(5),Ce(6,"translate"),I()()}2&n&&(F(2),Pe(" ",Ne(3,2,"shared.continue")," "),F(3),Pe(" ",Ne(6,4,"shared.stop")," "))}function nhe(n,t){if(1&n){const e=Ct();R(0,"div",11)(1,"button",14),Me("click",function(){return ft(e),he().activeModal.close()}),z(2),Ce(3,"translate"),I()()}if(2&n){const e=he();F(1),Q("disabled",e.isAcknowledgeDisabled),F(1),Pe(" ",Ne(3,2,"shared.acknowledge")," ")}}let Ph=class{constructor(t,e,i,r,o,s,a,l){this.activeModal=t,this.connector=e,this.modal=i,this.frontEndProxyService=r,this.betControls=o,this.ifc=s,this.app=a,this.urlParams=l,this.realityCheckAction=wh,this.isAcknowledgeDisabled=!0}ngOnInit(){this.onInitIRC(),this.onInitAlderney()}onInitIRC(){this.isInternalRealityCheck&&this.betControls.cancelBets()}onInitAlderney(){this.isAlderney&&Uu(5e3).pipe(Tt(this)).subscribe(()=>this.isAcknowledgeDisabled=!1)}get isRCButtonsVisible(){return this.isRealityCheck||this.isInternalRealityCheck}get isRealityCheck(){return this.params.type===zl.RealityCheck}get isInternalRealityCheck(){return this.params.type===zl.InternalRealityCheck}get isAlderney(){return this.params.type===zl.Alderney}onRealityCheck(t){if(this.activeModal.close(),this.connector.request(bi.NotificationCallback,{notificationType:Y_.RealityCheck,action:t}),t===wh.Stop&&(this.frontEndProxyService.sendClosed(),this.connector.shutdown(si.shutdown),this.urlParams.returnUrl)){if(this.app.config.backToHomeActionType===kf.IfcEvent)return void this.frontEndProxyService.sendBackToHome(this.urlParams.returnUrl);window.open(this.urlParams.returnUrl,"_top")}}onOpenAccountHistory(){this.app.config.accountHistoryActionType===qg.IfcEvent?this.ifc.emitEvent(Ei.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_blank"):this.modal.open(Un.myBetsHistory)}};function ihe(n,t){if(1&n&&(R(0,"div",2),z(1),I()),2&n){const e=he();F(1),St(e.freeBetLabel)}}function rhe(n,t){if(1&n&&(R(0,"div"),z(1),I()),2&n){const e=he();F(1),St(e.amount.toFixed(e.app.config.betPrecision))}}Ph.\u0275fac=function(t){return new(t||Ph)(X(Wr),X(yi),X(Yo),X(M0),X(vl),X(iu),X(ln),X(tu))},Ph.\u0275cmp=gt({type:Ph,selectors:[["app-notification-modal"]],inputs:{params:"params"},decls:10,vars:8,consts:[[1,"modal-header"],[1,"text-uppercase"],[1,"modal-body","modal-bottom-radius"],["class","text-center p-4","translate","",4,"ngIf"],["class","text-center p-4",4,"ngIf"],["class","text-center",4,"ngIf"],["class","modal-footer d-flex justify-content-center",4,"ngIf"],["translate","",1,"text-center","p-4"],[1,"text-center","p-4"],[1,"text-center"],["translate","",1,"btn","btn-secondary","btn-sm","px-4",3,"click"],[1,"modal-footer","d-flex","justify-content-center"],[1,"btn","btn-success","btn-sm","text-uppercase",3,"click"],[1,"btn","btn-danger","btn-sm","ml-1","text-uppercase",3,"click"],[1,"btn","btn-success","btn-sm","ml-1","text-uppercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I()(),R(4,"div",2),ue(5,Qce,2,0,"p",3),ue(6,Zce,2,1,"p",4),ue(7,ehe,3,0,"p",5),I(),ue(8,the,7,6,"div",6),ue(9,nhe,4,4,"div",6)),2&t&&(F(2),St(Ne(3,6,"shared.notification")),F(3),Q("ngIf",e.isAlderney),F(1),Q("ngIf",e.isRCButtonsVisible),F(1),Q("ngIf",e.isRCButtonsVisible),F(1),Q("ngIf",e.isRCButtonsVisible),F(1),Q("ngIf",e.isAlderney))},directives:[Zt,jn],pipes:[Qn],styles:[".progress[_ngcontent-%COMP%]{width:160px;height:4px;border-radius:2px;background-color:#262830;margin:0 auto}.progress[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{width:100%;height:4px;border-radius:2px;transition-property:transform;transition-timing-function:linear}.progress[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#e50539!important;box-shadow:0 2px 4px #d0021b}.modal-body[_ngcontent-%COMP%]{white-space:pre-wrap}"]}),Ph=Ye([Ci()],Ph);let K0=(()=>{class n{constructor(e){this.app=e}get freeBetLabel(){return this.app.isBrandAdjarabet?"AVIA BET":"FREE BET"}}return n.\u0275fac=function(e){return new(e||n)(X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-bet-amount"]],inputs:{amount:"amount",isFreeBet:"isFreeBet"},decls:2,vars:2,consts:[["class","free-bet",4,"ngIf"],[4,"ngIf"],[1,"free-bet"]],template:function(e,i){1&e&&(ue(0,ihe,2,1,"div",0),ue(1,rhe,2,1,"div",1)),2&e&&(Q("ngIf",i.isFreeBet),F(1),Q("ngIf",!i.isFreeBet))},directives:[Zt],styles:[".free-bet[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;padding:1px 7px;font-size:10px;color:#f5a623;border:solid 1px #f5a623;border-radius:11px}"]}),n})();function ohe(n,t){if(1&n&&(R(0,"div",12),z(1),I()),2&n){const e=he();let i;F(1),Pe(" ",null!==(i=null==e.bet.startBalance?null:e.bet.startBalance.toFixed(e.app.config.betPrecision))&&void 0!==i?i:""," ")}}function she(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he();F(1),Pe(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision),"")}}let ahe=(()=>{class n{constructor(e,i,r){this.app=e,this.chat=i,this.main=r}}return n.\u0275fac=function(e){return new(e||n)(X(ln),X(Wa),X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:18,vars:19,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","d-flex","justify-content-end","pl-2"],[3,"amount","isFreeBet"],[1,"multiplier","d-flex","align-items-center","pl-2"],[3,"multiplier"],[1,"cash-out","pr-2"],[4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"start-balance","pl-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),z(3),Ce(4,"date"),I(),R(5,"div"),z(6),Ce(7,"date"),I()(),ue(8,ohe,2,1,"div",2),R(9,"div",3),Ae(10,"app-bet-amount",4),I(),R(11,"div",5),Ae(12,"app-bubble-multiplier",6),I(),R(13,"div",7),ue(14,she,2,1,"span",8),I(),R(15,"div",9)(16,"div",10),Me("click",function(){return i.main.checkFairness(i.bet.roundId)}),I(),R(17,"div",11),Me("click",function(){return i.chat.shareBet(i.bet.roundBetId)}),I()()()),2&e&&(at("large-width",i.app.config.isBetsHistoryStartBalanceEnabled)("celebrated",i.bet.winAmount),F(3),St(oi(4,13,i.bet.cashOutDate,"HH:mm")),F(3),St(oi(7,16,i.bet.cashOutDate,"dd-MM-yy")),F(2),Q("ngIf",i.app.config.isBetsHistoryStartBalanceEnabled),F(2),Q("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),F(2),Q("multiplier",i.bet.payout||i.bet.maxMultiplier),F(2),Q("ngIf",i.bet.winAmount),F(1),at("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[Zt,K0,bl],pipes:[sl],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:12px;min-width:18%}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right}.tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px;height:40px}.tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.e0096e2d85d728ea.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}.large-width[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;min-width:100%}.large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"]}),n})();function lhe(n,t){if(1&n&&(R(0,"div",18),z(1),Ce(2,"translate"),I()),2&n){const e=he();F(1),Yi(" ",Ne(2,2,"shared.Start_balance"),", ",e.app.config.currency," ")}}function uhe(n,t){1&n&&Ae(0,"app-bet-item",19),2&n&&Q("bet",t.$implicit)}function che(n,t){if(1&n){const e=Ct();R(0,"button",20),Me("click",function(){return ft(e),he().onLoadMore()}),z(1," shared.load_more "),I()}2&n&&Q("disabled",0===he().lastBetId)}function hhe(n,t){1&n&&(R(0,"div"),Ae(1,"app-loader"),I())}let Ah=class{constructor(t,e,i,r){this.cd=t,this.app=e,this.activeModal=i,this.connector=r,this.betHistory=[],this.loaded=!1,this.lastBetId=0}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(yn.BetHistory,200).pipe(Tt(this),Ut(()=>!this.loaded)).subscribe(t=>{this.lastBetId=t.hasOwnProperty("lastBetId")?t.lastBetId:0,this.betHistory=this.betHistory.concat(t.bets),this.loaded=!0,this.cd.detectChanges()})}getMyBetsStatistics(t=0){this.loaded=!1,this.connector.request(bi.BetHistory,0===t?null:{lastBetId:t})}onLoadMore(){this.getMyBetsStatistics(this.lastBetId)}};Ah.\u0275fac=function(t){return new(t||Ah)(X(Mn),X(ln),X(Wr),X(yi))},Ah.\u0275cmp=gt({type:Ah,selectors:[["app-my-bets-history"]],decls:28,vars:17,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","px-1","py-2"],[1,"bet-list","pb-2"],[1,"legend","d-flex","align-items-center"],["translate","",1,"date","pl-1"],["class","start-balance pl-2",4,"ngIf"],[1,"bet","pl-1"],[1,"multiplier","pl-2"],[1,"cash-out","pl-1","pr-2"],[1,"tools"],[1,"bet-list-body"],[3,"bet",4,"ngFor","ngForOf"],[1,"text-center","pt-1"],["type","button","class","btn btn-secondary px-3 btn-sm","translate","",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"start-balance","pl-2"],[3,"bet"],["type","button","translate","",1,"btn","btn-secondary","px-3","btn-sm",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return e.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7),z(11,"game.bets-widget.date"),I(),ue(12,lhe,3,4,"div",8),R(13,"div",9),z(14),Ce(15,"translate"),I(),R(16,"div",10),z(17,"X"),I(),R(18,"div",11),z(19),Ce(20,"translate"),I(),Ae(21,"div",12),I(),R(22,"div",13),qt(23),ue(24,uhe,1,1,"app-bet-item",14),Jt(),I()(),R(25,"div",15),ue(26,che,2,1,"button",16),ue(27,hhe,2,0,"div",17),I()()),2&t&&(F(2),St(Ne(3,11,"shared.my_bet_history")),F(7),at("large-width",e.app.config.isBetsHistoryStartBalanceEnabled),F(3),Q("ngIf",e.app.config.isBetsHistoryStartBalanceEnabled),F(2),Yi(" ",Ne(15,13,"shared.bet"),", ",e.app.config.currency," "),F(5),Yi(" ",Ne(20,15,"shared.cash_out"),", ",e.app.config.currency," "),F(5),Q("ngForOf",e.betHistory),F(2),Q("ngIf",e.loaded),F(1),Q("ngIf",!e.loaded))},directives:[jn,Zt,Ti,ahe,Th],pipes:[Qn],styles:[".bet-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow-x:auto}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:55px;max-width:55px}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .start-balance[_ngcontent-%COMP%]{min-width:100px;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:28%;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}.bet-list[_ngcontent-%COMP%]   .legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-list[_ngcontent-%COMP%]   .bet-list-body[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;position:relative}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:60px;max-width:60px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:100px}.bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%], .bet-list[_ngcontent-%COMP%]   .large-width[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{min-width:85px}"],changeDetection:0}),Ah=Ye([Ci()],Ah);let dhe=(()=>{class n{constructor(e,i){this.activeModal=e,this.app=i}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-game-limits"]],decls:33,vars:9,consts:[[1,"modal-header","canSelect"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-4"],[1,"list-group"],[1,"list-group-item","pl-2","pr-1"],["translate",""],[1,"badge","badge-success","px-2","font-weight-normal"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return i.activeModal.close()}),R(5,"span",3),z(6,"\xd7"),I()()(),R(7,"div",4)(8,"ul",5)(9,"li",6)(10,"div")(11,"span",7),z(12,"shared.modals.game-limits.min-bet"),I(),R(13,"span"),z(14),I()(),R(15,"span",8),z(16),I()(),R(17,"li",6)(18,"div")(19,"span",7),z(20,"shared.modals.game-limits.max-bet"),I(),R(21,"span"),z(22),I()(),R(23,"span",8),z(24),I()(),R(25,"li",6)(26,"div")(27,"span",7),z(28,"shared.modals.game-limits.max-win-one-bet"),I(),R(29,"span"),z(30),I()(),R(31,"span",8),z(32),I()()()()),2&e&&(F(2),St(Ne(3,7,"shared.game_limits")),F(12),Pe("(",i.app.config.currency,"):"),F(2),Pe(" ",i.app.config.minBet," "),F(6),Pe("(",i.app.config.currency,"):"),F(2),Pe(" ",i.app.config.maxBet," "),F(6),Pe("(",i.app.config.currency,"):"),F(2),Pe(" ",i.app.config.maxUserWin," "))},directives:[jn],pipes:[Qn],styles:[".list-group[_ngcontent-%COMP%]{border-radius:8px;color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border:1px solid rgba(255,255,255,.1);display:flex;justify-content:space-between;align-items:center;font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom:0}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:last-child{border-top:0}"]}),n})(),q0=(()=>{class n{constructor(e){this.cd=e,this.toggle=new jt,this.checked=!1,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClick(){this.disabled||(this.checked=!this.checked,this.onModelChange(this.checked),this.toggle.emit(this.checked))}writeValue(e){this.checked=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(X(Mn))},n.\u0275cmp=gt({type:n,selectors:[["app-ui-switcher"]],inputs:{disabled:"disabled"},outputs:{toggle:"toggle"},features:[Zn([{provide:Wo,useExisting:gn(()=>n),multi:!0}])],decls:2,vars:4,consts:[[1,"input-switch",3,"click"],[1,"oval"]],template:function(e,i){1&e&&(R(0,"div",0),Me("click",function(){return i.onClick()}),Ae(1,"span",1),I()),2&e&&at("off",!i.checked)("disabled",i.disabled)},styles:[".input-switch[_ngcontent-%COMP%]{display:flex;align-items:center;cursor:pointer;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;padding:0 2px;justify-content:flex-end;width:36px;height:18px;border-radius:9px;border:solid 1px #60ae05;background-color:#229607}.input-switch[_ngcontent-%COMP%]   span.oval[_ngcontent-%COMP%]{min-width:14px;max-width:14px;height:14px;box-shadow:inset 0 0 7px #00000029;background-color:#fff;border:solid 2px #a3b98a;border-radius:50%}.input-switch[_ngcontent-%COMP%]   span.text[_ngcontent-%COMP%]{width:100%;text-align:center}.input-switch.off[_ngcontent-%COMP%]{border:1px solid rgba(255,255,255,.51);background:none;justify-content:flex-start}.input-switch.disabled[_ngcontent-%COMP%]{cursor:default!important;opacity:.5!important}"]}),n})();function fhe(n,t){if(1&n){const e=Ct();R(0,"li",6)(1,"div")(2,"span",7),z(3),I()(),R(4,"app-ui-switcher",8),Me("toggle",function(r){const s=ft(e).$implicit;return he().user.settings.changeOther(s,r)}),I()()}if(2&n){const e=t.$implicit,i=he();F(3),Pe("shared.modals.other_settings.",i.translations.get(e),""),F(1),Q("ngModel",i.user.settings.getOther(e))}}let phe=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.user=r,this.translations=new Map([[Va.HideLiveBetsAndStatistics,"Hide_Live_Bets_and_Statistics"],[Va.HideMyActivity,"Hide_My_Activity"]])}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(ln),X(Ha))},n.\u0275cmp=gt({type:n,selectors:[["app-other-settings"]],decls:10,vars:4,consts:[[1,"modal-header","canSelect"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","py-2","px-2"],[1,"list-group"],["class","list-group-item d-flex justify-content-between align-items-center px-0",4,"ngFor","ngForOf"],[1,"list-group-item","d-flex","justify-content-between","align-items-center","px-0"],["translate",""],[3,"ngModel","toggle"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span"),z(2),Ce(3,"translate"),I(),R(4,"button",1),Me("click",function(){return i.activeModal.close()}),R(5,"span",2),z(6,"\xd7"),I()()(),R(7,"div",3)(8,"ul",4),ue(9,fhe,5,2,"li",5),I()()),2&e&&(F(2),St(Ne(3,2,"shared.modals.other_settings.title")),F(7),Q("ngForOf",i.user.settings.otherKeys))},directives:[Ti,jn,q0,ea,Ps],pipes:[Qn],styles:[".list-group[_ngcontent-%COMP%]{color:#fff}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:transparent;border-top:1px solid rgba(255,255,255,.1);font-size:14px;height:34px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.badge.badge-success[_ngcontent-%COMP%]{border-radius:11px;background-color:#123405;border:1px solid #427f00;font-size:14px}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]:first-child{border-top:0}"]}),n})(),ghe=(()=>{class n{constructor(e,i){this.ngbModal=e,this.modal=i}init(){this.modal.onOpen$.subscribe(e=>this.open(e.key,e.params))}open(e,i=null){switch(e){case Un.bugReport:break;case Un.fairness:this.ngbModal.open(Ch,{size:"lg"}).componentInstance.betId=i;break;case Un.fairnessSettings:this.ngbModal.open(Oh,{size:"lg"});break;case Un.freeBets:this.ngbModal.open(Mh);break;case Un.avatar:this.ngbModal.open(_ce,{size:"lg"});break;case Un.rules:this.ngbModal.open(qce,{size:"xl"});break;case Un.whatIsPf:this.ngbModal.open(hce,{size:"xl"});break;case Un.quickHelp:this.ngbModal.open(Jce,{size:"lg"});break;case Un.notification:this.ngbModal.hasOpenModals()&&this.ngbModal.dismissAll(),this.ngbModal.open(Ph,{backdrop:"static"}).componentInstance.params=i;break;case Un.myBetsHistory:this.ngbModal.open(Ah);break;case Un.gameLimits:this.ngbModal.open(dhe);break;case Un.otherSettings:this.ngbModal.open(phe)}}}return n.\u0275fac=function(e){return new(e||n)(ke(X0),ke(Yo))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _he(n,t){if(1&n&&(R(0,"div",34),z(1),I()),2&n){const e=he(2);F(1),Pe(" ",e.freeBets.freeBetsCount," ")}}function mhe(n,t){if(1&n){const e=Ct();R(0,"div",31),Me("click",function(){return ft(e),he().onFreeBetsManagementOpen()}),R(1,"div",13)(2,"div",14),Ae(3,"div",32),I(),R(4,"div",25),z(5),Ce(6,"translate"),I(),ue(7,_he,2,1,"div",33),I()()}if(2&n){const e=he();F(5),Pe(" ",Ne(6,2,"shared.free_bets")," "),F(2),Q("ngIf",e.freeBets.freeBetsCount>0)}}function vhe(n,t){if(1&n){const e=Ct();R(0,"div",23),Me("click",function(){return ft(e),he().onOtherSettingsOpen()}),R(1,"div",13)(2,"div",14),Ae(3,"div",35),I(),R(4,"div",36),z(5),Ce(6,"translate"),I()()()}2&n&&(F(5),Pe(" ",Ne(6,1,"shared.Other_Settings")," "))}function yhe(n,t){if(1&n){const e=Ct();R(0,"a",37),Me("click",function(){return ft(e),he().onBackToHome()}),Ae(1,"div",38),R(2,"span",9),z(3,"shared.home"),I()()}}let xh=class{constructor(t,e,i,r,o,s,a,l,u,g,E,w){this.connector=t,this.mainService=e,this.app=i,this.user=r,this.sound=o,this.betControl=s,this.freeBets=a,this.proxy=l,this.ifc=u,this.cd=g,this.modal=E,this.urlParams=w}ngOnInit(){this.ifc.command(Cr.OpenHelp).pipe(Tt(this)).subscribe(()=>this.onRulesOpen()),this.ifc.command(Cr.SetSound).pipe(Tt(this)).subscribe(t=>this.setSetting(Cr.SetSound,t.value)),this.ifc.command(Cr.SetMusic).pipe(Tt(this)).subscribe(t=>this.setSetting(Cr.SetMusic,t.value)),this.ifc.command(Cr.SetAnimation).pipe(Tt(this)).subscribe(t=>this.setSetting(Cr.SetAnimation,t.value))}setSetting(t,e){switch(t){case Cr.SetSound:this.user.settings.sound=e;break;case Cr.SetMusic:this.user.settings.music=e;break;case Cr.SetAnimation:this.user.settings.animation=e}this.cd.detectChanges()}get avatar(){return Wi_avatarPath+this.user.avatar+`?v=${Wi_version}`}onChangeAvatar(){this.modal.open(Un.avatar)}onFreeBetsManagementOpen(){!1===this.betControl.isBetSetted&&this.modal.open(Un.freeBets)}onFairnessOpen(){this.modal.open(Un.fairnessSettings)}onRulesOpen(){this.modal.open(Un.rules)}onMyBetsHistoryOpen(){this.app.config.accountHistoryActionType===qg.IfcEvent?this.ifc.emitEvent(Ei.AccountHistory,{accountHistoryUrl:this.urlParams.accountHistoryUrl}):this.urlParams.accountHistoryUrl?window.open(this.urlParams.accountHistoryUrl,"_top"):this.modal.open(Un.myBetsHistory)}onGameLimitsOpen(){this.modal.open(Un.gameLimits)}onOtherSettingsOpen(){this.modal.open(Un.otherSettings)}onBackToHome(){if(this.app.config.backToHomeActionType===kf.IfcEvent)return this.proxy.sendBackToHome(this.urlParams.returnUrl),void this.ifc.emitEvent(Ei.BackToHome,{returnUrl:this.urlParams.returnUrl});window.open(this.urlParams.returnUrl,"_top")}};function bhe(n,t){if(1&n&&(R(0,"a",16),Ae(1,"img",17),I()),2&n){const e=he();at("disabled",null===e.urlParams.returnUrl),Q("href",e.homeUrl,so),F(1),Q("src",e.brandLogo,so)}}function Ehe(n,t){if(1&n){const e=Ct();R(0,"button",18),Me("click",function(){return ft(e),he().onOpenHelp()}),Ae(1,"div",19),R(2,"div",20),z(3),Ce(4,"translate"),I()()}2&n&&(F(3),Pe(" ",Ne(4,1,"shared.how_to_play"),"? "))}function She(n,t){if(1&n&&(R(0,"div",21),z(1),I()),2&n){const e=he();F(1),Pe(" ",e.freeBets.freeBetsCount," ")}}function The(n,t){if(1&n){const e=Ct();R(0,"div",22),Me("click",function(){ft(e);const r=he();return r.chat.isOpen=!r.chat.isOpen}),Ae(1,"div",23),I()}}xh.\u0275fac=function(t){return new(t||xh)(X(yi),X(Vi),X(ln),X(Ha),X(rp),X(vl),X(ru),X(M0),X(iu),X(Mn),X(Yo),X(tu))},xh.\u0275cmp=gt({type:xh,selectors:[["app-settings-menu"]],decls:72,vars:21,consts:[[1,"user"],[1,"first-block","p-2"],[1,"user-info"],[1,"avatar"],[3,"src","alt"],[1,"name"],["ngbDropdownItem","",1,"avatar-change",3,"click"],[1,"avatar-logo"],[1,"change-text"],["translate",""],[1,"second-block"],[1,"list-menu","pb-3"],[1,"list-menu-item"],[1,"title"],[1,"icon-wrapper"],[1,"sound-icon"],["translate","",1,"title-text"],[1,"switch"],[3,"ngModel","ngModelChange"],[1,"music-icon"],[1,"animation-icon"],[1,"list-menu"],["class","list-menu-item info-item","ngbDropdownItem","","translate","",3,"click",4,"ngIf"],["ngbDropdownItem","",1,"list-menu-item","info-item",3,"click"],[1,"icon","fair-icon"],[1,"title-text-info","text-capitalize"],[1,"icon","rule-icon"],[1,"icon","history-icon"],[1,"icon","limits-icon"],["class","list-menu-item info-item","ngbDropdownItem","",3,"click",4,"ngIf"],["class","logout","href","javascript:void(0)",3,"click",4,"ngIf"],["ngbDropdownItem","","translate","",1,"list-menu-item","info-item",3,"click"],[1,"icon","star-icon"],["class","badge badge-danger badge-notification",4,"ngIf"],[1,"badge","badge-danger","badge-notification"],[1,"icon","other-icon"],[1,"title-text-info"],["href","javascript:void(0)",1,"logout",3,"click"],[1,"home-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),Ae(4,"img",4),I(),R(5,"div",5),z(6),I()(),R(7,"div",6),Me("click",function(){return e.onChangeAvatar()}),Ae(8,"div",7),R(9,"div",8)(10,"div",9),z(11,"shared.change"),I(),R(12,"div",9),z(13,"shared.avatar"),I()()()(),R(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"div",14),Ae(19,"div",15),I(),R(20,"span",16),z(21,"shared.sound"),I()(),R(22,"div",17)(23,"app-ui-switcher",18),Me("ngModelChange",function(r){return e.user.settings.sound=r}),I()()(),R(24,"div",12)(25,"div",13)(26,"div",14),Ae(27,"div",19),I(),R(28,"span",16),z(29,"shared.music"),I()(),R(30,"div",17)(31,"app-ui-switcher",18),Me("ngModelChange",function(r){return e.user.settings.music=r}),I()()(),R(32,"div",12)(33,"div",13)(34,"div",14),Ae(35,"div",20),I(),R(36,"span",16),z(37,"shared.animation"),I()(),R(38,"div",17)(39,"app-ui-switcher",18),Me("ngModelChange",function(r){return e.user.settings.animation=r}),I()()()(),R(40,"div",21),ue(41,mhe,8,4,"div",22),R(42,"div",23),Me("click",function(){return e.onFairnessOpen()}),R(43,"div",13)(44,"div",14),Ae(45,"div",24),I(),R(46,"div",25),z(47),Ce(48,"translate"),I()()(),R(49,"div",23),Me("click",function(){return e.onRulesOpen()}),R(50,"div",13)(51,"div",14),Ae(52,"div",26),I(),R(53,"div",25),z(54),Ce(55,"translate"),I()()(),R(56,"div",23),Me("click",function(){return e.onMyBetsHistoryOpen()}),R(57,"div",13)(58,"div",14),Ae(59,"div",27),I(),R(60,"div",25),z(61),Ce(62,"translate"),I()()(),R(63,"div",23),Me("click",function(){return e.onGameLimitsOpen()}),R(64,"div",13)(65,"div",14),Ae(66,"div",28),I(),R(67,"div",25),z(68),Ce(69,"translate"),I()()(),ue(70,vhe,7,3,"div",29),I()(),ue(71,yhe,4,0,"a",30),I()),2&t&&(F(4),Q("src",e.avatar,so)("alt",e.avatar),F(2),St(e.app.getFormattedUsername(e.user.username)),F(17),Q("ngModel",e.user.settings.sound),F(8),Q("ngModel",e.user.settings.music),F(8),Q("ngModel",e.user.settings.animation),F(2),Q("ngIf",e.app.isFreeBetsEnabled),F(6),Pe(" ",Ne(48,13,"shared.provably_fair_settings")," "),F(7),Pe(" ",Ne(55,15,"shared.game_rules")," "),F(7),Pe(" ",Ne(62,17,"shared.my_bet_history")," "),F(7),Pe(" ",Ne(69,19,"shared.game_limits")," "),F(2),Q("ngIf",e.user.settings.isOtherEnabled),F(1),Q("ngIf",e.urlParams.returnUrl))},directives:[gw,jn,q0,ea,Ps,Zt],pipes:[Qn],styles:[".user[_ngcontent-%COMP%]{width:100%;max-width:320px;border-radius:6px;background:#2c2d30;box-shadow:10px 10px 20px #000000b3}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{display:flex;align-items:center;font-size:16px;line-height:16px;font-weight:700;color:#fff;width:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:40px;height:40px;min-width:40px;min-height:40px;border-radius:50%;position:relative}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{margin-left:10px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]{background:#252528;display:flex;justify-content:center;align-items:center;font-size:12px;color:#83878e;cursor:pointer;padding:6px 15px 6px 10px;width:auto;border:solid 1px #414148;border-radius:21px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .avatar-logo[_ngcontent-%COMP%]{background:url(av.f02b9dd771d998f5.svg) no-repeat center center/contain;width:20px;height:20px}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%]{margin-left:4px;display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:1}.user[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .avatar-change[_ngcontent-%COMP%]   .change-text[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;color:#fff;padding-bottom:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu[_ngcontent-%COMP%]{min-width:124px;font-size:14px;line-height:12px;display:flex;flex-direction:column;justify-content:center;align-items:center}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]{width:100%;background-color:#1b1c1d;border-top:solid 1px rgba(255,255,255,.1);display:flex;height:45px;align-items:center;padding:7px 10px;justify-content:space-between}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]:first-child{border-top:0;height:44px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]{white-space:normal}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.info-item[_ngcontent-%COMP%]{cursor:pointer}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item.border-bottom[_ngcontent-%COMP%]{border-bottom:solid 1px rgba(255,255,255,.1)!important}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;color:#fff}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title-text-info[_ngcontent-%COMP%]{font-size:14px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:24px;display:flex;justify-content:center;margin-right:4px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .sound-icon[_ngcontent-%COMP%]{background:url(sound.7de2fa68db9e693f.svg) no-repeat center center/contain;width:15px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .music-icon[_ngcontent-%COMP%]{background:url(music.bab0db6ddc4f0013.svg) no-repeat center center/contain;width:16px;height:18px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .animation-icon[_ngcontent-%COMP%]{background:url(animation.b84ddfd4bbbc03e5.svg) no-repeat center center/contain;width:18px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .star-icon[_ngcontent-%COMP%]{background:url(star-menu.2420fd6cd7e47259.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .fair-icon[_ngcontent-%COMP%]{background:url(pf.3cce29a379dde9c5.svg) no-repeat center center/contain;width:13px;height:16px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .rule-icon[_ngcontent-%COMP%]{background:url(rules.700839c06e198a2e.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-grey.42156111146ca273.svg) no-repeat center center/contain;width:16px;height:15px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .limits-icon[_ngcontent-%COMP%]{background:url(limits.31c7a66c425df21e.svg) no-repeat center center/contain;width:16px;height:10px}.user[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .list-menu-item[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   .other-icon[_ngcontent-%COMP%]{background:url(other-settings.62e86bcf2523195c.svg) no-repeat center center/contain;width:16px;height:16px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3;display:flex;justify-content:center;align-items:center;padding-bottom:16px;cursor:pointer}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   .home-icon[_ngcontent-%COMP%]{width:16px;height:14px;background-image:url(home.8ea300e6c072aab3.svg);margin-right:5px}.user[_ngcontent-%COMP%]   .logout[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-top:2px}.badge-notification[_ngcontent-%COMP%]{margin-left:4px}"]}),xh=Ye([Ci()],xh);let Rh=class{constructor(t,e,i,r,o,s,a,l,u,g){this.mainService=t,this.chat=e,this.modal=i,this.cd=r,this.connector=o,this.freeBets=s,this.ifc=a,this.userService=l,this.app=u,this.urlParams=g}ngOnInit(){this.chat.isOpen$.pipe(Tt(this)).subscribe(()=>this.cd.detectChanges()),this.connector.response(yn.NewBalance,200).pipe(Tt(this)).subscribe(t=>{this.userService.balance=t.newBalance,this.ifc.emitEvent(Ei.UpdateBalance,{amount:this.userService.balance,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}),this.freeBets.onUpdate$.pipe(Tt(this)).subscribe(()=>{this.cd.detectChanges()}),this.ifc.command(Cr.SetBalance).pipe(Tt(this)).subscribe(t=>{this.userService.balance=t.value,this.cd.detectChanges()})}get homeUrl(){return this.urlParams.returnUrl?this.urlParams.returnUrl:"#"}get brandLogo(){return`${Wi_brandPath}${this.app.clientConfig.brandLogo}?v=${Wi_version}`}onOpenHelp(){this.modal.open(Un.quickHelp)}};Rh.\u0275fac=function(t){return new(t||Rh)(X(Vi),X(Wa),X(Yo),X(Mn),X(yi),X(ru),X(iu),X(Ha),X(ln),X(tu))},Rh.\u0275cmp=gt({type:Rh,selectors:[["app-header"]],decls:20,vars:11,consts:[[1,"header","h-100","d-flex","justify-content-between","align-items-center"],[1,"first-block","h-100","d-flex","align-items-center"],["target","_top","class","main-page-btn position-relative ml-1 ml-md-2",3,"href","disabled",4,"ngIf"],[1,"game-logo","h-100","ml-1","ml-md-2"],["class","btn btn-sm btn-quick-help disabled-on-game-focused shadow-none p-0 px-1",3,"click",4,"ngIf"],[1,"second-block","d-flex"],[1,"d-flex","h-100"],[1,"balance","px-2","d-flex","justify-content-end","align-items-center"],[1,"amount","font-weight-bold"],[1,"currency"],["ngbDropdown","",1,"user-wrapper","h-100",3,"placement"],["ngbDropdownToggle","",1,"user","w-100","h-100","px-2","d-flex","align-items-center","position-relative","disabled-on-game-focused"],[1,"burger-i","h-100"],["class","badge badge-danger badge-notification position-absolute",4,"ngIf"],["ngbDropdownMenu","",1,"user-menu-dropdown"],["class","chat-i-wrapper h-100 px-2",3,"click",4,"ngIf"],["target","_top",1,"main-page-btn","position-relative","ml-1","ml-md-2",3,"href"],["alt","home",1,"d-block","h-100","w-100",3,"src"],[1,"btn","btn-sm","btn-quick-help","disabled-on-game-focused","shadow-none","p-0","px-1",3,"click"],[1,"question-i","d-inline-block","align-middle"],[1,"d-none","d-md-inline-block","align-middle","pl-1"],[1,"badge","badge-danger","badge-notification","position-absolute"],[1,"chat-i-wrapper","h-100","px-2",3,"click"],[1,"chat-i","h-100"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),ue(2,bhe,2,4,"a",2),Ae(3,"div",3),ue(4,Ehe,5,3,"button",4),I(),R(5,"div",5)(6,"div",6)(7,"div",7)(8,"div")(9,"span",8),z(10),I(),R(11,"span",9),z(12),I()()(),R(13,"div",10)(14,"div",11),Ae(15,"div",12),ue(16,She,2,1,"div",13),R(17,"div",14),Ae(18,"app-settings-menu"),I()()()(),ue(19,The,2,0,"div",15),I()()),2&t&&(F(2),Q("ngIf",e.app.clientConfig.brandLogo),F(1),at("game-logo-ab",e.app.isBrandAdjarabet),F(1),Q("ngIf",!0===e.app.config.quickHelp),F(3),at("long-precision",e.app.isLongPrecision),F(3),Pe(" ",e.userService.formattedBalance," "),F(2),St(e.app.config.currency),F(1),Q("placement","bottom-right"),F(3),Q("ngIf",e.freeBets.freeBetsCount>0),F(3),Q("ngIf",!e.chat.isOpen&&e.app.config.chat.isEnabled))},directives:[Zt,hp,_w,z0,xh],pipes:[Qn],styles:[".header[_ngcontent-%COMP%]{background-color:#1b1c1d}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]{justify-content:space-evenly}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:18px;height:18px;cursor:pointer}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn.disabled[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]:hover{opacity:.9}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .main-page-btn[_ngcontent-%COMP%]{width:20px;height:20px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:72px;background:url(aviator-logo.cafbd29233306bf7.svg) no-repeat center center/contain}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo.game-logo-ab[_ngcontent-%COMP%]{background:url(aviator-logo-ab.83de67e984debc60.svg) no-repeat center center/contain}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .game-logo[_ngcontent-%COMP%]{width:84px}}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{text-shadow:none;margin-left:2px}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:20px;height:20px;background:url(question-gray.10476c54b3bdaed7.svg) no-repeat center center}@media (min-width: 768px){.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]{margin-left:20px;color:#5f3816;background-color:#e69308}.header[_ngcontent-%COMP%]   .first-block[_ngcontent-%COMP%]   .btn-quick-help[_ngcontent-%COMP%]   .question-i[_ngcontent-%COMP%]{width:16px;height:16px;background-image:url(question-brown.7770399d23b5438d.svg)}}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]{height:26px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:16px;color:#28a909}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{color:#9b9c9e;font-size:12px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .balance.long-precision[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .burger-i[_ngcontent-%COMP%]{width:18px;background:url(burger.2dd58692fde31c48.svg) no-repeat center center}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{cursor:pointer}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .badge-notification[_ngcontent-%COMP%]{top:0px;right:0px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-wrapper.show[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]:before{opacity:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .user-menu-dropdown[_ngcontent-%COMP%]{width:320px}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;padding:0;margin:0}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]{border-left:1px solid #464648}.header[_ngcontent-%COMP%]   .second-block[_ngcontent-%COMP%]   .chat-i-wrapper[_ngcontent-%COMP%]   .chat-i[_ngcontent-%COMP%]{width:19px;cursor:pointer;background:url(chat.b016cf6877c43f2e.svg) no-repeat center center}"],changeDetection:0}),Rh=Ye([Ci()],Rh);var fp=(()=>(function(n){n.AllBets="All Bets",n.MyBets="My Bets",n.Top="Top"}(fp||(fp={})),fp))();const Che=["slider"],Ohe=function(n){return{width:n}};function Mhe(n,t){if(1&n){const e=Ct();qt(0),R(1,"button",4),Me("click",function(){const o=ft(e).$implicit;return he().onClickTab(o)}),z(2),I(),Jt()}if(2&n){const e=t.$implicit,i=he();F(1),at("active",i.activeTab===e),Q("ngStyle",Pa(5,Ohe,i.tabWidth+"px")),F(1),Yi(" ",i.translatePath,".",e," ")}}const whe=function(n,t){return{width:n,background:t}};let bw=(()=>{class n{constructor(e,i){this.renderer=e,this.cd=i,this.tabWidth=100,this.disabled=!1,this.height=20,this.slidingColor="rgb(44, 45, 48)",this.toggle=new jt,this.borderWidth=2,this.onModelChange=()=>{},this.onModelTouched=()=>{}}onClickTab(e){this.disabled||this.activeTab!==e&&(this.toggle.emit(e),this.writeValue(e))}findSlidingPosition(e,i,r){return i*r.indexOf(e)+"px"}setPositionSlider(){const e=this.findSlidingPosition(this.activeTab,this.tabWidth,this.tabs);["webkitTransform","MozTransform","msTransform","OTransform","transform"].forEach(r=>{this.renderer.setStyle(this.slider.nativeElement,r,`translate(${e})`)})}writeValue(e){this.activeTab=e,this.onModelChange(this.activeTab),this.setPositionSlider(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}}return n.\u0275fac=function(e){return new(e||n)(X(Eo),X(Mn))},n.\u0275cmp=gt({type:n,selectors:[["app-navigation-switcher"]],viewQuery:function(e,i){if(1&e&&Jo(Che,7),2&e){let r;Kn(r=qn())&&(i.slider=r.first)}},inputs:{tabWidth:"tabWidth",disabled:"disabled",height:"height",tabs:"tabs",translatePath:"translatePath",slidingColor:"slidingColor"},outputs:{toggle:"toggle"},features:[Zn([{provide:Wo,useExisting:gn(()=>n),multi:!0}])],decls:4,vars:7,consts:[[1,"navigation-switcher"],[1,"slider",3,"ngStyle"],["slider",""],[4,"ngFor","ngForOf"],["translate","",1,"tab",3,"ngStyle","click"]],template:function(e,i){1&e&&(R(0,"div",0),Ae(1,"div",1,2),ue(3,Mhe,3,7,"ng-container",3),I()),2&e&&(at("disabled",i.disabled),F(1),Q("ngStyle",Aa(4,whe,i.tabWidth+"px",i.slidingColor)),F(2),Q("ngForOf",i.tabs))},directives:[Bg,Ti,jn],styles:[".navigation-switcher[_ngcontent-%COMP%]{height:100%;background:#141516;border-radius:10px;border:solid 1px #141516;position:relative}.navigation-switcher.disabled[_ngcontent-%COMP%]{opacity:.5}.navigation-switcher.disabled[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{cursor:default;pointer-events:none}.navigation-switcher[_ngcontent-%COMP%]   .slider[_ngcontent-%COMP%]{height:100%;position:absolute;border-radius:10px;transition:transform .5s ease}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{height:100%;position:relative;text-align:center;background:none;border:none;color:#9ea0a3;padding:0}.navigation-switcher[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.navigation-switcher[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{color:#fff;cursor:default}"]}),n})();function Phe(n,t){if(1&n){const e=Ct();R(0,"div",11),Me("click",function(){ft(e);const r=he();return r.main.checkFairness(r.roundInfo.roundId)}),Ae(1,"app-bubble-multiplier",12),I()}if(2&n){const e=he();F(1),Q("multiplier",e.roundInfo.multiplier)}}let Ahe=(()=>{class n{constructor(e,i){this.app=e,this.main=i,this.previousHand=new jt}setPreviousHand(){this.previousHand.emit(!this.isPreviousHand)}}return n.\u0275fac=function(e){return new(e||n)(X(ln),X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-header"]],inputs:{roundInfo:"roundInfo",total:"total",isPreviousHand:"isPreviousHand"},outputs:{previousHand:"previousHand"},decls:24,vars:15,consts:[[1,"all-bets-block","d-flex","justify-content-between","align-items-center","px-2","pb-1"],[1,"text-uppercase"],["class","multiplier disabled-on-game-focused",3,"click",4,"ngIf"],[1,"previous-hand","d-flex","justify-content-between","align-items-center",3,"click"],[1,"history-i"],["translate","",1,"text","ml-1"],[1,"spacer"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"user"],[1,"bet"],[1,"cash-out"],[1,"multiplier","disabled-on-game-focused",3,"click"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div")(2,"div",1),z(3),Ce(4,"translate"),I(),R(5,"div"),z(6),I()(),ue(7,Phe,2,1,"div",2),R(8,"div",3),Me("click",function(){return i.setPreviousHand()}),Ae(9,"div",4),R(10,"span",5),z(11,"game.bets-widget.previous hand"),I()()(),Ae(12,"div",6),R(13,"div",7)(14,"span",8),z(15,"game.bets-widget.user"),I(),R(16,"span",9),z(17),Ce(18,"translate"),I(),R(19,"span"),z(20,"X"),I(),R(21,"span",10),z(22),Ce(23,"translate"),I()()),2&e&&(F(3),Pe(" ",Ne(4,9,"game.bets-widget.All Bets")," "),F(3),St(i.total),F(1),Q("ngIf",i.isPreviousHand&&!!i.roundInfo),F(1),at("on",i.isPreviousHand),F(9),Yi(" ",Ne(18,11,"shared.bet"),", ",i.app.config.currency," "),F(5),Yi(" ",Ne(23,13,"shared.cash_out"),", ",i.app.config.currency," "))},directives:[Zt,bl,jn],pipes:[Qn],styles:[".all-bets-block[_ngcontent-%COMP%]{font-size:14px;line-height:1.2}.all-bets-block[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{cursor:pointer;font-size:12px}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]{height:20px;font-size:12px;padding:0 8px 0 3px;white-space:nowrap;color:#9ea0a3;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]:hover   .history-i[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{color:#fff;width:17px;height:16px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]{border:solid 1px #e90000;background-color:#600}.all-bets-block[_ngcontent-%COMP%]   .previous-hand.on[_ngcontent-%COMP%]   .history-i[_ngcontent-%COMP%]{margin-left:5px;right:7px;height:12px;width:12px;background:url(close.f62b9233d6078bd1.svg) no-repeat center center/contain}.spacer[_ngcontent-%COMP%]{height:2px;background-color:#141516}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;height:20px}.legend[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;text-align:right;white-space:nowrap}"],changeDetection:0}),n})();function J0(n,t=0){return function Rhe(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}const W_={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=W_;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new f(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=W_;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=W_;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0},khe=new class Nhe extends UT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ihe extends BT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=W_.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(W_.cancelAnimationFrame(e),t._scheduled=void 0)}});let Ew,Fhe=1;const Q0={};function R5(n){return n in Q0&&(delete Q0[n],!0)}const Bhe={setImmediate(n){const t=Fhe++;return Q0[t]=!0,Ew||(Ew=Promise.resolve()),Ew.then(()=>R5(t)&&n()),t},clearImmediate(n){R5(n)}},{setImmediate:Lhe,clearImmediate:Uhe}=Bhe,Z0={setImmediate(...n){const{delegate:t}=Z0;return((null==t?void 0:t.setImmediate)||Lhe)(...n)},clearImmediate(n){const{delegate:t}=Z0;return((null==t?void 0:t.clearImmediate)||Uhe)(n)},delegate:void 0},Vhe=new class jhe extends UT{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ghe extends BT{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Z0.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Z0.clearImmediate(e),t._scheduled=void 0)}});let Sw;try{Sw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){Sw=!1}let eb,Dh,D5=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?Lg(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Sw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(ke(Ic))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $_(){if("object"!=typeof document||!document)return 0;if(null==eb){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),eb=0,0===n.scrollLeft&&(n.scrollLeft=1,eb=0===n.scrollLeft?1:2),n.remove()}return eb}const $he=new Kt("cdk-dir-doc",{providedIn:"root",factory:function Xhe(){return tx(Di)}}),Khe=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let N5=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new jt,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function qhe(n){const t=(null==n?void 0:n.toLowerCase())||"";return"auto"===t&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?Khe.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(ke($he,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();class Zhe extends class Jhe{}{constructor(t){super(),this._data=t}connect(){return ml(this._data)?this._data:Vt(this._data)}disconnect(){}}class ede{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(t,e,i,r,o){t.forEachOperation((s,a,l)=>{let u,g;null==s.previousIndex?(u=this._insertView(()=>i(s,a,l),l,e,r(s)),g=u?1:0):null==l?(this._detachAndCacheView(a,e),g=3):(u=this._moveView(a,l,e,r(s)),g=2),o&&o({context:null==u?void 0:u.context,operation:g,record:s})})}detach(){for(const t of this._viewCache)t.destroy();this._viewCache=[]}_insertView(t,e,i,r){const o=this._insertViewFromCache(e,i);if(o)return void(o.context.$implicit=r);const s=t();return i.createEmbeddedView(s.templateRef,s.context,s.index)}_detachAndCacheView(t,e){const i=e.detach(t);this._maybeCacheView(i,e)}_moveView(t,e,i,r){const o=i.get(t);return i.move(o,e),o.context.$implicit=r,o}_maybeCacheView(t,e){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(t);else{const i=e.indexOf(t);-1===i?t.destroy():e.remove(i)}}_insertViewFromCache(t,e){const i=this._viewCache.pop();return i&&e.insert(i,t),i||null}}const F5=new Kt("_ViewRepeater"),tde=["contentWrapper"],nde=["*"],B5=new Kt("VIRTUAL_SCROLL_STRATEGY");class ide{constructor(t,e,i){this._scrolledIndexChange=new Le,this.scrolledIndexChange=this._scrolledIndexChange.pipe(ap()),this._viewport=null,this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i}attach(t){this._viewport=t,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(t,e,i){this._itemSize=t,this._minBufferPx=e,this._maxBufferPx=i,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(t,e){this._viewport&&this._viewport.scrollToOffset(t*this._itemSize,e)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const t=this._viewport.getRenderedRange(),e={start:t.start,end:t.end},i=this._viewport.getViewportSize(),r=this._viewport.getDataLength();let o=this._viewport.measureScrollOffset(),s=this._itemSize>0?o/this._itemSize:0;if(e.end>r){const l=Math.ceil(i/this._itemSize),u=Math.max(0,Math.min(s,r-l));s!=u&&(s=u,o=u*this._itemSize,e.start=Math.floor(s)),e.end=Math.max(0,Math.min(r,e.start+l))}const a=o-e.start*this._itemSize;if(a<this._minBufferPx&&0!=e.start){const l=Math.ceil((this._maxBufferPx-a)/this._itemSize);e.start=Math.max(0,e.start-l),e.end=Math.min(r,Math.ceil(s+(i+this._minBufferPx)/this._itemSize))}else{const l=e.end*this._itemSize-(o+i);if(l<this._minBufferPx&&e.end!=r){const u=Math.ceil((this._maxBufferPx-l)/this._itemSize);u>0&&(e.end=Math.min(r,e.end+u),e.start=Math.max(0,Math.floor(s-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(e),this._viewport.setRenderedContentOffset(this._itemSize*e.start),this._scrolledIndexChange.next(Math.floor(s))}}function rde(n){return n._scrollStrategy}let ode=(()=>{class n{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new ide(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(e){this._itemSize=J0(e)}get minBufferPx(){return this._minBufferPx}set minBufferPx(e){this._minBufferPx=J0(e)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(e){this._maxBufferPx=J0(e)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=mt({type:n,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[Zn([{provide:B5,useFactory:rde,deps:[gn(()=>n)]}]),Kr]}),n})(),L5=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Le,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new oe(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Ya(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Vt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Ut(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=function Dhe(n){return n instanceof ri?n.nativeElement:n}(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gi(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(ke(On),ke(D5),ke(Di,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U5=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Le,this._elementScrolled=new oe(s=>this.ngZone.runOutsideAngular(()=>Gi(this.elementRef.nativeElement,"scroll").pipe(qi(this._destroyed)).subscribe(s)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=$_()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==$_()?e.left=e.right:1==$_()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;!function Whe(){if(null==Dh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Dh=!1,Dh;if("scrollBehavior"in document.documentElement.style)Dh=!0;else{const n=Element.prototype.scrollTo;Dh=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Dh}()?(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left)):i.scrollTo(e)}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const s=this.dir&&"rtl"==this.dir.value;return"start"==e?e=s?r:i:"end"==e&&(e=s?i:r),s&&2==$_()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:s&&1==$_()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(X(ri),X(L5),X(On),X(N5,8))},n.\u0275dir=mt({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),n})(),lde=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Le,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Ya(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(ke(D5),ke(On),ke(Di,8))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cde="undefined"!=typeof requestAnimationFrame?khe:Vhe;let G5=(()=>{class n extends U5{constructor(e,i,r,o,s,a,l){super(e,a,r,s),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this._detachedSubject=new Le,this._renderedRangeSubject=new Le,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new oe(u=>this._scrollStrategy.scrolledIndexChange.subscribe(g=>Promise.resolve().then(()=>this.ngZone.run(()=>u.next(g))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=f.EMPTY,this._viewportChanges=l.change().subscribe(()=>{this.checkViewportSize()})}get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=function xhe(n){return null!=n&&"false"!=`${n}`}(e)}ngOnInit(){super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.elementScrolled().pipe(sp(null),Ya(0,cde)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()}))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(qi(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function ude(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){const o="horizontal"==this.orientation,s=o?"X":"Y";let l=`translate${s}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e=this.appendOnly&&"to-start"===i?0:e,"to-end"===i&&(l+=` translate${s}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=l&&(this._renderedContentTransform=l,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){return super.measureScrollOffset(e||("horizontal"===this.orientation?"start":"top"))}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){const e=this.elementRef.nativeElement;this._viewportSize="horizontal"===this.orientation?e.clientWidth:e.clientHeight}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(X(ri),X(Mn),X(On),X(B5,8),X(N5,8),X(L5),X(lde))},n.\u0275cmp=gt({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&Jo(tde,7),2&e){let r;Kn(r=qn())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&at("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[Zn([{provide:U5,useExisting:n}]),hi],ngContentSelectors:nde,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(vg(),R(0,"div",0,1),yg(2),I(),Ae(3,"div",2)),2&e&&(F(3),Au("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;overflow:auto;contain:strict;transform:translateZ(0);will-change:scroll-position;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{position:absolute;top:0;left:0;height:1px;width:1px;transform-origin:0 0}[dir=rtl] .cdk-virtual-scroll-spacer{right:0;left:auto;transform-origin:100% 0}\n"],encapsulation:2,changeDetection:0}),n})();function j5(n,t,e){if(!e.getBoundingClientRect)return 0;const r=e.getBoundingClientRect();return"horizontal"===n?"start"===t?r.left:r.right:"start"===t?r.top:r.bottom}let hde=(()=>{class n{constructor(e,i,r,o,s,a){this._viewContainerRef=e,this._template=i,this._differs=r,this._viewRepeater=o,this._viewport=s,this.viewChange=new Le,this._dataSourceChanges=new Le,this.dataStream=this._dataSourceChanges.pipe(sp(null),function Hhe(){return je((n,t)=>{let e,i=!1;n.subscribe(ie(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}(),Zs(([l,u])=>this._changeDataSource(l,u)),wM(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new Le,this.dataStream.subscribe(l=>{this._data=l,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe(qi(this._destroyed)).subscribe(l=>{this._renderedRange=l,a.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(e){this._cdkVirtualForOf=e,function Qhe(n){return n&&"function"==typeof n.connect}(e)?this._dataSourceChanges.next(e):this._dataSourceChanges.next(new Zhe(ml(e)?e:Array.from(e||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(e){this._needsUpdate=!0,this._cdkVirtualForTrackBy=e?(i,r)=>e(i+(this._renderedRange?this._renderedRange.start:0),r):void 0}set cdkVirtualForTemplate(e){e&&(this._needsUpdate=!0,this._template=e)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(e){this._viewRepeater.viewCacheSize=J0(e)}measureRangeSize(e,i){if(e.start>=e.end)return 0;const r=e.start-this._renderedRange.start,o=e.end-e.start;let s,a;for(let l=0;l<o;l++){const u=this._viewContainerRef.get(l+r);if(u&&u.rootNodes.length){s=a=u.rootNodes[0];break}}for(let l=o-1;l>-1;l--){const u=this._viewContainerRef.get(l+r);if(u&&u.rootNodes.length){a=u.rootNodes[u.rootNodes.length-1];break}}return s&&a?j5(i,"end",a)-j5(i,"start",s):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const e=this._differ.diff(this._renderedItems);e?this._applyChanges(e):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((e,i)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(e,i):i)),this._needsUpdate=!0)}_changeDataSource(e,i){return e&&e.disconnect(this),this._needsUpdate=!0,i?i.connect(this):Vt()}_updateContext(){const e=this._data.length;let i=this._viewContainerRef.length;for(;i--;){const r=this._viewContainerRef.get(i);r.context.index=this._renderedRange.start+i,r.context.count=e,this._updateComputedContextProperties(r.context),r.detectChanges()}}_applyChanges(e){this._viewRepeater.applyChanges(e,this._viewContainerRef,(o,s,a)=>this._getEmbeddedViewArgs(o,a),o=>o.item),e.forEachIdentityChange(o=>{this._viewContainerRef.get(o.currentIndex).context.$implicit=o.item});const i=this._data.length;let r=this._viewContainerRef.length;for(;r--;){const o=this._viewContainerRef.get(r);o.context.index=this._renderedRange.start+r,o.context.count=i,this._updateComputedContextProperties(o.context)}}_updateComputedContextProperties(e){e.first=0===e.index,e.last=e.index===e.count-1,e.even=e.index%2==0,e.odd=!e.even}_getEmbeddedViewArgs(e,i){return{templateRef:this._template,context:{$implicit:e.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:i}}}return n.\u0275fac=function(e){return new(e||n)(X(ms),X(Ui),X(Dg),X(F5),X(G5,4),X(On))},n.\u0275dir=mt({type:n,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[Zn([{provide:F5,useClass:ede}])]}),n})(),V5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})(),dde=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[k5,V5],k5,V5]}),n})();function fde(n,t){1&n&&Ae(0,"app-bubble-multiplier",9),2&n&&Q("multiplier",he().bet.payout)}let pde=(()=>{class n{constructor(e){this.app=e}}return n.\u0275fac=function(e){return new(e||n)(X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:11,vars:9,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier",4,"ngIf"],[1,"cash-out"],[3,"multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Ae(2,"img",2),R(3,"div",3),z(4),I()(),R(5,"div",4),Ae(6,"app-bet-amount",5),I(),R(7,"div",6),ue(8,fde,1,1,"app-bubble-multiplier",7),I(),R(9,"div",8),z(10),I()()),2&e&&(at("celebrated",i.bet.winAmount),F(2),Q("src",i.app.getAvatarUrl(i.bet.profileImage),so)("alt",i.app.getAvatarUrl(i.bet.profileImage)),F(2),St(i.app.getFormattedUsername(i.bet.username)),F(2),Q("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),F(2),Q("ngIf",i.bet.payout),F(2),Pe(" ",null==i.bet.winAmount?null:i.bet.winAmount.toFixed(i.app.config.betPrecision)," "))},directives:[K0,Zt,bl],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#bbbfc5}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{width:19%}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:35%;padding-right:10px}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:5px;text-align:right}"]}),n})();function gde(n,t){1&n&&Ae(0,"app-loader")}function _de(n,t){1&n&&Ae(0,"app-bet-item",6),2&n&&Q("bet",t.$implicit)}function mde(n,t){if(1&n&&(R(0,"cdk-virtual-scroll-viewport",4),ue(1,_de,1,1,"app-bet-item",5),I()),2&n){const e=he();Q("itemSize",e.betItemTotalHeight),F(1),Q("cdkVirtualForOf",e.bets)("cdkVirtualForTemplateCacheSize",0)}}let Ih=class{constructor(t,e,i,r,o){this.mainService=t,this.cd=e,this.connector=i,this.user=r,this.app=o,this.isPreviousHand=!1,this.loaded=!1,this._bets=[],this.auditDuration=100,this.betItemTotalHeight=36,this.isUpdateCurrentBetsReceived=!1,this._numberOfBets=0}ngOnInit(){this.loadBets(),this.connector.response(yn.Bet,200).pipe(Tt(this),Ut(()=>!this.isPreviousHand),Ut(()=>!this.isUpdateCurrentBetsReceived),Ut(()=>!this.user.settings.getOther(Va.HideMyActivity)),tr(t=>this._bets.push(t)),Ya(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(yn.CancelBet,200).pipe(Tt(this),Ut(()=>!this.isPreviousHand),Ut(()=>!this.isUpdateCurrentBetsReceived),Ut(()=>!this.user.settings.getOther(Va.HideMyActivity)),tr(t=>this._bets=this._bets.filter(e=>!(e.player_id===t.player_id&&e.betId===t.betId))),Ya(this.auditDuration)).subscribe(()=>{this.setNumberOfBets(this.bets.length),this.sortBets(),this.cd.detectChanges()}),this.connector.response(yn.CashOut,200).pipe(Tt(this),Ut(()=>!this.isPreviousHand),Ut(()=>!this.isUpdateCurrentBetsReceived),Ut(()=>!this.user.settings.getOther(Va.HideMyActivity)),tr(t=>this.displayCashOuts(t.cashouts,t.multiplier)),Ya(this.auditDuration)).subscribe(()=>{this.sortBets(),this.cd.detectChanges()}),this.connector.response(yn.UpdateCurrentBets,200).pipe(Tt(this),Ut(()=>!this.isPreviousHand),tr(t=>this._bets=t.bets),Ya(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.setNumberOfBets(t.betsCount),this.sortBets(),this.cd.detectChanges()}),this.connector.response(yn.UpdateCurrentCashOuts,200).pipe(Tt(this),Ut(()=>!this.isPreviousHand),Ya(this.auditDuration)).subscribe(t=>{this.isUpdateCurrentBetsReceived=!0,this.displayCashOuts(t.cashouts),this.cd.detectChanges()}),this.connector.response(yn.CurrentBetsInfo).pipe(Tt(this)).subscribe(t=>{var e;if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(null!==(e=t.betsCount)&&void 0!==e?e:this.bets.length),"cashOuts"in t&&this.displayCashOuts(t.cashOuts),this.sortBets(),this.cd.detectChanges()}),this.connector.response(yn.PreviousRoundInfo).pipe(Tt(this)).subscribe(t=>{if(200!==t.code)return this.loaded=!0,void this.cd.detectChanges();this.loaded=!0,this._bets=t.bets,this.setNumberOfBets(this.bets.length),this.roundInfo=t.roundInfo,this.cd.detectChanges()}),this.mainService.getState(Ji.Bet).pipe(Tt(this)).subscribe(()=>{this.isPreviousHand||(this._bets=[],this.setNumberOfBets(this.bets.length),this.cd.detectChanges())})}onPreviousHand(t){this.isPreviousHand!==t&&(this.isPreviousHand=t,this.loadBets())}get bets(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._bets.filter(i=>i.bet>=t&&i.bet<=e)}get numberOfBets(){return this._numberOfBets}get isShareEnabled(){return this.app.config.chat.isEnabled&&this.isPreviousHand}setNumberOfBets(t){this.loaded&&(this._numberOfBets=t)}loadBets(){this.loaded=!1,this.isPreviousHand?this.loadPreviousRoundInfo():this.loadCurrentBetsInfo()}loadPreviousRoundInfo(){this.connector.request(bi.PreviousRoundInfo,null)}loadCurrentBetsInfo(){this.connector.request(bi.CurrentBetsInfo,null)}displayCashOuts(t,e){t.forEach(i=>{this._bets.forEach(r=>{r.player_id===i.player_id&&r.betId===i.betId&&(r.payout="multiplier"in i?i.multiplier:e,r.winAmount=i.winAmount)})})}sortBets(){this._bets.sort((t,e)=>e.bet-t.bet)}};function vde(n,t){if(1&n&&(R(0,"div",11),z(1),I()),2&n){const e=he();F(1),Pe(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}Ih.\u0275fac=function(t){return new(t||Ih)(X(Vi),X(Mn),X(yi),X(Ha),X(ln))},Ih.\u0275cmp=gt({type:Ih,selectors:[["app-all-bets-tab"]],decls:4,vars:5,consts:[[1,"d-flex","h-100","flex-column"],[1,"header-wrapper",3,"total","roundInfo","isPreviousHand","previousHand"],[4,"ngIf"],["class","h-100 scroll-y","minBufferPx","300","maxBufferPx","600",3,"itemSize",4,"ngIf"],["minBufferPx","300","maxBufferPx","600",1,"h-100","scroll-y",3,"itemSize"],[3,"bet",4,"cdkVirtualFor","cdkVirtualForOf","cdkVirtualForTemplateCacheSize"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"app-header",1),Me("previousHand",function(r){return e.onPreviousHand(r)}),I(),ue(2,gde,1,0,"app-loader",2),ue(3,mde,2,3,"cdk-virtual-scroll-viewport",3),I()),2&t&&(F(1),Q("total",e.numberOfBets)("roundInfo",e.roundInfo)("isPreviousHand",e.isPreviousHand),F(1),Q("ngIf",!e.loaded),F(1),Q("ngIf",e.loaded))},directives:[Ahe,Zt,Th,G5,ode,hde,pde],styles:[""],changeDetection:0}),Ih=Ye([Ci()],Ih);let yde=(()=>{class n{constructor(e,i,r){this.app=e,this.chat=i,this.main=r}}return n.\u0275fac=function(e){return new(e||n)(X(ln),X(Wa),X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-bet-item"]],inputs:{bet:"bet"},decls:14,vars:12,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","pl-1"],[1,"d-flex","w-100","align-items-center"],[1,"bet","d-flex","justify-content-end"],[3,"amount","isFreeBet"],[1,"multiplier-block","d-flex","align-items-center"],[3,"multiplier"],["class","cash-out",4,"ngIf"],[1,"d-flex","align-items-center","tools","pr-1"],[1,"fairness-i","disabled-on-game-focused",3,"click"],[1,"share-i","ml-1",3,"click"],[1,"cash-out"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div"),z(3),Ce(4,"date"),I()(),R(5,"div",2)(6,"div",3),Ae(7,"app-bet-amount",4),I(),R(8,"div",5),Ae(9,"app-bubble-multiplier",6),I(),ue(10,vde,2,1,"div",7),I(),R(11,"div",8)(12,"div",9),Me("click",function(){return i.main.checkFairness(i.bet.roundId)}),I(),R(13,"div",10),Me("click",function(){return i.chat.shareBet(i.bet.roundBetId)}),I()()()),2&e&&(at("celebrated",i.bet.winAmount),F(3),St(oi(4,9,i.bet.cashOutDate,"HH:mm")),F(4),Q("amount",i.bet.bet)("isFreeBet",i.bet.isFreeBet),F(2),Q("multiplier",i.bet.payout||i.bet.maxMultiplier),F(1),Q("ngIf",i.bet.winAmount),F(1),at("disabled",!i.main.canCheckFairness(i.bet.roundId)))},directives:[K0,bl,Zt],pipes:[sl],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;border-radius:8px;background-color:#101112;border:solid 1px #101112;font-size:14px;color:#fff}.bet-item.celebrated[_ngcontent-%COMP%]{border-color:#427f00;background-color:#123405}.bet-item.celebrated[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{opacity:1}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:50px;max-width:50px;font-size:12px;color:#bbbfc5;line-height:1}.bet-item[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;opacity:.5}.bet-item[_ngcontent-%COMP%]   .multiplier-block[_ngcontent-%COMP%]{font-size:12px}.bet-item[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding-right:10px;text-align:right}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:40px;max-width:40px}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share.e0096e2d85d728ea.svg) no-repeat center center/contain;width:16px;height:14px;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .tools.disabled[_ngcontent-%COMP%]{cursor:auto;pointer-events:none;opacity:.5}"]}),n})();function bde(n,t){1&n&&Ae(0,"app-bet-item",9),2&n&&Q("bet",t.$implicit)}function Ede(n,t){if(1&n&&(qt(0),ue(1,bde,1,1,"app-bet-item",8),Jt()),2&n){const e=he();F(1),Q("ngForOf",e.betHistory)}}function Sde(n,t){1&n&&(R(0,"div"),Ae(1,"app-loader"),I())}let Nh=class{constructor(t,e,i,r,o){this.connector=t,this.mainService=e,this.app=i,this.cd=r,this.user=o,this.isRequested=!1,this.loaded=!1}ngOnInit(){this.getMyBetsStatistics(),this.connector.response(yn.BetHistory,200).pipe(Tt(this),Ut(()=>this.isRequested)).subscribe(t=>{this.betHistory=t.bets,this.loaded=!0,this.isRequested=!1,this.cd.detectChanges()}),this.mainService.getState(Ji.Bet).pipe(Tt(this)).subscribe(()=>this.getMyBetsStatistics()),this.connector.response(yn.CashOut,200).pipe(Tt(this)).subscribe(t=>{t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.getMyBetsStatistics()})})}getMyBetsStatistics(){this.isRequested=!0,this.connector.request(bi.BetHistory,null)}get isShareEnabled(){return this.app.config.chat.isEnabled}};Nh.\u0275fac=function(t){return new(t||Nh)(X(yi),X(Vi),X(ln),X(Mn),X(Ha))},Nh.\u0275cmp=gt({type:Nh,selectors:[["app-my-bets-tab"]],decls:16,vars:10,consts:[[1,"legend","px-2","d-flex","align-items-center","w-100"],["translate","",1,"date"],[1,"d-flex","w-100"],[1,"bet"],[1,"cash-out"],[1,"tools","h-100"],[1,"h-100","scroll-y"],[4,"ngIf"],[3,"bet",4,"ngFor","ngForOf"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),z(2,"game.bets-widget.date"),I(),R(3,"div",2)(4,"span",3),z(5),Ce(6,"translate"),I(),R(7,"span"),z(8,"X"),I(),R(9,"span",4),z(10),Ce(11,"translate"),I()(),Ae(12,"div",5),I(),R(13,"div",6),ue(14,Ede,2,1,"ng-container",7),ue(15,Sde,2,0,"div",7),I()),2&t&&(F(5),Yi(" ",Ne(6,6,"shared.bet"),", ",e.app.config.currency," "),F(5),Yi(" ",Ne(11,8,"shared.cash_out"),", ",e.app.config.currency," "),F(4),Q("ngIf",e.loaded),F(1),Q("ngIf",!e.loaded))},directives:[jn,Zt,Ti,yde,Th],pipes:[Qn],styles:[".legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:48px;max-width:48px}.legend[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{min-width:42%;padding-right:10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .cash-out[_ngcontent-%COMP%]{flex:1;padding:0 10px;text-align:right;white-space:nowrap}.legend[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{min-width:35px;max-width:35px}"],changeDetection:0}),Nh=Ye([Ci()],Nh);var Ao=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins",n.Multipliers="Multipliers"}(Ao||(Ao={})),Ao))(),X_=(()=>(function(n){n.Day="Day",n.Month="Month",n.Year="Year"}(X_||(X_={})),X_))(),gp=(()=>(function(n){n.Day="day",n.Month="month",n.Year="year"}(gp||(gp={})),gp))(),K_=(()=>(function(n){n.HugeWins="HugeWins",n.BiggestWins="BiggestWins"}(K_||(K_={})),K_))();function Tde(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span",9),z(3,"shared.win"),I(),R(4,"span"),z(5),I()(),R(6,"span",21),z(7),I()()),2&n){const e=he();F(5),Pe(", ",e.app.config.currency,":"),F(2),Pe(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}function Cde(n,t){1&n&&(R(0,"span"),z(1),Ce(2,"translate"),I()),2&n&&(F(1),Pe(" ",Ne(2,1,"shared.cashed_out"),": "))}function Ode(n,t){1&n&&(R(0,"span"),z(1),Ce(2,"translate"),I()),2&n&&(F(1),Pe(" ",Ne(2,1,"shared.multiplier"),": "))}function Mde(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span",9),z(3,"shared.win"),I(),R(4,"span"),z(5),I()(),R(6,"span",10),z(7),I()()),2&n){const e=he();F(5),Pe(", ",e.app.config.currency,":"),F(2),Pe(" ",e.bet.winAmount.toFixed(e.app.config.betPrecision)," ")}}let wde=(()=>{class n{constructor(e,i,r){this.app=e,this.chat=i,this.main=r,this.winsTab=K_}isTab(e){return this.tab===e}}return n.\u0275fac=function(e){return new(e||n)(X(ln),X(Wa),X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-wins-bet-item"]],inputs:{bet:"bet",tab:"tab"},decls:41,vars:22,consts:[[1,"bet-item","mt-1"],[1,"main","position-relative","d-flex","align-items-center"],[1,"position-absolute","ml-4"],[1,"avatar",3,"src","alt"],[1,"username"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"w-100"],[1,"d-flex","align-items-center"],[1,"w-50","d-flex","justify-content-end","ml-3"],["translate",""],[1,"amount","ml-1"],["class","d-flex align-items-center",4,"ngIf"],[4,"ngIf"],[1,"ml-1",3,"multiplier"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"bottom","d-flex","justify-content-between","align-items-center"],[1,"d-flex"],[1,"ml-2","mr-3"],[1,"round-multiplier"],[1,"share","d-flex","justify-content-center","align-items-center","mr-1",3,"click"],[1,"share-i","position-absolute"],[1,"amount","celebrated","ml-1","px-2"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Ae(3,"img",3),R(4,"div",4),z(5),I()(),R(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"span",9),z(11,"shared.bet"),I(),R(12,"span"),z(13),I()(),R(14,"span",10),z(15),I()(),ue(16,Tde,8,2,"div",11),R(17,"div",7)(18,"div",8),ue(19,Cde,3,3,"span",12),ue(20,Ode,3,3,"span",12),I(),Ae(21,"app-bubble-multiplier",13),I(),ue(22,Mde,8,2,"div",11),I()(),R(23,"div",14),Me("click",function(){return i.main.checkFairness(i.bet.roundId)}),I()(),R(24,"div",15)(25,"div",16)(26,"div",17)(27,"span"),z(28),Ce(29,"date"),I(),R(30,"span",9),z(31),Ce(32,"date"),I()(),R(33,"div")(34,"span"),z(35),Ce(36,"translate"),I(),R(37,"span",18),z(38),I()()(),R(39,"div",19),Me("click",function(){return i.chat.shareBet(i.bet.roundBetId)}),Ae(40,"div",20),I()()()),2&e&&(F(3),Q("src",i.app.getAvatarUrl(i.bet.profileImage),so)("alt",i.app.getAvatarUrl(i.bet.profileImage)),F(2),St(i.app.getFormattedUsername(i.bet.username)),F(8),Pe(", ",i.app.config.currency,":"),F(2),Pe(" ",i.bet.bet.toFixed(i.app.config.betPrecision)," "),F(1),Q("ngIf",i.isTab(i.winsTab.BiggestWins)),F(3),Q("ngIf",i.isTab(i.winsTab.HugeWins)),F(1),Q("ngIf",i.isTab(i.winsTab.BiggestWins)),F(1),Q("multiplier",i.bet.payout),F(1),Q("ngIf",i.isTab(i.winsTab.HugeWins)),F(6),St(oi(29,14,i.bet.endDate,"dd ")),F(3),Pe(" shared.date.month.",oi(32,17,i.bet.endDate,"LLL")," "),F(4),Pe("",Ne(36,20,"shared.round"),":"),F(3),Pe(" ",i.bet.maxMultiplier,"x"))},directives:[jn,Zt,bl],pipes:[Qn,sl],styles:[".bet-item[_ngcontent-%COMP%]{color:#9ea0a3;font-size:12px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]{height:80px;background:#101112}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:30px;height:30px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-size:13px}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:14px;color:#fff}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .amount.celebrated[_ngcontent-%COMP%]{border-radius:11px;border:solid 1px #427f00;background-color:#123405}.bet-item[_ngcontent-%COMP%]   .main[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]{height:28px;background:#000000}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .round-multiplier[_ngcontent-%COMP%]{color:#fff}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]{width:50px;height:20px;border-radius:17px;border:solid 1px #414148;background-color:#252528;cursor:pointer}.bet-item[_ngcontent-%COMP%]   .bottom[_ngcontent-%COMP%]   .share[_ngcontent-%COMP%]   .share-i[_ngcontent-%COMP%]{background:url(share-wide.eeb21ff9eb22b3b5.svg) no-repeat center center/contain;width:34px;height:14px}"]}),n})(),Pde=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-multipliers-bet-item-first"]],inputs:{bet:"bet"},decls:16,vars:15,consts:[[1,"bet-item","d-flex","align-items-center","justify-content-center","position-relative"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"d-flex","justify-content-center"],["translate",""],[1,"multiplier","w-100","d-flex","align-items-center"],[3,"padding","borderRadius","multiplier"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Me("click",function(){return i.main.checkFairness(i.bet.roundId)}),I(),R(2,"div")(3,"div",2)(4,"div")(5,"span"),z(6),Ce(7,"date"),I(),R(8,"span",3),z(9),Ce(10,"date"),I(),R(11,"span"),z(12),Ce(13,"date"),I()()(),R(14,"div",4),Ae(15,"app-bubble-multiplier",5),I()()()),2&e&&(F(6),St(oi(7,6,i.bet.endDate,"dd ")),F(3),Pe(" shared.date.month.",oi(10,9,i.bet.endDate,"LLL")," "),F(3),St(oi(13,12,i.bet.endDate," HH:mm:ss")),F(3),Q("padding","2px 16px")("borderRadius","16px")("multiplier",i.bet.maxMultiplier))},directives:[jn,bl],pipes:[sl],styles:[".bet-item[_ngcontent-%COMP%]{height:90px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{font-size:24px}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;position:absolute;right:0;top:0}"]}),n})(),Ade=(()=>{class n{constructor(e){this.main=e}}return n.\u0275fac=function(e){return new(e||n)(X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-multipliers-bet-item"]],inputs:{bet:"bet"},decls:14,vars:13,consts:[[1,"bet-item","d-flex","align-items-center"],[1,"date","ml-2"],["translate",""],[1,"w-100","d-flex","justify-content-between","align-items-center"],[3,"multiplier"],[1,"fairness-i","mr-2","disabled-on-game-focused",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span"),z(3),Ce(4,"date"),I(),R(5,"span",2),z(6),Ce(7,"date"),I(),R(8,"span"),z(9),Ce(10,"date"),I()(),R(11,"div",3),Ae(12,"app-bubble-multiplier",4),R(13,"div",5),Me("click",function(){return i.main.checkFairness(i.bet.roundId)}),I()()()),2&e&&(F(3),St(oi(4,4,i.bet.endDate,"dd ")),F(3),Pe("shared.date.month.",oi(7,7,i.bet.endDate,"LLL"),""),F(3),St(oi(10,10,i.bet.endDate," HH:mm:ss")),F(3),Q("multiplier",i.bet.maxMultiplier))},directives:[jn,bl],pipes:[sl],styles:[".bet-item[_ngcontent-%COMP%]{height:34px;margin-top:2px;background-color:#101112;font-size:12px;color:#9ea0a3}.bet-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}.bet-item[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer}"]}),n})();function xde(n,t){if(1&n&&(R(0,"div"),Ae(1,"app-wins-bet-item",3),I()),2&n){const e=t.$implicit,i=he(3);F(1),Q("tab",i.winsTab.BiggestWins)("bet",e)}}function Rde(n,t){if(1&n&&(R(0,"div"),ue(1,xde,2,2,"div",2),I()),2&n){const e=he(2);F(1),Q("ngForOf",e.topWins)}}function Dde(n,t){if(1&n&&(R(0,"div"),Ae(1,"app-wins-bet-item",3),I()),2&n){const e=t.$implicit,i=he(3);F(1),Q("tab",i.winsTab.HugeWins)("bet",e)}}function Ide(n,t){if(1&n&&(R(0,"div"),ue(1,Dde,2,2,"div",2),I()),2&n){const e=he(2);F(1),Q("ngForOf",e.topWins)}}function Nde(n,t){if(1&n&&(R(0,"div"),Ae(1,"app-multipliers-bet-item",4),I()),2&n){const e=t.$implicit;F(1),Q("bet",e)}}function kde(n,t){if(1&n&&(R(0,"div"),Ae(1,"app-multipliers-bet-item-first",4),ue(2,Nde,2,1,"div",2),Ce(3,"slice"),I()),2&n){const e=he(2);F(1),Q("bet",e.topRounds[0]),F(1),Q("ngForOf",oi(3,2,e.topRounds,1))}}function Fde(n,t){if(1&n&&(R(0,"div"),ue(1,Rde,2,1,"div",1),ue(2,Ide,2,1,"div",1),ue(3,kde,4,5,"div",1),I()),2&n){const e=he();F(1),Q("ngIf",e.isBiggestWins),F(1),Q("ngIf",e.isHugeWins),F(1),Q("ngIf",e.isCoefficients&&e.topRounds.length>0)}}function Bde(n,t){1&n&&(R(0,"div"),Ae(1,"app-loader"),I())}let kh=class{constructor(t,e,i,r){this.connector=t,this.cd=e,this.mainService=i,this.app=r,this.options={type:Ao.HugeWins,period:gp.Day},this.loaded=!1,this.winsTab=K_,this.topRounds=[],this._topWins=[],this.responses={[Ao.HugeWins]:yn.GetHugeWinsInfo,[Ao.BiggestWins]:yn.GetTopWinsInfo,[Ao.Multipliers]:yn.GetTopRoundsInfo},this.requests={[Ao.HugeWins]:bi.GetHugeWinsInfo,[Ao.BiggestWins]:bi.GetTopWinsInfo,[Ao.Multipliers]:bi.GetTopRoundsInfo}}ngOnChanges(t){t.options.currentValue!==t.options.previousValue&&null!==this.options&&this.loadData()}loadData(){var t;null===(t=this.statistics$)||void 0===t||t.unsubscribe(),this.loaded=!1,this.topRounds=[],this._topWins=[],this.connector.request(this.requests[this.options.type],{period:this.options.period}),this.statistics$=this.connector.response(this.responses[this.options.type]).pipe(Tt(this)).subscribe(e=>{"topRounds"in e&&(this.topRounds=e.topRounds),"topWins"in e&&(this._topWins=e.topWins),this.loaded=!0,this.cd.detectChanges()}),this.cd.detectChanges()}get topWins(){const t=this.app.config.minBet,e=this.app.config.maxBet;return this._topWins.filter(i=>i.bet>=t&&i.bet<=e)}get isHugeWins(){return this.options.type===Ao.HugeWins}get isBiggestWins(){return this.options.type===Ao.BiggestWins}get isCoefficients(){return this.options.type===Ao.Multipliers}};function Lde(n,t){1&n&&(R(0,"div",9)(1,"span",10),z(2,"game.bets-widget.date"),I(),R(3,"div",11)(4,"span",12),z(5,"X"),I(),R(6,"span",13),z(7,"game.bets-widget.fairness"),I()()())}kh.\u0275fac=function(t){return new(t||kh)(X(yi),X(Mn),X(Vi),X(ln))},kh.\u0275cmp=gt({type:kh,selectors:[["app-top-list"]],inputs:{options:"options"},features:[Kr],decls:3,vars:2,consts:[[1,"top-items-list","position-relative","scroll-y"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"tab","bet"],[3,"bet"]],template:function(t,e){1&t&&(R(0,"div",0),ue(1,Fde,4,3,"div",1),ue(2,Bde,2,0,"div",1),I()),2&t&&(F(1),Q("ngIf",e.loaded),F(1),Q("ngIf",!e.loaded))},directives:[Zt,Ti,wde,Pde,Ade,Th],pipes:[nN],styles:[".top-items-list[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.top-items-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{border-radius:17px;background-image:linear-gradient(82deg,#000000,#0f1214);border:solid 1px #000000;font-size:12px;display:flex;color:#fff;justify-content:space-between;padding:9px 9px 4px 3px;align-items:center;margin-bottom:3px}.top-items-list[_ngcontent-%COMP%]   .item.huge-wins-wrapper[_ngcontent-%COMP%]{height:70px}.top-items-list[_ngcontent-%COMP%]   .item.biggest-wins-wrapper[_ngcontent-%COMP%]{height:80px}"],changeDetection:0}),kh=Ye([Ci()],kh);let Ude=(()=>{class n{constructor(){this.activeTab=Ao.HugeWins,this.topTab=Ao,this.activePeriodTab=X_.Day,this.periodTabs=Object.values(X_),this.topListOptions={type:Ao.HugeWins,period:gp.Day}}onShowTab(e){this.activeTab!==e&&(this.activeTab=e,this.updateListOptions())}onChangePeriodTab(e){this.activePeriodTab=e,this.updateListOptions()}isActiveTab(e){return this.activeTab===e}updateListOptions(){this.topListOptions={type:this.activeTab,period:gp[this.activePeriodTab]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-top-tab"]],decls:12,vars:11,consts:[[1,"top-tab"],[1,"opt-wrapper","d-flex","justify-content-center","align-items-center","mb-1"],[1,"opt"],["translate","",1,"first-type",3,"click"],["translate","",1,"second-type",3,"click"],["translate","",1,"third-type",3,"click"],[1,"navigation-switcher-wrapper","mb-1",3,"ngModel","tabs","translatePath","toggle"],["class","legend d-flex align-items-center mx-2",4,"ngIf"],[1,"top-list-wrapper",3,"options"],[1,"legend","d-flex","align-items-center","mx-2"],["translate","",1,"date","ml-2"],[1,"d-flex","w-100","justify-content-between","align-items-center"],[1,"multiplier"],["translate","",1,"fairness"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),Me("click",function(){return i.onShowTab(i.topTab.HugeWins)}),z(4," game.bets-widget.top.huge wins "),I(),R(5,"button",4),Me("click",function(){return i.onShowTab(i.topTab.BiggestWins)}),z(6," game.bets-widget.top.biggest wins "),I(),R(7,"button",5),Me("click",function(){return i.onShowTab(i.topTab.Multipliers)}),z(8," game.bets-widget.top.coefficients "),I()()(),R(9,"app-navigation-switcher",6),Me("toggle",function(o){return i.onChangePeriodTab(o)}),I(),ue(10,Lde,8,0,"div",7),Ae(11,"app-top-list",8),I()),2&e&&(F(3),at("active",i.isActiveTab(i.topTab.HugeWins)),F(2),at("active",i.isActiveTab(i.topTab.BiggestWins)),F(2),at("active",i.isActiveTab(i.topTab.Multipliers)),F(2),Q("ngModel",i.activePeriodTab)("tabs",i.periodTabs)("translatePath","game.bets-widget.top"),F(1),Q("ngIf",i.isActiveTab(i.topTab.Multipliers)),F(1),Q("options",i.topListOptions))},directives:[jn,bw,ea,Ps,Zt,kh],styles:[".top-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;line-height:1}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]{display:flex;justify-content:center}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{height:100%;border-radius:20px;background:none;color:#fff;font-size:13px;border:1px solid transparent;padding:4px 2px}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{border-color:#e50539}.top-tab[_ngcontent-%COMP%]   .opt-wrapper[_ngcontent-%COMP%]   .opt[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(.active):hover{color:#d0021b;cursor:pointer}.top-tab[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:13px;text-align:center;margin-bottom:2px;margin-top:4px}.top-tab[_ngcontent-%COMP%]   .child-tab[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;font-size:12px}.navigation-switcher-wrapper[_ngcontent-%COMP%]{min-height:24px;max-height:24px;display:flex;justify-content:center;font-size:12px}.top-list-wrapper[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;min-height:0}.legend[_ngcontent-%COMP%]{font-size:11px;color:#7b7b7b;min-height:20px;max-height:20px}.legend[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{min-width:45%;max-width:45%}"],changeDetection:0}),n})();function Gde(n,t){if(1&n){const e=Ct();R(0,"div",7),Me("click",function(){ft(e);const r=he(2);return r.modal.open(r.modalKey.otherSettings)}),R(1,"u"),z(2),Ce(3,"translate"),I()()}2&n&&(F(2),Pe(" ",Ne(3,1,"shared.Settings")," "))}function jde(n,t){if(1&n&&(qt(0),R(1,"div",4),Ae(2,"div",5),R(3,"span"),z(4),Ce(5,"translate"),I(),ue(6,Gde,4,3,"div",6),I(),Jt()),2&n){const e=he();F(4),Pe(" ",Ne(5,2,"shared.This_functionality_is_disabled"),""),F(2),Q("ngIf",e.isTabsHiddenByUser)}}function Vde(n,t){1&n&&Ae(0,"app-all-bets-tab",9)}function Hde(n,t){1&n&&Ae(0,"app-my-bets-tab",9)}function Yde(n,t){1&n&&Ae(0,"app-top-tab",9)}function Wde(n,t){if(1&n&&(qt(0),ue(1,Vde,1,0,"app-all-bets-tab",8),ue(2,Hde,1,0,"app-my-bets-tab",8),ue(3,Yde,1,0,"app-top-tab",8),Jt()),2&n){const e=he();F(1),Q("ngIf",e.isActive(e.betsWidgetTab.AllBets)),F(1),Q("ngIf",e.isActive(e.betsWidgetTab.MyBets)),F(1),Q("ngIf",e.isActive(e.betsWidgetTab.Top))}}let zde=(()=>{class n{constructor(e,i,r,o){this.app=e,this.user=i,this.modal=r,this.cd=o,this.activeTab=fp.AllBets,this.betsWidgetTab=fp,this.betsWidgetTabs=Object.values(fp),this.isTabsHiddenByUser=this.user.settings.getOther(Va.HideLiveBetsAndStatistics),this.modalKey=Un}ngOnInit(){this.user.settings.other$.pipe(Ut(e=>e.name===Va.HideLiveBetsAndStatistics)).subscribe(e=>{this.isTabsHiddenByUser=e.value,this.cd.detectChanges()})}isActive(e){return this.activeTab===e}get isTabsHidden(){return this.app.config.isLiveBetsAndStatisticsHidden||this.isTabsHiddenByUser}}return n.\u0275fac=function(e){return new(e||n)(X(ln),X(Ha),X(Yo),X(Mn))},n.\u0275cmp=gt({type:n,selectors:[["app-bets-widget"]],decls:5,vars:5,consts:[[1,"bets-block"],[1,"bets-block-nav","d-flex","justify-content-center","align-items-center","my-1"],[1,"navigation-switcher-wrapper",3,"ngModel","translatePath","tabs","ngModelChange"],[4,"ngIf"],[1,"disabled-block","d-flex","flex-column","align-items-center","justify-content-start"],[1,"disabled-block-image"],["style","cursor: pointer",3,"click",4,"ngIf"],[2,"cursor","pointer",3,"click"],["class","data-list",4,"ngIf"],[1,"data-list"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"app-navigation-switcher",2),Me("ngModelChange",function(o){return i.activeTab=o}),I()(),ue(3,jde,7,4,"ng-container",3),ue(4,Wde,4,3,"ng-container",3),I()),2&e&&(F(2),Q("ngModel",i.activeTab)("translatePath","game.bets-widget")("tabs",i.betsWidgetTabs),F(1),Q("ngIf",i.isTabsHidden),F(1),Q("ngIf",!i.isTabsHidden))},directives:[bw,ea,Ps,Zt,Ih,Nh,Ude],pipes:[Qn],styles:["[_nghost-%COMP%]{display:flex;width:inherit;height:100%;min-height:0}.bets-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%;background:#1b1c1d;border-radius:10px 10px 0 0}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]{min-height:24px;max-height:24px;font-size:12px}.bets-block[_ngcontent-%COMP%]   .bets-block-nav[_ngcontent-%COMP%]   .navigation-switcher-wrapper[_ngcontent-%COMP%]{height:24px}.bets-block[_ngcontent-%COMP%]   .data-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;min-height:0}.disabled-block[_ngcontent-%COMP%]{color:#96979b;font-size:14px}.disabled-block[_ngcontent-%COMP%]   u[_ngcontent-%COMP%]{color:#fff}.disabled-block[_ngcontent-%COMP%]   .disabled-block-image[_ngcontent-%COMP%]{width:44px;height:37px;margin:75px 0 10px;background:url(not-visible.e9f2fd657844e251.svg) no-repeat center center/contain}"],changeDetection:0}),n})(),$de=(()=>{class n{constructor(e){this.modal=e}onWhatIsPf(){this.modal.open(Un.whatIsPf)}}return n.\u0275fac=function(e){return new(e||n)(X(Yo))},n.\u0275cmp=gt({type:n,selectors:[["app-spribe-footer"]],decls:13,vars:1,consts:[[1,"footer","px-2"],[1,"provably-fair-block"],["translate",""],[1,"provably-fair","disabled-on-game-focused",3,"click"],[1,"i-fair"],[1,"text-provably-fair"],[1,"logo-block","disabled-on-game-focused"],["target","_blank",3,"href"],[1,"i-logo"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"span",2),z(3,"shared.ui-components.spribe-footer.this game is"),I(),R(4,"div",3),Me("click",function(){return i.onWhatIsPf()}),Ae(5,"div",4),R(6,"span",5),z(7,"Provably Fair"),I()()(),R(8,"div",6)(9,"span"),z(10,"Powered by"),I(),R(11,"a",7),Ae(12,"div",8),I()()()),2&e&&(F(11),Q("href","https://spribe.co",so))},directives:[jn],styles:["[_nghost-%COMP%]{width:100%;display:flex;min-height:25px;max-height:25px}.footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;background-color:#000;border:1px solid #2a2b2e;font-size:11px;color:#5e6269}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]{display:flex;height:16px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]{display:flex;cursor:pointer;align-items:center}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .i-fair[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;width:14px;height:16px;margin:0 4px 0 6px}.footer[_ngcontent-%COMP%]   .provably-fair-block[_ngcontent-%COMP%]   .provably-fair[_ngcontent-%COMP%]   .text-provably-fair[_ngcontent-%COMP%]{font-size:12px;color:#bbbfc5;line-height:1px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]{display:flex;height:14px}.footer[_ngcontent-%COMP%]   .logo-block[_ngcontent-%COMP%]   .i-logo[_ngcontent-%COMP%]{background:url(logo.eba496b407593c0e.svg) no-repeat center center/contain;width:34px;height:14px;margin-left:4px;cursor:pointer}"],changeDetection:0}),n})();var xo=(()=>(function(n){n.Init="/user/queue/init",n.Join="/user/queue/join",n.TakePrize="/user/queue/take.prize",n.Winners="/user/queue/winners",n.MissionStatus="/user/queue/mission.status",n.PlayerStatus="/user/queue/player.status",n.Prize="/user/queue/prize",n.Progress="/user/queue/progress"}(xo||(xo={})),xo))(),Xo=(()=>(function(n){n.None="none",n.Connected="connected",n.Reconnecting="reconnecting",n.Disconnected="disconnected"}(Xo||(Xo={})),Xo))(),Xde=M(209);function H5(n,t,e,i,r,o,s){try{var a=n[o](s),l=a.value}catch(u){return void e(u)}a.done?t(l):Promise.resolve(l).then(i,r)}function Y5(n){return function(){var t=this,e=arguments;return new Promise(function(i,r){var o=n.apply(t,e);function s(l){H5(o,i,r,s,a,"next",l)}function a(l){H5(o,i,r,s,a,"throw",l)}s(void 0)})}}const q__LF="\n",q__NULL="\0";class ec{constructor(t){const{command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:s,skipContentLengthHeader:a}=t;this.command=e,this.headers=Object.assign({},i||{}),o?(this._binaryBody=o,this.isBinaryBody=!0):(this._body=r||"",this.isBinaryBody=!1),this.escapeHeaderValues=s||!1,this.skipContentLengthHeader=a||!1}get body(){return!this._body&&this.isBinaryBody&&(this._body=(new TextDecoder).decode(this._binaryBody)),this._body||""}get binaryBody(){return!this._binaryBody&&!this.isBinaryBody&&(this._binaryBody=(new TextEncoder).encode(this._body)),this._binaryBody}static fromRawFrame(t,e){const i={},r=o=>o.replace(/^\s+|\s+$/g,"");for(const o of t.headers.reverse()){o.indexOf(":");const a=r(o[0]);let l=r(o[1]);e&&"CONNECT"!==t.command&&"CONNECTED"!==t.command&&(l=ec.hdrValueUnEscape(l)),i[a]=l}return new ec({command:t.command,headers:i,binaryBody:t.binaryBody,escapeHeaderValues:e})}toString(){return this.serializeCmdAndHeaders()}serialize(){const t=this.serializeCmdAndHeaders();return this.isBinaryBody?ec.toUnit8Array(t,this._binaryBody).buffer:t+this._body+q__NULL}serializeCmdAndHeaders(){const t=[this.command];this.skipContentLengthHeader&&delete this.headers["content-length"];for(const e of Object.keys(this.headers||{})){const i=this.headers[e];t.push(this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?`${e}:${ec.hdrValueEscape(`${i}`)}`:`${e}:${i}`)}return(this.isBinaryBody||!this.isBodyEmpty()&&!this.skipContentLengthHeader)&&t.push(`content-length:${this.bodyLength()}`),t.join(q__LF)+q__LF+q__LF}isBodyEmpty(){return 0===this.bodyLength()}bodyLength(){const t=this.binaryBody;return t?t.length:0}static sizeOfUTF8(t){return t?(new TextEncoder).encode(t).length:0}static toUnit8Array(t,e){const i=(new TextEncoder).encode(t),r=new Uint8Array([0]),o=new Uint8Array(i.length+e.length+r.length);return o.set(i),o.set(e,i.length),o.set(r,i.length+e.length),o}static marshall(t){return new ec(t).serialize()}static hdrValueEscape(t){return t.replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")}static hdrValueUnEscape(t){return t.replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")}}class qde{constructor(t,e){this.onFrame=t,this.onIncomingPing=e,this._encoder=new TextEncoder,this._decoder=new TextDecoder,this._token=[],this._initState()}parseChunk(t,e=!1){let i;if(i="string"==typeof t?this._encoder.encode(t):new Uint8Array(t),e&&0!==i[i.length-1]){const r=new Uint8Array(i.length+1);r.set(i,0),r[i.length]=0,i=r}for(let r=0;r<i.length;r++)this._onByte(i[r])}_collectFrame(t){if(0!==t&&13!==t){if(10===t)return void this.onIncomingPing();this._onByte=this._collectCommand,this._reinjectByte(t)}}_collectCommand(t){if(13!==t){if(10===t)return this._results.command=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_collectHeaders(t){if(13!==t){if(10===t)return void this._setupCollectBody();this._onByte=this._collectHeaderKey,this._reinjectByte(t)}}_reinjectByte(t){this._onByte(t)}_collectHeaderKey(t){if(58===t)return this._headerKey=this._consumeTokenAsUTF8(),void(this._onByte=this._collectHeaderValue);this._consumeByte(t)}_collectHeaderValue(t){if(13!==t){if(10===t)return this._results.headers.push([this._headerKey,this._consumeTokenAsUTF8()]),this._headerKey=void 0,void(this._onByte=this._collectHeaders);this._consumeByte(t)}}_setupCollectBody(){const t=this._results.headers.filter(e=>"content-length"===e[0])[0];t?(this._bodyBytesRemaining=parseInt(t[1],10),this._onByte=this._collectBodyFixedSize):this._onByte=this._collectBodyNullTerminated}_collectBodyNullTerminated(t){0!==t?this._consumeByte(t):this._retrievedBody()}_collectBodyFixedSize(t){0!=this._bodyBytesRemaining--?this._consumeByte(t):this._retrievedBody()}_retrievedBody(){this._results.binaryBody=this._consumeTokenAsRaw();try{this.onFrame(this._results)}catch(t){console.log("Ignoring an exception thrown by a frame handler. Original exception: ",t)}this._initState()}_consumeByte(t){this._token.push(t)}_consumeTokenAsUTF8(){return this._decoder.decode(this._consumeTokenAsRaw())}_consumeTokenAsRaw(){const t=new Uint8Array(this._token);return this._token=[],t}_initState(){this._results={command:void 0,headers:[],binaryBody:void 0},this._token=[],this._headerKey=void 0,this._onByte=this._collectFrame}}var au,na;!function(n){n[n.CONNECTING=0]="CONNECTING",n[n.OPEN=1]="OPEN",n[n.CLOSING=2]="CLOSING",n[n.CLOSED=3]="CLOSED"}(au=au||(au={})),function(n){n[n.ACTIVE=0]="ACTIVE",n[n.DEACTIVATING=1]="DEACTIVATING",n[n.INACTIVE=2]="INACTIVE"}(na=na||(na={}));class Ko{constructor(t){this.versions=t}supportedVersions(){return this.versions.join(",")}protocolVersions(){return this.versions.map(t=>`v${t.replace(".","")}.stomp`)}}Ko.V1_0="1.0",Ko.V1_1="1.1",Ko.V1_2="1.2",Ko.default=new Ko([Ko.V1_2,Ko.V1_1,Ko.V1_0]);class Qde{constructor(t,e,i){this._client=t,this._webSocket=e,this._connected=!1,this._serverFrameHandlers={CONNECTED:r=>{this.debug(`connected to server ${r.headers.server}`),this._connected=!0,this._connectedVersion=r.headers.version,this._connectedVersion===Ko.V1_2&&(this._escapeHeaderValues=!0),this._setupHeartbeat(r.headers),this.onConnect(r)},MESSAGE:r=>{const o=r.headers.subscription,s=this._subscriptions[o]||this.onUnhandledMessage,a=r,l=this,u=this._connectedVersion===Ko.V1_2?a.headers.ack:a.headers["message-id"];a.ack=(g={})=>l.ack(u,o,g),a.nack=(g={})=>l.nack(u,o,g),s(a)},RECEIPT:r=>{const o=this._receiptWatchers[r.headers["receipt-id"]];o?(o(r),delete this._receiptWatchers[r.headers["receipt-id"]]):this.onUnhandledReceipt(r)},ERROR:r=>{this.onStompError(r)}},this._counter=0,this._subscriptions={},this._receiptWatchers={},this._partialData="",this._escapeHeaderValues=!1,this._lastServerActivityTS=Date.now(),this.debug=i.debug,this.stompVersions=i.stompVersions,this.connectHeaders=i.connectHeaders,this.disconnectHeaders=i.disconnectHeaders,this.heartbeatIncoming=i.heartbeatIncoming,this.heartbeatOutgoing=i.heartbeatOutgoing,this.splitLargeFrames=i.splitLargeFrames,this.maxWebSocketChunkSize=i.maxWebSocketChunkSize,this.forceBinaryWSFrames=i.forceBinaryWSFrames,this.logRawCommunication=i.logRawCommunication,this.appendMissingNULLonIncoming=i.appendMissingNULLonIncoming,this.discardWebsocketOnCommFailure=i.discardWebsocketOnCommFailure,this.onConnect=i.onConnect,this.onDisconnect=i.onDisconnect,this.onStompError=i.onStompError,this.onWebSocketClose=i.onWebSocketClose,this.onWebSocketError=i.onWebSocketError,this.onUnhandledMessage=i.onUnhandledMessage,this.onUnhandledReceipt=i.onUnhandledReceipt,this.onUnhandledFrame=i.onUnhandledFrame}get connectedVersion(){return this._connectedVersion}get connected(){return this._connected}start(){const t=new qde(e=>{const i=ec.fromRawFrame(e,this._escapeHeaderValues);this.logRawCommunication||this.debug(`<<< ${i}`),(this._serverFrameHandlers[i.command]||this.onUnhandledFrame)(i)},()=>{this.debug("<<< PONG")});this._webSocket.onmessage=e=>{if(this.debug("Received data"),this._lastServerActivityTS=Date.now(),this.logRawCommunication){const i=e.data instanceof ArrayBuffer?(new TextDecoder).decode(e.data):e.data;this.debug(`<<< ${i}`)}t.parseChunk(e.data,this.appendMissingNULLonIncoming)},this._webSocket.onclose=e=>{this.debug(`Connection closed to ${this._webSocket.url}`),this._cleanUp(),this.onWebSocketClose(e)},this._webSocket.onerror=e=>{this.onWebSocketError(e)},this._webSocket.onopen=()=>{const e=Object.assign({},this.connectHeaders);this.debug("Web Socket Opened..."),e["accept-version"]=this.stompVersions.supportedVersions(),e["heart-beat"]=[this.heartbeatOutgoing,this.heartbeatIncoming].join(","),this._transmit({command:"CONNECT",headers:e})}}_setupHeartbeat(t){if(t.version!==Ko.V1_1&&t.version!==Ko.V1_2||!t["heart-beat"])return;const[e,i]=t["heart-beat"].split(",").map(r=>parseInt(r,10));if(0!==this.heartbeatOutgoing&&0!==i){const r=Math.max(this.heartbeatOutgoing,i);this.debug(`send PING every ${r}ms`),this._pinger=setInterval(()=>{this._webSocket.readyState===au.OPEN&&(this._webSocket.send(q__LF),this.debug(">>> PING"))},r)}if(0!==this.heartbeatIncoming&&0!==e){const r=Math.max(this.heartbeatIncoming,e);this.debug(`check PONG every ${r}ms`),this._ponger=setInterval(()=>{const o=Date.now()-this._lastServerActivityTS;o>2*r&&(this.debug(`did not receive server activity for the last ${o}ms`),this._closeOrDiscardWebsocket())},r)}}_closeOrDiscardWebsocket(){this.discardWebsocketOnCommFailure?(this.debug("Discarding websocket, the underlying socket may linger for a while"),this.discardWebsocket()):(this.debug("Issuing close on the websocket"),this._closeWebsocket())}forceDisconnect(){this._webSocket&&(this._webSocket.readyState===au.CONNECTING||this._webSocket.readyState===au.OPEN)&&this._closeOrDiscardWebsocket()}_closeWebsocket(){this._webSocket.onmessage=()=>{},this._webSocket.close()}discardWebsocket(){"function"!=typeof this._webSocket.terminate&&function Jde(n,t){n.terminate=function(){const e=()=>{};this.onerror=e,this.onmessage=e,this.onopen=e;const i=new Date,r=Math.random().toString().substring(2,8),o=this.onclose;this.onclose=s=>{const a=(new Date).getTime()-i.getTime();t(`Discarded socket (#${r})  closed after ${a}ms, with code/reason: ${s.code}/${s.reason}`)},this.close(),null==o||o.call(n,{code:4001,reason:`Quick discarding socket (#${r}) without waiting for the shutdown sequence.`,wasClean:!1})}}(this._webSocket,t=>this.debug(t)),this._webSocket.terminate()}_transmit(t){const{command:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=new ec({command:e,headers:i,body:r,binaryBody:o,escapeHeaderValues:this._escapeHeaderValues,skipContentLengthHeader:s});let l=a.serialize();if(this.debug(this.logRawCommunication?`>>> ${l}`:`>>> ${a}`),this.forceBinaryWSFrames&&"string"==typeof l&&(l=(new TextEncoder).encode(l)),"string"==typeof l&&this.splitLargeFrames){let u=l;for(;u.length>0;){const g=u.substring(0,this.maxWebSocketChunkSize);u=u.substring(this.maxWebSocketChunkSize),this._webSocket.send(g),this.debug(`chunk sent = ${g.length}, remaining = ${u.length}`)}}else this._webSocket.send(l)}dispose(){if(this.connected)try{const t=Object.assign({},this.disconnectHeaders);t.receipt||(t.receipt="close-"+this._counter++),this.watchForReceipt(t.receipt,e=>{this._closeWebsocket(),this._cleanUp(),this.onDisconnect(e)}),this._transmit({command:"DISCONNECT",headers:t})}catch(t){this.debug(`Ignoring error during disconnect ${t}`)}else(this._webSocket.readyState===au.CONNECTING||this._webSocket.readyState===au.OPEN)&&this._closeWebsocket()}_cleanUp(){this._connected=!1,this._pinger&&(clearInterval(this._pinger),this._pinger=void 0),this._ponger&&(clearInterval(this._ponger),this._ponger=void 0)}publish(t){const{destination:e,headers:i,body:r,binaryBody:o,skipContentLengthHeader:s}=t,a=Object.assign({destination:e},i);this._transmit({command:"SEND",headers:a,body:r,binaryBody:o,skipContentLengthHeader:s})}watchForReceipt(t,e){this._receiptWatchers[t]=e}subscribe(t,e,i={}){(i=Object.assign({},i)).id||(i.id="sub-"+this._counter++),i.destination=t,this._subscriptions[i.id]=e,this._transmit({command:"SUBSCRIBE",headers:i});const r=this;return{id:i.id,unsubscribe:o=>r.unsubscribe(i.id,o)}}unsubscribe(t,e={}){e=Object.assign({},e),delete this._subscriptions[t],e.id=t,this._transmit({command:"UNSUBSCRIBE",headers:e})}begin(t){const e=t||"tx-"+this._counter++;this._transmit({command:"BEGIN",headers:{transaction:e}});const i=this;return{id:e,commit(){i.commit(e)},abort(){i.abort(e)}}}commit(t){this._transmit({command:"COMMIT",headers:{transaction:t}})}abort(t){this._transmit({command:"ABORT",headers:{transaction:t}})}ack(t,e,i={}){i=Object.assign({},i),this._connectedVersion===Ko.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"ACK",headers:i})}nack(t,e,i={}){return i=Object.assign({},i),this._connectedVersion===Ko.V1_2?i.id=t:i["message-id"]=t,i.subscription=e,this._transmit({command:"NACK",headers:i})}}class Zde{constructor(t={}){this.stompVersions=Ko.default,this.connectionTimeout=0,this.reconnectDelay=5e3,this.heartbeatIncoming=1e4,this.heartbeatOutgoing=1e4,this.splitLargeFrames=!1,this.maxWebSocketChunkSize=8192,this.forceBinaryWSFrames=!1,this.appendMissingNULLonIncoming=!1,this.discardWebsocketOnCommFailure=!1,this.state=na.INACTIVE;const e=()=>{};this.debug=e,this.beforeConnect=e,this.onConnect=e,this.onDisconnect=e,this.onUnhandledMessage=e,this.onUnhandledReceipt=e,this.onUnhandledFrame=e,this.onStompError=e,this.onWebSocketClose=e,this.onWebSocketError=e,this.logRawCommunication=!1,this.onChangeState=e,this.connectHeaders={},this._disconnectHeaders={},this.configure(t)}get webSocket(){var t;return null==(t=this._stompHandler)?void 0:t._webSocket}get disconnectHeaders(){return this._disconnectHeaders}set disconnectHeaders(t){this._disconnectHeaders=t,this._stompHandler&&(this._stompHandler.disconnectHeaders=this._disconnectHeaders)}get connected(){return!!this._stompHandler&&this._stompHandler.connected}get connectedVersion(){return this._stompHandler?this._stompHandler.connectedVersion:void 0}get active(){return this.state===na.ACTIVE}_changeState(t){this.state=t,this.onChangeState(t)}configure(t){Object.assign(this,t)}activate(){const t=()=>{this.active?this.debug("Already ACTIVE, ignoring request to activate"):(this._changeState(na.ACTIVE),this._connect())};this.state===na.DEACTIVATING?(this.debug("Waiting for deactivation to finish before activating"),this.deactivate().then(()=>{t()})):t()}_connect(){var t=this;return Y5(function*(){if(yield t.beforeConnect(),t._stompHandler)return void t.debug("There is already a stompHandler, skipping the call to connect");if(!t.active)return void t.debug("Client has been marked inactive, will not attempt to connect");t.connectionTimeout>0&&(t._connectionWatcher&&clearTimeout(t._connectionWatcher),t._connectionWatcher=setTimeout(()=>{t.connected||(t.debug(`Connection not established in ${t.connectionTimeout}ms, closing socket`),t.forceDisconnect())},t.connectionTimeout)),t.debug("Opening Web Socket...");const e=t._createWebSocket();t._stompHandler=new Qde(t,e,{debug:t.debug,stompVersions:t.stompVersions,connectHeaders:t.connectHeaders,disconnectHeaders:t._disconnectHeaders,heartbeatIncoming:t.heartbeatIncoming,heartbeatOutgoing:t.heartbeatOutgoing,splitLargeFrames:t.splitLargeFrames,maxWebSocketChunkSize:t.maxWebSocketChunkSize,forceBinaryWSFrames:t.forceBinaryWSFrames,logRawCommunication:t.logRawCommunication,appendMissingNULLonIncoming:t.appendMissingNULLonIncoming,discardWebsocketOnCommFailure:t.discardWebsocketOnCommFailure,onConnect:i=>{if(t._connectionWatcher&&(clearTimeout(t._connectionWatcher),t._connectionWatcher=void 0),!t.active)return t.debug("STOMP got connected while deactivate was issued, will disconnect now"),void t._disposeStompHandler();t.onConnect(i)},onDisconnect:i=>{t.onDisconnect(i)},onStompError:i=>{t.onStompError(i)},onWebSocketClose:i=>{t._stompHandler=void 0,t.state===na.DEACTIVATING&&t._changeState(na.INACTIVE),t.onWebSocketClose(i),t.active&&t._schedule_reconnect()},onWebSocketError:i=>{t.onWebSocketError(i)},onUnhandledMessage:i=>{t.onUnhandledMessage(i)},onUnhandledReceipt:i=>{t.onUnhandledReceipt(i)},onUnhandledFrame:i=>{t.onUnhandledFrame(i)}}),t._stompHandler.start()})()}_createWebSocket(){let t;if(this.webSocketFactory)t=this.webSocketFactory();else{if(!this.brokerURL)throw new Error("Either brokerURL or webSocketFactory must be provided");t=new WebSocket(this.brokerURL,this.stompVersions.protocolVersions())}return t.binaryType="arraybuffer",t}_schedule_reconnect(){this.reconnectDelay>0&&(this.debug(`STOMP: scheduling reconnection in ${this.reconnectDelay}ms`),this._reconnector=setTimeout(()=>{this._connect()},this.reconnectDelay))}deactivate(t={}){var e=this;return Y5(function*(){var s;const i=t.force||!1,r=e.active;let o;if(e.state===na.INACTIVE)return e.debug("Already INACTIVE, nothing more to do"),Promise.resolve();if(e._changeState(na.DEACTIVATING),e._reconnector&&(clearTimeout(e._reconnector),e._reconnector=void 0),!e._stompHandler||e.webSocket.readyState===au.CLOSED)return e._changeState(na.INACTIVE),Promise.resolve();{const a=e._stompHandler.onWebSocketClose;o=new Promise((l,u)=>{e._stompHandler.onWebSocketClose=g=>{a(g),l()}})}return i?null==(s=e._stompHandler)||s.discardWebsocket():r&&e._disposeStompHandler(),o})()}forceDisconnect(){this._stompHandler&&this._stompHandler.forceDisconnect()}_disposeStompHandler(){this._stompHandler&&this._stompHandler.dispose()}publish(t){this._checkConnection(),this._stompHandler.publish(t)}_checkConnection(){if(!this.connected)throw new TypeError("There is no underlying STOMP connection")}watchForReceipt(t,e){this._checkConnection(),this._stompHandler.watchForReceipt(t,e)}subscribe(t,e,i={}){return this._checkConnection(),this._stompHandler.subscribe(t,e,i)}unsubscribe(t,e={}){this._checkConnection(),this._stompHandler.unsubscribe(t,e)}begin(t){return this._checkConnection(),this._stompHandler.begin(t)}commit(t){this._checkConnection(),this._stompHandler.commit(t)}abort(t){this._checkConnection(),this._stompHandler.abort(t)}ack(t,e,i={}){this._checkConnection(),this._stompHandler.ack(t,e,i)}nack(t,e,i={}){this._checkConnection(),this._stompHandler.nack(t,e,i)}}var Fh=(()=>(function(n){n.Init="/app/init",n.Join="/app/join",n.TakePrize="/app/take.prize",n.Winners="/app/winners"}(Fh||(Fh={})),Fh))(),ib=(()=>(function(n){n.KickUser="Kick user"}(ib||(ib={})),ib))();let El=(()=>{class n{constructor(){this.responseSubject=new pL(1),this.stateSubject=new li({state:Xo.None}),this.state$=this.stateSubject.asObservable()}response(e){return this.responseSubject.pipe(Ut(i=>i.response===e),pe(i=>i.data))}request(e,i){console.log("%c[ Stomp REQUEST] "+e,"background: #222; color: #caa817",i),this.stompClient.publish({destination:e,body:JSON.stringify(i)})}init(e,i,r){var o;(null===(o=this.stompClient)||void 0===o?void 0:o.active)&&this.stompClient.deactivate(),console.log({host:e}),this.stompClient=new Zde({heartbeatIncoming:2e4,heartbeatOutgoing:1e4}),this.stompClient.webSocketFactory=()=>new Xde(`${e}/?${new URLSearchParams(i).toString()}`,null,{transports:"websocket"}),this.stompClient.activate(),this.stompClient.onConnect=()=>{console.log("[ Stomp ] onConnect"),this.stateSubject.next({state:Xo.Connected}),r.forEach(s=>{this.stompClient.subscribe(s,a=>{const l=JSON.parse(a.body);console.log("%c[ Stomp RESPONSE ] "+s,"background: #222; color: #bada55",l),this.responseSubject.next({response:s,data:l})},{id:s})}),this.request(Fh.Init,null)},this.stompClient.onWebSocketClose=s=>(console.log("[ Stomp ] onWebSocketClose",s),this.stateSubject.getValue().state===Xo.None||s.reason===ib.KickUser?(this.stompClient.deactivate(),void this.stateSubject.next({state:Xo.Disconnected})):void this.stateSubject.next({state:Xo.Reconnecting})),this.stompClient.onDisconnect=s=>{console.log("[ Stomp ] onDisconnect",s),this.stateSubject.next({state:Xo.Disconnected})}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();var Bh=1e6,J_="[big.js] ",Lh=J_+"Invalid ",rb=Lh+"decimal places",$5=J_+"Division by zero",gi={},Sl=void 0,sfe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function Uh(n,t,e,i){var r=n.c;if(e===Sl&&(e=n.constructor.RM),0!==e&&1!==e&&2!==e&&3!==e)throw Error("[big.js] Invalid rounding mode");if(t<1)i=3===e&&(i||!!r[0])||0===t&&(1===e&&r[0]>=5||2===e&&(r[0]>5||5===r[0]&&(i||r[1]!==Sl))),r.length=1,i?(n.e=n.e-t+1,r[0]=1):r[0]=n.e=0;else if(t<r.length){if(i=1===e&&r[t]>=5||2===e&&(r[t]>5||5===r[t]&&(i||r[t+1]!==Sl||1&r[t-1]))||3===e&&(i||!!r[0]),r.length=t,i)for(;++r[--t]>9;)if(r[t]=0,0===t){++n.e,r.unshift(1);break}for(t=r.length;!r[--t];)r.pop()}return n}function _p(n,t,e){var i=n.e,r=n.c.join(""),o=r.length;if(t)r=r.charAt(0)+(o>1?"."+r.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)r="0"+r;r="0."+r}else if(i>0)if(++i>o)for(i-=o;i--;)r+="0";else i<o&&(r=r.slice(0,i)+"."+r.slice(i));else o>1&&(r=r.charAt(0)+"."+r.slice(1));return n.s<0&&e?"-"+r:r}gi.abs=function(){var n=new this.constructor(this);return n.s=1,n},gi.cmp=function(n){var t,e=this,i=e.c,r=(n=new e.constructor(n)).c,o=e.s,s=n.s,a=e.e,l=n.e;if(!i[0]||!r[0])return i[0]?o:r[0]?-s:0;if(o!=s)return o;if(t=o<0,a!=l)return a>l^t?1:-1;for(s=(a=i.length)<(l=r.length)?a:l,o=-1;++o<s;)if(i[o]!=r[o])return i[o]>r[o]^t?1:-1;return a==l?0:a>l^t?1:-1},gi.div=function(n){var t=this,e=t.constructor,i=t.c,r=(n=new e(n)).c,o=t.s==n.s?1:-1,s=e.DP;if(s!==~~s||s<0||s>Bh)throw Error(rb);if(!r[0])throw Error($5);if(!i[0])return n.s=o,n.c=[n.e=0],n;var a,l,u,g,E,w=r.slice(),P=a=r.length,A=i.length,D=i.slice(0,a),B=D.length,Y=n,K=Y.c=[],re=0,ae=s+(Y.e=t.e-n.e)+1;for(Y.s=o,o=ae<0?0:ae,w.unshift(0);B++<a;)D.push(0);do{for(u=0;u<10;u++){if(a!=(B=D.length))g=a>B?1:-1;else for(E=-1,g=0;++E<a;)if(r[E]!=D[E]){g=r[E]>D[E]?1:-1;break}if(!(g<0))break;for(l=B==a?r:w;B;){if(D[--B]<l[B]){for(E=B;E&&!D[--E];)D[E]=9;--D[E],D[B]+=10}D[B]-=l[B]}for(;!D[0];)D.shift()}K[re++]=g?u:++u,D[0]&&g?D[B]=i[P]||0:D=[i[P]]}while((P++<A||D[0]!==Sl)&&o--);return!K[0]&&1!=re&&(K.shift(),Y.e--,ae--),re>ae&&Uh(Y,ae,e.RM,D[0]!==Sl),Y},gi.eq=function(n){return 0===this.cmp(n)},gi.gt=function(n){return this.cmp(n)>0},gi.gte=function(n){return this.cmp(n)>-1},gi.lt=function(n){return this.cmp(n)<0},gi.lte=function(n){return this.cmp(n)<1},gi.minus=gi.sub=function(n){var t,e,i,r,o=this,s=o.constructor,a=o.s,l=(n=new s(n)).s;if(a!=l)return n.s=-l,o.plus(n);var u=o.c.slice(),g=o.e,E=n.c,w=n.e;if(!u[0]||!E[0])return E[0]?n.s=-l:u[0]?n=new s(o):n.s=1,n;if(a=g-w){for((r=a<0)?(a=-a,i=u):(w=g,i=E),i.reverse(),l=a;l--;)i.push(0);i.reverse()}else for(e=((r=u.length<E.length)?u:E).length,a=l=0;l<e;l++)if(u[l]!=E[l]){r=u[l]<E[l];break}if(r&&(i=u,u=E,E=i,n.s=-n.s),(l=(e=E.length)-(t=u.length))>0)for(;l--;)u[t++]=0;for(l=t;e>a;){if(u[--e]<E[e]){for(t=e;t&&!u[--t];)u[t]=9;--u[t],u[e]+=10}u[e]-=E[e]}for(;0===u[--l];)u.pop();for(;0===u[0];)u.shift(),--w;return u[0]||(n.s=1,u=[w=0]),n.c=u,n.e=w,n},gi.mod=function(n){var t,e=this,i=e.constructor,r=e.s,o=(n=new i(n)).s;if(!n.c[0])throw Error($5);return e.s=n.s=1,t=1==n.cmp(e),e.s=r,n.s=o,t?new i(e):(r=i.DP,o=i.RM,i.DP=i.RM=0,e=e.div(n),i.DP=r,i.RM=o,this.minus(e.times(n)))},gi.neg=function(){var n=new this.constructor(this);return n.s=-n.s,n},gi.plus=gi.add=function(n){var t,e,i,r=this,o=r.constructor;if(n=new o(n),r.s!=n.s)return n.s=-n.s,r.minus(n);var s=r.e,a=r.c,l=n.e,u=n.c;if(!a[0]||!u[0])return u[0]||(a[0]?n=new o(r):n.s=r.s),n;if(a=a.slice(),t=s-l){for(t>0?(l=s,i=u):(t=-t,i=a),i.reverse();t--;)i.push(0);i.reverse()}for(a.length-u.length<0&&(i=u,u=a,a=i),t=u.length,e=0;t;a[t]%=10)e=(a[--t]=a[t]+u[t]+e)/10|0;for(e&&(a.unshift(e),++l),t=a.length;0===a[--t];)a.pop();return n.c=a,n.e=l,n},gi.pow=function(n){var t=this,e=new t.constructor("1"),i=e,r=n<0;if(n!==~~n||n<-1e6||n>1e6)throw Error(Lh+"exponent");for(r&&(n=-n);1&n&&(i=i.times(t)),n>>=1;)t=t.times(t);return r?e.div(i):i},gi.prec=function(n,t){if(n!==~~n||n<1||n>Bh)throw Error(Lh+"precision");return Uh(new this.constructor(this),n,t)},gi.round=function(n,t){if(n===Sl)n=0;else if(n!==~~n||n<-Bh||n>Bh)throw Error(rb);return Uh(new this.constructor(this),n+this.e+1,t)},gi.sqrt=function(){var n,t,e,i=this,r=i.constructor,o=i.s,s=i.e,a=new r("0.5");if(!i.c[0])return new r(i);if(o<0)throw Error(J_+"No square root");0===(o=Math.sqrt(i+""))||o===1/0?((t=i.c.join("")).length+s&1||(t+="0"),s=((s+1)/2|0)-(s<0||1&s),n=new r(((o=Math.sqrt(t))==1/0?"5e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+s)):n=new r(o+""),s=n.e+(r.DP+=4);do{n=a.times((e=n).plus(i.div(e)))}while(e.c.slice(0,s).join("")!==n.c.slice(0,s).join(""));return Uh(n,(r.DP-=4)+n.e+1,r.RM)},gi.times=gi.mul=function(n){var t,e=this,r=e.c,o=(n=new(0,e.constructor)(n)).c,s=r.length,a=o.length,l=e.e,u=n.e;if(n.s=e.s==n.s?1:-1,!r[0]||!o[0])return n.c=[n.e=0],n;for(n.e=l+u,s<a&&(t=r,r=o,o=t,u=s,s=a,a=u),t=new Array(u=s+a);u--;)t[u]=0;for(l=a;l--;){for(a=0,u=s+l;u>l;)a=t[u]+o[l]*r[u-l-1]+a,t[u--]=a%10,a=a/10|0;t[u]=a}for(a?++n.e:t.shift(),l=t.length;!t[--l];)t.pop();return n.c=t,n},gi.toExponential=function(n,t){var e=this,i=e.c[0];if(n!==Sl){if(n!==~~n||n<0||n>Bh)throw Error(rb);for(e=Uh(new e.constructor(e),++n,t);e.c.length<n;)e.c.push(0)}return _p(e,!0,!!i)},gi.toFixed=function(n,t){var e=this,i=e.c[0];if(n!==Sl){if(n!==~~n||n<0||n>Bh)throw Error(rb);for(n=n+(e=Uh(new e.constructor(e),n+e.e+1,t)).e+1;e.c.length<n;)e.c.push(0)}return _p(e,!1,!!i)},gi[Symbol.for("nodejs.util.inspect.custom")]=gi.toJSON=gi.toString=function(){var n=this,t=n.constructor;return _p(n,n.e<=t.NE||n.e>=t.PE,!!n.c[0])},gi.toNumber=function(){var n=Number(_p(this,!0,!0));if(!0===this.constructor.strict&&!this.eq(n.toString()))throw Error(J_+"Imprecise conversion");return n},gi.toPrecision=function(n,t){var e=this,i=e.constructor,r=e.c[0];if(n!==Sl){if(n!==~~n||n<1||n>Bh)throw Error(Lh+"precision");for(e=Uh(new i(e),n,t);e.c.length<n;)e.c.push(0)}return _p(e,n<=e.e||e.e<=i.NE||e.e>=i.PE,!!r)},gi.valueOf=function(){var n=this,t=n.constructor;if(!0===t.strict)throw Error(J_+"valueOf disallowed");return _p(n,n.e<=t.NE||n.e>=t.PE,!0)};var mp=function X5(){function n(t){var e=this;if(!(e instanceof n))return t===Sl?X5():new n(t);if(t instanceof n)e.s=t.s,e.e=t.e,e.c=t.c.slice();else{if("string"!=typeof t){if(!0===n.strict&&"bigint"!=typeof t)throw TypeError(Lh+"value");t=0===t&&1/t<0?"-0":String(t)}!function afe(n,t){var e,i,r;if(!sfe.test(t))throw Error(Lh+"number");for(n.s="-"==t.charAt(0)?(t=t.slice(1),-1):1,(e=t.indexOf("."))>-1&&(t=t.replace(".","")),(i=t.search(/e/i))>0?(e<0&&(e=i),e+=+t.slice(i+1),t=t.substring(0,i)):e<0&&(e=t.length),r=t.length,i=0;i<r&&"0"==t.charAt(i);)++i;if(i==r)n.c=[n.e=0];else{for(;r>0&&"0"==t.charAt(--r););for(n.e=e-i-1,n.c=[],e=0;i<=r;)n.c[e++]=+t.charAt(i++)}}(e,t)}e.constructor=n}return n.prototype=gi,n.DP=20,n.RM=1,n.NE=-7,n.PE=21,n.strict=!1,n.roundDown=0,n.roundHalfUp=1,n.roundHalfEven=2,n.roundUp=3,n}(),Gh=(()=>(function(n){n.TaskCompleted="Task completed:",n.MissionCompleted="Mission completed. Take your prize!",n.PrizePaid="Prize has been paid. Congratulations!",n.PrizesEnded="Mission ended: all prizes have been won"}(Gh||(Gh={})),Gh))();let ob=(()=>{class n{constructor(e,i){this.translate=e,this.bsMessage=i}getTranslation(e){return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],`game.engagement-tool.toast-message.${e}`)||e}getTranslationTask(e){var i,r,o,s;const a=`game.engagement-tool.tasks.${e.taskName}`,l=this.translate.instant(a,{x:e.params.x,rounds:null===(i=e.params)||void 0===i?void 0:i.rounds,amount:null===(r=e.params)||void 0===r?void 0:r.amount,minBet:null===(o=e.params)||void 0===o?void 0:o.minBet,times:null===(s=e.params)||void 0===s?void 0:s.times,currency:e.currency});return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],a)?l:e.taskName}show(e,i,r){const o=r?this.getTranslation(e)+" "+this.getTranslationTask(r):this.getTranslation(e);this.bsMessage.add({value:o,context:i})}}return n.\u0275fac=function(e){return new(e||n)(ke(Ku),ke(dh))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),sb=(()=>{class n{constructor(e,i){this.stomp=e,this.notification=i,this.tasks=new Map,this.currency="USD",this.updateSubject=new li(null),this.update$=this.updateSubject.asObservable(),this.stomp.response(xo.Init).subscribe(r=>{this.currency=r.config.currency,r.tasks.forEach(o=>{this.tasks.set(o.name,Object.assign(Object.assign({},o),{nameParams:Object.assign(Object.assign({},o.nameParams),{currency:r.config.currency})}))}),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:this.totalProgress})}),this.stomp.response(xo.Progress).subscribe(r=>{r.taskProgress.forEach(o=>{this.tasks.set(o.taskName,Object.assign(Object.assign({},this.tasks.get(o.taskName)),{progress:o.progress})),this.updateSubject.next({tasks:Array.from(this.tasks.values()),totalProgress:this.totalProgress}),this.tasks.get(o.taskName).progress===this.tasks.get(o.taskName).goal&&this.notification.show(Gh.TaskCompleted,Es.success,{taskName:o.taskName,params:this.tasks.get(o.taskName).nameParams,currency:this.currency})})})}get totalProgress(){const e=Array.from(this.tasks.values()).reduce((i,r)=>i.plus(mp(r.progress).div(r.goal)),mp(0));return Math.floor(e.div(this.tasks.size).times(100).toNumber())}}return n.\u0275fac=function(e){return new(e||n)(ke(El),ke(ob))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function lfe(n,t){if(1&n&&(qt(0),R(1,"div",11),z(2),Ce(3,"translate"),I(),R(4,"div"),z(5),Ce(6,"translate"),I(),Jt()),2&n){const e=t.$implicit;F(2),Pe(" ",oi(3,2,"game.engagement-tool.tasks."+e.name,e.nameParams)," "),F(3),Pe(" ",oi(6,5,"game.engagement-tool.mission_rules.tasks."+e.name,e.nameParams)," ")}}let tc=class{constructor(t,e,i){this.activeModal=t,this.stomp=e,this.task=i}ngOnInit(){this.stomp.state$.pipe(Tt(this),Ut(t=>t.state===Xo.Disconnected)).subscribe(()=>{this.close()})}close(){this.activeModal.close()}};tc.\u0275fac=function(t){return new(t||tc)(X(Wr),X(El),X(sb))},tc.\u0275cmp=gt({type:tc,selectors:[["app-mission-rules"]],decls:71,vars:63,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","px-2","py-3"],[1,"rules","pt-3","pb-2"],[1,"title"],[1,"p-0","m-0","pl-3"],[1,"tasks"],[4,"ngFor","ngForOf"],[1,"prizes","pt-3","pb-2"],[1,"task-name","pt-2"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return e.close()}),Ae(5,"span",3),I()(),R(6,"div",4)(7,"div"),z(8),Ce(9,"translate"),I(),R(10,"section",5)(11,"div",6),z(12),Ce(13,"translate"),I(),R(14,"ul",7)(15,"li"),z(16),Ce(17,"translate"),I(),R(18,"li"),z(19),Ce(20,"translate"),I(),R(21,"li"),z(22),Ce(23,"translate"),I(),R(24,"li"),z(25),Ce(26,"translate"),I(),R(27,"li"),z(28),Ce(29,"translate"),I(),R(30,"li"),z(31),Ce(32,"translate"),I(),R(33,"li"),z(34),Ce(35,"translate"),I()()(),R(36,"section",8)(37,"div",6),z(38),Ce(39,"translate"),I(),R(40,"div"),z(41),Ce(42,"translate"),I(),ue(43,lfe,7,8,"ng-container",9),Ce(44,"async"),I(),R(45,"section",10)(46,"div",6),z(47),Ce(48,"translate"),I(),R(49,"ul",7)(50,"li"),z(51),Ce(52,"translate"),I(),R(53,"li"),z(54),Ce(55,"translate"),I(),R(56,"li"),z(57),Ce(58,"translate"),I(),R(59,"li"),z(60),Ce(61,"translate"),I(),R(62,"li"),z(63),Ce(64,"translate"),I(),R(65,"li"),z(66),Ce(67,"translate"),I()()(),R(68,"div"),z(69),Ce(70,"translate"),I()()),2&t&&(F(2),St(Ne(3,21,"game.engagement-tool.mission_rules.title")),F(6),Pe(" ",Ne(9,23,"game.engagement-tool.mission_rules.Step_into")," "),F(4),Pe(" ",Ne(13,25,"game.engagement-tool.mission_rules.rules.title")," "),F(4),Pe(" ",Ne(17,27,"game.engagement-tool.mission_rules.rules.point1")," "),F(3),Pe(" ",Ne(20,29,"game.engagement-tool.mission_rules.rules.point2")," "),F(3),Pe(" ",Ne(23,31,"game.engagement-tool.mission_rules.rules.point3")," "),F(3),Pe(" ",Ne(26,33,"game.engagement-tool.mission_rules.rules.point4")," "),F(3),Pe(" ",Ne(29,35,"game.engagement-tool.mission_rules.rules.point5")," "),F(3),Pe(" ",Ne(32,37,"game.engagement-tool.mission_rules.rules.point6")," "),F(3),Pe(" ",Ne(35,39,"game.engagement-tool.mission_rules.rules.point7")," "),F(4),Pe(" ",Ne(39,41,"game.engagement-tool.mission_rules.tasks.title")," "),F(3),Pe(" ",Ne(42,43,"game.engagement-tool.mission_rules.tasks.Before_you_begin")," "),F(2),Q("ngForOf",Ne(44,45,e.task.update$).tasks),F(4),Pe(" ",Ne(48,47,"game.engagement-tool.mission_rules.prizes.title")," "),F(4),Pe(" ",Ne(52,49,"game.engagement-tool.mission_rules.prizes.point1")," "),F(3),Pe(" ",Ne(55,51,"game.engagement-tool.mission_rules.prizes.point2")," "),F(3),Pe(" ",Ne(58,53,"game.engagement-tool.mission_rules.prizes.point3")," "),F(3),Pe(" ",Ne(61,55,"game.engagement-tool.mission_rules.prizes.point4")," "),F(3),Pe(" ",Ne(64,57,"game.engagement-tool.mission_rules.prizes.point5")," "),F(3),Pe(" ",Ne(67,59,"game.engagement-tool.mission_rules.prizes.point6")," "),F(3),Pe(" ",Ne(70,61,"game.engagement-tool.mission_rules.Please_note")," "))},directives:[Ti],pipes:[Qn,Ef],styles:[".close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]{color:#a4a4a4}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700;line-height:18px;padding-bottom:10px}.modal-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.modal-body[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task-name[_ngcontent-%COMP%]{color:#ff9f00;font-weight:600}"],changeDetection:0}),tc=Ye([Ci()],tc);let ab=(()=>{class n{constructor(e){this.ngbModal=e}open(e){this.ngbModal.open(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(X0))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),nc=class{constructor(t,e,i){this.activeModal=t,this.stomp=e,this.modal=i}ngOnInit(){this.stomp.state$.pipe(Tt(this),Ut(t=>t.state===Xo.Disconnected)).subscribe(()=>{this.close()})}showMissionRules(){this.modal.open(tc)}close(){this.activeModal.close()}};nc.\u0275fac=function(t){return new(t||nc)(X(Wr),X(El),X(ab))},nc.\u0275cmp=gt({type:nc,selectors:[["app-how-it-works"]],decls:48,vars:39,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],[1,"modal-body","p-0","px-2"],[1,"py-3"],[1,"title"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"img","img-join","my-2"],[1,"title","w-100"],[1,"img","img-progress","my-2"],[1,"img","img-prize","my-2"],[1,"img","img-mission-completion","my-2"],[1,"btn-link","pb-4","text-center",3,"click"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return e.close()}),Ae(5,"span",3),I()(),R(6,"div",4)(7,"div",5),z(8),Ce(9,"translate"),I(),R(10,"div",6),z(11),Ce(12,"translate"),I(),R(13,"ol",7),Ae(14,"div",8),R(15,"li",9),z(16),Ce(17,"translate"),I(),R(18,"div"),z(19),Ce(20,"translate"),I(),Ae(21,"div",10),R(22,"li",9),z(23),Ce(24,"translate"),I(),R(25,"div"),z(26),Ce(27,"translate"),I(),Ae(28,"div",11),R(29,"li",9),z(30),Ce(31,"translate"),I(),R(32,"div"),z(33),Ce(34,"translate"),I(),Ae(35,"div",12),R(36,"li",9),z(37),Ce(38,"translate"),I(),R(39,"div"),z(40),Ce(41,"translate"),I()(),R(42,"div",5),z(43),Ce(44,"translate"),I(),R(45,"div",13),Me("click",function(){return e.showMissionRules()}),z(46),Ce(47,"translate"),I()()),2&t&&(F(2),St(Ne(3,13,"game.engagement-tool.how_it_works.title")),F(6),Pe(" ",Ne(9,15,"game.engagement-tool.how_it_works.Welcome")," "),F(3),Pe(" ",Ne(12,17,"game.engagement-tool.how_it_works.Here\u2019s_how_it_works")," "),F(5),Pe(" ",Ne(17,19,"game.engagement-tool.how_it_works.join_the_mission.title")," "),F(3),Pe(" ",Ne(20,21,"game.engagement-tool.how_it_works.join_the_mission.text")," "),F(4),Pe(" ",Ne(24,23,"game.engagement-tool.how_it_works.task_progress.title")," "),F(3),Pe(" ",Ne(27,25,"game.engagement-tool.how_it_works.task_progress.text")," "),F(4),Pe(" ",Ne(31,27,"game.engagement-tool.how_it_works.fight_for_your_prize.title")," "),F(3),Pe(" ",Ne(34,29,"game.engagement-tool.how_it_works.fight_for_your_prize.text")," "),F(4),Pe(" ",Ne(38,31,"game.engagement-tool.how_it_works.mission_completion.title")," "),F(3),Pe(" ",Ne(41,33,"game.engagement-tool.how_it_works.mission_completion.text")," "),F(3),Pe(" ",Ne(44,35,"game.engagement-tool.how_it_works.Join_the_mission")," "),F(3),Pe(" ",Ne(47,37,"game.engagement-tool.how_it_works.Detailed_Mission_rules")," "))},pipes:[Qn],styles:[".close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]{color:#a4a4a4}.modal-body[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#fff;font-size:16px;font-weight:700}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin:0;padding:0}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{height:100px;width:320px;border-radius:10px}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img-join[_ngcontent-%COMP%]{background:url(join.20a6b098c194d68c.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img-progress[_ngcontent-%COMP%]{background:url(progress.dd4b10a6ce46c98a.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img-prize[_ngcontent-%COMP%]{background:url(big-prize.41e4b821f3b84a7d.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   .img-mission-completion[_ngcontent-%COMP%]{background:url(mission-completion.ef6b0ae78f0889a0.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:40px;color:#ff9f00}.modal-body[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{font-size:16px;color:#fec223;text-decoration:underline}"]}),nc=Ye([Ci()],nc);let vp=(()=>{class n{constructor(e){this.stomp=e,this._config={startDate:0,endDate:0,minBet:0,currency:"",currencyPrecision:0},this.stomp.response(xo.Init).subscribe(i=>{this._config={startDate:i.config.startDate,endDate:i.config.endDate,minBet:i.config.minBet,currency:i.config.currency,currencyPrecision:i.config.currencyPrecision}})}get config(){return this._config}}return n.\u0275fac=function(e){return new(e||n)(ke(El))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),lb=(()=>{class n{constructor(e,i){this.stomp=e,this.notification=i,this.updateSubject=new li(null),this.update$=this.updateSubject.asObservable(),this.items=[],this.total=0,this.potentialPrizeAmount=0,this.stomp.response(xo.Init).subscribe(r=>{this.total=r.prize.total,this.items=[...r.prize.items],this.potentialPrizeAmount=this.items.reduce((o,s)=>o.plus(mp(s.cost).times(s.quantity)),mp(0)).toNumber(),this.updateSubject.next({left:r.prize.left})}),this.stomp.response(xo.Prize).subscribe(r=>{this.updateSubject.next({left:r.left}),0===r.left&&this.notification.show(Gh.PrizesEnded,Es.danger)})}}return n.\u0275fac=function(e){return new(e||n)(ke(El),ke(ob))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),K5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-free-bet-badge"]],decls:2,vars:0,consts:[[1,"free-bet-badge","d-flex","flex-center"]],template:function(e,i){1&e&&(R(0,"div",0),z(1,"FREE BET"),I())},styles:[".free-bet-badge[_ngcontent-%COMP%]{width:56px;height:18px;font-size:10px;color:#a4a4a4;border:solid 1px #a4a4a4;border-radius:11px;line-height:12px}"],changeDetection:0}),n})(),ub=(()=>{class n{constructor(e){this.mission=e}transform(e){return"number"!=typeof e?"":new mp(e).toFixed(this.mission.config.currencyPrecision,0)}}return n.\u0275fac=function(e){return new(e||n)(X(vp,16))},n.\u0275pipe=oo({name:"currencyPrecision",type:n,pure:!0}),n})();function ufe(n,t){if(1&n&&Ae(0,"img",24),2&n){const e=he().$implicit;Q("src",he(3).pathAvatars+e.avatar,so)("alt",e.name)}}function cfe(n,t){1&n&&Ae(0,"div",25)}function hfe(n,t){if(1&n&&(R(0,"li",14)(1,"div",15)(2,"div",16),z(3),Ce(4,"date"),I(),ue(5,ufe,1,2,"img",17),ue(6,cfe,1,0,"div",18),R(7,"div",19),z(8),I()(),R(9,"div",20),Ae(10,"div",21),R(11,"div",22)(12,"span",23),z(13),Ce(14,"currencyPrecision"),I(),Ae(15,"app-free-bet-badge"),I()()()),2&n){const e=t.$implicit,i=he(3);F(3),St(oi(4,6,e.date,"HH:mm:ss")),F(2),Q("ngIf",e.avatar),F(1),Q("ngIf",!e.avatar),F(2),St(e.name),F(5),Yi("",Ne(14,9,i.prize.potentialPrizeAmount)," ",i.mission.config.currency," ")}}function dfe(n,t){if(1&n&&(R(0,"div",11)(1,"ul",12),ue(2,hfe,16,11,"li",13),I()()),2&n){const e=he().ngIf;F(2),Q("ngForOf",e)}}function ffe(n,t){if(1&n&&(R(0,"div",5)(1,"div",6),Ae(2,"div",7),R(3,"div",8),z(4),Ce(5,"translate"),I(),R(6,"div",9),z(7),Ce(8,"translate"),I()(),ue(9,dfe,3,1,"div",10),I()),2&n){const e=t.ngIf;at("no-winners",!e.length),F(4),Pe(" ",Ne(5,5,"game.engagement-tool.Our_Winners")," "),F(3),Pe(" ",Ne(8,7,"game.engagement-tool.no_winners")," "),F(2),Q("ngIf",e.length)}}let jh=class{constructor(t,e,i,r){this.activeModal=t,this.stomp=e,this.mission=i,this.prize=r,this.winners$=this.stomp.response(xo.Winners).pipe(pe(o=>o.winners)),this.pathAvatars="assets/static/avatars/v2/"}ngOnInit(){this.stomp.state$.pipe(Tt(this),Ut(t=>t.state===Xo.Disconnected)).subscribe(()=>{this.close()})}close(){this.activeModal.close()}};jh.\u0275fac=function(t){return new(t||jh)(X(Wr),X(El),X(vp),X(lb))},jh.\u0275cmp=gt({type:jh,selectors:[["app-winners"]],decls:8,vars:6,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body",3,"no-winners",4,"ngIf"],[1,"modal-body"],[1,"winners-heading","text-center"],[1,"trophy"],[1,"winners-text","font-weight-bold"],[1,"no-winners-text"],["class","winners-list-holder",4,"ngIf"],[1,"winners-list-holder"],[1,"winners-list"],["class","d-flex justify-content-between",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],[1,"user-info","d-flex","align-items-center"],[1,"win-date"],[3,"src","alt",4,"ngIf"],["class","user-icon",4,"ngIf"],[1,"winner-name"],[1,"prize-info","d-flex","align-items-center"],[1,"prize-box"],[1,"prize-amount","d-flex"],[1,"amount"],[3,"src","alt"],[1,"user-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return e.close()}),Ae(5,"span",3),I()(),ue(6,ffe,10,9,"div",4),Ce(7,"async")),2&t&&(F(2),St(Ne(3,2,"game.engagement-tool.Mission")),F(4),Q("ngIf",Ne(7,4,e.winners$)))},directives:[Zt,Ti,K5],pipes:[Qn,Ef,sl,ub],styles:[".close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]{margin:10px 0}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .trophy[_ngcontent-%COMP%]{background:url(trophy.a583c02557565401.svg) no-repeat center center/contain;width:42px;height:42px;margin:0 auto 5px}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .winners-text[_ngcontent-%COMP%]{font-size:16px}.modal-body[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .no-winners-text[_ngcontent-%COMP%]{display:none}.modal-body.no-winners[_ngcontent-%COMP%]{display:flex;min-height:285px}.modal-body.no-winners[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]{margin:auto;max-width:184px}.modal-body.no-winners[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .no-winners-text[_ngcontent-%COMP%]{display:block}.modal-body.no-winners[_ngcontent-%COMP%]   .winners-heading[_ngcontent-%COMP%]   .winners-text[_ngcontent-%COMP%], .modal-body.no-winners[_ngcontent-%COMP%]   .winners-list-holder[_ngcontent-%COMP%]{display:none}.winners-list-holder[_ngcontent-%COMP%]{background-color:#2c2e30;padding:10px;border-radius:10px}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]{margin:0;padding:0;list-style:none}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:12px;padding-bottom:5px;margin-bottom:5px;border-bottom:1px solid rgba(154,154,154,.25)}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type{padding-bottom:0;margin-bottom:0;border-bottom:none}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]{white-space:nowrap;min-width:40%}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .win-date[_ngcontent-%COMP%]{font-size:10px;color:#a4a4a4}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{width:22px;height:22px;min-width:22px;border-radius:50%;overflow:hidden;margin:0 5px}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .user-icon[_ngcontent-%COMP%]{background:url(av.f02b9dd771d998f5.svg) no-repeat center center/contain}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .user-info[_ngcontent-%COMP%]   .winner-name[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]{max-width:60%}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;height:14px;width:14px;min-width:14px;margin-right:5px}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]   .prize-amount[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.winners-list-holder[_ngcontent-%COMP%]   .winners-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%]   .prize-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{padding-right:3px}"],changeDetection:0}),jh=Ye([Ci()],jh);var cb=(()=>(function(n){n.MinBet="Min_bet",n.PrizesEnded="Prizes_ended"}(cb||(cb={})),cb))(),ic=(()=>(function(n){n.Announced="ANNOUNCED",n.Active="ACTIVE",n.Finished="FINISHED"}(ic||(ic={})),ic))(),ia=(()=>(function(n){n.None="NONE",n.Joined="JOINED",n.Won="WON",n.Rewarded="REWARDED"}(ia||(ia={})),ia))();let hb=(()=>{class n{constructor(e,i){this.stomp=e,this.notification=i,this.update=new li({mission:{status:ic.Announced},player:{status:ia.None}}),this.update$=this.update.asObservable(),this.stomp.response(xo.Init).subscribe(r=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{mission:{status:r.status.mission.status,finishDate:r.status.mission.finishDate||r.config.endDate},player:{status:r.status.player.status}}))}),this.stomp.response(xo.PlayerStatus).subscribe(r=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{player:{status:r.status}})),r.status===ia.Won&&this.notification.show(Gh.MissionCompleted,Es.success),r.status===ia.Rewarded&&this.notification.show(Gh.PrizePaid,Es.success)}),this.stomp.response(xo.MissionStatus).subscribe(r=>{this.update.next(Object.assign(Object.assign({},this.update.getValue()),{mission:{status:r.status,finishDate:r.finishDate||this.update.getValue().mission.finishDate}}))})}}return n.\u0275fac=function(e){return new(e||n)(ke(El),ke(ob))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),db=(()=>{class n{constructor(e,i){this.mission=e,this.status=i,this.stakes=new Map([]),this.missionStatus=ic.Announced,this.playerStatus=ia.None,this.updateSubject=new li(!1),this.update$=this.updateSubject.asObservable().pipe(ap()),this.status.update$.subscribe(r=>{this.missionStatus=r.mission.status,this.playerStatus=r.player.status,this.update()})}updateStake(e,i=1){this.stakes.set(i,e),this.update()}update(){const e=Array.from(this.stakes.values()).every(i=>i<this.mission.config.minBet)&&this.missionStatus===ic.Active&&this.playerStatus===ia.Joined;this.updateSubject.next(e)}}return n.\u0275fac=function(e){return new(e||n)(ke(vp),ke(hb))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),pfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-alert-message"]],inputs:{alertMessage:"alertMessage"},decls:4,vars:1,consts:[[1,"alert-message","d-flex","justify-content-center","mb-2","p-2"],[1,"icon","flex-shrink-0"],["translate","",1,"text","pl-1"]],template:function(e,i){1&e&&(R(0,"div",0),Ae(1,"div",1),R(2,"span",2),z(3),I()()),2&e&&(F(3),Pe(" game.engagement-tool.alert-message.",i.alertMessage," "))},directives:[jn],styles:[".alert-message[_ngcontent-%COMP%]{background-color:#71172b;border:1px solid #9f1434;border-radius:10px}.alert-message[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:16px;height:16px;background:url(alert-circle.ef614c2cb05c7771.svg) no-repeat center center/contain}.alert-message[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),n})();var nr=(()=>(function(n){n.CatchMultiplier="CATCH_MULTIPLIER",n.CatchMultiplierTimes="CATCH_MULTIPLIER_TIMES",n.WinMoneyInTotal="WIN_MONEY_IN_TOTAL",n.WinRounds="WIN_ROUNDS",n.WinRoundsCustomMinBet="WIN_ROUNDS_CUSTOM_MIN_BET",n.BetInTotal="BET_IN_TOTAL",n.BetInRoundMaxReachedMultiplier="BET_IN_ROUND_MAX_REACHED_MULTIPLIER",n.PlayRounds="PLAY_ROUNDS",n.PlayRoundsMaxReachedMultiplier="PLAY_ROUNDS_MAX_REACHED_MULTIPLIER",n.CollectCashOutsMultiplierSum="COLLECT_CASH_OUTS_MULTIPLIER_SUM"}(nr||(nr={})),nr))(),As=(()=>(function(n){n.WinRounds="win-rounds",n.WinMoney="win-money",n.PlayRounds="play-rounds",n.CollectCashouts="collect-cashouts",n.CatchX="catch-x",n.MakeBets="make-bets"}(As||(As={})),As))();const gfe={[nr.PlayRounds]:As.PlayRounds,[nr.CatchMultiplier]:As.CatchX,[nr.CatchMultiplierTimes]:As.CatchX,[nr.WinRounds]:As.WinRounds,[nr.WinRoundsCustomMinBet]:As.WinRounds,[nr.BetInRoundMaxReachedMultiplier]:As.MakeBets,[nr.PlayRoundsMaxReachedMultiplier]:As.PlayRounds,[nr.WinMoneyInTotal]:As.WinMoney,[nr.BetInTotal]:As.MakeBets,[nr.CollectCashOutsMultiplierSum]:As.CollectCashouts};let _fe=(()=>{class n{get groupName(){return gfe[this.task.name]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-task"]],inputs:{task:"task"},decls:5,vars:5,consts:[[1,"task-holder","d-flex","align-items-center","pb-1"],[1,"task-icon","flex-shrink-0",3,"ngClass"],[1,"task-info"]],template:function(e,i){1&e&&(R(0,"div",0),Ae(1,"div",1),R(2,"div",2),z(3),Ce(4,"translate"),I()()),2&e&&(F(1),Q("ngClass",i.groupName),F(2),Pe(" ",oi(4,2,"game.engagement-tool.tasks."+i.task.name,i.task.nameParams)," "))},directives:[yf],pipes:[Qn],styles:[".task-holder[_ngcontent-%COMP%]   .task-icon[_ngcontent-%COMP%]{width:20px;height:20px;margin-right:8px}.task-holder[_ngcontent-%COMP%]   .win-rounds[_ngcontent-%COMP%]{background:url(win-rounds.fb255786ec80bbac.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .win-money[_ngcontent-%COMP%]{background:url(win-money.8a6c5b205fcc8ceb.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .play-rounds[_ngcontent-%COMP%]{background:url(play-rounds.274cb5d798e59525.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .collect-cashouts[_ngcontent-%COMP%]{background:url(collect-cashouts.bcac814996ac471a.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .catch-x[_ngcontent-%COMP%]{background:url(catch-x.e3e95d64dbab4213.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .make-bets[_ngcontent-%COMP%]{background:url(make-bets.9b323891b41c3a17.svg) no-repeat}.task-holder[_ngcontent-%COMP%]   .task-info[_ngcontent-%COMP%]{line-height:16px}"],changeDetection:0}),n})();var ns=(()=>(function(n){n.OnlyNumbers="onlyNumbers",n.Currency="currency",n.Multiplier="multiplier"}(ns||(ns={})),ns))();const mfe={[nr.PlayRounds]:ns.OnlyNumbers,[nr.CatchMultiplier]:ns.OnlyNumbers,[nr.CatchMultiplierTimes]:ns.OnlyNumbers,[nr.WinRounds]:ns.OnlyNumbers,[nr.WinRoundsCustomMinBet]:ns.OnlyNumbers,[nr.BetInRoundMaxReachedMultiplier]:ns.OnlyNumbers,[nr.PlayRoundsMaxReachedMultiplier]:ns.OnlyNumbers,[nr.WinMoneyInTotal]:ns.Currency,[nr.BetInTotal]:ns.Currency,[nr.CollectCashOutsMultiplierSum]:ns.Multiplier};function vfe(n,t){if(1&n&&(qt(0),R(1,"div",6),z(2),I(),Jt()),2&n){const e=he();F(2),Yi(" ",e.task.progress,"/",e.task.goal," ")}}function yfe(n,t){if(1&n&&(qt(0),R(1,"div",6),z(2),I(),Jt()),2&n){const e=he();F(2),Ov(" ",e.task.progress,"/",e.task.goal," ",e.currency," ")}}function bfe(n,t){if(1&n&&(qt(0),R(1,"div",6),z(2),I(),Jt()),2&n){const e=he();F(2),Yi(" ",e.task.progress,"x/",e.task.goal,"x ")}}let Efe=(()=>{class n{constructor(){this.group=ns}get currentGroupName(){return mfe[this.task.name]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-task-progress"]],inputs:{task:"task",currency:"currency",isEnded:"isEnded",isMinBetError:"isMinBetError"},decls:8,vars:8,consts:[[1,"progress-box","w-100"],[1,"counter-box","w-100","h-100","flex-center"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"progress-bg","w-100"],[1,"progress-bar"],[1,"counter","flex-center"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),qt(2,2),ue(3,vfe,3,2,"ng-container",3),ue(4,yfe,3,3,"ng-container",3),ue(5,bfe,3,2,"ng-container",3),Jt(),I(),R(6,"div",4),Ae(7,"div",5),I()()),2&e&&(F(2),Q("ngSwitch",i.currentGroupName),F(1),Q("ngSwitchCase",i.group.OnlyNumbers),F(1),Q("ngSwitchCase",i.group.Currency),F(1),Q("ngSwitchCase",i.group.Multiplier),F(2),Au("width",i.task.progress/i.task.goal*100+"%"),at("frozen",i.isEnded||i.isMinBetError))},directives:[ol,Nu],styles:[".progress-box[_ngcontent-%COMP%]{position:relative}.progress-box[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]{z-index:1;position:absolute;font-size:12px}.progress-box[_ngcontent-%COMP%]   .counter-box[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%]{min-width:40px;height:16px;border-radius:10px;background:rgba(27,28,29,.5);color:#fff;padding:1px 5px}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]{height:24px;width:100%;background-color:#1b1c1d;border:solid 2px transparent;border-radius:100px;overflow:hidden}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-size:30px 30px;background-image:linear-gradient(135deg,#5da71d 25%,#64b61d 25%,#64b61d 50%,#5da71d 50%,#5da71d 75%,#64b61d 75%,#64b61d)}.progress-box[_ngcontent-%COMP%]   .progress-bg[_ngcontent-%COMP%]   .frozen[_ngcontent-%COMP%]{background-image:none;background-color:#a4a4a4}"],changeDetection:0}),n})();function Sfe(n,t){if(1&n&&(R(0,"div",1)(1,"div",2),z(2,"FreeBet"),I(),R(3,"div",3)(4,"span",4),z(5),Ce(6,"translate"),I(),R(7,"span"),z(8),I()(),R(9,"div",3)(10,"span",4),z(11),Ce(12,"translate"),I(),R(13,"div")(14,"span"),z(15),Ce(16,"currencyPrecision"),I(),R(17,"span",5),z(18),I()()(),R(19,"div",3)(20,"span",4),z(21),Ce(22,"translate"),I(),R(23,"div")(24,"span"),z(25),Ce(26,"currencyPrecision"),I(),R(27,"span",5),z(28),I()()()()),2&n){const e=t.$implicit,i=he();F(5),St(Ne(6,8,"game.engagement-tool.Quantity")),F(3),St(e.quantity),F(3),St(Ne(12,10,"game.engagement-tool.Cost")),F(4),St(Ne(16,12,e.cost)),F(3),Pe(" ",i.currency,""),F(3),St(Ne(22,14,"game.engagement-tool.Prize_amount")),F(4),St(Ne(26,16,i.getPrizeAmount(e.cost,e.quantity))),F(3),Pe(" ",i.currency,"")}}let Tfe=(()=>{class n{getPrizeAmount(e,i){return mp(e).times(i).toNumber()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-prize-popover-content"]],inputs:{prizes:"prizes",currency:"currency"},decls:1,vars:1,consts:[["class","prize-popover pt-2 pb-1",4,"ngFor","ngForOf"],[1,"prize-popover","pt-2","pb-1"],[1,"prize-type","pb-1"],[1,"prize-detail","d-flex","justify-content-between","align-items-center","pb-1"],[1,"title"],[1,"currency"]],template:function(e,i){1&e&&ue(0,Sfe,29,18,"div",0),2&e&&Q("ngForOf",i.prizes)},directives:[Ti],pipes:[Qn,ub],styles:[".engagment-tools-prize-popover{font-family:Roboto,sans-serif;background:#2c2e30;border-radius:10px}.engagment-tools-prize-popover .popover-body{padding:0 10px;max-height:285px;overflow-y:auto;white-space:pre-wrap}.engagment-tools-prize-popover .popover-body .prize-popover{font-size:12px;min-width:200px;color:#fff;border-bottom:1px solid rgba(154,154,154,.25);line-height:14px}.engagment-tools-prize-popover .popover-body .prize-popover .prize-type{font-weight:600}.engagment-tools-prize-popover .popover-body .prize-popover .prize-detail .title{color:#a4a4a4}.engagment-tools-prize-popover .popover-body .prize-popover .prize-detail .currency{font-size:10px;color:#a4a4a4}.engagment-tools-prize-popover .popover-body .prize-popover:last-of-type{border-bottom:none}.engagment-tools-prize-popover .arrow:after{border-top-color:#2c2e30}\n"],encapsulation:2,changeDetection:0}),n})();function Cfe(n,t){1&n&&Ae(0,"app-alert-message",56),2&n&&Q("alertMessage",he(2).alertMessage.MinBet)}function Ofe(n,t){1&n&&(R(0,"div",57),z(1," Upcoming "),I())}function Mfe(n,t){1&n&&(R(0,"div",58),z(1," Waiting "),I())}function wfe(n,t){1&n&&(R(0,"div",59),z(1," LIVE Mission "),I())}function Pfe(n,t){1&n&&(R(0,"div",60),z(1," Finished "),I())}function Afe(n,t){1&n&&(R(0,"div",61),z(1),Ce(2,"translate"),I()),2&n&&(F(1),Pe(" ",Ne(2,1,"game.engagement-tool.Starts")," "))}function xfe(n,t){1&n&&(R(0,"div",61),z(1),Ce(2,"translate"),I()),2&n&&(F(1),Pe(" ",Ne(2,1,"game.engagement-tool.Started")," "))}function Rfe(n,t){if(1&n&&(Ae(0,"app-task-progress",68),Ce(1,"async")),2&n){const e=he().$implicit,i=he(2).ngIf,r=he();Q("task",e)("currency",r.mission.config.currency)("isEnded",i.mission.status===r.missionStatus.Finished&&i.player.status===r.playerStatus.Joined)("isMinBetError",Ne(1,4,r.minBetError.update$))}}function Dfe(n,t){if(1&n&&(R(0,"li",65),Ae(1,"app-task",66),ue(2,Rfe,2,6,"app-task-progress",67),I()),2&n){const e=t.$implicit,i=t.index,r=he(2).ngIf,o=he();F(1),function VD(n,t,e){wa(fs,il,Qd(ot(),n,t,e),!0)}("task-item-",i,""),Q("task",e),F(1),Q("ngIf",r.player.status!==o.playerStatus.None)}}function Ife(n,t){if(1&n&&(R(0,"div",62)(1,"ul",63),ue(2,Dfe,3,5,"li",64),I()()),2&n){const e=t.ngIf;F(2),Q("ngForOf",e)}}function Nfe(n,t){if(1&n&&Ae(0,"app-prize-popover-content",69),2&n){const e=he(2);Q("prizes",e.prize.items)("currency",e.mission.config.currency)}}function kfe(n,t){if(1&n){const e=Ct();R(0,"div",70)(1,"button",71),Me("click",function(){return ft(e),he(2).joinToMission()}),z(2),Ce(3,"translate"),I(),R(4,"div",72),z(5),Ce(6,"translate"),R(7,"strong",73),Me("click",function(){return ft(e),he(2).showRules()}),z(8),Ce(9,"translate"),I(),z(10,". "),I()()}if(2&n){const e=he(2);F(1),Q("disabled",e.waitingForResponse.join),F(1),Pe(" ",Ne(3,4,"game.engagement-tool.Join")," "),F(3),Pe(" ",Ne(6,6,"game.engagement-tool.mission_policy")," "),F(3),St(Ne(9,8,"game.engagement-tool.Mission_Rules"))}}function Ffe(n,t){if(1&n){const e=Ct();R(0,"div",74)(1,"button",75),Me("click",function(){return ft(e),he(2).takePrize()}),Ae(2,"span",76),z(3),Ce(4,"translate"),I()()}if(2&n){const e=he(2);F(1),Q("disabled",e.waitingForResponse.takePrize),F(2),Pe(" ",Ne(4,2,"game.engagement-tool.Take_My_Prize")," ")}}function Bfe(n,t){1&n&&Ae(0,"app-alert-message",56),2&n&&Q("alertMessage",he(2).alertMessage.PrizesEnded)}function Lfe(n,t){1&n&&(R(0,"div",9),z(1),Ce(2,"translate"),I()),2&n&&(F(1),Pe(" ",Ne(2,1,"game.engagement-tool.Ends")," "))}function Ufe(n,t){1&n&&(R(0,"div",9),z(1),Ce(2,"translate"),I()),2&n&&(F(1),Pe(" ",Ne(2,1,"game.engagement-tool.Ended")," "))}function Gfe(n,t){if(1&n){const e=Ct();R(0,"div",5),ue(1,Cfe,1,1,"app-alert-message",6),Ce(2,"async"),R(3,"div",7)(4,"div",8)(5,"div",9),z(6),Ce(7,"translate"),I(),ue(8,Ofe,2,0,"div",10),ue(9,Mfe,2,0,"div",11),ue(10,wfe,2,0,"div",12),ue(11,Pfe,2,0,"div",13),I(),R(12,"div",14),ue(13,Afe,3,3,"div",15),ue(14,xfe,3,3,"div",15),R(15,"div",16),Ae(16,"div",17),R(17,"span",18),z(18),Ce(19,"date"),I(),R(20,"span",19),z(21),Ce(22,"date"),I()()()(),R(23,"div",20),Ae(24,"div",21),R(25,"div",22)(26,"span"),z(27),Ce(28,"translate"),I(),R(29,"span"),z(30),Ce(31,"translate"),I()()(),R(32,"div",23)(33,"span",24),z(34),Ce(35,"translate"),I(),R(36,"button",25),Me("click",function(){return ft(e),he().showHowItWorks()}),Ae(37,"span",26),R(38,"span",27),z(39),Ce(40,"translate"),I()()(),ue(41,Ife,3,1,"div",28),Ce(42,"async"),R(43,"div",29),ue(44,Nfe,1,2,"ng-template",null,30,vs),R(46,"button",31),z(47),Ce(48,"translate"),Ae(49,"div",32),I(),R(50,"div",33),Ae(51,"div",34),R(52,"div")(53,"span",35),z(54),Ce(55,"currencyPrecision"),I(),R(56,"span",36),z(57),I()(),Ae(58,"app-free-bet-badge"),I()(),R(59,"div",37)(60,"div",38)(61,"span"),z(62),Ce(63,"translate"),I(),R(64,"button",39),Me("click",function(){return ft(e),he().showWinners()}),Ae(65,"span",40),R(66,"span",27),z(67),Ce(68,"translate"),I()()(),R(69,"div",41)(70,"div",42),z(71,"0"),I(),R(72,"div",43)(73,"div",44),Ce(74,"async"),Ae(75,"div",34),R(76,"div",45),Ce(77,"async"),z(78),Ce(79,"currencyPrecision"),Ce(80,"async"),I()()(),R(81,"div",46),z(82),Ce(83,"currencyPrecision"),I()()(),ue(84,kfe,11,10,"div",47),ue(85,Ffe,5,4,"div",48),ue(86,Bfe,1,1,"app-alert-message",6),Ce(87,"async"),R(88,"div",49)(89,"div",50)(90,"div",9),z(91),Ce(92,"translate"),I(),R(93,"div",51)(94,"span",52),z(95),Ce(96,"currencyPrecision"),I(),R(97,"span",53),z(98),I()()(),R(99,"div",54),ue(100,Lfe,3,3,"div",55),ue(101,Ufe,3,3,"div",55),R(102,"div",16),Ae(103,"div",17),R(104,"span",18),z(105),Ce(106,"date"),I(),R(107,"span",19),z(108),Ce(109,"date"),I()()()()()}if(2&n){const e=t.ngIf,i=Lo(45),r=he();at("mission-waiting",e.mission.status===r.missionStatus.Announced&&e.player.status===r.playerStatus.Joined),F(1),Q("ngIf",Ne(2,42,r.minBetError.update$)),F(5),Pe(" ",Ne(7,44,"game.engagement-tool.Status")," "),F(2),Q("ngIf",e.mission.status===r.missionStatus.Announced&&e.player.status!==r.playerStatus.Joined),F(1),Q("ngIf",e.mission.status===r.missionStatus.Announced&&e.player.status===r.playerStatus.Joined),F(1),Q("ngIf",e.mission.status===r.missionStatus.Active),F(1),Q("ngIf",e.mission.status===r.missionStatus.Finished),F(2),Q("ngIf",e.mission.status===r.missionStatus.Announced),F(1),Q("ngIf",e.mission.status!==r.missionStatus.Announced),F(1),at("mission-upcoming",e.mission.status===r.missionStatus.Announced),F(3),Pe(" ",oi(19,46,r.mission.config.startDate,"HH:mm"),""),F(3),Pe(", ",oi(22,49,r.mission.config.startDate,"dd.MM.yy")," "),F(6),St(Ne(28,52,"game.engagement-tool.waiting_info.line1")),F(3),St(Ne(31,54,"game.engagement-tool.waiting_info.line2")),F(4),St(Ne(35,56,"game.engagement-tool.Tasks")),F(5),St(Ne(40,58,"game.engagement-tool.how_it_works.title")),F(2),Q("ngIf",Ne(42,60,r.task.update$).tasks),F(5),Q("ngbPopover",i),F(1),Pe(" ",Ne(48,62,"game.engagement-tool.Prize")," "),F(7),Pe("",Ne(55,64,r.prize.potentialPrizeAmount)," "),F(3),Pe(" ",r.mission.config.currency,""),F(5),St(Ne(63,66,"game.engagement-tool.prize_amount_limited")),F(5),St(Ne(68,68,"game.engagement-tool.View_Winners")),F(6),Au("width",Ne(74,70,r.prize.update$).left/r.prize.total*100+"%"),F(3),at("no-prize",0===Ne(77,72,r.prize.update$).left),F(2),Yi(" ",Ne(79,74,Ne(80,76,r.prize.update$).left)," ",r.mission.config.currency," "),F(4),Pe(" ",Ne(83,78,r.prize.total)," "),F(2),Q("ngIf",e.player.status===r.playerStatus.None),F(1),Q("ngIf",e.player.status===r.playerStatus.Won),F(1),Q("ngIf",0===Ne(87,80,r.prize.update$).left),F(5),Pe(" ",Ne(92,82,"game.engagement-tool.Min_bet")," "),F(4),Pe(" ",Ne(96,84,r.mission.config.minBet)," "),F(3),St(r.mission.config.currency),F(2),Q("ngIf",e.mission.status!==r.missionStatus.Finished),F(1),Q("ngIf",e.mission.status===r.missionStatus.Finished),F(4),Pe(" ",oi(106,86,e.mission.finishDate,"HH:mm"),""),F(3),Pe(", ",oi(109,89,e.mission.finishDate,"dd.MM.yy")," ")}}let Vh=class{constructor(t,e,i,r,o,s,a,l,u){this.stomp=t,this.activeModal=e,this.modalService=i,this.cd=r,this.status=o,this.task=s,this.prize=a,this.mission=l,this.minBetError=u,this.missionStatus=ic,this.playerStatus=ia,this.alertMessage=cb,this.waitingForResponse={takePrize:!1,join:!1}}ngOnInit(){this.stomp.state$.pipe(Tt(this),Ut(t=>t.state===Xo.Disconnected)).subscribe(()=>{this.close()}),this.stomp.response(xo.TakePrize).pipe(Ut(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.takePrize=!1,this.cd.detectChanges()}),this.stomp.response(xo.Join).pipe(Ut(t=>200!==t.code)).subscribe(()=>{this.waitingForResponse.join=!1,this.cd.detectChanges()})}close(){this.activeModal.close()}showHowItWorks(){this.modalService.open(nc)}showRules(){this.modalService.open(tc)}showWinners(){this.stomp.request(Fh.Winners,null),this.modalService.open(jh)}joinToMission(){this.waitingForResponse.join=!0,this.stomp.request(Fh.Join,null)}takePrize(){this.waitingForResponse.takePrize=!0,this.stomp.request(Fh.TakePrize,null)}};Vh.\u0275fac=function(t){return new(t||Vh)(X(El),X(Wr),X(ab),X(Mn),X(hb),X(sb),X(lb),X(vp),X(db))},Vh.\u0275cmp=gt({type:Vh,selectors:[["app-mission-details"]],decls:8,vars:6,consts:[[1,"modal-header"],[1,"text-uppercase"],["type","button","aria-label","Close",1,"close",3,"click"],[1,"close-modal"],["class","modal-body py-3 px-2",3,"mission-waiting",4,"ngIf"],[1,"modal-body","py-3","px-2"],[3,"alertMessage",4,"ngIf"],[1,"header-modal","d-flex","pb-2","mb-2"],[1,"badge-container","w-50","pr-2"],[1,"cell-title","pb-1"],["class","upcoming-badge",4,"ngIf"],["class","waiting-badge",4,"ngIf"],["class","live-badge",4,"ngIf"],["class","finished-badge",4,"ngIf"],[1,"start-date-container","w-50","pl-2"],["class","cell-title",4,"ngIf"],[1,"d-flex","align-items-baseline"],[1,"clock"],[1,"time"],[1,"day"],[1,"waiting-info","flex-center","flex-column","pt-2"],[1,"waiting-info-img"],[1,"waiting-info-text","pt-2"],[1,"heading","title-tasks","d-flex","justify-content-between","mt-2"],[1,"title"],["type","button",1,"btn-link","link-how-it-works","d-flex","align-items-center",3,"click"],[1,"question-mark"],[1,"button-text"],["class","tasks-list",4,"ngIf"],[1,"prize-info"],["prizeDetailsPopover",""],["placement","top-left","popoverClass","engagment-tools-prize-popover",1,"btn-prize-info","title","d-flex","my-2","pl-0",3,"ngbPopover"],[1,"question-mark","ml-1"],[1,"prize","d-flex","align-items-center","justify-content-center","w-100"],[1,"prize-box"],[1,"amount","pl-1"],[1,"currency","pr-1"],[1,"prize-counter","pt-2"],[1,"heading","d-flex","justify-content-between"],["type","button",1,"btn-link","d-flex","align-items-center",3,"click"],[1,"users-icon"],[1,"prize-progress-container","d-flex","justify-content-between","align-items-center"],[1,"zero"],[1,"prize-progress-bar-container"],[1,"prize-bar"],[1,"prize-left","font-weight-bold","text-uppercase"],[1,"prize-total-amount"],["class","action-button-container d-flex flex-column",4,"ngIf"],["class","action-button-container",4,"ngIf"],[1,"footer-modal","d-flex","pt-2"],[1,"min-bet-container","w-50","pr-2"],[1,"min-bet"],[1,"amount"],[1,"currency"],[1,"end-date-container","w-50","pl-2"],["class","cell-title pb-1",4,"ngIf"],[3,"alertMessage"],[1,"upcoming-badge"],[1,"waiting-badge"],[1,"live-badge"],[1,"finished-badge"],[1,"cell-title"],[1,"tasks-list"],[1,"tasks"],["class","task",4,"ngFor","ngForOf"],[1,"task"],[3,"task"],[3,"task","currency","isEnded","isMinBetError",4,"ngIf"],[3,"task","currency","isEnded","isMinBetError"],[3,"prizes","currency"],[1,"action-button-container","d-flex","flex-column"],["type","button",1,"btn","btn-join","text-uppercase",3,"disabled","click"],[1,"policy","text-center"],[3,"click"],[1,"action-button-container"],["type","button",1,"btn","btn-get-prize","d-flex","w-100","justify-content-center","align-items-center",3,"disabled","click"],[1,"prize-icon"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"span",1),z(2),Ce(3,"translate"),I(),R(4,"button",2),Me("click",function(){return e.close()}),Ae(5,"span",3),I()(),ue(6,Gfe,110,92,"div",4),Ce(7,"async")),2&t&&(F(2),St(Ne(3,2,"game.engagement-tool.Mission")),F(4),Q("ngIf",Ne(7,4,e.status.update$)))},directives:[Zt,pfe,Ti,_fe,Efe,Tfe,Que,K5],pipes:[Qn,Ef,sl,ub],styles:['.close-modal[_ngcontent-%COMP%]{display:block;width:20px;height:20px;background:url(mission-close.b5a4a960a30d4709.svg) no-repeat center center/contain}.heading[_ngcontent-%COMP%]{font-size:12px;color:#a4a4a4;line-height:14px}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:0;margin:0;color:#fec223}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fec223}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.button-text){width:14px;height:14px;margin-right:6px}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.button-text).question-mark{background:url(question-yellow.5874d945b81c841c.svg) no-repeat center center/contain}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:not(.button-text).users-icon{background:url(users.6f0daaa47731b124.svg) no-repeat center center/contain}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]{text-decoration:underline}.heading[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]   .button-text[_ngcontent-%COMP%]:hover{font-weight:600}.title-tasks[_ngcontent-%COMP%], .link-how-it-works[_ngcontent-%COMP%]{font-size:14px}.cell-title[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#a4a4a4}.header-modal[_ngcontent-%COMP%]{border-bottom:1px solid #2c2e30;color:#a4a4a4}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]{font-size:14px;width:50%;border-right:1px solid #2c2e30}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]   .upcoming-badge[_ngcontent-%COMP%]{width:80px;border-radius:100px;font-weight:500;line-height:16px;background-color:#fec223;color:#111;padding:4px 8px}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]{position:relative;width:83px;border-radius:100px;font-weight:500;line-height:16px;background-color:#1236b1;color:#fff;padding:4px 8px 4px 27px}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:8px;width:14px;height:14px;content:"";background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]{position:relative;width:108px;height:24px;border-radius:100px;font-weight:500;line-height:16px;background-color:#e50539;color:#fff;padding:4px 8px 4px 18px}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:9px;left:8px;width:5px;height:5px;border-radius:50%;content:"";background-color:#fff}.header-modal[_ngcontent-%COMP%]   .badge-container[_ngcontent-%COMP%]   .finished-badge[_ngcontent-%COMP%]{width:70px;border-radius:100px;font-weight:500;line-height:16px;background-color:#2c2e30;color:#fff;padding:4px 8px}.header-modal[_ngcontent-%COMP%]   .start-date-container[_ngcontent-%COMP%]   .cell-title[_ngcontent-%COMP%]{padding-bottom:8px}.header-modal[_ngcontent-%COMP%]   .start-date-container[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px;align-self:center}.header-modal[_ngcontent-%COMP%]   .start-date-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#fff;line-height:16px}.header-modal[_ngcontent-%COMP%]   .start-date-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:12px;align-self:end;line-height:14px}.header-modal[_ngcontent-%COMP%]   .start-date-container[_ngcontent-%COMP%]   .mission-upcoming[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{background:url(clock-green.d352a3ac8a0e2f85.svg) no-repeat center center/contain}.header-modal[_ngcontent-%COMP%]   .start-date-container[_ngcontent-%COMP%]   .mission-upcoming[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#6ab32b}.tasks-list[_ngcontent-%COMP%]{padding:0 10px;border-radius:10px;background:linear-gradient(250.96deg,#3b2560 0%,#2d2e32 51.24%,#582533 100%);margin-top:10px}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]{border-bottom:1px solid rgba(154,154,154,.25);padding:12px 0 10px}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]:last-of-type{border-bottom:none}.tasks-list[_ngcontent-%COMP%]   .tasks[_ngcontent-%COMP%]   .task[_ngcontent-%COMP%]   app-progress-bar[_ngcontent-%COMP%]{display:block;margin-top:10px}.prize-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{border:0;background:transparent;font-size:14px;line-height:16px;color:#a4a4a4}.prize-info[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   .question-mark[_ngcontent-%COMP%]{width:16px;height:16px;background:url(question-white.4427b32b5d9e4f56.svg) no-repeat center center/contain}.prize-info[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]{height:46px;border-radius:10px;background-color:#2c2e30}.prize-info[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{width:20px;height:20px;content:"";background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain}.prize-info[_ngcontent-%COMP%]   .prize[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:12px;line-height:14px;align-self:end}.action-button-container[_ngcontent-%COMP%]{padding-bottom:10px}.action-button-container[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]{font-weight:600;line-height:28px;border-radius:100px;padding-bottom:8px;padding-top:8px}.action-button-container[_ngcontent-%COMP%]   button.btn[_ngcontent-%COMP%]:focus{box-shadow:none}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-join[_ngcontent-%COMP%]{background:#fec223;box-shadow:4px 4px 25px #f7bc2080}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-join[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-get-prize[_ngcontent-%COMP%]{background-color:#e50539;color:#fff}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-get-prize[_ngcontent-%COMP%]:disabled{opacity:.5;pointer-events:none}.action-button-container[_ngcontent-%COMP%]   button.btn.btn-get-prize[_ngcontent-%COMP%]   .prize-icon[_ngcontent-%COMP%]{background:url(prize.4789324fc000fe89.svg) no-repeat center center/contain;width:18px;height:18px;margin-right:5px}.action-button-container[_ngcontent-%COMP%]   .policy[_ngcontent-%COMP%]{font-size:12px;color:#a4a4a4;padding:10px 42px 0}.action-button-container[_ngcontent-%COMP%]   .policy[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}.prize-progress-container[_ngcontent-%COMP%]{padding:10px 0 42px;font-size:12px}.prize-progress-container[_ngcontent-%COMP%]   .zero[_ngcontent-%COMP%]{color:#a4a4a4}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]{background-color:#2c2e30;flex-grow:1;margin:0 12px;height:8px;border-radius:10px}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]{background-size:15px 15px;background-image:linear-gradient(135deg,#e50539 25%,#f14d73 25%,#f14d73 50%,#e50539 50%,#e50539 75%,#f14d73 75%,#f14d73);border-radius:10px;height:8px;position:relative}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-box[_ngcontent-%COMP%]{background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;height:20px;width:20px;position:absolute;right:0;top:-6px;transform:translate(50%)}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-left[_ngcontent-%COMP%]{background-color:#2c2e30;border-radius:10px;position:absolute;padding:5px 8px;top:calc(100% + 10px);right:0;transform:translate(50%);white-space:nowrap}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-left[_ngcontent-%COMP%]:after{content:"";border:4px solid transparent;position:absolute;border-bottom-color:#2c2e30;border-top:0;top:-4px;left:50%;margin-left:-4px}.prize-progress-container[_ngcontent-%COMP%]   .prize-progress-bar-container[_ngcontent-%COMP%]   .prize-bar[_ngcontent-%COMP%]   .prize-left.no-prize[_ngcontent-%COMP%]{color:#a4a4a4}.footer-modal[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#a4a4a4;border-top:1px solid #2c2e30}.footer-modal[_ngcontent-%COMP%]   .min-bet-container[_ngcontent-%COMP%]{border-right:1px solid #2c2e30}.footer-modal[_ngcontent-%COMP%]   .min-bet-container[_ngcontent-%COMP%]   .min-bet[_ngcontent-%COMP%]{color:#fec223}.footer-modal[_ngcontent-%COMP%]   .min-bet-container[_ngcontent-%COMP%]   .min-bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:12px;line-height:14px;align-self:end;margin-left:3px}.footer-modal[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .clock[_ngcontent-%COMP%]{background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain;width:14px;height:14px;margin-right:3px;align-self:center}.footer-modal[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{color:#fff;line-height:16px}.footer-modal[_ngcontent-%COMP%]   .end-date-container[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]{font-size:12px;line-height:14px}.waiting-info[_ngcontent-%COMP%]{display:none}.mission-waiting[_ngcontent-%COMP%]   .waiting-info[_ngcontent-%COMP%]{display:flex;width:100%;height:150px;border-radius:10px;background:linear-gradient(250.96deg,#3b2560 0%,#2d2e32 51.24%,#582533 100%)}.mission-waiting[_ngcontent-%COMP%]   .waiting-info[_ngcontent-%COMP%]   .waiting-info-img[_ngcontent-%COMP%]{width:64px;height:64px;border-radius:50%;background:url(plane.fe903f7ddd2fb675.svg) no-repeat center center/contain}.mission-waiting[_ngcontent-%COMP%]   .waiting-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block;color:#fec223;font-size:16px;line-height:19px;text-align:center}.mission-waiting[_ngcontent-%COMP%]   .tasks-list[_ngcontent-%COMP%], .mission-waiting[_ngcontent-%COMP%]   .heading[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%], .mission-waiting[_ngcontent-%COMP%]   .prize-info[_ngcontent-%COMP%], .mission-waiting[_ngcontent-%COMP%]   .prize-counter[_ngcontent-%COMP%]{opacity:.3}'],changeDetection:0}),Vh=Ye([Ci()],Vh);let jfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-progress-bar"]],inputs:{isEnded:"isEnded",currentProgress:"currentProgress"},decls:2,vars:4,consts:[[1,"bar-holder"],[1,"bar-fill"]],template:function(e,i){1&e&&(R(0,"div",0),Ae(1,"div",1),I()),2&e&&(F(1),Au("width",i.currentProgress+"%"),at("frozen",i.isEnded))},styles:[".bar-holder[_ngcontent-%COMP%]{background-color:#1b1c1d80;border-radius:10px;height:8px;overflow:hidden}.bar-holder[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{height:8px;background-color:#6ab32b;border-radius:10px;transition:width linear .6s}.bar-holder[_ngcontent-%COMP%]   .bar-fill.frozen[_ngcontent-%COMP%]{background-color:#a4a4a4}"],changeDetection:0}),n})(),Vfe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-progress-counter"]],inputs:{currentProgress:"currentProgress",totalTasks:"totalTasks",isEnded:"isEnded",isMinBetError:"isMinBetError"},decls:8,vars:3,consts:[[1,"progress-count","d-flex","align-items-center"],[1,"count-star"],[1,"progress-result"]],template:function(e,i){1&e&&(R(0,"div",0),Ae(1,"div",1),R(2,"div",2)(3,"span"),z(4),I(),z(5,"/"),R(6,"span"),z(7,"100%"),I()()()),2&e&&(F(2),at("frozen",i.isEnded||i.isMinBetError),F(2),St(i.currentProgress))},styles:["[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]   .count-star[_ngcontent-%COMP%]{background:url(star-fill.2fe62dee7a69e0dc.svg) no-repeat center center/contain;width:12px;height:12px}[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]   .progress-result[_ngcontent-%COMP%]{padding:0 5px 0 2px;font-size:12px;font-weight:600}[_nghost-%COMP%]   .progress-count[_ngcontent-%COMP%]   .progress-result.frozen[_ngcontent-%COMP%]{color:#e50539}"],changeDetection:0}),n})();function Hfe(n,t){1&n&&Ae(0,"div",10)}function Yfe(n,t){1&n&&(R(0,"div",11),z(1," Min Bet "),I())}function Wfe(n,t){if(1&n&&(Ae(0,"app-progress-bar",12),Ce(1,"async")),2&n){const e=he(2).ngIf,i=he();Q("currentProgress",Ne(1,2,i.task.update$).totalProgress)("isEnded",e.mission.status===i.missionStatus.Finished&&e.player.status===i.playerStatus.Joined)}}function zfe(n,t){if(1&n&&(R(0,"div",4)(1,"div",5),ue(2,Hfe,1,0,"div",6),I(),ue(3,Yfe,2,0,"div",7),Ce(4,"async"),ue(5,Wfe,2,4,"app-progress-bar",8),Ce(6,"async"),I(),Ae(7,"app-progress-counter",9),Ce(8,"async"),Ce(9,"async")),2&n){const e=he().ngIf,i=he();F(2),Q("ngIf",e.player.status===i.playerStatus.Won),F(1),Q("ngIf",Ne(4,7,i.minBetError.update$)),F(2),Q("ngIf",!1===Ne(6,9,i.minBetError.update$)),F(2),Q("isEnded",e.mission.status===i.missionStatus.Finished&&e.player.status===i.playerStatus.Joined)("isMinBetError",Ne(8,11,i.minBetError.update$))("currentProgress",Ne(9,13,i.task.update$).totalProgress)("totalTasks",i.prize.total)}}function $fe(n,t){1&n&&(R(0,"div",20),z(1," Upcoming "),I())}function Xfe(n,t){1&n&&(R(0,"div",21),z(1," Waiting "),I())}function Kfe(n,t){1&n&&(R(0,"div",22),z(1," LIVE Mission "),I())}function qfe(n,t){if(1&n&&(R(0,"div",13),ue(1,$fe,2,0,"div",14),ue(2,Xfe,2,0,"div",15),ue(3,Kfe,2,0,"div",16),R(4,"div",17),Ae(5,"div",18),z(6),Ce(7,"currencyPrecision"),I(),Ae(8,"div",19),I()),2&n){const e=he().ngIf,i=he();F(1),Q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status!==i.playerStatus.Joined),F(1),Q("ngIf",e.mission.status===i.missionStatus.Announced&&e.player.status===i.playerStatus.Joined),F(1),Q("ngIf",e.mission.status===i.missionStatus.Active),F(3),Yi(" ",Ne(7,5,i.prize.total)," ",i.mission.config.currency," ")}}function Jfe(n,t){if(1&n&&(R(0,"div",1),Ce(1,"async"),ue(2,zfe,10,15,"ng-template",2),ue(3,qfe,9,7,"ng-template",null,3,vs),I()),2&n){const e=t.ngIf,i=Lo(4),r=he();at("gradient-bg",r.getIsGradientClass(e.mission.status,e.player.status))("min-bet-error",Ne(1,6,r.minBetError.update$)),F(2),Q("ngIf",e.player.status!==r.playerStatus.None&&e.mission.status!==r.missionStatus.Announced)("ngIfElse",i)}}let Qfe=(()=>{class n{constructor(e,i,r,o,s){this.task=e,this.prize=i,this.mission=r,this.minBetError=o,this.status=s,this.missionStatus=ic,this.playerStatus=ia}getIsGradientClass(e,i){return e!==this.missionStatus.Finished&&i===ia.None||e===this.missionStatus.Announced&&i===ia.Joined}}return n.\u0275fac=function(e){return new(e||n)(X(sb),X(lb),X(vp),X(db),X(hb))},n.\u0275cmp=gt({type:n,selectors:[["app-mission-progress"]],decls:2,vars:3,consts:[["class","progress-container d-flex align-items-center justify-content-between",3,"gradient-bg","min-bet-error",4,"ngIf"],[1,"progress-container","d-flex","align-items-center","justify-content-between"],[3,"ngIf","ngIfElse"],["notPlaying",""],[1,"progress-bar-container"],[1,"progress-star"],["class","circle-take-my-prize",4,"ngIf"],["class","min-bet-error-title",4,"ngIf"],[3,"currentProgress","isEnded",4,"ngIf"],[3,"isEnded","isMinBetError","currentProgress","totalTasks"],[1,"circle-take-my-prize"],[1,"min-bet-error-title"],[3,"currentProgress","isEnded"],[1,"mission-status-container","w-100","d-flex","justify-content-between","align-items-center"],["class","upcoming-badge",4,"ngIf"],["class","waiting-badge",4,"ngIf"],["class","live-badge",4,"ngIf"],[1,"mission-prize","d-flex","align-items-center"],[1,"prize-icon"],[1,"mission-arrow"],[1,"upcoming-badge"],[1,"waiting-badge"],[1,"live-badge"]],template:function(e,i){1&e&&(ue(0,Jfe,5,8,"div",0),Ce(1,"async")),2&e&&Q("ngIf",Ne(1,1,i.status.update$))},directives:[Zt,jfe,Vfe],pipes:[Ef,ub],styles:['[_nghost-%COMP%]{display:block}.progress-container[_ngcontent-%COMP%]{background:#2c2d30;border-radius:100px;padding:5px;border:1px solid transparent}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]{position:relative;font-size:12px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .upcoming-badge[_ngcontent-%COMP%]{border-radius:100px;font-weight:500;line-height:14px;background-color:#fec223;color:#111;padding:3px 5px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]{min-width:72px;border-radius:100px;font-weight:500;line-height:14px;background-color:#1236b1;color:#fff;padding:3px 8px 3px 23px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .waiting-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:4px;left:8px;width:12px;height:12px;content:"";background:url(clock-white.77f519de128d2110.svg) no-repeat center center/contain}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]{min-width:86px;border-radius:100px;font-weight:500;line-height:14px;background-color:#e50539;color:#fff;padding:3px 8px 3px 18px}.progress-container[_ngcontent-%COMP%]   .mission-status-container[_ngcontent-%COMP%]   .live-badge[_ngcontent-%COMP%]:before{display:block;position:absolute;top:7px;left:8px;width:5px;height:5px;border-radius:50%;content:"";background-color:#fff}.progress-container[_ngcontent-%COMP%]:hover{cursor:pointer}.progress-container.gradient-bg[_ngcontent-%COMP%]{background:linear-gradient(90deg,#553843,#342a47,#342a47,#553843);background-size:200% 200%;-webkit-animation:gradient 4s ease infinite;animation:gradient 4s ease infinite}.progress-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{padding:5px 6px 5px 10px;position:relative;flex-grow:1}.progress-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-star[_ngcontent-%COMP%]{background:url(star-rounded.74e00ba81d852b64.svg) no-repeat center center/contain;width:26px;height:30px;position:absolute;left:0;top:0;z-index:1}.progress-container[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-star[_ngcontent-%COMP%]   .circle-take-my-prize[_ngcontent-%COMP%]{position:absolute;right:3px;bottom:25px;width:8px;height:8px;background-color:#e50539;border-radius:50%}.progress-container.min-bet-error[_ngcontent-%COMP%]{border-color:#e50539}.progress-container.min-bet-error[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{padding:0 6px 0 10px}.progress-container.min-bet-error[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-star[_ngcontent-%COMP%]{background:url(min-bet-error-icon.06ac9baaf6f61702.svg) no-repeat;left:5px}.progress-container.min-bet-error[_ngcontent-%COMP%]   .min-bet-error-title[_ngcontent-%COMP%]{position:relative;left:20px;font-size:14px;height:18px}.progress-container[_ngcontent-%COMP%]   .mission-prize[_ngcontent-%COMP%]{font-size:12px;white-space:nowrap;text-overflow:ellipsis;max-width:50%;overflow:hidden}.progress-container[_ngcontent-%COMP%]   .mission-prize[_ngcontent-%COMP%]   .prize-icon[_ngcontent-%COMP%]{background:url(prize-box.8025ed868d0476f0.svg) no-repeat center center/contain;height:18px;width:18px;margin-right:3px}.progress-container[_ngcontent-%COMP%]   .mission-arrow[_ngcontent-%COMP%]{background:url(arrow-right.575f813e45224577.svg) no-repeat center center/contain;width:18px;height:18px}@-webkit-keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}@keyframes gradient{0%{background-position:0 50%}50%{background-position:100% 50%}to{background-position:0 50%}}'],changeDetection:0}),n})(),Zfe=(()=>{class n{constructor(e,i){this.window=e,this.modalService=i}ngOnInit(){this.window.manualEmitResizeEvent()}showHowItWorks(){this.modalService.open(nc)}showMissionDetails(){this.modalService.open(Vh)}}return n.\u0275fac=function(e){return new(e||n)(X(I_),X(ab))},n.\u0275cmp=gt({type:n,selectors:[["app-mission"]],decls:6,vars:0,consts:[[1,"engagement-tool-container","d-flex","align-items-center"],[1,"missions-logo-holder","d-flex","align-items-center","justify-content-center","mr-2",3,"click"],[1,"missions-logo"],[1,"missions-rules"],[1,"missions-container"],[3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Me("click",function(){return i.showHowItWorks()}),Ae(2,"div",2)(3,"div",3),I(),R(4,"div",4)(5,"app-mission-progress",5),Me("click",function(){return i.showMissionDetails()}),I()()())},directives:[Qfe],styles:["[_nghost-%COMP%]{display:block}.engagement-tool-container[_ngcontent-%COMP%]{padding:5px;background-color:#1b1c1d;border-radius:100px}.missions-logo-holder[_ngcontent-%COMP%]{width:67px;height:28px;background-color:#2c2d30;border-radius:100px}.missions-logo-holder[_ngcontent-%COMP%]:hover{cursor:pointer}.missions-logo-holder[_ngcontent-%COMP%]   .missions-logo[_ngcontent-%COMP%]{width:34px;height:19px;background:url(avia-missions-logo.9fd2b5ea6f50de2e.svg) no-repeat center center/contain}.missions-logo-holder[_ngcontent-%COMP%]   .missions-rules[_ngcontent-%COMP%]{width:14px;height:14px;background:url(question-yellow.5874d945b81c841c.svg) no-repeat center center/contain;margin-left:3px}.missions-container[_ngcontent-%COMP%]{flex-grow:1;max-width:calc(100% - 79px)}"],changeDetection:0}),n})();function epe(n,t){1&n&&Ae(0,"app-mission")}let Hh=class{constructor(t,e,i,r){this.app=t,this.stomp=e,this.urlParams=i,this.cd=r,this.connectorState=Xo,this.inited=!1}ngOnInit(){this.stomp.response(xo.Init).pipe(Tt(this)).subscribe(()=>{this.inited=!0,this.cd.detectChanges()}),this.stomp.init(this.engagementTools.host+"/et-stomp",{currency:this.urlParams.currency,userId:this.urlParams.user,token:this.urlParams.token,operator:this.urlParams.operator,sessionToken:this.app.sessionToken,deviceType:this.app.deviceInfo.deviceType,gameIdentifier:this.gameIdentifier},Object.values(xo))}};Hh.\u0275fac=function(t){return new(t||Hh)(X(ln),X(El),X(tu),X(Mn))},Hh.\u0275cmp=gt({type:Hh,selectors:[["app-engagement-tool"]],inputs:{engagementTools:"engagementTools",gameIdentifier:"gameIdentifier"},decls:2,vars:3,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(ue(0,epe,1,0,"app-mission",0),Ce(1,"async")),2&t&&Q("ngIf",Ne(1,1,e.stomp.state$).state!==e.connectorState.Disconnected&&e.inited)},directives:[Zt,Zfe],pipes:[Ef],encapsulation:2,changeDetection:0}),Hh=Ye([Ci()],Hh);class Cw{}const lu="*";function Ow(n,t){return{type:7,name:n,definitions:t,options:{}}}function yp(n,t=null){return{type:4,styles:t,timings:n}}function q5(n,t=null){return{type:2,steps:n,options:t}}function $a(n){return{type:6,styles:n,offset:null}}function ipe(n,t,e){return{type:0,name:n,styles:t,options:e}}function Q_(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function J5(n){Promise.resolve(null).then(n)}class Z_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){J5(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Q5{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?J5(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++e==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function spe(n,t){if(1&n){const e=Ct();R(0,"div",5)(1,"div",6)(2,"app-bubble-multiplier",7),Me("click",function(){const o=ft(e).$implicit;return he().mainService.checkFairness(o.roundId)}),I()()()}if(2&n){const e=t.$implicit;F(2),Q("multiplier",e.maxMultiplier)}}let ape=(()=>{class n{constructor(e){this.mainService=e}}return n.\u0275fac=function(e){return new(e||n)(X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-stats-dropdown"]],inputs:{history:"history"},decls:7,vars:4,consts:[[1,"wrapper"],[1,"header"],[1,"text","text-uppercase"],[1,"payouts-block"],["class","payouts",4,"ngFor","ngForOf"],[1,"payouts"],[1,"payout"],[3,"multiplier","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),z(3),Ce(4,"translate"),I()(),R(5,"div",3),ue(6,spe,3,1,"div",4),I()()),2&e&&(F(3),Pe(" ",Ne(4,2,"shared.round_history")," "),F(3),Q("ngForOf",i.history))},directives:[Ti,bl],pipes:[Qn],styles:[".wrapper[_ngcontent-%COMP%]{border-radius:16px;box-shadow:0 2px 20px #00000080;background-color:#1f2128;margin:0 5px;width:100%}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{height:32px;display:flex;justify-content:flex-start;align-items:center;font-size:14px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-left:10px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{background-color:#262830;display:flex;flex-wrap:wrap;padding:5px;border-radius:0 0 16px 16px;font-size:12px}.wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payouts[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{margin:3px;cursor:pointer}"],changeDetection:0}),n})();const lpe=["payoutsBlock"];function upe(n,t){if(1&n){const e=Ct();qt(0),R(1,"app-bubble-multiplier",12),Me("click",function(){const o=ft(e).$implicit;return he().mainService.checkFairness(o.roundId)}),I(),Jt()}if(2&n){const e=t.$implicit;F(1),Q("multiplier",e.maxMultiplier)}}let cpe=(()=>{class n{constructor(e,i,r,o,s){this.statsService=e,this.mainService=i,this.connector=r,this.builder=o,this.cd=s}ngOnInit(){this.history=this.statsService.history,this.chartInfo$=this.connector.response(yn.RoundChartInfo,200).subscribe(e=>{this.history&&(this.history=[e,...this.history]),this.history.length>60&&this.history.pop(),this.animate()})}animate(){var e,i;null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(i=this.playerContainer)||void 0===i||i.destroy(),this.cd.detectChanges();const r=this.payoutsBlock.nativeElement.firstElementChild.clientWidth,o=this.builder.build([$a({transform:"scale(2)"}),yp("1s ease-in-out",$a({transform:"scale(1)"}))]),s=this.builder.build([$a({transform:`translateX(-${r}px)`}),yp("1s ease-in-out",$a({transform:"translate(0)"}))]);this.playerPayout=o.create(this.payoutsBlock.nativeElement.firstElementChild),this.playerContainer=s.create(this.payoutsBlock.nativeElement),this.playerPayout.play(),this.playerContainer.play()}ngOnDestroy(){var e,i;this.chartInfo$.unsubscribe(),null===(e=this.playerPayout)||void 0===e||e.destroy(),null===(i=this.playerContainer)||void 0===i||i.destroy()}}return n.\u0275fac=function(e){return new(e||n)(X(TL),X(Vi),X(yi),X(Cw),X(Mn))},n.\u0275cmp=gt({type:n,selectors:[["app-stats-widget"]],viewQuery:function(e,i){if(1&e&&Jo(lpe,7),2&e){let r;Kn(r=qn())&&(i.payoutsBlock=r.first)}},decls:12,vars:2,consts:[["ngbDropdown","","placement","bottom-right",1,"stats"],[1,"payouts-wrapper"],[1,"payouts-block"],["payoutsBlock",""],[4,"ngFor","ngForOf"],[1,"shadow"],[1,"button-block"],["ngbDropdownToggle","",1,"button"],[1,"trigger"],[1,"history-icon"],[1,"dd-icon"],["ngbDropdownMenu","",3,"history"],[1,"payout",3,"multiplier","click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2,3),ue(4,upe,2,1,"ng-container",4),I()(),Ae(5,"div",5),R(6,"div",6)(7,"div",7)(8,"div",8),Ae(9,"div",9)(10,"div",10),I()()(),Ae(11,"app-stats-dropdown",11),I()),2&e&&(F(4),Q("ngForOf",i.history),F(7),Q("history",i.history))},directives:[hp,Ti,bl,_w,ape,z0],styles:["[_nghost-%COMP%]{width:100%;height:inherit}.stats[_ngcontent-%COMP%]{height:22px;width:100%;display:flex;align-items:center;position:relative;padding:0 5px;font-size:12px}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%;overflow:hidden}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]{display:flex}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block.hide[_ngcontent-%COMP%]{display:none}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]{display:flex;margin-right:4px;margin-left:1px;position:relative;z-index:1;cursor:pointer;opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(1){opacity:1;z-index:2}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(2){opacity:.9}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(3){opacity:.85}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(4){opacity:.8}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(5){opacity:.75}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(6){opacity:.7}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(7){opacity:.65}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(8){opacity:.6}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(9){opacity:.55}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:nth-child(10){opacity:.5}.stats[_ngcontent-%COMP%]   .payouts-wrapper[_ngcontent-%COMP%]   .payouts-block[_ngcontent-%COMP%]   .payout[_ngcontent-%COMP%]:hover{opacity:1}.stats[_ngcontent-%COMP%]   .shadow[_ngcontent-%COMP%]{position:absolute;right:61px;width:13px;height:22px;background-image:linear-gradient(to left,#0d0d0d,rgba(0,0,0,0));z-index:3}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]{height:100%;width:52px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{margin-left:6px;position:relative;z-index:9;display:flex;align-items:center;justify-content:center;width:46px;height:22px;border-radius:13px;border:solid 1px #414148;background:#252528;cursor:pointer}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]:hover   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{width:14px;height:13px;background:url(history.a8377d083674a681.svg) no-repeat center center/contain;margin-right:5px}.stats[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{width:10px;height:10px;transition:transform .5s;background:url(dd.4cbd6ffb2c52a810.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]{z-index:1001}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .history-icon[_ngcontent-%COMP%]{background:url(history-h.0950ae774061ee87.svg) no-repeat center center/contain}.stats.show[_ngcontent-%COMP%]   .button-block[_ngcontent-%COMP%]   .button[_ngcontent-%COMP%]   .trigger[_ngcontent-%COMP%]   .dd-icon[_ngcontent-%COMP%]{background:url(dd-h.45c1ff176d95fe5d.svg) no-repeat center center/contain;transform:rotate(180deg)}.dropdown-menu.show[_ngcontent-%COMP%]{background-color:transparent;background-color:initial;color:inherit;border:unset;margin:-26px 0 0;padding:0}"],changeDetection:0}),n})();function hpe(n,t){if(1&n&&(R(0,"div",14)(1,"div",15),z(2," shared.ui-components.free-bet.Free bets available: "),I(),R(3,"div",7)(4,"div",16),z(5),I(),R(6,"div",17)(7,"div"),z(8," ( "),R(9,"span"),z(10),I(),R(11,"span",18),z(12),I(),z(13," ) "),I()()()()),2&n){const e=he();F(5),Pe(" ",e.freeBets.activeFreeBet.freeBetsLeft," "),F(5),Pe(" ",e.freeBets.activeFreeBet.freeBetsBetAmount.toFixed(e.app.config.betPrecision)," "),F(2),St(e.app.config.currency)}}function dpe(n,t){if(1&n){const e=Ct();R(0,"div",19)(1,"div",20),z(2," shared.ui-components.free-bet.All free bets spent! "),I(),R(3,"div",21),Me("click",function(){return ft(e),he().onFinishFreeBets()}),z(4),Ce(5,"translate"),I()()}if(2&n){const e=he();F(3),at("disabled",e.uiDisabled),F(1),Pe(" ",Ne(5,3,"shared.claim")," ")}}function fpe(n,t){if(1&n&&(qt(0),R(1,"span",15),z(2," shared.ui-components.free-bet.Minimum cashout multiplier: "),I(),R(3,"span",22),z(4),I(),Jt()),2&n){const e=he();F(4),Pe(" ",e.freeBets.activeFreeBet.freeBetsMinCashOut.toFixed(e.app.config.multiplierPrecision)," X ")}}let Yh=class{constructor(t,e,i,r,o){this.app=t,this.mainService=e,this.freeBets=i,this.betControl=r,this.connector=o,this.uiDisabled=!1,this.connector.response(yn.FreeBetFinish).pipe(Tt(this),Ut(s=>200!==s.code)).subscribe(()=>{this.uiDisabled=!1})}get isSpent(){return 0===this.freeBets.activeFreeBet.freeBetsLeft}onManagementClick(){!1===this.betControl.isBetSetted&&this.freeBets.onManage()}onFinishFreeBets(){this.uiDisabled=!0,this.freeBets.onClaim()}get isShowMinCashOut(){return this.freeBets.activeFreeBet.freeBetsMinCashOut>1.01}get manageDisabled(){return this.betControl.isBetSetted||this.uiDisabled}};function uu(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Z5(n,t){n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t}Yh.\u0275fac=function(t){return new(t||Yh)(X(ln),X(Vi),X(ru),X(vl),X(yi))},Yh.\u0275cmp=gt({type:Yh,selectors:[["app-free-bet"]],decls:21,vars:7,consts:[[1,"free-bet-wrapper"],[1,"free-bet"],["class","bets",4,"ngIf"],["class","bets bets-spent",4,"ngIf"],[1,"win"],[1,"label"],["translate",""],[1,"value"],[1,"min-cashout"],[1,"content"],[1,"info"],[4,"ngIf"],[1,"manage",3,"click"],[1,"manage-i"],[1,"bets"],["translate","",1,"label"],[1,"amount"],[1,"bet"],[1,"currency"],[1,"bets","bets-spent"],["translate","",1,"label","font-weight-bold"],[1,"btn","btn-success","btn-continue","text-uppercase",3,"click"],[1,"value","font-weight-bold"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1),ue(2,hpe,14,3,"div",2),ue(3,dpe,6,5,"div",3),R(4,"div",4)(5,"div",5)(6,"span",6),z(7,"shared.win"),I(),R(8,"span"),z(9),I()(),R(10,"div",7)(11,"span"),z(12),I()()()(),R(13,"div",8)(14,"div",9)(15,"div",10),ue(16,fpe,5,1,"ng-container",11),I(),R(17,"div",12),Me("click",function(){return e.onManagementClick()}),R(18,"span",6),z(19,"shared.ui-components.free-bet.Manage"),I(),Ae(20,"div",13),I()()()()),2&t&&(F(2),Q("ngIf",!e.isSpent),F(1),Q("ngIf",e.isSpent),F(6),Pe(", ",e.app.config.currency,""),F(3),Pe(" ",e.freeBets.activeFreeBet.freeBetsWinSum.toFixed(e.app.config.betPrecision)," "),F(4),Q("ngIf",e.isShowMinCashOut),F(1),at("disabled",e.manageDisabled))},directives:[Zt,jn],pipes:[Qn],styles:[".free-bet-wrapper[_ngcontent-%COMP%]{position:absolute;z-index:10;top:-20px;left:50%;width:100%;max-width:320px;transform:translate(-50%)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]{z-index:1;position:relative;display:flex;align-items:center;justify-content:space-between;background-image:linear-gradient(80deg,#e50539,#df0000);height:62px;width:100%;border-radius:26px;padding:0 5px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]{font-weight:700;display:flex;width:calc(100% - 140px);justify-content:space-between}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{min-width:70px;max-width:150px;font-size:14px;line-height:14px;text-align:center;display:flex;align-items:center;word-break:break-word}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;font-size:24px;line-height:24px;display:flex;justify-content:center;align-items:center;margin:0 5px 0 10px;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]{font-size:12px;line-height:12px;display:flex;align-items:center;white-space:nowrap}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]   .bet[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:10px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]{flex-direction:column;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{width:unset;margin-bottom:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{font-size:14px;line-height:15px;cursor:pointer;border-radius:10px;min-width:120px;height:20px;text-shadow:0 1px 2px rgba(0,0,0,.5);border:0;box-shadow:0 10px 15px -10px #28a909,inset 0 1px 1px #ffffff80;display:flex;flex-direction:column;justify-content:center;align-items:center}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn-continue[_ngcontent-%COMP%]{color:#fff}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:not(.disabled):active{transform:translateY(2px)}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .bets-spent[_ngcontent-%COMP%]   .btn.disabled[_ngcontent-%COMP%]{pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;height:46px;border-radius:22.5px;display:flex;align-items:center;overflow:hidden;width:140px;justify-content:center;background-size:cover;background:url(free-bet-win-bg.9cfee43f29b6ac94.svg) no-repeat;flex-direction:column}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:13px;line-height:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .free-bet[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:16px;line-height:16px;font-weight:700}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]{position:absolute;bottom:0;transform:translateY(40%);width:100%;display:flex;justify-content:center;align-items:flex-end;background-color:#3e4149;height:76px;border-radius:16px;left:0;padding-bottom:6px;font-size:14px;line-height:14px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{height:20px;width:100%;display:flex;align-items:center;padding:2px 6px 0 12px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{height:20px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#d2d2d2;font-size:13px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:1.5}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-weight:700;text-shadow:none;margin-left:3px}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]{margin-left:auto;width:auto;color:#d2d2d2;font-size:13px;border-radius:50%;display:flex;justify-content:center;align-items:center;cursor:pointer}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;pointer-events:none}.free-bet-wrapper[_ngcontent-%COMP%]   .min-cashout[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .manage[_ngcontent-%COMP%]   .manage-i[_ngcontent-%COMP%]{margin-left:5px;width:20px;height:20px;border-radius:50%;background:#1d1f25 url(manage.b676beda1782e280.svg) no-repeat center center}@media (min-width: 576px){.free-bet-wrapper[_ngcontent-%COMP%]{top:0}}"]}),Yh=Ye([Ci()],Yh);var ww,ir,Tl,Dw,Iw,s4,u4,Op,Sb,xs={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},bp={duration:.5,overwrite:!1,delay:0},ra=1e8,Oi=1e-8,Pw=2*Math.PI,ppe=Pw/4,gpe=0,e4=Math.sqrt,_pe=Math.cos,mpe=Math.sin,eo=function(t){return"string"==typeof t},to=function(t){return"function"==typeof t},cu=function(t){return"number"==typeof t},Aw=function(t){return void 0===t},hu=function(t){return"object"==typeof t},is=function(t){return!1!==t},t4=function(){return"undefined"!=typeof window},fb=function(t){return to(t)||eo(t)},n4="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Ro=Array.isArray,xw=/(?:-?\.?\d|\.)+/gi,i4=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ep=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Rw=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,r4=/[+-]=-?[.\d]+/,o4=/[^,'"\[\]\s]+/gi,vpe=/[\d.+\-=]+(?:e[-+]\d*)*/i,Rs={},pb={},a4=function(t){return(pb=Sp(t,Rs))&&Ol},Nw=function(t,e){return console.warn("Invalid property",t,"set to",e,"Missing plugin? gsap.registerPlugin()")},gb=function(t,e){return!e&&console.warn(t)},l4=function(t,e){return t&&(Rs[t]=e)&&pb&&(pb[t]=e)||Rs},em=function(){return 0},kw={},rc=[],Fw={},Ds={},Bw={},c4=30,_b=[],Lw="",Uw=function(t){var i,r,e=t[0];if(hu(e)||to(e)||(t=[t]),!(i=(e._gsap||{}).harness)){for(r=_b.length;r--&&!_b[r].targetTest(e););i=_b[r]}for(r=t.length;r--;)t[r]&&(t[r]._gsap||(t[r]._gsap=new B4(t[r],i)))||t.splice(r,1);return t},Wh=function(t){return t._gsap||Uw(aa(t))[0]._gsap},h4=function(t,e,i){return(i=t[e])&&to(i)?t[e]():Aw(i)&&t.getAttribute&&t.getAttribute(e)||i},rs=function(t,e){return(t=t.split(",")).forEach(e)||t},Nr=function(t){return Math.round(1e5*t)/1e5||0},Do=function(t){return Math.round(1e7*t)/1e7||0},ype=function(t,e){for(var i=e.length,r=0;t.indexOf(e[r])<0&&++r<i;);return r<i},mb=function(){var i,r,t=rc.length,e=rc.slice(0);for(Fw={},rc.length=0,i=0;i<t;i++)(r=e[i])&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},d4=function(t,e,i,r){rc.length&&mb(),t.render(e,i,r),rc.length&&mb()},f4=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(o4).length<2?e:eo(t)?t.trim():t},p4=function(t){return t},oa=function(t,e){for(var i in e)i in t||(t[i]=e[i]);return t},Sp=function(t,e){for(var i in e)t[i]=e[i];return t},g4=function n(t,e){for(var i in e)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=hu(e[i])?n(t[i]||(t[i]={}),e[i]):e[i]);return t},vb=function(t,e){var r,i={};for(r in t)r in e||(i[r]=t[r]);return i},tm=function(t){var e=t.parent||ir,i=t.keyframes?function(t){return function(e,i){for(var r in i)r in e||"duration"===r&&t||"ease"===r||(e[r]=i[r])}}(Ro(t.keyframes)):oa;if(is(t.inherit))for(;e;)i(t,e.vars.defaults),e=e.parent||e._dp;return t},yb=function(t,e,i,r){void 0===i&&(i="_first"),void 0===r&&(r="_last");var o=e._prev,s=e._next;o?o._next=s:t[i]===e&&(t[i]=s),s?s._prev=o:t[r]===e&&(t[r]=o),e._next=e._prev=e.parent=null},du=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},zh=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var i=t;i;)i._dirty=1,i=i.parent;return t},Tpe=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Cpe=function n(t){return!t||t._ts&&n(t.parent)},_4=function(t){return t._repeat?Tp(t._tTime,t=t.duration()+t._rDelay)*t:0},Tp=function(t,e){var i=Math.floor(t/=e);return t&&i===t?i-1:i},bb=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Eb=function(t){return t._end=Do(t._start+(t._tDur/Math.abs(t._ts||t._rts||Oi)||0))},m4=function(t,e){var i=t._dp;return i&&i.smoothChildTiming&&t._ts&&(t._start=Do(i._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Eb(t),i._dirty||zh(i,t)),t},v4=function(t,e){var i;if((e._time||e._initted&&!e._dur)&&(i=bb(t.rawTime(),e),(!e._dur||im(0,e.totalDuration(),i)-e._tTime>Oi)&&e.render(i,!0)),zh(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(i=t;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;t._zTime=-Oi}},Cl=function(t,e,i,r){return e.parent&&du(e),e._start=Do((cu(i)?i:i||t!==ir?sa(t,i,e):t._time)+e._delay),e._end=Do(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,i,r,o){void 0===i&&(i="_first"),void 0===r&&(r="_last");var a,s=t[r];if(o)for(a=e[o];s&&s[o]>a;)s=s._prev;s?(e._next=s._next,s._next=e):(e._next=t[i],t[i]=e),e._next?e._next._prev=e:t[r]=e,e._prev=s,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),Gw(e)||(t._recent=e),r||v4(t,e),t},y4=function(t,e){return(Rs.ScrollTrigger||Nw("scrollTrigger",e))&&Rs.ScrollTrigger.create(e,t)},b4=function(t,e,i,r){return $pe(t,e),t._initted?!i&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&u4!==ua.frame?(rc.push(t),t._lazy=[e,r],1):void 0:1},Ope=function n(t){var e=t.parent;return e&&e._ts&&e._initted&&!e._lock&&(e.rawTime()<0||n(e))},Gw=function(t){var e=t.data;return"isFromStart"===e||"isStart"===e},Cp=function(t,e,i,r){var o=t._repeat,s=Do(e)||0,a=t._tTime/t._tDur;return a&&!r&&(t._time*=s/t._dur),t._dur=s,t._tDur=o?o<0?1e10:Do(s*(o+1)+t._rDelay*o):s,a>0&&!r?m4(t,t._tTime=t._tDur*a):t.parent&&Eb(t),i||zh(t.parent,t),t},E4=function(t){return t instanceof ss?zh(t):Cp(t,t._dur)},Ppe={_start:0,endTime:em,totalDuration:em},sa=function n(t,e,i){var a,l,u,r=t.labels,o=t._recent||Ppe,s=t.duration()>=ra?o.endTime(!1):t._dur;return eo(e)&&(isNaN(e)||e in r)?(l=e.charAt(0),u="%"===e.substr(-1),a=e.indexOf("="),"<"===l||">"===l?(a>=0&&(e=e.replace(/=/,"")),("<"===l?o._start:o.endTime(o._repeat>=0))+(parseFloat(e.substr(1))||0)*(u?(a<0?o:i).totalDuration()/100:1)):a<0?(e in r||(r[e]=s),r[e]):(l=parseFloat(e.charAt(a-1)+e.substr(a+1)),u&&i&&(l=l/100*(Ro(i)?i[0]:i).totalDuration()),a>1?n(t,e.substr(0,a-1),i)+l:s+l)):null==e?s:+e},nm=function(t,e,i){var a,l,r=cu(e[1]),o=(r?2:1)+(t<2?0:1),s=e[o];if(r&&(s.duration=e[1]),s.parent=i,t){for(a=s,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=is(l.vars.inherit)&&l.parent;s.immediateRender=is(a.immediateRender),t<2?s.runBackwards=1:s.startAt=e[o-1]}return new no(e[0],s,e[o+1])},oc=function(t,e){return t||0===t?e(t):e},im=function(t,e,i){return i<t?t:i>e?e:i},os=function(t,e){return eo(t)&&(e=vpe.exec(t))?t.substr(e.index+e[0].length):""},jw=[].slice,S4=function(t,e){return t&&hu(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&hu(t[0]))&&!t.nodeType&&t!==Tl},aa=function(t,e,i){return!eo(t)||i||!Dw&&Mp()?Ro(t)?function(t,e,i){return void 0===i&&(i=[]),t.forEach(function(r){var o;return eo(r)&&!e||S4(r,1)?(o=i).push.apply(o,aa(r)):i.push(r)})||i}(t,i):S4(t)?jw.call(t,0):t?[t]:[]:jw.call((e||Iw).querySelectorAll(t),0)},T4=function(t){return t.sort(function(){return.5-Math.random()})},C4=function(t){if(to(t))return t;var e=hu(t)?t:{each:t},i=$h(e.ease),r=e.from||0,o=parseFloat(e.base)||0,s={},a=r>0&&r<1,l=isNaN(r)||a,u=e.axis,g=r,E=r;return eo(r)?g=E={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(g=r[0],E=r[1]),function(w,P,A){var Y,K,re,ae,te,ne,Oe,Ie,ye,D=(A||e).length,B=s[D];if(!B){if(!(ye="auto"===e.grid?0:(e.grid||[1,ra])[1])){for(Oe=-ra;Oe<(Oe=A[ye++].getBoundingClientRect().left)&&ye<D;);ye--}for(B=s[D]=[],Y=l?Math.min(ye,D)*g-.5:r%ye,K=ye===ra?0:l?D*E/ye-.5:r/ye|0,Oe=0,Ie=ra,ne=0;ne<D;ne++)re=ne%ye-Y,ae=K-(ne/ye|0),B[ne]=te=u?Math.abs("y"===u?ae:re):e4(re*re+ae*ae),te>Oe&&(Oe=te),te<Ie&&(Ie=te);"random"===r&&T4(B),B.max=Oe-Ie,B.min=Ie,B.v=D=(parseFloat(e.amount)||parseFloat(e.each)*(ye>D?D-1:u?"y"===u?D/ye:ye:Math.max(ye,D/ye))||0)*("edges"===r?-1:1),B.b=D<0?o-D:o,B.u=os(e.amount||e.each)||0,i=i&&D<0?N4(i):i}return D=(B[w]-B.min)/B.max||0,Do(B.b+(i?i(D):D)*B.v)+B.u}},Vw=function(t){var e=Math.pow(10,((t+"").split(".")[1]||"").length);return function(i){var r=Math.round(parseFloat(i)/t)*t*e;return(r-r%1)/e+(cu(i)?0:os(i))}},O4=function(t,e){var r,o,i=Ro(t);return!i&&hu(t)&&(r=i=t.radius||ra,t.values?(t=aa(t.values),(o=!cu(t[0]))&&(r*=r)):t=Vw(t.increment)),oc(e,i?to(t)?function(s){return o=t(s),Math.abs(o-s)<=r?o:s}:function(s){for(var w,P,a=parseFloat(o?s.x:s),l=parseFloat(o?s.y:0),u=ra,g=0,E=t.length;E--;)(w=o?(w=t[E].x-a)*w+(P=t[E].y-l)*P:Math.abs(t[E]-a))<u&&(u=w,g=E);return g=!r||u<=r?t[g]:s,o||g===s||cu(s)?g:g+os(s)}:Vw(t))},M4=function(t,e,i,r){return oc(Ro(t)?!e:!0===i?!!(i=0):!r,function(){return Ro(t)?t[~~(Math.random()*t.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((t-i/2+Math.random()*(e-t+.99*i))/i)*i*r)/r})},w4=function(t,e,i){return oc(i,function(r){return t[~~e(r)]})},rm=function(t){for(var r,o,s,a,e=0,i="";~(r=t.indexOf("random(",e));)s=t.indexOf(")",r),a="["===t.charAt(r+7),o=t.substr(r+7,s-r-7).match(a?o4:xw),i+=t.substr(e,r-e)+M4(a?o:+o[0],a?0:+o[1],+o[2]||1e-5),e=s+1;return i+t.substr(e,t.length-e)},P4=function(t,e,i,r,o){var s=e-t,a=r-i;return oc(o,function(l){return i+((l-t)/s*a||0)})},A4=function(t,e,i){var s,a,l,r=t.labels,o=ra;for(s in r)(a=r[s]-e)<0==!!i&&a&&o>(a=Math.abs(a))&&(l=s,o=a);return l},la=function(t,e,i){var s,a,r=t.vars,o=r[e];if(o)return s=r[e+"Params"],a=r.callbackScope||t,i&&rc.length&&mb(),s?o.apply(a,s):o.call(a)},om=function(t){return du(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&la(t,"onInterrupt"),t},Lpe=function(t){var e=(t=!t.name&&t.default||t).name,i=to(t),r=e&&!i&&t.init?function(){this._props=[]}:t,o={init:em,render:Kw,add:zw,kill:ege,modifier:Zpe,rawVars:0},s={targetTest:0,get:0,getSetter:Xw,aliases:{},register:0};if(Mp(),t!==r){if(Ds[e])return;oa(r,oa(vb(t,o),s)),Sp(r.prototype,Sp(o,vb(t,s))),Ds[r.prop=e]=r,t.targetTest&&(_b.push(r),kw[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}l4(e,r),t.register&&t.register(Ol,r,as)},Mi=255,sm={aqua:[0,Mi,Mi],lime:[0,Mi,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Mi],navy:[0,0,128],white:[Mi,Mi,Mi],olive:[128,128,0],yellow:[Mi,Mi,0],orange:[Mi,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Mi,0,0],pink:[Mi,192,203],cyan:[0,Mi,Mi],transparent:[Mi,Mi,Mi,0]},Hw=function(t,e,i){return(6*(t+=t<0?1:t>1?-1:0)<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)*Mi+.5|0},x4=function(t,e,i){var o,s,a,l,u,g,E,w,P,A,r=t?cu(t)?[t>>16,t>>8&Mi,t&Mi]:0:sm.black;if(!r){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),sm[t])r=sm[t];else if("#"===t.charAt(0)){if(t.length<6&&(o=t.charAt(1),s=t.charAt(2),a=t.charAt(3),t="#"+o+o+s+s+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(r=parseInt(t.substr(1,6),16))>>16,r>>8&Mi,r&Mi,parseInt(t.substr(7),16)/255];r=[(t=parseInt(t.substr(1),16))>>16,t>>8&Mi,t&Mi]}else if("hsl"===t.substr(0,3))if(r=A=t.match(xw),e){if(~t.indexOf("="))return r=t.match(i4),i&&r.length<4&&(r[3]=1),r}else l=+r[0]%360/360,u=+r[1]/100,o=2*(g=+r[2]/100)-(s=g<=.5?g*(u+1):g+u-g*u),r.length>3&&(r[3]*=1),r[0]=Hw(l+1/3,o,s),r[1]=Hw(l,o,s),r[2]=Hw(l-1/3,o,s);else r=t.match(xw)||sm.transparent;r=r.map(Number)}return e&&!A&&(o=r[0]/Mi,s=r[1]/Mi,a=r[2]/Mi,g=((E=Math.max(o,s,a))+(w=Math.min(o,s,a)))/2,E===w?l=u=0:(P=E-w,u=g>.5?P/(2-E-w):P/(E+w),l=E===o?(s-a)/P+(s<a?6:0):E===s?(a-o)/P+2:(o-s)/P+4,l*=60),r[0]=~~(l+.5),r[1]=~~(100*u+.5),r[2]=~~(100*g+.5)),i&&r.length<4&&(r[3]=1),r},R4=function(t){var e=[],i=[],r=-1;return t.split(sc).forEach(function(o){var s=o.match(Ep)||[];e.push.apply(e,s),i.push(r+=s.length+1)}),e.c=i,e},D4=function(t,e,i){var l,u,g,E,r="",o=(t+r).match(sc),s=e?"hsla(":"rgba(",a=0;if(!o)return t;if(o=o.map(function(w){return(w=x4(w,e,1))&&s+(e?w[0]+","+w[1]+"%,"+w[2]+"%,"+w[3]:w.join(","))+")"}),i&&(g=R4(t),(l=i.c).join(r)!==g.c.join(r)))for(E=(u=t.replace(sc,"1").split(Ep)).length-1;a<E;a++)r+=u[a]+(~l.indexOf(a)?o.shift()||s+"0,0,0,0)":(g.length?g:o.length?o:i).shift());if(!u)for(E=(u=t.split(sc)).length-1;a<E;a++)r+=u[a]+o[a];return r+u[E]},sc=function(){var t,n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in sm)n+="|"+t+"\\b";return new RegExp(n+")","gi")}(),Upe=/hsl[a]?\(/,I4=function(t){var i,e=t.join(" ");if(sc.lastIndex=0,sc.test(e))return i=Upe.test(e),t[1]=D4(t[1],i),t[0]=D4(t[0],i,R4(t[1])),!0},ua=function(){var l,u,g,E,w,P,n=Date.now,t=500,e=33,i=n(),r=i,o=1e3/240,s=o,a=[],A=function D(B){var re,ae,te,ne,Y=n()-r,K=!0===B;if(Y>t&&(i+=Y-e),((re=(te=(r+=Y)-i)-s)>0||K)&&(ne=++E.frame,w=te-1e3*E.time,E.time=te/=1e3,s+=re+(re>=o?4:o-re),ae=1),K||(l=u(D)),ae)for(P=0;P<a.length;P++)a[P](te,w,ne,B)};return E={time:0,frame:0,tick:function(){A(!0)},deltaRatio:function(B){return w/(1e3/(B||60))},wake:function(){s4&&(!Dw&&t4()&&(Tl=Dw=window,Iw=Tl.document||{},Rs.gsap=Ol,(Tl.gsapVersions||(Tl.gsapVersions=[])).push(Ol.version),a4(pb||Tl.GreenSockGlobals||!Tl.gsap&&Tl||{}),g=Tl.requestAnimationFrame),l&&E.sleep(),u=g||function(B){return setTimeout(B,s-1e3*E.time+1|0)},Sb=1,A(2))},sleep:function(){(g?Tl.cancelAnimationFrame:clearTimeout)(l),Sb=0,u=em},lagSmoothing:function(B,Y){t=B||1/Oi,e=Math.min(Y,t,0)},fps:function(B){s=1e3*E.time+(o=1e3/(B||240))},add:function(B){a.indexOf(B)<0&&a.push(B),Mp()},remove:function(B,Y){~(Y=a.indexOf(B))&&a.splice(Y,1)&&P>=Y&&P--},_listeners:a}}(),Mp=function(){return!Sb&&ua.wake()},Vn={},Gpe=/^[\d.\-M][\d.\-,\s]/,jpe=/["']/g,Vpe=function(t){for(var a,l,u,e={},i=t.substr(1,t.length-3).split(":"),r=i[0],o=1,s=i.length;o<s;o++)l=i[o],a=o!==s-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),e[r]=isNaN(u)?u.replace(jpe,"").trim():+u,r=l.substr(a+1).trim();return e},N4=function(t){return function(e){return 1-t(1-e)}},k4=function n(t,e){for(var r,i=t._first;i;)i instanceof ss?n(i,e):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==e&&(i.timeline?n(i.timeline,e):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=e)),i=i._next},$h=function(t,e){return t&&(to(t)?t:Vn[t]||function(t){var e=(t+"").split("("),i=Vn[e[0]];return i&&e.length>1&&i.config?i.config.apply(null,~t.indexOf("{")?[Vpe(e[1])]:function(t){var e=t.indexOf("(")+1,i=t.indexOf(")"),r=t.indexOf("(",e);return t.substring(e,~r&&r<i?t.indexOf(")",i+1):i)}(t).split(",").map(f4)):Vn._CE&&Gpe.test(t)?Vn._CE("",t):i}(t))||e},Xh=function(t,e,i,r){void 0===i&&(i=function(l){return 1-e(1-l)}),void 0===r&&(r=function(l){return l<.5?e(2*l)/2:1-e(2*(1-l))/2});var s,o={easeIn:e,easeOut:i,easeInOut:r};return rs(t,function(a){for(var l in Vn[a]=Rs[a]=o,Vn[s=a.toLowerCase()]=i,o)Vn[s+("easeIn"===l?".in":"easeOut"===l?".out":".inOut")]=Vn[a+"."+l]=o[l]}),o},F4=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Yw=function n(t,e,i){var r=e>=1?e:1,o=(i||(t?.3:.45))/(e<1?e:1),s=o/Pw*(Math.asin(1/r)||0),a=function(g){return 1===g?1:r*Math.pow(2,-10*g)*mpe((g-s)*o)+1},l="out"===t?a:"in"===t?function(u){return 1-a(1-u)}:F4(a);return o=Pw/o,l.config=function(u,g){return n(t,u,g)},l},Ww=function n(t,e){void 0===e&&(e=1.70158);var i=function(s){return s?--s*s*((e+1)*s+e)+1:0},r="out"===t?i:"in"===t?function(o){return 1-i(1-o)}:F4(i);return r.config=function(o){return n(t,o)},r};rs("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,t){var e=t<5?t+1:t;Xh(n+",Power"+(e-1),t?function(i){return Math.pow(i,e)}:function(i){return i},function(i){return 1-Math.pow(1-i,e)},function(i){return i<.5?Math.pow(2*i,e)/2:1-Math.pow(2*(1-i),e)/2})}),Vn.Linear.easeNone=Vn.none=Vn.Linear.easeIn,Xh("Elastic",Yw("in"),Yw("out"),Yw()),function(n,t){var o=function(a){return a<.36363636363636365?n*a*a:a<.7272727272727273?n*Math.pow(a-1.5/t,2)+.75:a<.9090909090909092?n*(a-=2.25/t)*a+.9375:n*Math.pow(a-2.625/t,2)+.984375};Xh("Bounce",function(s){return 1-o(1-s)},o)}(7.5625,2.75),Xh("Expo",function(n){return n?Math.pow(2,10*(n-1)):0}),Xh("Circ",function(n){return-(e4(1-n*n)-1)}),Xh("Sine",function(n){return 1===n?1:1-_pe(n*ppe)}),Xh("Back",Ww("in"),Ww("out"),Ww()),Vn.SteppedEase=Vn.steps=Rs.SteppedEase={config:function(t,e){void 0===t&&(t=1);var i=1/t,r=t+(e?0:1),o=e?1:0;return function(a){return((r*im(0,.99999999,a)|0)+o)*i}}},bp.ease=Vn["quad.out"],rs("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Lw+=n+","+n+"Params,"});var B4=function(t,e){this.id=gpe++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:h4,this.set=e?e.getSetter:Xw},am=function(){function n(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Cp(this,+e.duration,1,1),this.data=e.data,Sb||ua.wake()}var t=n.prototype;return t.delay=function(i){return i||0===i?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},t.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},t.totalDuration=function(i){return arguments.length?(this._dirty=0,Cp(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(i,r){if(Mp(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(m4(this,i),!o._dp||o.parent||v4(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&Cl(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Oi||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),d4(this,i,r)),this},t.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+_4(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},t.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?i:1-i)+_4(this),r):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(i,r){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*o,r):this._repeat?Tp(this._tTime,o)+1:1},t.timeScale=function(i){if(!arguments.length)return this._rts===-Oi?0:this._rts;if(this._rts===i)return this;var r=this.parent&&this._ts?bb(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-Oi?0:this._rts,Tpe(this.totalTime(im(-this._delay,this._tDur,r),!0)),Eb(this),this},t.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Mp(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==Oi&&(this._tTime-=Oi)))),this):this._ps},t.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Cl(r,this,i-this._delay),this}return this._start},t.endTime=function(i){return this._start+(is(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?bb(r.rawTime(i),this):this._tTime:this._tTime},t.globalTime=function(i){for(var r=this,o=arguments.length?i:r.rawTime();r;)o=r._start+o/(r._ts||1),r=r._dp;return o},t.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,E4(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,E4(this),r?this.time(r):this}return this._rDelay},t.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},t.seek=function(i,r){return this.totalTime(sa(this,i),is(r))},t.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,is(r))},t.play=function(i,r){return null!=i&&this.seek(i,r),this.reversed(!1).paused(!1)},t.reverse=function(i,r){return null!=i&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},t.pause=function(i,r){return null!=i&&this.seek(i,r),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-Oi:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-Oi,this},t.isActive=function(){var o,i=this.parent||this._dp,r=this._start;return!(i&&!(this._ts&&this._initted&&i.isActive()&&(o=i.rawTime(!0))>=r&&o<this.endTime(!0)-Oi))},t.eventCallback=function(i,r,o){var s=this.vars;return arguments.length>1?(r?(s[i]=r,o&&(s[i+"Params"]=o),"onUpdate"===i&&(this._onUpdate=r)):delete s[i],this):s[i]},t.then=function(i){var r=this;return new Promise(function(o){var s=to(i)?i:p4,a=function(){var u=r.then;r.then=null,to(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=u),o(s),r.then=u};r._initted&&1===r.totalProgress()&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},t.kill=function(){om(this)},n}();oa(am.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-Oi,_prom:0,_ps:!1,_rts:1});var ss=function(n){function t(i,r){var o;return void 0===i&&(i={}),(o=n.call(this,i)||this).labels={},o.smoothChildTiming=!!i.smoothChildTiming,o.autoRemoveChildren=!!i.autoRemoveChildren,o._sort=is(i.sortChildren),ir&&Cl(i.parent||ir,uu(o),r),i.reversed&&o.reverse(),i.paused&&o.paused(!0),i.scrollTrigger&&y4(uu(o),i.scrollTrigger),o}Z5(t,n);var e=t.prototype;return e.to=function(r,o,s){return nm(0,arguments,this),this},e.from=function(r,o,s){return nm(1,arguments,this),this},e.fromTo=function(r,o,s,a){return nm(2,arguments,this),this},e.set=function(r,o,s){return o.duration=0,o.parent=this,tm(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new no(r,o,sa(this,s),1),this},e.call=function(r,o,s){return Cl(this,no.delayedCall(0,r,o),s)},e.staggerTo=function(r,o,s,a,l,u,g){return s.duration=o,s.stagger=s.stagger||a,s.onComplete=u,s.onCompleteParams=g,s.parent=this,new no(r,s,sa(this,l)),this},e.staggerFrom=function(r,o,s,a,l,u,g){return s.runBackwards=1,tm(s).immediateRender=is(s.immediateRender),this.staggerTo(r,o,s,a,l,u,g)},e.staggerFromTo=function(r,o,s,a,l,u,g,E){return a.startAt=s,tm(a).immediateRender=is(a.immediateRender),this.staggerTo(r,o,a,l,u,g,E)},e.render=function(r,o,s){var w,P,A,D,B,Y,K,re,ae,te,ne,Oe,a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,g=r<=0?0:Do(r),E=this._zTime<0!=r<0&&(this._initted||!u);if(this!==ir&&g>l&&r>=0&&(g=l),g!==this._tTime||s||E){if(a!==this._time&&u&&(g+=this._time-a,r+=this._time-a),w=g,ae=this._start,Y=!(re=this._ts),E&&(u||(a=this._zTime),(r||!o)&&(this._zTime=r)),this._repeat){if(ne=this._yoyo,B=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*B+r,o,s);if(w=Do(g%B),g===l?(D=this._repeat,w=u):((D=~~(g/B))&&D===g/B&&(w=u,D--),w>u&&(w=u)),te=Tp(this._tTime,B),!a&&this._tTime&&te!==D&&(te=D),ne&&1&D&&(w=u-w,Oe=1),D!==te&&!this._lock){var Ie=ne&&1&te,ye=Ie===(ne&&1&D);if(D<te&&(Ie=!Ie),a=Ie?0:u,this._lock=1,this.render(a||(Oe?0:Do(D*B)),o,!u)._lock=0,this._tTime=g,!o&&this.parent&&la(this,"onRepeat"),this.vars.repeatRefresh&&!Oe&&(this.invalidate()._lock=1),a&&a!==this._time||Y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,ye&&(this._lock=2,this.render(a=Ie?u:-1e-4,!0),this.vars.repeatRefresh&&!Oe&&this.invalidate()),this._lock=0,!this._ts&&!Y)return this;k4(this,Oe)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(K=function(t,e,i){var r;if(i>e)for(r=t._first;r&&r._start<=i;){if("isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=i;){if("isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Do(a),Do(w)),K&&(g-=w-(w=K._start))),this._tTime=g,this._time=w,this._act=!re,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&w&&!o&&(la(this,"onStart"),this._tTime!==g))return this;if(w>=a&&r>=0)for(P=this._first;P;){if(A=P._next,(P._act||w>=P._start)&&P._ts&&K!==P){if(P.parent!==this)return this.render(r,o,s);if(P.render(P._ts>0?(w-P._start)*P._ts:(P._dirty?P.totalDuration():P._tDur)+(w-P._start)*P._ts,o,s),w!==this._time||!this._ts&&!Y){K=0,A&&(g+=this._zTime=-Oi);break}}P=A}else{P=this._last;for(var Ve=r<0?r:w;P;){if(A=P._prev,(P._act||Ve<=P._end)&&P._ts&&K!==P){if(P.parent!==this)return this.render(r,o,s);if(P.render(P._ts>0?(Ve-P._start)*P._ts:(P._dirty?P.totalDuration():P._tDur)+(Ve-P._start)*P._ts,o,s),w!==this._time||!this._ts&&!Y){K=0,A&&(g+=this._zTime=Ve?-Oi:Oi);break}}P=A}}if(K&&!o&&(this.pause(),K.render(w>=a?0:-Oi)._zTime=w>=a?1:-1,this._ts))return this._start=ae,Eb(this),this.render(r,o,s);this._onUpdate&&!o&&la(this,"onUpdate",!0),(g===l&&l>=this.totalDuration()||!g&&a)&&(ae===this._start||Math.abs(re)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(g===l&&this._ts>0||!g&&this._ts<0)&&du(this,1),!o&&(!(r<0)||a)&&(g||a||!l)&&(la(this,g===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom())))}return this},e.add=function(r,o){var s=this;if(cu(o)||(o=sa(this,o,r)),!(r instanceof am)){if(Ro(r))return r.forEach(function(a){return s.add(a,o)}),this;if(eo(r))return this.addLabel(r,o);if(!to(r))return this;r=no.delayedCall(0,r)}return this!==r?Cl(this,r,o):this},e.getChildren=function(r,o,s,a){void 0===r&&(r=!0),void 0===o&&(o=!0),void 0===s&&(s=!0),void 0===a&&(a=-ra);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof no?o&&l.push(u):(s&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,o,s)))),u=u._next;return l},e.getById=function(r){for(var o=this.getChildren(1,1,1),s=o.length;s--;)if(o[s].vars.id===r)return o[s]},e.remove=function(r){return eo(r)?this.removeLabel(r):to(r)?this.killTweensOf(r):(yb(this,r),r===this._recent&&(this._recent=this._last),zh(this))},e.totalTime=function(r,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Do(ua.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,o),this._forcing=0,this):this._tTime},e.addLabel=function(r,o){return this.labels[r]=sa(this,o),this},e.removeLabel=function(r){return delete this.labels[r],this},e.addPause=function(r,o,s){var a=no.delayedCall(0,o||em,s);return a.data="isPause",this._hasPause=1,Cl(this,a,sa(this,r))},e.removePause=function(r){var o=this._first;for(r=sa(this,r);o;)o._start===r&&"isPause"===o.data&&du(o),o=o._next},e.killTweensOf=function(r,o,s){for(var a=this.getTweensOf(r,s),l=a.length;l--;)ac!==a[l]&&a[l].kill(r,o);return this},e.getTweensOf=function(r,o){for(var g,s=[],a=aa(r),l=this._first,u=cu(o);l;)l instanceof no?ype(l._targets,a)&&(u?(!ac||l._initted&&l._ts)&&l.globalTime(0)<=o&&l.globalTime(l.totalDuration())>o:!o||l.isActive())&&s.push(l):(g=l.getTweensOf(a,o)).length&&s.push.apply(s,g),l=l._next;return s},e.tweenTo=function(r,o){o=o||{};var P,s=this,a=sa(s,r),u=o.startAt,g=o.onStart,E=o.onStartParams,w=o.immediateRender,A=no.to(s,oa({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:o.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale())||Oi,onStart:function(){if(s.pause(),!P){var B=o.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale());A._dur!==B&&Cp(A,B,0,1).render(A._time,!0,!0),P=1}g&&g.apply(A,E||[])}},o));return w?A.render(0):A},e.tweenFromTo=function(r,o,s){return this.tweenTo(o,oa({startAt:{time:sa(this,r)}},s))},e.recent=function(){return this._recent},e.nextLabel=function(r){return void 0===r&&(r=this._time),A4(this,sa(this,r))},e.previousLabel=function(r){return void 0===r&&(r=this._time),A4(this,sa(this,r),1)},e.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Oi)},e.shiftChildren=function(r,o,s){void 0===s&&(s=0);for(var u,a=this._first,l=this.labels;a;)a._start>=s&&(a._start+=r,a._end+=r),a=a._next;if(o)for(u in l)l[u]>=s&&(l[u]+=r);return zh(this)},e.invalidate=function(){var r=this._first;for(this._lock=0;r;)r.invalidate(),r=r._next;return n.prototype.invalidate.call(this)},e.clear=function(r){void 0===r&&(r=!0);for(var s,o=this._first;o;)s=o._next,this.remove(o),o=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),zh(this)},e.totalDuration=function(r){var u,g,E,o=0,s=this,a=s._last,l=ra;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(E=s.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),(g=a._start)>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,Cl(s,a,g-a._delay,1)._lock=0):l=g,g<0&&a._ts&&(o-=g,(!E&&!s._dp||E&&E.smoothChildTiming)&&(s._start+=g/s._ts,s._time-=g,s._tTime-=g),s.shiftChildren(-g,!1,-1/0),l=0),a._end>o&&a._ts&&(o=a._end),a=u;Cp(s,s===ir&&s._time>o?s._time:o,1,1),s._dirty=0}return s._tDur},t.updateRoot=function(r){if(ir._ts&&(d4(ir,bb(r,ir)),u4=ua.frame),ua.frame>=c4){c4+=xs.autoSleep||120;var o=ir._first;if((!o||!o._ts)&&xs.autoSleep&&ua._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||ua.sleep()}}},t}(am);oa(ss.prototype,{_lock:0,_hasPause:0,_forcing:0});var ac,Wpe=function(t,e,i,r,o,s,a){var E,w,P,A,D,B,Y,K,l=new as(this._pt,t,e,0,1,H4,null,o),u=0,g=0;for(l.b=i,l.e=r,i+="",(Y=~(r+="").indexOf("random("))&&(r=rm(r)),s&&(s(K=[i,r],t,e),i=K[0],r=K[1]),w=i.match(Rw)||[];E=Rw.exec(r);)A=E[0],D=r.substring(u,E.index),P?P=(P+1)%5:"rgba("===D.substr(-5)&&(P=1),A!==w[g++]&&(B=parseFloat(w[g-1])||0,l._pt={_next:l._pt,p:D||1===g?D:",",s:B,c:"="===A.charAt(1)?parseFloat(A.substr(2))*("-"===A.charAt(0)?-1:1):parseFloat(A)-B,m:P&&P<4?Math.round:0},u=Rw.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=a,(r4.test(r)||Y)&&(l.e=0),this._pt=l,l},zw=function(t,e,i,r,o,s,a,l,u){to(r)&&(r=r(o||0,t,s));var P,g=t[e],E="get"!==i?i:to(g)?u?t[e.indexOf("set")||!to(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():g,w=to(g)?u?qpe:j4:$w;if(eo(r)&&(~r.indexOf("random(")&&(r=rm(r)),"="===r.charAt(1)&&((P=parseFloat(E)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(os(E)||0))||0===P)&&(r=P)),E!==r)return isNaN(E*r)||""===r?(!g&&!(e in t)&&Nw(e,r),Wpe.call(this,t,e,E,r,w,l||xs.stringFilter,u)):(P=new as(this._pt,t,e,+E||0,r-(E||0),"boolean"==typeof g?Qpe:V4,0,w),u&&(P.fp=u),a&&P.modifier(a,this,t),this._pt=P)},L4=function(t,e,i,r,o,s){var a,l,u,g;if(Ds[t]&&!1!==(a=new Ds[t]).init(o,a.rawVars?e[t]:function(t,e,i,r,o){if(to(t)&&(t=lm(t,o,e,i,r)),!hu(t)||t.style&&t.nodeType||Ro(t)||n4(t))return eo(t)?lm(t,o,e,i,r):t;var a,s={};for(a in t)s[a]=lm(t[a],o,e,i,r);return s}(e[t],r,o,s,i),i,r,s)&&(i._pt=l=new as(i._pt,o,t,0,1,a.render,a,0,a.priority),i!==Op))for(u=i._ptLookup[i._targets.indexOf(o)],g=a._props.length;g--;)u[a._props[g]]=l;return a},$pe=function n(t,e){var ne,Oe,Ie,ye,Ve,nt,it,Ze,At,$e,De,Ke,ht,i=t.vars,r=i.ease,o=i.startAt,s=i.immediateRender,a=i.lazy,l=i.onUpdate,u=i.onUpdateParams,g=i.callbackScope,E=i.runBackwards,w=i.yoyoEase,P=i.keyframes,A=i.autoRevert,D=t._dur,B=t._startAt,Y=t._targets,K=t.parent,re=K&&"nested"===K.data?K.parent._targets:Y,ae="auto"===t._overwrite&&!ww,te=t.timeline;if(te&&(!P||!r)&&(r="none"),t._ease=$h(r,bp.ease),t._yEase=w?N4($h(!0===w?r:w,bp.ease)):0,w&&t._yoyo&&!t._repeat&&(w=t._yEase,t._yEase=t._ease,t._ease=w),t._from=!te&&!!i.runBackwards,!te||P&&!i.stagger){if(Ke=(Ze=Y[0]?Wh(Y[0]).harness:0)&&i[Ze.prop],ne=vb(i,kw),B&&du(B.render(-1,!0)),o)if(du(t._startAt=no.set(Y,oa({data:"isStart",overwrite:!1,parent:K,immediateRender:!0,lazy:is(a),startAt:null,delay:0,onUpdate:l,onUpdateParams:u,callbackScope:g,stagger:0},o))),e<0&&!s&&!A&&t._startAt.render(-1,!0),s){if(e>0&&!A&&(t._startAt=0),D&&e<=0)return void(e&&(t._zTime=e))}else!1===A&&(t._startAt=0);else if(E&&D)if(B)!A&&(t._startAt=0);else if(e&&(s=!1),Ie=oa({overwrite:!1,data:"isFromStart",lazy:s&&is(a),immediateRender:s,stagger:0,parent:K},ne),Ke&&(Ie[Ze.prop]=Ke),du(t._startAt=no.set(Y,Ie)),e<0&&t._startAt.render(-1,!0),t._zTime=e,s){if(!e)return}else n(t._startAt,Oi);for(t._pt=0,a=D&&is(a)||a&&!D,Oe=0;Oe<Y.length;Oe++){if(it=(Ve=Y[Oe])._gsap||Uw(Y)[Oe]._gsap,t._ptLookup[Oe]=$e={},Fw[it.id]&&rc.length&&mb(),De=re===Y?Oe:re.indexOf(Ve),Ze&&!1!==(At=new Ze).init(Ve,Ke||ne,t,De,re)&&(t._pt=ye=new as(t._pt,Ve,At.name,0,1,At.render,At,0,At.priority),At._props.forEach(function(wt){$e[wt]=ye}),At.priority&&(nt=1)),!Ze||Ke)for(Ie in ne)Ds[Ie]&&(At=L4(Ie,ne,t,De,Ve,re))?At.priority&&(nt=1):$e[Ie]=ye=zw.call(t,Ve,Ie,"get",ne[Ie],De,re,0,i.stringFilter);t._op&&t._op[Oe]&&t.kill(Ve,t._op[Oe]),ae&&t._pt&&(ac=t,ir.killTweensOf(Ve,$e,t.globalTime(e)),ht=!t.parent,ac=0),t._pt&&a&&(Fw[it.id]=1)}nt&&Y4(t),t._onInit&&t._onInit(t)}t._onUpdate=l,t._initted=(!t._op||t._pt)&&!ht,P&&e<=0&&te.render(ra,!0,!0)},Kpe=function(t,e,i,r){var s,a,o=e.ease||r||"power1.inOut";if(Ro(e))a=i[t]||(i[t]=[]),e.forEach(function(l,u){return a.push({t:u/(e.length-1)*100,v:l,e:o})});else for(s in e)a=i[s]||(i[s]=[]),"ease"===s||a.push({t:parseFloat(t),v:e[s],e:o})},lm=function(t,e,i,r,o){return to(t)?t.call(e,i,r,o):eo(t)&&~t.indexOf("random(")?rm(t):t},U4=Lw+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",G4={};rs(U4+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return G4[n]=1});var no=function(n){function t(i,r,o,s){var a;"number"==typeof r&&(o.duration=r,r=o,o=null);var ae,te,ne,Oe,Ie,ye,Ve,nt,l=(a=n.call(this,s?r:tm(r))||this).vars,u=l.duration,g=l.delay,E=l.immediateRender,w=l.stagger,P=l.overwrite,A=l.keyframes,D=l.defaults,B=l.scrollTrigger,Y=l.yoyoEase,K=r.parent||ir,re=(Ro(i)||n4(i)?cu(i[0]):"length"in r)?[i]:aa(i);if(a._targets=re.length?Uw(re):gb("GSAP target "+i+" not found. https://greensock.com",!xs.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=P,A||w||fb(u)||fb(g)){if(r=a.vars,(ae=a.timeline=new ss({data:"nested",defaults:D||{}})).kill(),ae.parent=ae._dp=uu(a),ae._start=0,w||fb(u)||fb(g)){if(Oe=re.length,Ve=w&&C4(w),hu(w))for(Ie in w)~U4.indexOf(Ie)&&(nt||(nt={}),nt[Ie]=w[Ie]);for(te=0;te<Oe;te++)(ne=vb(r,G4)).stagger=0,Y&&(ne.yoyoEase=Y),nt&&Sp(ne,nt),ye=re[te],ne.duration=+lm(u,uu(a),te,ye,re),ne.delay=(+lm(g,uu(a),te,ye,re)||0)-a._delay,!w&&1===Oe&&ne.delay&&(a._delay=g=ne.delay,a._start+=g,ne.delay=0),ae.to(ye,ne,Ve?Ve(te,ye,re):0),ae._ease=Vn.none;ae.duration()?u=g=0:a.timeline=0}else if(A){tm(oa(ae.vars.defaults,{ease:"none"})),ae._ease=$h(A.ease||r.ease||"none");var Ze,At,$e,it=0;if(Ro(A))A.forEach(function(De){return ae.to(re,De,">")});else{for(Ie in ne={},A)"ease"===Ie||"easeEach"===Ie||Kpe(Ie,A[Ie],ne,A.easeEach);for(Ie in ne)for(Ze=ne[Ie].sort(function(De,Ke){return De.t-Ke.t}),it=0,te=0;te<Ze.length;te++)($e={ease:(At=Ze[te]).e,duration:(At.t-(te?Ze[te-1].t:0))/100*u})[Ie]=At.v,ae.to(re,$e,it),it+=$e.duration;ae.duration()<u&&ae.to({},{duration:u-ae.duration()})}}u||a.duration(u=ae.duration())}else a.timeline=0;return!0===P&&!ww&&(ac=uu(a),ir.killTweensOf(re),ac=0),Cl(K,uu(a),o),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(E||!u&&!A&&a._start===Do(K._time)&&is(E)&&Cpe(uu(a))&&"nested"!==K.data)&&(a._tTime=-Oi,a.render(Math.max(0,-g))),B&&y4(uu(a),B),a}Z5(t,n);var e=t.prototype;return e.render=function(r,o,s){var E,w,P,A,D,B,Y,K,re,a=this._time,l=this._tDur,u=this._dur,g=r>l-Oi&&r>=0?l:r<Oi?0:r;if(u){if(g!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=r<0){if(E=g,K=this.timeline,this._repeat){if(A=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(100*A+r,o,s);if(E=Do(g%A),g===l?(P=this._repeat,E=u):((P=~~(g/A))&&P===g/A&&(E=u,P--),E>u&&(E=u)),(B=this._yoyo&&1&P)&&(re=this._yEase,E=u-E),D=Tp(this._tTime,A),E===a&&!s&&this._initted)return this;P!==D&&(K&&this._yEase&&k4(K,B),this.vars.repeatRefresh&&!B&&!this._lock&&(this._lock=s=1,this.render(Do(A*P),!0).invalidate()._lock=0))}if(!this._initted){if(b4(this,r<0?r:E,s,o))return this._tTime=0,this;if(u!==this._dur)return this.render(r,o,s)}if(this._tTime=g,this._time=E,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=Y=(re||this._ease)(E/u),this._from&&(this.ratio=Y=1-Y),E&&!a&&!o&&(la(this,"onStart"),this._tTime!==g))return this;for(w=this._pt;w;)w.r(Y,w.d),w=w._next;K&&K.render(r<0?r:!E&&B?-Oi:K._dur*K._ease(E/this._dur),o,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!o&&(r<0&&this._startAt&&this._startAt.render(r,!0,s),la(this,"onUpdate")),this._repeat&&P!==D&&this.vars.onRepeat&&!o&&this.parent&&la(this,"onRepeat"),(g===this._tDur||!g)&&this._tTime===g&&(r<0&&this._startAt&&!this._onUpdate&&this._startAt.render(r,!0,!0),(r||!u)&&(g===this._tDur&&this._ts>0||!g&&this._ts<0)&&du(this,1),!o&&(!(r<0)||a)&&(g||a)&&(la(this,g===l?"onComplete":"onReverseComplete",!0),this._prom&&!(g<l&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,i,r){var u,g,E,o=t.ratio,s=e<0||!e&&(!t._start&&Ope(t)&&(t._initted||!Gw(t))||(t._ts<0||t._dp._ts<0)&&!Gw(t))?0:1,a=t._rDelay,l=0;if(a&&t._repeat&&(l=im(0,t._tDur,e),g=Tp(l,a),t._yoyo&&1&g&&(s=1-s),g!==Tp(t._tTime,a)&&(o=1-s,t.vars.repeatRefresh&&t._initted&&t.invalidate())),s!==o||r||t._zTime===Oi||!e&&t._zTime){if(!t._initted&&b4(t,e,r,i))return;for(E=t._zTime,t._zTime=e||(i?Oi:0),i||(i=e&&!E),t.ratio=s,t._from&&(s=1-s),t._time=0,t._tTime=l,u=t._pt;u;)u.r(s,u.d),u=u._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!i&&la(t,"onUpdate"),l&&t._repeat&&!i&&t.parent&&la(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===s&&(s&&du(t,1),i||(la(t,s?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,r,o,s);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),n.prototype.invalidate.call(this)},e.kill=function(r,o){if(void 0===o&&(o="all"),!(r||o&&"all"!==o))return this._lazy=this._pt=0,this.parent?om(this):this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,o,ac&&!0!==ac.vars.overwrite)._first||om(this),this.parent&&s!==this.timeline.totalDuration()&&Cp(this,this._dur*this.timeline._tDur/s,0,1),this}var E,w,P,A,D,B,Y,a=this._targets,l=r?aa(r):a,u=this._ptLookup,g=this._pt;if((!o||"all"===o)&&function(t,e){for(var i=t.length,r=i===e.length;r&&i--&&t[i]===e[i];);return i<0}(a,l))return"all"===o&&(this._pt=0),om(this);for(E=this._op=this._op||[],"all"!==o&&(eo(o)&&(D={},rs(o,function(K){return D[K]=1}),o=D),o=function(t,e){var o,s,a,l,i=t[0]?Wh(t[0]).harness:0,r=i&&i.aliases;if(!r)return e;for(s in o=Sp({},e),r)if(s in o)for(a=(l=r[s].split(",")).length;a--;)o[l[a]]=o[s];return o}(a,o)),Y=a.length;Y--;)if(~l.indexOf(a[Y]))for(D in w=u[Y],"all"===o?(E[Y]=o,A=w,P={}):(P=E[Y]=E[Y]||{},A=o),A)(B=w&&w[D])&&((!("kill"in B.d)||!0===B.d.kill(D))&&yb(this,B,"_pt"),delete w[D]),"all"!==P&&(P[D]=1);return this._initted&&!this._pt&&g&&om(this),this},t.to=function(r,o){return new t(r,o,arguments[2])},t.from=function(r,o){return nm(1,arguments)},t.delayedCall=function(r,o,s,a){return new t(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:o,onReverseComplete:o,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},t.fromTo=function(r,o,s){return nm(2,arguments)},t.set=function(r,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new t(r,o)},t.killTweensOf=function(r,o,s){return ir.killTweensOf(r,o,s)},t}(am);oa(no.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),rs("staggerTo,staggerFrom,staggerFromTo",function(n){no[n]=function(){var t=new ss,e=jw.call(arguments,0);return e.splice("staggerFromTo"===n?5:4,0,0),t[n].apply(t,e)}});var $w=function(t,e,i){return t[e]=i},j4=function(t,e,i){return t[e](i)},qpe=function(t,e,i,r){return t[e](r.fp,i)},Jpe=function(t,e,i){return t.setAttribute(e,i)},Xw=function(t,e){return to(t[e])?j4:Aw(t[e])&&t.setAttribute?Jpe:$w},V4=function(t,e){return e.set(e.t,e.p,Math.round(1e6*(e.s+e.c*t))/1e6,e)},Qpe=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},H4=function(t,e){var i=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*t):Math.round(1e4*(i.s+i.c*t))/1e4)+r,i=i._next;r+=e.c}e.set(e.t,e.p,r,e)},Kw=function(t,e){for(var i=e._pt;i;)i.r(t,i.d),i=i._next},Zpe=function(t,e,i,r){for(var s,o=this._pt;o;)s=o._next,o.p===r&&o.modifier(t,e,i),o=s},ege=function(t){for(var i,r,e=this._pt;e;)r=e._next,e.p===t&&!e.op||e.op===t?yb(this,e,"_pt"):e.dep||(i=1),e=r;return!i},tge=function(t,e,i,r){r.mSet(t,e,r.m.call(r.tween,i,r.mt),r)},Y4=function(t){for(var i,r,o,s,e=t._pt;e;){for(i=e._next,r=o;r&&r.pr>e.pr;)r=r._next;(e._prev=r?r._prev:s)?e._prev._next=e:o=e,(e._next=r)?r._prev=e:s=e,e=i}t._pt=o},as=function(){function n(e,i,r,o,s,a,l,u,g){this.t=i,this.s=o,this.c=s,this.p=r,this.r=a||V4,this.d=l||this,this.set=u||$w,this.pr=g||0,this._next=e,e&&(e._prev=this)}return n.prototype.modifier=function(i,r,o){this.mSet=this.mSet||this.set,this.set=tge,this.m=i,this.mt=o,this.tween=r},n}();rs(Lw+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return kw[n]=1}),Rs.TweenMax=Rs.TweenLite=no,Rs.TimelineLite=Rs.TimelineMax=ss,ir=new ss({sortChildren:!1,defaults:bp,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),xs.stringFilter=I4;var Tb={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e.forEach(function(r){return Lpe(r)})},timeline:function(t){return new ss(t)},getTweensOf:function(t,e){return ir.getTweensOf(t,e)},getProperty:function(t,e,i,r){eo(t)&&(t=aa(t)[0]);var o=Wh(t||{}).get,s=i?p4:f4;return"native"===i&&(i=""),t&&(e?s((Ds[e]&&Ds[e].get||o)(t,e,i,r)):function(a,l,u){return s((Ds[a]&&Ds[a].get||o)(t,a,l,u))})},quickSetter:function(t,e,i){if((t=aa(t)).length>1){var r=t.map(function(g){return Ol.quickSetter(g,e,i)}),o=r.length;return function(g){for(var E=o;E--;)r[E](g)}}var s=Ds[e],a=Wh(t=t[0]||{}),l=a.harness&&(a.harness.aliases||{})[e]||e,u=s?function(g){var E=new s;Op._pt=0,E.init(t,i?g+i:g,Op,0,[t]),E.render(1,E),Op._pt&&Kw(1,Op)}:a.set(t,l);return s?u:function(g){return u(t,l,i?g+i:g,a,1)}},isTweening:function(t){return ir.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=$h(t.ease,bp.ease)),g4(bp,t||{})},config:function(t){return g4(xs,t||{})},registerEffect:function(t){var e=t.name,i=t.effect,o=t.defaults,s=t.extendTimeline;(t.plugins||"").split(",").forEach(function(a){return a&&!Ds[a]&&!Rs[a]&&gb(e+" effect requires "+a+" plugin.")}),Bw[e]=function(a,l,u){return i(aa(a),oa(l||{},o),u)},s&&(ss.prototype[e]=function(a,l,u){return this.add(Bw[e](a,hu(l)?l:(u=l)&&{},this),u)})},registerEase:function(t,e){Vn[t]=$h(e)},parseEase:function(t,e){return arguments.length?$h(t,e):Vn},getById:function(t){return ir.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var r,o,i=new ss(t);for(i.smoothChildTiming=is(t.smoothChildTiming),ir.remove(i),i._dp=0,i._time=i._tTime=ir._time,r=ir._first;r;)o=r._next,(e||!(!r._dur&&r instanceof no&&r.vars.onComplete===r._targets[0]))&&Cl(i,r,r._start-r._delay),r=o;return Cl(ir,i,0),i},utils:{wrap:function n(t,e,i){var r=e-t;return Ro(t)?w4(t,n(0,t.length),e):oc(i,function(o){return(r+(o-t)%r)%r+t})},wrapYoyo:function n(t,e,i){var r=e-t,o=2*r;return Ro(t)?w4(t,n(0,t.length-1),e):oc(i,function(s){return t+((s=(o+(s-t)%o)%o||0)>r?o-s:s)})},distribute:C4,random:M4,snap:O4,normalize:function(t,e,i){return P4(t,e,0,1,i)},getUnit:os,clamp:function(t,e,i){return oc(i,function(r){return im(t,e,r)})},splitColor:x4,toArray:aa,selector:function(t){return t=aa(t)[0]||gb("Invalid scope")||{},function(e){var i=t.current||t.nativeElement||t;return aa(e,i.querySelectorAll?i:i===t?gb("Invalid scope")||Iw.createElement("div"):t)}},mapRange:P4,pipe:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(r){return e.reduce(function(o,s){return s(o)},r)}},unitize:function(t,e){return function(i){return t(parseFloat(i))+(e||os(i))}},interpolate:function n(t,e,i,r){var o=isNaN(t+e)?0:function(P){return(1-P)*t+P*e};if(!o){var l,u,g,E,w,s=eo(t),a={};if(!0===i&&(r=1)&&(i=null),s)t={p:t},e={p:e};else if(Ro(t)&&!Ro(e)){for(g=[],w=(E=t.length)-2,u=1;u<E;u++)g.push(n(t[u-1],t[u]));E--,o=function(A){A*=E;var D=Math.min(w,~~A);return g[D](A-D)},i=e}else r||(t=Sp(Ro(t)?[]:{},t));if(!g){for(l in e)zw.call(a,t,l,"get",e[l]);o=function(A){return Kw(A,a)||(s?t.p:t)}}}return oc(i,o)},shuffle:T4},install:a4,effects:Bw,ticker:ua,updateRoot:ss.updateRoot,plugins:Ds,globalTimeline:ir,core:{PropTween:as,globals:l4,Tween:no,Timeline:ss,Animation:am,getCache:Wh,_removeLinkedListItem:yb,suppressOverwrites:function(t){return ww=t}}};rs("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return Tb[n]=no[n]}),ua.add(ss.updateRoot),Op=Tb.to({},{duration:0});var nge=function(t,e){for(var i=t._pt;i&&i.p!==e&&i.op!==e&&i.fp!==e;)i=i._next;return i},qw=function(t,e){return{name:t,rawVars:1,init:function(r,o,s){s._onInit=function(a){var l,u;if(eo(o)&&(l={},rs(o,function(g){return l[g]=1}),o=l),e){for(u in l={},o)l[u]=e(o[u]);o=l}!function(t,e){var r,o,s,i=t._targets;for(r in e)for(o=i.length;o--;)(s=t._ptLookup[o][r])&&(s=s.d)&&(s._pt&&(s=nge(s,r)),s&&s.modifier&&s.modifier(e[r],t,i[o],r))}(a,o)}}}},Ol=Tb.registerPlugin({name:"attr",init:function(t,e,i,r,o){var s,a;for(s in e)(a=this.add(t,"setAttribute",(t.getAttribute(s)||0)+"",e[s],r,o,0,0,s))&&(a.op=s),this._props.push(s)}},{name:"endArray",init:function(t,e){for(var i=e.length;i--;)this.add(t,i,t[i]||0,e[i])}},qw("roundProps",Vw),qw("modifiers"),qw("snap",O4))||Tb;no.version=ss.version=Ol.version="3.9.1",s4=1,t4()&&Mp();var W4,lc,wp,Jw,Kh,z4,Q4,uc={},qh=180/Math.PI,Pp=Math.PI/180,Ap=Math.atan2,$4=1e8,X4=/([A-Z])/g,sge=/(?:left|right|width|margin|padding|x)/i,age=/[\s,\(]\S/,cc={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},K4=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},lge=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},uge=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},cge=function(t,e){var i=e.s+e.c*t;e.set(e.t,e.p,~~(i+(i<0?-.5:.5))+e.u,e)},q4=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},J4=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},hge=function(t,e,i){return t.style[e]=i},dge=function(t,e,i){return t.style.setProperty(e,i)},fge=function(t,e,i){return t._gsap[e]=i},pge=function(t,e,i){return t._gsap.scaleX=t._gsap.scaleY=i},gge=function(t,e,i,r,o){var s=t._gsap;s.scaleX=s.scaleY=i,s.renderTransform(o,s)},_ge=function(t,e,i,r,o){var s=t._gsap;s[e]=i,s.renderTransform(o,s)},ho="transform",hc=ho+"Origin",Qw=function(t,e){var i=lc.createElementNS?lc.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):lc.createElement(t);return i.style?i:lc.createElement(t)},fu=function n(t,e,i){var r=getComputedStyle(t);return r[e]||r.getPropertyValue(e.replace(X4,"-$1").toLowerCase())||r.getPropertyValue(e)||!i&&n(t,xp(e)||e,1)||""},Z4="O,Moz,ms,Ms,Webkit".split(","),xp=function(t,e,i){var o=(e||Kh).style,s=5;if(t in o&&!i)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);s--&&!(Z4[s]+t in o););return s<0?null:(3===s?"ms":s>=0?Z4[s]:"")+t},Zw=function(){"undefined"!=typeof window&&window.document&&(W4=window,wp=(lc=W4.document).documentElement,Kh=Qw("div")||{style:{}},Qw("div"),ho=xp(ho),hc=ho+"Origin",Kh.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Q4=!!xp("perspective"),Jw=1)},eP=function n(t){var s,e=Qw("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(wp.appendChild(e),e.appendChild(this),this.style.display="block",t)try{s=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch(a){}else this._gsapBBox&&(s=this._gsapBBox());return i&&(r?i.insertBefore(this,r):i.appendChild(this)),wp.removeChild(e),this.style.cssText=o,s},eG=function(t,e){for(var i=e.length;i--;)if(t.hasAttribute(e[i]))return t.getAttribute(e[i])},tG=function(t){var e;try{e=t.getBBox()}catch(i){e=eP.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===eP||(e=eP.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+eG(t,["x","cx","x1"])||0,y:+eG(t,["y","cy","y1"])||0,width:0,height:0}},nG=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!tG(t))},um=function(t,e){if(e){var i=t.style;e in uc&&e!==hc&&(e=ho),i.removeProperty?(("ms"===e.substr(0,2)||"webkit"===e.substr(0,6))&&(e="-"+e),i.removeProperty(e.replace(X4,"-$1").toLowerCase())):i.removeAttribute(e)}},dc=function(t,e,i,r,o,s){var a=new as(t._pt,e,i,0,1,s?J4:q4);return t._pt=a,a.b=r,a.e=o,t._props.push(i),a},iG={deg:1,rad:1,turn:1},fc=function n(t,e,i,r){var A,D,B,Y,o=parseFloat(i)||0,s=(i+"").trim().substr((o+"").length)||"px",a=Kh.style,l=sge.test(e),u="svg"===t.tagName.toLowerCase(),g=(u?"client":"offset")+(l?"Width":"Height"),E=100,w="px"===r,P="%"===r;return r===s||!o||iG[r]||iG[s]?o:("px"!==s&&!w&&(o=n(t,e,i,"px")),Y=t.getCTM&&nG(t),!P&&"%"!==s||!uc[e]&&!~e.indexOf("adius")?(a[l?"width":"height"]=E+(w?s:r),D=~e.indexOf("adius")||"em"===r&&t.appendChild&&!u?t:t.parentNode,Y&&(D=(t.ownerSVGElement||{}).parentNode),(!D||D===lc||!D.appendChild)&&(D=lc.body),(B=D._gsap)&&P&&B.width&&l&&B.time===ua.time?Nr(o/B.width*E):((P||"%"===s)&&(a.position=fu(t,"position")),D===t&&(a.position="static"),D.appendChild(Kh),A=Kh[g],D.removeChild(Kh),a.position="absolute",l&&P&&((B=Wh(D)).time=ua.time,B.width=D[g]),Nr(w?A*o/E:A&&o?E/A*o:0))):(A=Y?t.getBBox()[l?"width":"height"]:t[g],Nr(P?o/A*E:o/100*A)))},Jh=function(t,e,i,r){var o;return Jw||Zw(),e in cc&&"transform"!==e&&~(e=cc[e]).indexOf(",")&&(e=e.split(",")[0]),uc[e]&&"transform"!==e?(o=hm(t,r),o="transformOrigin"!==e?o[e]:o.svg?o.origin:Ob(fu(t,hc))+" "+o.zOrigin+"px"):(!(o=t.style[e])||"auto"===o||r||~(o+"").indexOf("calc("))&&(o=Cb[e]&&Cb[e](t,e,i)||fu(t,e)||h4(t,e)||("opacity"===e?1:0)),i&&!~(o+"").trim().indexOf(" ")?fc(t,e,o,i)+i:o},mge=function(t,e,i,r){if(!i||"none"===i){var o=xp(e,t,1),s=o&&fu(t,o,1);s&&s!==i?(e=o,i=s):"borderColor"===e&&(i=fu(t,"borderTopColor"))}var g,E,w,P,A,D,B,Y,K,re,ae,te,a=new as(this._pt,t.style,e,0,1,H4),l=0,u=0;if(a.b=i,a.e=r,i+="","auto"==(r+="")&&(t.style[e]=r,r=fu(t,e)||r,t.style[e]=i),I4(g=[i,r]),r=g[1],w=(i=g[0]).match(Ep)||[],(r.match(Ep)||[]).length){for(;E=Ep.exec(r);)B=E[0],K=r.substring(l,E.index),A?A=(A+1)%5:("rgba("===K.substr(-5)||"hsla("===K.substr(-5))&&(A=1),B!==(D=w[u++]||"")&&(P=parseFloat(D)||0,ae=D.substr((P+"").length),(te="="===B.charAt(1)?+(B.charAt(0)+"1"):0)&&(B=B.substr(2)),Y=parseFloat(B),re=B.substr((Y+"").length),l=Ep.lastIndex-re.length,re||(re=re||xs.units[e]||ae,l===r.length&&(r+=re,a.e+=re)),ae!==re&&(P=fc(t,e,D,re)||0),a._pt={_next:a._pt,p:K||1===u?K:",",s:P,c:te?te*Y:Y-P,m:A&&A<4||"zIndex"===e?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r="display"===e&&"none"===r?J4:q4;return r4.test(r)&&(a.e=0),this._pt=a,a},rG={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},vge=function(t){var e=t.split(" "),i=e[0],r=e[1]||"50%";return("top"===i||"bottom"===i||"left"===r||"right"===r)&&(t=i,i=r,r=t),e[0]=rG[i]||i,e[1]=rG[r]||r,e.join(" ")},yge=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var a,l,u,i=e.t,o=e.u,s=i._gsap;if("all"===o||!0===o)i.style.cssText="",l=1;else for(u=(o=o.split(",")).length;--u>-1;)uc[a=o[u]]&&(l=1,a="transformOrigin"===a?hc:ho),um(i,a);l&&(um(i,ho),s&&(s.svg&&i.removeAttribute("transform"),hm(i,1),s.uncache=1))}},Cb={clearProps:function(t,e,i,r,o){if("isFromStart"!==o.data){var s=t._pt=new as(t._pt,e,i,0,0,yge);return s.u=r,s.pr=-10,s.tween=o,t._props.push(i),1}}},cm=[1,0,0,1,0,0],oG={},sG=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},aG=function(t){var e=fu(t,ho);return sG(e)?cm:e.substr(7).match(i4).map(Nr)},tP=function(t,e){var s,a,l,u,i=t._gsap||Wh(t),r=t.style,o=aG(t);return i.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(l=t.transform.baseVal.consolidate().matrix).a,l.b,l.c,l.d,l.e,l.f]).join(",")?cm:o:(o===cm&&!t.offsetParent&&t!==wp&&!i.svg&&(l=r.display,r.display="block",(!(s=t.parentNode)||!t.offsetParent)&&(u=1,a=t.nextSibling,wp.appendChild(t)),o=aG(t),l?r.display=l:um(t,"display"),u&&(a?s.insertBefore(t,a):s?s.appendChild(t):wp.removeChild(t))),e&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},nP=function(t,e,i,r,o,s){var ne,Oe,ye,a=t._gsap,l=o||tP(t,!0),u=a.xOrigin||0,g=a.yOrigin||0,E=a.xOffset||0,w=a.yOffset||0,P=l[0],A=l[1],D=l[2],B=l[3],Y=l[4],K=l[5],re=e.split(" "),ae=parseFloat(re[0])||0,te=parseFloat(re[1])||0;i?l!==cm&&(Oe=P*B-A*D)&&(ye=ae*(-A/Oe)+te*(P/Oe)-(P*K-A*Y)/Oe,ae=ae*(B/Oe)+te*(-D/Oe)+(D*K-B*Y)/Oe,te=ye):(ae=(ne=tG(t)).x+(~re[0].indexOf("%")?ae/100*ne.width:ae),te=ne.y+(~(re[1]||re[0]).indexOf("%")?te/100*ne.height:te)),r||!1!==r&&a.smooth?(a.xOffset=E+((Y=ae-u)*P+(K=te-g)*D)-Y,a.yOffset=w+(Y*A+K*B)-K):a.xOffset=a.yOffset=0,a.xOrigin=ae,a.yOrigin=te,a.smooth=!!r,a.origin=e,a.originIsAbsolute=!!i,t.style[hc]="0px 0px",s&&(dc(s,a,"xOrigin",u,ae),dc(s,a,"yOrigin",g,te),dc(s,a,"xOffset",E,a.xOffset),dc(s,a,"yOffset",w,a.yOffset)),t.setAttribute("data-svg-origin",ae+" "+te)},hm=function(t,e){var i=t._gsap||new B4(t);if("x"in i&&!e&&!i.uncache)return i;var u,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe,Ie,ye,Ve,nt,it,Ze,At,$e,De,Ke,ht,wt,We,bt,Dt,Nt,Rt,r=t.style,o=i.scaleX<0,s="px",a="deg",l=fu(t,hc)||"0";return u=g=E=A=D=B=Y=K=re=0,w=P=1,i.svg=!(!t.getCTM||!nG(t)),ne=tP(t,i.svg),i.svg&&(De=(!i.uncache||"0px 0px"===l)&&!e&&t.getAttribute("data-svg-origin"),nP(t,De||l,!!De||i.originIsAbsolute,!1!==i.smooth,ne)),ae=i.xOrigin||0,te=i.yOrigin||0,ne!==cm&&(Ve=ne[0],nt=ne[1],it=ne[2],Ze=ne[3],u=At=ne[4],g=$e=ne[5],6===ne.length?(w=Math.sqrt(Ve*Ve+nt*nt),P=Math.sqrt(Ze*Ze+it*it),A=Ve||nt?Ap(nt,Ve)*qh:0,(Y=it||Ze?Ap(it,Ze)*qh+A:0)&&(P*=Math.abs(Math.cos(Y*Pp))),i.svg&&(u-=ae-(ae*Ve+te*it),g-=te-(ae*nt+te*Ze))):(Dt=ne[7],wt=ne[8],We=ne[9],Nt=ne[11],u=ne[12],g=ne[13],E=ne[14],D=(Oe=Ap(Rt=ne[6],bt=ne[10]))*qh,Oe&&(De=At*(Ie=Math.cos(-Oe))+wt*(ye=Math.sin(-Oe)),Ke=$e*Ie+We*ye,ht=Rt*Ie+bt*ye,wt=At*-ye+wt*Ie,We=$e*-ye+We*Ie,bt=Rt*-ye+bt*Ie,Nt=Dt*-ye+Nt*Ie,At=De,$e=Ke,Rt=ht),B=(Oe=Ap(-it,bt))*qh,Oe&&(Ie=Math.cos(-Oe),Nt=Ze*(ye=Math.sin(-Oe))+Nt*Ie,Ve=De=Ve*Ie-wt*ye,nt=Ke=nt*Ie-We*ye,it=ht=it*Ie-bt*ye),A=(Oe=Ap(nt,Ve))*qh,Oe&&(De=Ve*(Ie=Math.cos(Oe))+nt*(ye=Math.sin(Oe)),Ke=At*Ie+$e*ye,nt=nt*Ie-Ve*ye,$e=$e*Ie-At*ye,Ve=De,At=Ke),D&&Math.abs(D)+Math.abs(A)>359.9&&(D=A=0,B=180-B),w=Nr(Math.sqrt(Ve*Ve+nt*nt+it*it)),P=Nr(Math.sqrt($e*$e+Rt*Rt)),Oe=Ap(At,$e),Y=Math.abs(Oe)>2e-4?Oe*qh:0,re=Nt?1/(Nt<0?-Nt:Nt):0),i.svg&&(De=t.getAttribute("transform"),i.forceCSS=t.setAttribute("transform","")||!sG(fu(t,ho)),De&&t.setAttribute("transform",De))),Math.abs(Y)>90&&Math.abs(Y)<270&&(o?(w*=-1,Y+=A<=0?180:-180,A+=A<=0?180:-180):(P*=-1,Y+=Y<=0?180:-180)),i.x=u-((i.xPercent=u&&(i.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-u)?-50:0)))?t.offsetWidth*i.xPercent/100:0)+s,i.y=g-((i.yPercent=g&&(i.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-g)?-50:0)))?t.offsetHeight*i.yPercent/100:0)+s,i.z=E+s,i.scaleX=Nr(w),i.scaleY=Nr(P),i.rotation=Nr(A)+a,i.rotationX=Nr(D)+a,i.rotationY=Nr(B)+a,i.skewX=Y+a,i.skewY=K+a,i.transformPerspective=re+s,(i.zOrigin=parseFloat(l.split(" ")[2])||0)&&(r[hc]=Ob(l)),i.xOffset=i.yOffset=0,i.force3D=xs.force3D,i.renderTransform=i.svg?Ege:Q4?lG:bge,i.uncache=0,i},Ob=function(t){return(t=t.split(" "))[0]+" "+t[1]},iP=function(t,e,i){var r=os(e);return Nr(parseFloat(e)+parseFloat(fc(t,"x",i+"px",r)))+r},bge=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,lG(t,e)},Qh="0deg",dm="0px",Zh=") ",lG=function(t,e){var i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.z,u=i.rotation,g=i.rotationY,E=i.rotationX,w=i.skewX,P=i.skewY,A=i.scaleX,D=i.scaleY,B=i.transformPerspective,Y=i.force3D,K=i.target,re=i.zOrigin,ae="",te="auto"===Y&&t&&1!==t||!0===Y;if(re&&(E!==Qh||g!==Qh)){var ye,ne=parseFloat(g)*Pp,Oe=Math.sin(ne),Ie=Math.cos(ne);ne=parseFloat(E)*Pp,ye=Math.cos(ne),s=iP(K,s,Oe*ye*-re),a=iP(K,a,-Math.sin(ne)*-re),l=iP(K,l,Ie*ye*-re+re)}B!==dm&&(ae+="perspective("+B+Zh),(r||o)&&(ae+="translate("+r+"%, "+o+"%) "),(te||s!==dm||a!==dm||l!==dm)&&(ae+=l!==dm||te?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+Zh),u!==Qh&&(ae+="rotate("+u+Zh),g!==Qh&&(ae+="rotateY("+g+Zh),E!==Qh&&(ae+="rotateX("+E+Zh),(w!==Qh||P!==Qh)&&(ae+="skew("+w+", "+P+Zh),(1!==A||1!==D)&&(ae+="scale("+A+", "+D+Zh),K.style[ho]=ae||"translate(0, 0)"},Ege=function(t,e){var te,ne,Oe,Ie,ye,i=e||this,r=i.xPercent,o=i.yPercent,s=i.x,a=i.y,l=i.rotation,u=i.skewX,g=i.skewY,E=i.scaleX,w=i.scaleY,P=i.target,A=i.xOrigin,D=i.yOrigin,B=i.xOffset,Y=i.yOffset,K=i.forceCSS,re=parseFloat(s),ae=parseFloat(a);l=parseFloat(l),u=parseFloat(u),(g=parseFloat(g))&&(u+=g=parseFloat(g),l+=g),l||u?(l*=Pp,u*=Pp,te=Math.cos(l)*E,ne=Math.sin(l)*E,Oe=Math.sin(l-u)*-w,Ie=Math.cos(l-u)*w,u&&(g*=Pp,ye=Math.tan(u-g),Oe*=ye=Math.sqrt(1+ye*ye),Ie*=ye,g&&(ye=Math.tan(g),te*=ye=Math.sqrt(1+ye*ye),ne*=ye)),te=Nr(te),ne=Nr(ne),Oe=Nr(Oe),Ie=Nr(Ie)):(te=E,Ie=w,ne=Oe=0),(re&&!~(s+"").indexOf("px")||ae&&!~(a+"").indexOf("px"))&&(re=fc(P,"x",s,"px"),ae=fc(P,"y",a,"px")),(A||D||B||Y)&&(re=Nr(re+A-(A*te+D*Oe)+B),ae=Nr(ae+D-(A*ne+D*Ie)+Y)),(r||o)&&(ye=P.getBBox(),re=Nr(re+r/100*ye.width),ae=Nr(ae+o/100*ye.height)),P.setAttribute("transform",ye="matrix("+te+","+ne+","+Oe+","+Ie+","+re+","+ae+")"),K&&(P.style[ho]=ye)},Sge=function(t,e,i,r,o,s){var w,P,a=360,l=eo(o),u=parseFloat(o)*(l&&~o.indexOf("rad")?qh:1),g=s?u*s:u-r,E=r+g+"deg";return l&&("short"===(w=o.split("_")[1])&&(g%=a)!=g%180&&(g+=g<0?a:-a),"cw"===w&&g<0?g=(g+a*$4)%a-~~(g/a)*a:"ccw"===w&&g>0&&(g=(g-a*$4)%a-~~(g/a)*a)),t._pt=P=new as(t._pt,e,i,r,g,lge),P.e=E,P.u="deg",t._props.push(i),P},uG=function(t,e){for(var i in e)t[i]=e[i];return t},Tge=function(t,e,i){var a,l,u,g,E,w,A,r=uG({},i._gsap),s=i.style;for(l in r.svg?(u=i.getAttribute("transform"),i.setAttribute("transform",""),s[ho]=e,a=hm(i,1),um(i,ho),i.setAttribute("transform",u)):(u=getComputedStyle(i)[ho],s[ho]=e,a=hm(i,1),s[ho]=u),uc)(u=r[l])!==(g=a[l])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(l)<0&&(E=os(u)!==(A=os(g))?fc(i,l,u,A):parseFloat(u),w=parseFloat(g),t._pt=new as(t._pt,a,l,E,w-E,K4),t._pt.u=A||0,t._props.push(l));uG(a,r)};rs("padding,margin,Width,Radius",function(n,t){var e="Top",i="Right",r="Bottom",o="Left",s=(t<3?[e,i,r,o]:[e+o,e+i,r+i,r+o]).map(function(a){return t<2?n+a:"border"+a+n});Cb[t>1?"border"+n:n]=function(a,l,u,g,E){var w,P;if(arguments.length<4)return w=s.map(function(A){return Jh(a,A,u)}),5===(P=w.join(" ")).split(w[0]).length?w[0]:P;w=(g+"").split(" "),P={},s.forEach(function(A,D){return P[A]=w[D]=w[D]||w[(D-1)/2|0]}),a.init(l,P,E)}});var cG={name:"css",register:Zw,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,i,r,o){var u,g,E,w,P,A,D,B,Y,K,re,ae,te,ne,Oe,s=this._props,a=t.style,l=i.vars.startAt;for(D in Jw||Zw(),e)if("autoRound"!==D&&(g=e[D],!Ds[D]||!L4(D,e,i,r,t,o)))if(A=Cb[D],"function"==(P=typeof g)&&(P=typeof(g=g.call(i,r,t,o))),"string"===P&&~g.indexOf("random(")&&(g=rm(g)),A)A(this,t,D,g,i)&&(Oe=1);else if("--"===D.substr(0,2))u=(getComputedStyle(t).getPropertyValue(D)+"").trim(),g+="",sc.lastIndex=0,sc.test(u)||(B=os(u),Y=os(g)),Y?B!==Y&&(u=fc(t,D,u,Y)+Y):B&&(g+=B),this.add(a,"setProperty",u,g,r,o,0,0,D),s.push(D);else if("undefined"!==P){if(l&&D in l?(u="function"==typeof l[D]?l[D].call(i,r,t,o):l[D],eo(u)&&~u.indexOf("random(")&&(u=rm(u)),os(u+"")||(u+=xs.units[D]||os(Jh(t,D))||""),"="===(u+"").charAt(1)&&(u=Jh(t,D))):u=Jh(t,D),w=parseFloat(u),(K="string"===P&&"="===g.charAt(1)?+(g.charAt(0)+"1"):0)&&(g=g.substr(2)),E=parseFloat(g),D in cc&&("autoAlpha"===D&&(1===w&&"hidden"===Jh(t,"visibility")&&E&&(w=0),dc(this,a,"visibility",w?"inherit":"hidden",E?"inherit":"hidden",!E)),"scale"!==D&&"transform"!==D&&~(D=cc[D]).indexOf(",")&&(D=D.split(",")[0])),re=D in uc)if(ae||((te=t._gsap).renderTransform&&!e.parseTransform||hm(t,e.parseTransform),ne=!1!==e.smoothOrigin&&te.smooth,(ae=this._pt=new as(this._pt,a,ho,0,1,te.renderTransform,te,0,-1)).dep=1),"scale"===D)this._pt=new as(this._pt,te,"scaleY",te.scaleY,(K?K*E:E-te.scaleY)||0),s.push("scaleY",D),D+="X";else{if("transformOrigin"===D){g=vge(g),te.svg?nP(t,g,0,ne,0,this):((Y=parseFloat(g.split(" ")[2])||0)!==te.zOrigin&&dc(this,te,"zOrigin",te.zOrigin,Y),dc(this,a,D,Ob(u),Ob(g)));continue}if("svgOrigin"===D){nP(t,g,1,ne,0,this);continue}if(D in oG){Sge(this,te,D,w,g,K);continue}if("smoothOrigin"===D){dc(this,te,"smooth",te.smooth,g);continue}if("force3D"===D){te[D]=g;continue}if("transform"===D){Tge(this,g,t);continue}}else D in a||(D=xp(D)||D);if(re||(E||0===E)&&(w||0===w)&&!age.test(g)&&D in a)E||(E=0),(B=(u+"").substr((w+"").length))!==(Y=os(g)||(D in xs.units?xs.units[D]:B))&&(w=fc(t,D,u,Y)),this._pt=new as(this._pt,re?te:a,D,w,K?K*E:E-w,re||"px"!==Y&&"zIndex"!==D||!1===e.autoRound?K4:cge),this._pt.u=Y||0,B!==Y&&"%"!==Y&&(this._pt.b=u,this._pt.r=uge);else if(D in a)mge.call(this,t,D,u,g);else{if(!(D in t)){Nw(D,g);continue}this.add(t,D,u||t[D],g,r,o)}s.push(D)}Oe&&Y4(this)},get:Jh,aliases:cc,getSetter:function(t,e,i){var r=cc[e];return r&&r.indexOf(",")<0&&(e=r),e in uc&&e!==hc&&(t._gsap.x||Jh(t,"x"))?i&&z4===i?"scale"===e?pge:fge:(z4=i||{})&&("scale"===e?gge:_ge):t.style&&!Aw(t.style[e])?hge:~e.indexOf("-")?dge:Xw(t,e)},core:{_removeProperty:um,_getMatrix:tP}};Ol.utils.checkPrefix=xp,function(n,t,e,i){var r=rs(n+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(o){uc[o]=1});rs(t,function(o){xs.units[o]="deg",oG[o]=1}),cc[r[13]]=n+","+t,rs("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(o){var s=o.split(":");cc[s[1]]=r[s[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),rs("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){xs.units[n]="px"}),Ol.registerPlugin(cG);var pc,hG,Mb,ca,fm,dG,rP,Ab,pm,pu=Ol.registerPlugin(cG)||Ol,fG=function(){return"undefined"!=typeof window},pG=function(){return pc||fG()&&(pc=window.gsap)&&pc.registerPlugin&&pc},gG=function(t){return"function"==typeof t},Mge=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],ha=.212671,da=.71516,fa=.072169,wb=function(t,e){var s,a,i=[],r=0;for(s=0;s<4;s++){for(a=0;a<5;a++)i[r+a]=t[r]*e[a]+t[r+1]*e[a+5]+t[r+2]*e[a+10]+t[r+3]*e[a+15]+(4===a?t[r+4]:0);r+=5}return i},_G=function(t,e){var i=1-e,r=i*ha,o=i*da,s=i*fa;return wb([r+e,o,s,0,0,r,o+e,s,0,0,r,o,s+e,0,0,0,0,0,1,0],t)},mG=function(t,e,i){var r=Mb(e),o=r[0]/255,s=r[1]/255,a=r[2]/255,l=1-i;return wb([l+i*o*ha,i*o*da,i*o*fa,0,0,i*s*ha,l+i*s*da,i*s*fa,0,0,i*a*ha,i*a*da,l+i*a*fa,0,0,0,0,0,1,0],t)},vG=function(t,e){e*=Math.PI/180;var i=Math.cos(e),r=Math.sin(e);return wb([ha+i*(1-ha)+r*-ha,da+i*-da+r*-da,fa+i*-fa+r*(1-fa),0,0,ha+i*-ha+.143*r,da+i*(1-da)+.14*r,fa+i*-fa+-.283*r,0,0,ha+i*-ha+r*-(1-ha),da+i*-da+r*da,fa+i*(1-fa)+r*fa,0,0,0,0,0,1,0,0,0,0,0,1],t)},yG=function(t,e){return wb([e,0,0,0,.5*(1-e),0,e,0,0,.5*(1-e),0,0,e,0,.5*(1-e),0,0,0,1,0],t)},bG=function(t,e){var s,i=ca.filters[e],r=t.filters||[],o=r.length;for(i||function(t){console.warn(t)}(e+" not found. PixiPlugin.registerPIXI(PIXI)");--o>-1;)if(r[o]instanceof i)return r[o];return s=new i,"BlurFilter"===e&&(s.blur=0),r.push(s),t.filters=r,s},io=function(t,e,i,r){e.add(i,t,i[t],r[t]),e._props.push(t)},EG=function(t,e){var i=new ca.filters.ColorMatrixFilter;return i.matrix=e,i.brightness(t,!0),i.matrix},Is={contrast:1,saturation:1,colorizeAmount:0,colorize:"rgb(255,255,255)",hue:0,brightness:1},Pge=function(t,e,i){var a,l,u,r=bG(t,"ColorMatrixFilter"),o=t._gsColorMatrixFilter=t._gsColorMatrixFilter||function(t){var i,e={};for(i in t)e[i]=t[i];return e}(Is),s=e.combineCMF&&!("colorMatrixFilter"in e&&!e.colorMatrixFilter);for((u=r.matrix,e.resolution&&(r.resolution=e.resolution),e.matrix&&e.matrix.length===u.length?(l=e.matrix,1!==o.contrast&&io("contrast",i,o,Is),o.hue&&io("hue",i,o,Is),1!==o.brightness&&io("brightness",i,o,Is),o.colorizeAmount&&(io("colorize",i,o,Is),io("colorizeAmount",i,o,Is)),1!==o.saturation&&io("saturation",i,o,Is)):(l=Mge.slice(),null!=e.contrast?(l=yG(l,+e.contrast),io("contrast",i,o,e)):1!==o.contrast&&(s?l=yG(l,o.contrast):io("contrast",i,o,Is)),null!=e.hue?(l=vG(l,+e.hue),io("hue",i,o,e)):o.hue&&(s?l=vG(l,o.hue):io("hue",i,o,Is)),null!=e.brightness?(l=EG(+e.brightness,l),io("brightness",i,o,e)):1!==o.brightness&&(s?l=EG(o.brightness,l):io("brightness",i,o,Is)),null!=e.colorize?(e.colorizeAmount="colorizeAmount"in e?+e.colorizeAmount:1,l=mG(l,e.colorize,e.colorizeAmount),io("colorize",i,o,e),io("colorizeAmount",i,o,e)):o.colorizeAmount&&(s?l=mG(l,o.colorize,o.colorizeAmount):(io("colorize",i,o,Is),io("colorizeAmount",i,o,Is))),null!=e.saturation?(l=_G(l,+e.saturation),io("saturation",i,o,e)):1!==o.saturation&&(s?l=_G(l,o.saturation):io("saturation",i,o,Is))),a=l.length);--a>-1;)l[a]!==u[a]&&i.add(u,a,u[a],l[a],"colorMatrixFilter");i._props.push("colorMatrixFilter")},Age=function(t,e){var o=e.color;(0,e.set)(e.t,e.p,o[0]<<16|o[1]<<8|o[2])},xge=function(t,e){var i=e.g;i&&(i.dirty++,i.clearDirty++)},Rge=function(t,e){e.t.visible=!!e.t.alpha},SG=function(t,e,i,r){var o=t[e],s=Mb(gG(o)?t[e.indexOf("set")||!gG(t["get"+e.substr(3)])?e:"get"+e.substr(3)]():o),a=Mb(i);r._pt=new fm(r._pt,t,e,0,0,Age,{t,p:e,color:s,set:dG(t,e)}),r.add(s,0,s[0],a[0]),r.add(s,1,s[1],a[1]),r.add(s,2,s[2],a[2])},Dge={tint:1,lineColor:1,fillColor:1},TG="position,scale,skew,pivot,anchor,tilePosition,tileScale".split(","),oP={x:"position",y:"position",tileX:"tilePosition",tileY:"tilePosition"},Ige={colorMatrixFilter:1,saturation:1,contrast:1,hue:1,colorize:1,colorizeAmount:1,brightness:1,combineCMF:1},Pb=Math.PI/180,CG=function(t){return"string"==typeof t},Nge=function(t){return CG(t)&&"="===t.charAt(1)?t.substr(0,2)+parseFloat(t.substr(2))*Pb:t*Pb},kge=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e5*(e.s+e.c*t))/1e5,e)},Fge=function(t,e,i,r,o,s){var P,A,a=360*(s?Pb:1),l=CG(o),u=l&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0,g=parseFloat(u?o.substr(2):o)*(s?Pb:1),E=u?g*u:g-r,w=r+E;return l&&("short"===(P=o.split("_")[1])&&(E%=a)!=E%(a/2)&&(E+=E<0?a:-a),"cw"===P&&E<0?E=(E+1e10*a)%a-~~(E/a)*a:"ccw"===P&&E>0&&(E=(E-1e10*a)%a-~~(E/a)*a)),t._pt=A=new fm(t._pt,e,i,r,E,kge),A.e=w,A},OG=function(){fG()&&(hG=window,pc=pG(),rP=(ca=ca||hG.PIXI)&&ca.VERSION&&"4"===ca.VERSION.charAt(0),Mb=function(e){return pc.utils.splitColor("0x"===(e+"").substr(0,2)?"#"+e.substr(2):e)})};for(Ab=0;Ab<TG.length;Ab++)oP[(pm=TG[Ab])+"X"]=pm,oP[pm+"Y"]=pm;var sP={version:"3.9.1",name:"pixi",register:function(t,e,i){pc=t,fm=i,dG=e.getSetter,OG()},registerPIXI:function(t){ca=t},init:function(t,e,i,r,o){if(ca||OG(),!(ca&&t instanceof ca.DisplayObject))return console.warn(t,"is not a DisplayObject or PIXI was not found. PixiPlugin.registerPIXI(PIXI);"),!1;var s,a,l,u,g,E,w,P,A;for(E in e){if(l=e[E],s=oP[E])a=~E.charAt(E.length-1).toLowerCase().indexOf("x")?"x":"y",this.add(t[s],a,t[s][a],"skew"===s?Nge(l):l);else if("scale"===E||"anchor"===E||"pivot"===E||"tileScale"===E)this.add(t[E],"x",t[E].x,l),this.add(t[E],"y",t[E].y,l);else if("rotation"===E||"angle"===E)Fge(this,t,E,t[E],l,"rotation"===E);else if(Ige[E])u||(Pge(t,e.colorMatrixFilter||e,this),u=!0);else if("blur"===E||"blurX"===E||"blurY"===E||"blurPadding"===E){if(g=bG(t,"BlurFilter"),this.add(g,E,g[E],l),0!==e.blurPadding)for(w=e.blurPadding||2*Math.max(g[E],l),P=t.filters.length;--P>-1;)t.filters[P].padding=Math.max(t.filters[P].padding,w)}else if(Dge[E])if(("lineColor"===E||"fillColor"===E)&&t instanceof ca.Graphics)for(A=(t.geometry||t).graphicsData,this._pt=new fm(this._pt,t,E,0,0,xge,{g:t.geometry||t}),P=A.length;--P>-1;)SG(rP?A[P]:A[P][E.substr(0,4)+"Style"],rP?E:"color",l,this);else SG(t,E,l,this);else"autoAlpha"===E?(this._pt=new fm(this._pt,t,"visible",0,0,Rge),this.add(t,"alpha",t.alpha,l),this._props.push("alpha","visible")):"resolution"!==E&&this.add(t,E,"get",l);this._props.push(E)}}};pG()&&pc.registerPlugin(sP);var Ml=(()=>(function(n){n.None="none",n.Power1_easeOut="Power1.easeOut",n.Power1_easeInOut="Power1.easeInOut"}(Ml||(Ml={})),Ml))();let rr=(()=>{class n{static init(){pu.registerPlugin(sP),sP.registerPIXI(T)}static isTweening(e){return pu.isTweening(e)}static killTweensOf(e){pu.killTweensOf(e)}}return n.gsap=pu,n})();class xb{constructor(t,e,i=60){this.zone=t,this.resolution=devicePixelRatio||1,this.__render=()=>{this.app.ticker.update()},this.app?this.restoreApp(e,i):this.createApp(e,i)}restoreApp(t,e){this.app.resizeTo=t,this.app.renderer.resolution=this.resolution,this.app.stage=new zi,this.zone.runOutsideAngular(()=>{rr.gsap.ticker.fps(e),rr.gsap.ticker.add(this.__render)})}createApp(t,e){rr.init(),Vk();const i={antialias:!0,autoDensity:!0,resolution:this.resolution},r=Gt.WHITE.baseTexture.resource.source.getContext("2d");null==r||r.fillRect(0,0,1,1),this.zone.runOutsideAngular(()=>{xb._app=new u_(Object.assign(Object.assign({},i),{resizeTo:t})),this.app.ticker.stop(),rr.gsap.ticker.fps(e),rr.gsap.ticker.add(this.__render)})}get app(){return xb._app}get stage(){return this.app.stage}get view(){return this.app.view}get appWidth(){return this.app.view.width/this.resolution}get appHeight(){return this.app.view.height/this.resolution}destroy(){rr.gsap.ticker.remove(this.__render),this.app.resizeTo=null,this.stage.destroy({children:!0})}}class Bge extends zi{constructor(){super(),this.isAnimation=!0,this.circle=new Ho(Gt.from("bg")),this.circle.anchor.set(.5),this.addChild(this.circle),this.tween=pu.to(this.circle,{duration:36,angle:360,repeat:-1,ease:Ml.None}),this.tween.pause()}resize(){this.y=xn.appHeight,this.x=0,this.circle.width=this.circle.height=this.getSizeOfOriginCenteredCircle()}getSizeOfOriginCenteredCircle(){return 2*this.getDiameterOfCircumcircleOfRectangle(xn.appWidth,xn.appHeight)}getDiameterOfCircumcircleOfRectangle(t,e){return Math.sqrt(Math.pow(t,2)+Math.pow(e,2))}onRunningState(t=!0){if(t){if(!this.isAnimation)return;this.tween.resume()}else this.tween.pause()}onEndingState(){this.onRunningState(!1)}setAnimation(t,e){this.isAnimation=t,this.onRunningState(t&&e)}destroy(){rr.killTweensOf(this.circle),super.destroy()}}class Lge extends zi{constructor(t){super(),this.axes=t,this.curve=new Ts,this.gradient=new Ts,this.CURVE_WIDTH=4,this.CURVE_COLOR=Vo("#f00b3e"),this.GRADIENT_COLOR=Vo("#d0021b"),this.MOUNT_TIME=8,this.GLIDE_TIME=4,this.CONTROL_POINT_X_PERCENT=.5,this.MOUNT_POINT_OFFSET_PLANE_SCALE={x:1.5,y:1},this.GLIDE_POINT_OFFSET_PLANE_SCALE={x:1,y:3},this.startPoint={x:0,y:0},this.controlPoint={x:0,y:0},this.endPoint={x:0,y:0},this.mountPoint={x:0,y:0},this.glidePoint={x:0,y:0},this.draw=()=>{this.plane.x=this.endPoint.x,this.plane.y=this.endPoint.y,this.controlPoint.x=this.CONTROL_POINT_X_PERCENT*this.endPoint.x,this.curve.clear().lineStyle(this.CURVE_WIDTH,this.CURVE_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y),this.gradient.clear().beginFill(this.GRADIENT_COLOR).moveTo(this.startPoint.x,this.startPoint.y).quadraticCurveTo(this.controlPoint.x,this.controlPoint.y,this.endPoint.x,this.endPoint.y).lineTo(this.endPoint.x,this.startPoint.y).lineTo(this.startPoint.x,this.startPoint.y)},this.timeLineMount=rr.gsap.timeline({onUpdate:this.draw}),this.timeLineMain=rr.gsap.timeline();const e=[];for(let i=0;i<4;i++)e.push(Gt.from(`plane-${i}`));this.plane=new qB(e),this.plane.animationSpeed=.125,this.plane.play(),this.plane.anchor.x=.14,this.plane.anchor.y=.9,this.plane.visible=!1,this.calculatePlaneScale(),this.resize(),this.gradient.alpha=.5,this.addChild(this.gradient,this.curve,this.plane)}onRunningState(t){this.playTimeLine(t)}onBettingState(){this.reset(),this.calculatePlaneScale(),this.plane.visible=!0}onEndingState(){rr.killTweensOf(this.plane),this.clearShape();const t={duration:.5,x:xn.appWidth+this.plane.getLocalBounds().width,y:this.plane.y-200,ease:Ml.None};pu.to(this.plane,t).then(()=>{this.plane.visible=!1})}calculatePlaneScale(){let t=xn.appWidth/900;t<1?t=Math.max(.65,t):t>1&&(t=Math.min(1,t)),this.plane.width=this.plane.getLocalBounds().width*t,this.plane.height=this.plane.getLocalBounds().height*t}playTimeLine(t){const e=t?t/1e3:this.timeLineMain.time();this.reset(),this.plane.visible=!0,this.timeLineMount.clear().to(this.endPoint,{x:this.mountPoint.x,ease:Ml.Power1_easeOut,duration:this.MOUNT_TIME},0).to(this.endPoint,{y:this.mountPoint.y,ease:Ml.Power1_easeInOut,duration:this.MOUNT_TIME},0).eventCallback("onComplete",()=>this.axes.play()),this.timeLineMain.clear().add(this.timeLineMount).to(this.endPoint,{x:this.glidePoint.x,y:this.glidePoint.y,ease:Ml.Power1_easeInOut,repeat:-1,yoyo:!0,duration:this.GLIDE_TIME,onUpdate:this.draw}).time(e)}resize(){this.calculatePlaneScale(),this.startPoint.x=this.axes.AXIS_OFFSET,this.startPoint.y=xn.appHeight-this.axes.AXIS_OFFSET,this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y,this.controlPoint.y=this.startPoint.y,this.mountPoint.x=Math.max(xn.appWidth-this.MOUNT_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.mountPoint.y=Math.min(this.MOUNT_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.glidePoint.x=Math.max(xn.appWidth-this.GLIDE_POINT_OFFSET_PLANE_SCALE.x*this.plane.width,this.startPoint.x),this.glidePoint.y=Math.min(this.GLIDE_POINT_OFFSET_PLANE_SCALE.y*this.plane.height,this.startPoint.y),this.timeLineMain.isActive()?this.playTimeLine():this.clearShape()}clearShape(){this.curve.clear(),this.gradient.clear(),this.timeLineMain.clear(),this.endPoint.x=this.startPoint.x,this.endPoint.y=this.startPoint.y}reset(){this.plane.x=this.startPoint.x,this.plane.y=this.startPoint.y,this.plane.visible=!1,rr.killTweensOf(this.plane),this.clearShape()}destroy(){this.reset(),super.destroy()}}const MG=(n="#FF0000",t=3,e=1)=>{const i=new Ts;return i.beginFill(Vo(n),e),i.drawCircle(0,0,t),i.endFill(),i};function wG(n,t){const i=Object.assign(Object.assign({},{fontFamily:"Roboto",fontSize:12,fill:16777215,align:"center"}),t);return new g_(n,i)}class Uge extends zi{constructor(){super(),this.AXIS_OFFSET=30,this.AXIS_WIDTH=1,this.AXIS_COLOR=Vo("#423033"),this.xAxis=new Ts,this.yAxis=new Ts,this.pointsX=[],this.pointsY=[],this.onTick=()=>{this.animatedPoints()},this.addChild(this.xAxis,this.yAxis),this.createPoints(),this.resize(),this.hide()}createPoints(){for(let t=0;t<10;t++){const e=MG("#ffffff",2);this.addChild(e),this.pointsX.push(e);const i=MG("#1197d6",2);this.addChild(i),this.pointsY.push(i)}}resize(){this.drawAxises(),this.xAxis.x=this.AXIS_OFFSET,this.xAxis.y=xn.appHeight-this.AXIS_OFFSET,this.yAxis.x=this.AXIS_OFFSET,this.resizePoints()}drawAxises(){this.xAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(xn.appWidth-this.AXIS_OFFSET,0).lineTo(0,0),this.yAxis.clear().lineStyle(this.AXIS_WIDTH,this.AXIS_COLOR).moveTo(0,xn.appHeight-this.AXIS_OFFSET).lineTo(0,0)}resizePoints(){this.pointsX.forEach((t,e)=>{t.x=(xn.appWidth-this.AXIS_OFFSET)/9*e+this.AXIS_OFFSET,t.y=xn.appHeight-this.AXIS_OFFSET/2}),this.pointsY.forEach((t,e)=>{t.x=this.AXIS_OFFSET/2,t.y=(xn.appHeight-this.AXIS_OFFSET)/10*e})}play(){this.onRunningState(),rr.gsap.ticker.add(this.onTick)}onRunningState(){this.visible=!0}onEndingState(){this.hide(),rr.gsap.ticker.remove(this.onTick)}hide(){this.visible=!1}animatedPoints(){this.pointsX.forEach(e=>{e.x-=.3*rr.gsap.ticker.deltaRatio(),e.x<this.AXIS_OFFSET&&(e.x=(xn.appWidth-this.AXIS_OFFSET)/9*(this.pointsX.length-1)+this.AXIS_OFFSET)}),this.pointsY.forEach(e=>{e.y+=.3*rr.gsap.ticker.deltaRatio(),e.y>xn.appHeight-this.AXIS_OFFSET&&(e.y=0)})}destroy(){rr.gsap.ticker.remove(this.onTick),super.destroy()}}class Gge extends zi{constructor(t){super(),this.translate=t,this.PROP_SIZE={[qr.sm]:50,[qr.md]:90,[qr.lg]:120},this.TEXT_WAITING_MARGIN_TOP=10,this.TEXT_WAITING_SIZE={[qr.sm]:20,[qr.md]:26,[qr.lg]:36},this.timeoutRef=0,this.TIMER_MARGIN_TOP=16,this.TIMER_HEIGHT=6,this.TIMER_WIDTH=200,this.TIMER_RADIUS=4,this.TIMER_COLOR=Vo("#262830"),this.TIMER_BAR_COLOR=Vo("#e50539"),this.visible=!1,this.prop=new Ho(Gt.from("prop")),this.prop.anchor.set(.5),this.addChild(this.prop),this.propTween=pu.to(this.prop,{duration:1.4,angle:360,repeat:-1,ease:Ml.None}),this.propTween.pause(),this.textWaiting=wG(this.translate.instant("shared.WAITING_FOR_NEXT_ROUND"),{fontSize:this.TEXT_WAITING_SIZE[xn.breakpoint],fontFamily:Vu.Base,padding:2}),this.textWaiting.roundPixels=!0,this.addChild(this.textWaiting),this.timer=new Ts,this.timer.beginFill(this.TIMER_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.addChild(this.timer),this.timerBar=new Ts,this.timerBar.beginFill(this.TIMER_BAR_COLOR).drawRoundedRect(0,0,this.TIMER_WIDTH,this.TIMER_HEIGHT,this.TIMER_RADIUS).endFill(),this.addChild(this.timerBar),this.timerBarTween=pu.to(this.timerBar,{duration:0,width:0,ease:Ml.None}),this.timerBarTween.pause(),this.resize()}onBettingState(t,e){return clearTimeout(this.timeoutRef),this.visible=!0,this.propTween.resume(),this.timerBarTween.pause((e-t)/1e3).duration(t/1e3).play(),new Promise(i=>{this.timeoutRef=window.setTimeout(()=>{this.onRunningState(),i()},t)})}onRunningState(){clearTimeout(this.timeoutRef),this.visible=!1,this.propTween.pause(),this.timerBarTween.pause(0)}resize(){this.prop.width=this.prop.height=this.PROP_SIZE[xn.breakpoint],this.textWaiting.style.fontSize=this.TEXT_WAITING_SIZE[xn.breakpoint],this.prop.x=xn.appWidth/2,this.prop.y=xn.appHeight/2-(this.TEXT_WAITING_MARGIN_TOP+this.textWaiting.height+this.TIMER_MARGIN_TOP+this.timer.height)/2,this.textWaiting.x=xn.appWidth/2-this.textWaiting.width/2,this.textWaiting.y=this.prop.y+this.prop.height/2+this.TEXT_WAITING_MARGIN_TOP,this.timer.x=xn.appWidth/2-this.timer.width/2,this.timer.y=this.textWaiting.y+this.textWaiting.height+this.TIMER_MARGIN_TOP,this.timerBar.x=this.timer.x,this.timerBar.y=this.timer.y}destroy(){clearTimeout(this.timeoutRef),this.propTween.kill(),this.timerBarTween.kill(),super.destroy()}}var gu=(()=>(function(n){n.General="general",n.Multiplier="multiplier"}(gu||(gu={})),gu))();class jge extends zi{constructor(t){super(),this.translate=t,this.COEFFICIENT_DEFAULT_COLOR=Vo("#ffffff"),this.COEFFICIENT_END_COLOR=Vo("#d0021b"),this.COEFFICIENT_SIZE={[qr.sm]:68,[qr.md]:78,[qr.lg]:100},this.FLEW_AWAY_SIZE={[qr.sm]:20,[qr.md]:26,[qr.lg]:36},this.coefficient=new y_("1.00x",{fontName:gu.Multiplier,fontSize:this.COEFFICIENT_SIZE[xn.breakpoint]}),this.coefficient.roundPixels=!0,this.addChild(this.coefficient),this.flewAway=wG(this.translate.instant("canvas.flew_away"),{fontSize:this.FLEW_AWAY_SIZE[xn.breakpoint],fontFamily:Vu.Base,padding:2}),this.flewAway.visible=!1,this.flewAway.roundPixels=!0,this.addChild(this.flewAway),this.visible=!1,this.resize()}onRunningState(t){this.coefficient.tint=this.COEFFICIENT_DEFAULT_COLOR,this.flewAway.visible=!1,this.visible=!0,this.updateMultiplier(t)}onBettingState(){this.flewAway.visible=!1,this.visible=!1}onEndingState(){this.flewAway.visible=!0,this.coefficient.tint=this.COEFFICIENT_END_COLOR}updateMultiplier(t){const e=X2(t,"en_US","1.2-2");this.coefficient.text=e+"x",this.coefficient.x=xn.appWidth/2-this.coefficient.width/2}resize(){this.coefficient.fontSize=this.COEFFICIENT_SIZE[xn.breakpoint],this.coefficient.x=xn.appWidth/2-this.coefficient.width/2,this.coefficient.y=xn.appHeight/2-this.coefficient.height/2,this.flewAway.style.fontSize=this.FLEW_AWAY_SIZE[xn.breakpoint],this.flewAway.x=xn.appWidth/2-this.flewAway.width/2,this.flewAway.y=this.coefficient.y-this.flewAway.height}destroy(t){super.destroy(t)}}class gc extends zi{constructor(){super(),this.interval=100,this.icon=new Ho(Gt.from("icon-login-timer")),this.icon.width=12,this.icon.height=14,this.addChild(this.icon),this.time=new y_("00:00:00",{fontName:gu.General,tint:Vo("#929294")}),this.time.x=15,this.time.y=-1,this.addChild(this.time),this.timerRunner(),this.intervalRef=window.setInterval(()=>this.timerRunner(),this.interval)}timerRunner(){const t=Math.floor(Date.now());gc.startTime||(gc.startTime=t,gc.previousTimeStamp=t,this.time.text=this.msToTime(0)),t-gc.previousTimeStamp>=1e3&&(this.time.text=this.msToTime(t-gc.startTime),gc.previousTimeStamp=t)}msToTime(t){const e=Math.floor(t/1e3%60),i=Math.floor(t/6e4%60),r=Math.floor(t/36e5);return(r<10?`0${r}:`:`${r}:`)+(i<10?`0${i}:`:`${i}:`)+(e<10?`0${e}`:`${e}`)}destroy(){super.destroy(),clearInterval(this.intervalRef)}}class Hge extends zi{constructor(){super(),this.interval=1e3,this.icon=new Ho(Gt.from("icon-clock")),this.icon.width=this.icon.height=14,this.addChild(this.icon),this.time=new y_(this.getTime(new Date),{fontName:gu.General,tint:Vo("#929294")}),this.time.x=17,this.time.y=-1,this.addChild(this.time),function Vge(n=0,t=$g){return n<0&&(n=0),Uu(n,n,t)}(this.interval).pipe(Tt(this,"destroy")).subscribe(()=>this.time.text=this.getTime(new Date))}getTime(t){const e=t.getHours(),i=t.getMinutes();return`${e<10?`0${e}`:`${e}`}:${i<10?`0${i}`:`${i}`}`}destroy(){super.destroy()}}class Yge extends zi{constructor(t){super(),this.multiplier=t,this.blur=new Ho(Gt.from("multiplier-bg-blur")),this.blur.tint=this.multiplier.levelColor.getHex(ph.Low),rr.gsap.to(this.blur,{alpha:0}),this.addChild(this.blur)}onBettingState(){rr.gsap.to(this.blur,{alpha:0})}onRunningState(t){this.blur.tint=this.multiplier.levelColor.getHex(t),rr.gsap.to(this.blur,{alpha:1,duration:1})}onMultiplierChange(t){this.isTweenNeeded(t)&&rr.gsap.to(this.blur,.5,{pixi:{tint:this.multiplier.levelColor.getHex(t)}})}isTweenNeeded(t){return!rr.isTweening(this.blur)&&this.isColorChangeNeeded(t)}isColorChangeNeeded(t){return this.blur.tint!==this.multiplier.levelColor.getHex(t)}onEndingState(){rr.gsap.to(this.blur,{alpha:0,duration:1})}resize(){this.scale.x=xn.appWidth/this.blur.getLocalBounds().width,this.scale.y=xn.appHeight/this.blur.getLocalBounds().height}destroy(t){super.destroy(t),rr.killTweensOf(this.blur)}}class Wge extends zi{constructor(t,e){super(),this.netSessionService=t,this.app=e,this.icon=new Ho(Gt.from("icon-up-down")),this.icon.width=13,this.icon.height=14,this.addChild(this.icon),this.amount=new y_("",{fontName:gu.General,tint:Vo("#929294")}),this.amount.x=this.icon.width+3,this.amount.y=-1,this.addChild(this.amount),this.netSessionService.changed.pipe(Tt(this,"destroy")).subscribe(i=>this.onChangeNet(i))}onChangeNet(t){this.amount.text=`${this.getSign(t)}${t.toFixed(this.app.config.betPrecision)} ${this.app.config.currency}`}getSign(t){return t>0?"+":""}destroy(){super.destroy()}}class zge extends xb{constructor(t,e,i,r,o,s){super(e,t),this.el=t,this.zone=e,this.appService=i,this.multiplierService=r,this.translateService=o,this.netSessionService=s,xn.updateSize(this.appWidth,this.appHeight),this.setupBitmapFonts(),this.background=new Bge,this.background.y=xn.appHeight,this.background.x=0,this.background.resize(),this.stage.addChild(this.background),this.multiplierBackground=new Yge(this.multiplierService),this.stage.addChild(this.multiplierBackground),this.axisesAndGraphLayer=new zi,this.axisesAndGraphLayer.visible=!1,this.stage.addChild(this.axisesAndGraphLayer),this.axes=new Uge,this.axisesAndGraphLayer.addChild(this.axes),this.graph=new Lge(this.axes),this.axisesAndGraphLayer.addChild(this.graph),this.betTimer=new Gge(this.translateService),this.stage.addChild(this.betTimer),this.multiplier=new jge(this.translateService),this.stage.addChild(this.multiplier),this.appService.config.isLoginTimer&&(this.loginTimer=new gc,this.stage.addChild(this.loginTimer)),this.appService.config.isClockVisible&&(this.clock=new Hge,this.stage.addChild(this.clock)),this.appService.config.isNetSessionEnabled&&(this.netSession=new Wge(this.netSessionService,this.appService),this.stage.addChild(this.netSession))}setupBitmapFonts(){Ql.from(gu.General,{fontSize:12,fontWeight:"400",fill:16777215,fontFamily:Vu.Base},{chars:[["0","9"],["A","Z"]," +-.:"],resolution:this.resolution}),Ql.from(gu.Multiplier,{fontSize:100,fontWeight:"700",fill:16777215,fontFamily:Vu.Base},{chars:"0123456789,.x",resolution:this.resolution})}onBettingState(t,e){return this.multiplierBackground.onBettingState(),this.multiplier.onBettingState(),this.graph.onBettingState(),this.betTimer.onBettingState(t,e)}onRunningState(t){this.multiplierBackground.onRunningState(t),this.multiplier.onRunningState(t),this.betTimer.onRunningState(),this.axes.onRunningState(),this.graph.onRunningState(t),this.background.onRunningState()}onEndingState(){this.multiplierBackground.onEndingState(),this.multiplier.onEndingState(),this.graph.onEndingState(),this.axes.onEndingState(),this.background.onEndingState()}updateMultiplier(t){this.multiplierBackground.onMultiplierChange(t),this.multiplier.updateMultiplier(t)}toggleAnimation(t,e){this.axisesAndGraphLayer.visible=t,this.background.setAnimation(t,e)}resize(){this.app.resize(),xn.updateSize(this.appWidth,this.appHeight),this.background.resize(),this.multiplierBackground.resize(),this.multiplier.resize(),this.betTimer.resize(),this.axes.resize(),this.graph.resize(),this.loginTimer&&(this.loginTimer.y=6,this.loginTimer.x=this.axes.AXIS_OFFSET+5),this.netSession&&(this.netSession.x=(xn.appWidth+this.axes.AXIS_OFFSET)/2-this.netSession.width/2,this.netSession.y=6),this.clock&&(this.clock.y=6,this.clock.x=xn.appWidth-this.clock.width-10)}destroy(){super.destroy()}}var gm=(()=>(function(n){n.onLockBets="onLockBets",n.onAddChatMsg="onAddChatMsg"}(gm||(gm={})),gm))();let PG=(()=>{class n{constructor(e){this.app=e,this.amount=0,this.changedSubject=new li(this.amount),this.changed=this.changedSubject.asObservable()}plus(e){this.amount=Number((this.amount+e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}minus(e){this.amount=Number((this.amount-e).toFixed(this.app.config.betPrecision)),this.changedSubject.next(this.amount)}}return n.\u0275fac=function(e){return new(e||n)(ke(ln))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $ge=["stageCanvas"];function Xge(n,t){1&n&&(R(0,"div",5),z(1,"FUN MODE"),I())}let ed=class{constructor(t,e,i,r,o,s,a,l,u){this.zone=t,this.app=e,this.user=i,this.mainService=r,this.multiplier=o,this.translate=s,this.netSessionService=a,this.renderer=l,this.window=u}ngOnInit(){this.canvas=new zge(this.stageCanvasRef.nativeElement,this.zone,this.app,this.multiplier,this.translate,this.netSessionService),this.renderer.appendChild(this.stageCanvasRef.nativeElement,this.canvas.view),this.window.onResize$.pipe(Tt(this),Ya(50)).subscribe(()=>this.canvas.resize()),this.canvas.resize(),this.mainService.getState().pipe(Tt(this)).subscribe(()=>this.onChangeState()),this.user.settings.animation$.pipe(Tt(this)).subscribe(t=>this.canvas.toggleAnimation(t,this.mainService.isRunningState)),this.multiplier.data$.pipe(Tt(this)).subscribe(t=>{this.canvas.updateMultiplier(t.currentMultiplier)})}onChangeState(){this.zone.runOutsideAngular(()=>{this.mainService.isBettingState?this.canvas.onBettingState(this.mainService.timeLeft,this.app.config.fullBetTime).then(()=>{this.mainService.emitEvent(gm.onLockBets,!0)}):this.mainService.isRunningState?this.canvas.onRunningState(this.multiplier.startingValue):this.mainService.isEndingState&&this.canvas.onEndingState()})}ngOnDestroy(){this.canvas.destroy()}};ed.\u0275fac=function(t){return new(t||ed)(X(On),X(ln),X(Ha),X(Vi),X(w0),X(Ku),X(PG),X(Eo),X(I_))},ed.\u0275cmp=gt({type:ed,selectors:[["app-play-board"]],viewQuery:function(t,e){if(1&t&&Jo($ge,7),2&t){let i;Kn(i=qn())&&(e.stageCanvasRef=i.first)}},decls:5,vars:1,consts:[[1,"play-board-wrapper"],[1,"stage-canvas"],["stageCanvas",""],[1,"dom-container"],["class","fun-mode",4,"ngIf"],[1,"fun-mode"]],template:function(t,e){1&t&&(R(0,"div",0),Ae(1,"div",1,2),R(3,"div",3),ue(4,Xge,2,0,"div",4),I()()),2&t&&(F(4),Q("ngIf",e.app.isFunMode))},directives:[Zt],styles:[".play-board-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:0}.play-board-wrapper[_ngcontent-%COMP%]   .stage-canvas[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;border-radius:20px;border:1px solid #2a2b2e;overflow:hidden}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;top:0;left:0}.play-board-wrapper[_ngcontent-%COMP%]   .dom-container[_ngcontent-%COMP%]   .fun-mode[_ngcontent-%COMP%]{position:absolute;top:0;left:0;background:rgba(229,148,7,.8);text-align:center;font-size:14px;font-weight:700;width:100%;border-radius:20px 20px 0 0;border:1px solid #e59407}"],changeDetection:0}),ed=Ye([Ci()],ed);var td=(()=>(function(n){n.bet="bet",n.auto="auto"}(td||(td={})),td))();const Kge=["inputfield"],qge=function(n){return{minus:!0,"ui-state-disabled":n}};function Jge(n,t){if(1&n){const e=Ct();R(0,"button",8),Me("mouseleave",function(){return ft(e),he().onDownButtonMouseleave()})("mousedown",function(r){return ft(e),he().onDownButtonMousedown(r)})("mouseup",function(){return ft(e),he().onDownButtonMouseup()}),I()}if(2&n){const e=he();Q("ngClass",Pa(3,qge,e.disabled))("disabled",e.disabled),ii("readonly",e.readonly)}}function Qge(n,t){1&n&&(R(0,"span",9),z(1,"\xd7"),I())}function Zge(n,t){if(1&n&&(R(0,"span",10),z(1),I()),2&n){const e=he();F(1),Pe(" ",e.app.config.currency," ")}}const e_e=function(n){return{plus:!0,"ui-state-disabled":n}};function t_e(n,t){if(1&n){const e=Ct();R(0,"button",8),Me("mouseleave",function(){return ft(e),he().onUpButtonMouseleave()})("mousedown",function(r){return ft(e),he().onUpButtonMousedown(r)})("mouseup",function(){return ft(e),he().onUpButtonMouseup()}),I()}if(2&n){const e=he();Q("ngClass",Pa(3,e_e,e.disabled))("disabled",e.disabled),ii("readonly",e.readonly)}}const n_e=function(n){return{"full-width":n}};let aP=(()=>{class n{constructor(e){this.app=e,this.step=1,this.decimalSeparator=".",this.thousandSeparator=",",this.formatInput=!0,this.type="text",this.enableButtons=!0,this.showX=!1,this.showCurrency=!1,this.formatOnBlur=!1,this.size="big",this.valueAsString="",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.keyPattern=/[0-9]/}ngOnInit(){this.precision=this.formatPrecision>=0?this.formatPrecision:this.step.toString().split(/[,]|[.]/)[1].length}repeat(e,i,r){let o=i||500;this.clearTimer();const s=Uu(o);this.timer$=s.subscribe(()=>{this.repeat(e,40,r)}),this.spin(e,r)}spin(e,i){let r=this.step*i,o=this.value||0;this.value=this.precision?parseFloat(this.toFixed(o+r,this.precision)):o+r,void 0!==this.maxlength&&this.value.toString().length>this.maxlength&&(this.value=o),void 0!==this.min&&this.value<this.min&&(this.value=this.min),void 0!==this.max&&this.value>this.max&&(this.value=this.max),this.formatValue(),this.onModelChange(this.value)}toFixed(e,i){let r=Math.pow(10,i||0);return String(Math.round(e*r)/r)}onUpButtonMousedown(e){this.disabled||(this.repeat(e,null,1),this.updateFilledState())}onUpButtonMouseup(){this.disabled||this.clearTimer()}onUpButtonMouseleave(){this.disabled||this.clearTimer()}onDownButtonMousedown(e){this.disabled||(this.repeat(e,null,-1),this.updateFilledState())}onDownButtonMouseup(){this.disabled||this.clearTimer()}onDownButtonMouseleave(){this.disabled||this.clearTimer()}onInputKeydown(e){38==e.which?(this.spin(e,1),e.preventDefault()):40==e.which&&(this.spin(e,-1),e.preventDefault())}onInputKeyPress(e){let i=String.fromCharCode(e.charCode);!this.keyPattern.test(i)&&i!=this.decimalSeparator&&e.preventDefault()}onInputKeyup(e){let i=e.target.value;e.key!==this.thousandSeparator&&(this.formatOnBlur?this.valueAsString=i:(this.value=this.parseValue(i),this.formatValue())),this.onModelChange(this.value),this.updateFilledState()}onInputBlur(){this.onModelTouched(),this.formatOnBlur&&this.formatToPrecision(this.formatPrecision)}formatToPrecision(e){this.value=Math.abs(this.parseValue(this.valueAsString)),this.value=parseFloat(this.valueAsString=(this.value<this.min?this.value=this.min:this.value).toFixed(e)),this.inputfieldViewChild.nativeElement.value=this.valueAsString,this.onModelChange(this.value),this.updateFilledState()}parseValue(e){let i;return this.formatInput&&(e=e.split(this.thousandSeparator).join("")),""===e.trim()?i=null:(i=this.precision?parseFloat(e.replace(",",".")):parseInt(e),isNaN(i)?i=null:(void 0!==this.max&&i>this.max&&(i=this.max),void 0!==this.min&&i<this.min&&(i=this.min))),i}formatValue(){if(null!=this.value){let e=String(this.value).replace(".",this.decimalSeparator);if(this.formatInput){let i=e.split(this.decimalSeparator);i[0]=i[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandSeparator),e=i.join(this.decimalSeparator)}this.valueAsString=e}else this.valueAsString="";this.inputfieldViewChild.nativeElement.value=this.valueAsString}clearTimer(){this.timer$&&this.timer$.unsubscribe()}writeValue(e){this.value=e,this.formatValue(),this.updateFilledState(),this.formatOnBlur&&this.formatToPrecision(this.formatPrecision)}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e}updateFilledState(){this.filled=void 0!==this.value&&null!=this.value}}return n.\u0275fac=function(e){return new(e||n)(X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-spinner"]],viewQuery:function(e,i){if(1&e&&Jo(Kge,7),2&e){let r;Kn(r=qn())&&(i.inputfieldViewChild=r.first)}},inputs:{step:"step",min:"min",max:"max",maxlength:"maxlength",inputSize:"inputSize",placeholder:"placeholder",inputId:"inputId",disabled:"disabled",readonly:"readonly",decimalSeparator:"decimalSeparator",thousandSeparator:"thousandSeparator",tabindex:"tabindex",formatInput:"formatInput",type:"type",required:"required",name:"name",enableButtons:"enableButtons",showX:"showX",showCurrency:"showCurrency",formatOnBlur:"formatOnBlur",formatPrecision:"formatPrecision",size:"size"},features:[Zn([{provide:Wo,useExisting:gn(()=>n),multi:!0}])],decls:10,vars:18,consts:[[1,"spinner",3,"ngClass"],[1,"buttons"],["type","button",3,"ngClass","disabled","mouseleave","mousedown","mouseup",4,"ngIf"],[1,"input",3,"ngClass"],[1,"font-weight-bold",3,"value","disabled","keydown","keyup","keypress","blur"],["inputfield",""],["class","text text-x",4,"ngIf"],["class","text currency",4,"ngIf"],["type","button",3,"ngClass","disabled","mouseleave","mousedown","mouseup"],[1,"text","text-x"],[1,"text","currency"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ue(2,Jge,1,5,"button",2),I(),R(3,"div",3)(4,"input",4,5),Me("keydown",function(o){return i.onInputKeydown(o)})("keyup",function(o){return i.onInputKeyup(o)})("keypress",function(o){return i.onInputKeyPress(o)})("blur",function(){return i.onInputBlur()}),I()(),ue(6,Qge,2,0,"span",6),ue(7,Zge,2,1,"span",7),R(8,"div",1),ue(9,t_e,1,5,"button",2),I()()),2&e&&(Q("ngClass",i.size),F(2),Q("ngIf",i.enableButtons),F(1),Q("ngClass",Pa(16,n_e,!i.enableButtons)),F(1),Q("value",i.valueAsString)("disabled",i.disabled),ii("type",i.type)("id",i.inputId)("size",i.inputSize)("maxlength",i.maxlength)("tabindex",i.tabindex)("placeholder",i.placeholder)("readonly",i.readonly)("required",i.required),F(2),Q("ngIf",i.showX),F(1),Q("ngIf",i.showCurrency),F(2),Q("ngIf",i.enableButtons))},directives:[yf,Zt],styles:[".spinner[_ngcontent-%COMP%]{height:100%;display:flex;justify-content:space-between;align-items:center;transition:opacity .1s;border-radius:22px;background-color:#000000b3;font-weight:700;font-size:inherit;line-height:1;padding-left:10px;padding-right:10px}.spinner.small[_ngcontent-%COMP%]{padding-right:5px}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;align-items:center;width:calc(100% - 35px);height:100%}.spinner[_ngcontent-%COMP%]   .input.full-width[_ngcontent-%COMP%]{width:calc(100% - 10px)}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;border:0;background:transparent;color:#fff;text-align:inherit;padding:0}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:disabled{opacity:.5}.spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, .spinner[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.spinner[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:9px;line-height:1;color:#fff;opacity:.5;padding-top:5px}.spinner[_ngcontent-%COMP%]   .text.text-x[_ngcontent-%COMP%]{padding:0;font-size:16px}.spinner[_ngcontent-%COMP%]   .text.currency[_ngcontent-%COMP%]{margin-right:4px;padding:0}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:inline-flex;align-items:center}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:0;padding:0;background:#ffffff;border:none;width:18px;height:18px;cursor:pointer;min-width:18px;min-height:18px;color:#000000b3;text-align:center;line-height:16px;font-weight:700}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(plus-in-circle.3440127f08f179fd.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .plus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]{background-color:transparent;background-image:url(minus-in-circle.de5c67298d5ab197.svg)}.spinner[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]   .minus[_ngcontent-%COMP%]:not(.ui-state-disabled):active{transform:translateY(1px)}.spinner[_ngcontent-%COMP%]   .ui-state-disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default!important}"]}),n})();function i_e(n,t){if(1&n){const e=Ct();R(0,"div",21),z(1),R(2,"button",22),Me("click",function(){return ft(e),he().errorMessage=null}),R(3,"span"),z(4,"\xd7"),I()()()}if(2&n){const e=he();F(1),Pe(" shared.ui-components.toastr.toastr-message.",e.errorMessage," ")}}function r_e(n,t){if(1&n){const e=Ct();qt(0),R(1,"button",23),Me("click",function(){const o=ft(e).$implicit;return he().activeBetsAmount=o}),z(2),I(),Jt()}if(2&n){const e=t.$implicit,i=he();F(1),at("active",i.activeBetsAmount===e),F(1),Pe(" ",e," ")}}let o_e=(()=>{class n{constructor(e,i,r){this.activeModal=e,this.app=i,this.cd=r,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.activeBetsAmount=0,this.errorMessage=null}closeModal(e=!1){this.showErrorMessage(null);let i=null;if(e){if(this.cd.detectChanges(),!this.activeBetsAmount)return void this.showErrorMessage("Please, set number of rounds");if(this.checkIncorrectStopPoint())return void this.showErrorMessage("Can't set 0.00 as stop point");if(this.app.config.autoBetOptions.decreaseOrExceedStopPointReq&&!this.decreaseStopPoint.value&&!this.exceedStopPoint.value)return void this.showErrorMessage("Please, specify decrease or exceed stop point");i={decreaseBalanceStopPoint:this.decreaseStopPoint.value,increaseBalanceStopPoint:this.increaseStopPoint.value,autoBetsAmount:this.activeBetsAmount,exceedStopPoint:this.exceedStopPoint.value}}this.activeModal.close(i)}checkIncorrectStopPoint(){return this.decreaseStopPoint.active&&!this.decreaseStopPoint.value||this.increaseStopPoint.active&&!this.increaseStopPoint.value||this.exceedStopPoint.active&&!this.exceedStopPoint.value}showErrorMessage(e){this.errorMessage=e}reset(){this.activeBetsAmount=null,this.decreaseStopPoint={active:!1,value:0},this.increaseStopPoint={active:!1,value:0},this.exceedStopPoint={active:!1,value:0},this.showErrorMessage(null)}}return n.\u0275fac=function(e){return new(e||n)(X(Wr),X(ln),X(Mn))},n.\u0275cmp=gt({type:n,selectors:[["app-auto-play"]],decls:42,vars:50,consts:[[1,"modal-header"],["translate",""],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body"],["class","alert alert-danger","translate","",4,"ngIf"],[1,"content-wrapper"],[1,"content"],[1,"content-part","content-part-1"],[1,"rounds-wrap","mt-2"],[4,"ngFor","ngForOf"],[1,"content-part"],[3,"ngModel","ngModelChange","toggle"],["translate","",1,"title","text-left","pl-1","mr-auto"],[1,"spinner","ml-auto",3,"disabled","ngModel","step","min","showCurrency","formatOnBlur","enableButtons","formatPrecision","ngModelChange"],[1,"ml-1"],["translate","",1,"title","text-left","pl-1","mr-auto","text-break"],[1,"modal-footer"],[1,"btns-wrapper"],["translate","",1,"btn","btn-sm","btn-warning","reset-btn",3,"click"],["translate","",1,"btn","btn-lg","btn-success","start-btn",3,"click"],["translate","",1,"alert","alert-danger"],["type","button",1,"close",3,"click"],[1,"btn","btn-secondary","btn-sm","rounds-amount",3,"click"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"span",1),z(2,"game.bet-controls.auto-play.Auto play options"),I(),R(3,"button",2),Me("click",function(){return i.closeModal()}),R(4,"span",3),z(5,"\xd7"),I()()(),R(6,"div",4),ue(7,i_e,5,1,"div",5),R(8,"div",6)(9,"div",7)(10,"div",8)(11,"span",1),z(12,"game.bet-controls.auto-play.Number of Rounds:"),I(),R(13,"div",9),ue(14,r_e,3,3,"ng-container",10),I()(),R(15,"div",11)(16,"app-ui-switcher",12),Me("ngModelChange",function(o){return i.decreaseStopPoint.active=o})("toggle",function(){return i.decreaseStopPoint.value=0}),I(),R(17,"span",13),z(18," game.bet-controls.auto-play.Stop if cash decreases by "),I(),R(19,"app-spinner",14),Me("ngModelChange",function(o){return i.decreaseStopPoint.value=o}),I(),R(20,"span",15),z(21),I()(),R(22,"div",11)(23,"app-ui-switcher",12),Me("ngModelChange",function(o){return i.increaseStopPoint.active=o})("toggle",function(){return i.increaseStopPoint.value=0}),I(),R(24,"span",13),z(25," game.bet-controls.auto-play.Stop if cash increases by "),I(),R(26,"app-spinner",14),Me("ngModelChange",function(o){return i.increaseStopPoint.value=o}),I(),R(27,"span",15),z(28),I()(),R(29,"div",11)(30,"app-ui-switcher",12),Me("ngModelChange",function(o){return i.exceedStopPoint.active=o})("toggle",function(){return i.exceedStopPoint.value=0}),I(),R(31,"span",16),z(32," game.bet-controls.auto-play.Stop if single win exceeds "),I(),R(33,"app-spinner",14),Me("ngModelChange",function(o){return i.exceedStopPoint.value=o}),I(),R(34,"span",15),z(35),I()()()()(),R(36,"div",17)(37,"div",18)(38,"button",19),Me("click",function(){return i.reset()}),z(39," game.bet-controls.auto-play.Reset "),I(),R(40,"button",20),Me("click",function(){return i.closeModal(!0)}),z(41," game.bet-controls.auto-play.Start "),I()()()),2&e&&(F(7),Q("ngIf",i.errorMessage),F(7),Q("ngForOf",i.app.config.autoBetOptions.numberOfRounds),F(2),Q("ngModel",i.decreaseStopPoint.active),F(1),at("disabled",!i.decreaseStopPoint.active),F(2),at("long-precision",i.app.isLongPrecision),Q("disabled",!i.decreaseStopPoint.active)("ngModel",i.decreaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),F(1),at("disabled",!i.decreaseStopPoint.active),F(1),Pe(" ",i.app.config.currency," "),F(2),Q("ngModel",i.increaseStopPoint.active),F(1),at("disabled",!i.increaseStopPoint.active),F(2),at("long-precision",i.app.isLongPrecision),Q("disabled",!i.increaseStopPoint.active)("ngModel",i.increaseStopPoint.value)("step",i.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),F(1),at("disabled",!i.increaseStopPoint.active),F(1),Pe(" ",i.app.config.currency," "),F(2),Q("ngModel",i.exceedStopPoint.active),F(1),at("disabled",!i.exceedStopPoint.active),F(2),at("long-precision",i.app.isLongPrecision),Q("disabled",!i.exceedStopPoint.active)("ngModel",i.exceedStopPoint.value)("step",i.app.config.betInputStep)("min",0)("showCurrency",!1)("formatOnBlur",!0)("enableButtons",!0)("formatPrecision",i.app.config.betPrecision),F(1),at("disabled",!i.exceedStopPoint.active),F(1),Pe(" ",i.app.config.currency," "))},directives:[jn,Zt,Ti,q0,ea,Ps,aP],styles:[".modal-body[_ngcontent-%COMP%]{padding:10px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]{background-color:#2c2d30;border-radius:10px;padding:15px 10px;display:flex;font-size:14px;line-height:14px;margin-bottom:5px;justify-content:space-between;align-items:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;padding-bottom:12px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]{width:100%;max-width:290px;display:flex;justify-content:space-evenly}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]{width:58px;margin-left:3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount[_ngcontent-%COMP%]:first-child{margin-left:0}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   .rounds-wrap[_ngcontent-%COMP%]   .rounds-amount.active[_ngcontent-%COMP%]{border:solid 1px #60ae05;box-shadow:none}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part.content-part-1[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:unset}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px;min-width:130px;width:130px;text-align:center}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:12px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#d2d2d2;text-align:center;padding:0 3px}.modal-body[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .content-part[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%]{opacity:.4}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .reset-btn[_ngcontent-%COMP%]{min-width:80px;height:22px;padding:0;margin-right:7.5px}.modal-footer[_ngcontent-%COMP%]   .btns-wrapper[_ngcontent-%COMP%]   .start-btn[_ngcontent-%COMP%]{width:160px;height:30px;padding:0;margin-left:7.5px}"]}),n})(),s_e=(()=>{class n{constructor(e,i,r,o){this.main=e,this.app=i,this.betControls=r,this.connector=o,this.lastDate=Date.now(),this.main.getState(Ji.End).pipe(Ut(()=>!!this.app.config.inactivityTimeForDisconnect),Ut(()=>!this.betControls.isBetSetted),Ut(()=>this.isInactivityTimePass())).subscribe(()=>this.connector.shutdown(si.inactivity))}isInactivityTimePass(){return Date.now()-this.lastDate>=this.toMilliseconds(this.app.config.inactivityTimeForDisconnect)}toMilliseconds(e){return 6e4*e}reset(){this.lastDate=Date.now()}}return n.\u0275fac=function(e){return new(e||n)(ke(Vi),ke(ln),ke(vl),ke(yi))},n.\u0275prov=rt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a_e=["winAmount"];function l_e(n,t){if(1&n){const e=Ct();R(0,"div",21),Me("click",function(){return ft(e),he().secHandBtn.emit()}),I()}}function u_e(n,t){if(1&n){const e=Ct();R(0,"div",22),Me("click",function(){return ft(e),he().secHandBtn.emit()}),I()}2&n&&at("disabled",he().isSecHandCloseBtnDisabled)}function c_e(n,t){if(1&n){const e=Ct();qt(0),R(1,"app-navigation-switcher",23),Me("ngModelChange",function(r){return ft(e),he().activeTab=r}),I(),Jt()}if(2&n){const e=he();F(1),Q("disabled",!!e.autoBetOpt.autoBetsAmount||e.autoCashOutEnabled)("ngModel",e.activeTab)("translatePath","shared")("tabs",e.betControlNavigationList)}}function h_e(n,t){if(1&n){const e=Ct();R(0,"button",24),Me("click",function(){const o=ft(e).$implicit;return he().onSetBetOpt(o)}),R(1,"span"),z(2),I()()}if(2&n){const e=t.$implicit,i=he();at("disabled",i.betSaved||i.freeBetAvailable)("long-precision",i.app.isLongPrecision),Q("disabled",i.betSaved||i.freeBetAvailable),F(2),Pe(" ",i.app.isLongPrecision?e.toFixed(i.app.config.betPrecision):e," ")}}function d_e(n,t){if(1&n){const e=Ct();qt(0),R(1,"button",25),Me("click",function(){return ft(e),he().bet()}),R(2,"span",26)(3,"label",27),z(4),Ce(5,"translate"),I(),R(6,"label",28)(7,"span"),z(8),I(),R(9,"span",29),z(10),I()()()(),Jt()}if(2&n){const e=he();F(1),at("disabled",e.waitingForResponse),Q("disabled",e.waitingForResponse),F(3),Pe(" ",Ne(5,6,"shared.bet")," "),F(4),St(e.betValue.toFixed(e.app.config.betPrecision)),F(2),Pe(" ",e.app.config.currency,"")}}function f_e(n,t){1&n&&(R(0,"div",32),z(1," shared.waiting_for_next_round "),I())}function p_e(n,t){if(1&n){const e=Ct();qt(0),ue(1,f_e,2,0,"div",30),R(2,"button",31),Me("click",function(){return ft(e),he().cancel()}),R(3,"label",27),z(4),Ce(5,"translate"),I()(),Jt()}if(2&n){const e=he();F(1),Q("ngIf",e.isPreBet),F(1),at("disabled",e.waitingForResponse)("height-70",e.isPreBet),Q("disabled",e.waitingForResponse),F(2),Pe(" ",Ne(5,7,"shared.cancel")," ")}}function g_e(n,t){if(1&n){const e=Ct();qt(0),R(1,"button",33),Me("click",function(){return ft(e),he().onCashOut()}),R(2,"span",26)(3,"label",34),z(4),Ce(5,"translate"),I(),R(6,"label",28)(7,"span",null,35),z(9,"0"),I(),R(10,"span",29),z(11),I()()()(),Jt()}if(2&n){const e=he();F(1),at("disabled",e.waitingForResponse||e.cashOutDisabled),Q("disabled",e.waitingForResponse||e.cashOutDisabled),F(3),Pe(" ",Ne(5,5,"shared.cash_out")," "),F(7),Pe(" ",e.app.config.currency,"")}}function m_e(n,t){if(1&n){const e=Ct();qt(0),R(1,"label",16),z(2,"game.bet-controls.bet-control.auto bet"),I(),R(3,"app-ui-switcher",36),Me("ngModelChange",function(r){return ft(e),he().endlessAutoBetEnabled=r})("toggle",function(){return ft(e),he().onAutoBetSwitch()}),I(),Jt()}if(2&n){const e=he();F(3),at("disabled",e.waitingForResponse||e.freeBetAvailable),Q("disabled",e.waitingForResponse||e.freeBetAvailable)("ngModel",e.endlessAutoBetEnabled)}}function v_e(n,t){if(1&n){const e=Ct();R(0,"button",39),Me("click",function(){return ft(e),he(2).onSetAutoPlayOptions(!0)}),z(1),Ce(2,"translate"),I()}if(2&n){const e=he(2);at("disabled",e.waitingForResponse||e.freeBetAvailable),Q("disabled",e.waitingForResponse||e.freeBetAvailable),F(1),Pe(" ",Ne(2,4,"game.bet-controls.bet-control.Auto play")," ")}}function y_e(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he(3);F(1),Pe(" (",e.autoBetOpt.autoBetsAmount,") ")}}function b_e(n,t){if(1&n){const e=Ct();R(0,"button",40),Me("click",function(){return ft(e),he(2).onSetAutoPlayOptions(!1)}),z(1),Ce(2,"translate"),ue(3,y_e,2,1,"span",3),I()}if(2&n){const e=he(2);at("disabled",e.waitingForResponse||e.freeBetAvailable),Q("disabled",e.waitingForResponse||e.freeBetAvailable),F(1),Pe(" ",Ne(2,5,"shared.stop")," "),F(2),Q("ngIf",e.autoBetOpt.autoBetsAmount)}}function E_e(n,t){if(1&n&&(qt(0),ue(1,v_e,3,6,"button",37),ue(2,b_e,4,7,"button",38),Jt()),2&n){const e=he();F(1),Q("ngIf",null===e.autoBetOpt.autoBetsAmount),F(1),Q("ngIf",null!==e.autoBetOpt.autoBetsAmount)}}let nd=class{constructor(t,e,i,r,o,s,a,l,u,g,E,w,P,A,D,B,Y){this.mainService=t,this.app=e,this.connector=i,this.betService=r,this.sound=o,this.message=s,this.user=a,this.modal=l,this.freeBets=u,this.frontEndProxyService=g,this.ifc=E,this.cd=w,this.inactivityTimer=P,this.ngbModal=A,this.netSession=D,this.multiplier=B,this.minBetError=Y,this.secHandBtn=new jt,this.activeTab=td.bet,this.betControlNavigationList=Object.values(td),this.betValue=0,this.autoCashOutEnabled=!1,this.settedBetOpt=null,this.cashOutDisabled=!0,this.waitingForResponse=!1,this.isBetIncluded=!0,this.limits={},this._endlessAutoBetEnabled=!1,this.autoBetOpt={autoBetsAmount:null,increaseBalanceStopPoint:null,decreaseBalanceStopPoint:null,exceedStopPoint:null},this.isLockUI=!1}get endlessAutoBetEnabled(){return this._endlessAutoBetEnabled}set endlessAutoBetEnabled(t){this._endlessAutoBetEnabled=t,this.ifc.emitEvent(Ei.Autoplay,{id:this.betId,value:this.endlessAutoBetEnabled})}ngOnInit(){this.mainService.getState(Ji.Bet).pipe(Tt(this)).subscribe(()=>this.setBetStateHandler()),this.mainService.getState(Ji.End).pipe(Tt(this)).subscribe(()=>this.setEndGameStateHandler()),this.mainService.getState(Ji.Run).pipe(Tt(this)).subscribe(()=>{this.cashOutDisabled=!0,this.cd.detectChanges()}),this.connector.response(yn.CashOut).pipe(Tt(this)).subscribe(e=>this.cashOutResponse(e)),this.connector.response(yn.CancelBet).pipe(Tt(this),Ut(e=>this.isMyAction(e))).subscribe(e=>this.cancelBetResponse(e)),this.connector.response(yn.Bet).pipe(Tt(this),Ut(e=>this.isMyAction(e))).subscribe(e=>this.betResponse(e)),this.multiplier.data$.pipe(Tt(this)).subscribe(e=>{this.setCurrentMultiplier(e.currentMultiplier)}),this.freeBets.onActivate$.pipe(Tt(this)).subscribe(()=>this.updateValues()),this.frontEndProxyService.stopAutoBet$.pipe(Tt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.ifc.command(Cr.StopAutoplay).pipe(Tt(this)).subscribe(()=>{this.onSetAutoPlayOptions(!1),this.cd.detectChanges()}),this.updateValues();const t=this.betService.getBet(this.betId);t&&("isFreeBet"in t.data&&this.freeBets.activate(t.data.isFreeBet?t.data.freeBetId:null),this.betValue=t.data.bet,"isAutoCashOutEnabled"in t.data&&t.data.isAutoCashOutEnabled&&(this.autoCashOutEnabled=!0,this.autoCashOutValue=t.data.autoCashOut,this.activeTab=td.auto),this.cd.detectChanges()),this.ifc.command(Cr.LockUI).pipe(Tt(this),tr(e=>this.isLockUI=e.value),Ut(e=>e.value)).subscribe(()=>this.onLockUI()),this.betService.cancelBets$.pipe(Tt(this)).subscribe(()=>this.onCancelBets())}onLockUI(){this.app.onLockUIActions===Ff.CancelBet&&this.displayCancelBtn&&!1===this.isPreBet&&this.cancel()}onCancelBets(){this.displayCancelBtn&&(this.cancel(),this.cd.detectChanges())}updateValues(){const t=this.freeBets.activeFreeBet;if(t)this.limits.minBet=t.freeBetsBetAmount,this.limits.maxBet=t.freeBetsBetAmount,this.betValue=t.freeBetsBetAmount,this.limits.minCashout=t.freeBetsMinCashOut,this.isBetIncluded=t.isBetIncluded,this.autoCashOutValue<this.limits.minCashout&&(this.autoCashOutValue=this.limits.minCashout);else{this.limits.minBet=this.app.config.minBet,this.limits.maxBet=this.app.config.maxBet;const e=this.app.config.defaultBetValue;this.betValue=e&&e>0?e:this.app.config.minBet,this.limits.minCashout=this.app.config.autoCashOut.minValue,this.autoCashOutValue=this.app.config.autoCashOut.defaultValue,this.isBetIncluded=!0}this.cd.detectChanges()}setBetStateHandler(){const t=this.betService.getBet(this.betId);(null==t?void 0:t.preBet)&&"clientSeed"in t.data&&(this.sendBet(t.data),this.cd.detectChanges())}setEndGameStateHandler(){this.cashOutDisabled=!1,this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet&&this.betService.removeBet(this.betId),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&void 0===this.betService.getBet(this.betId)&&this.autoBet(),this.cd.detectChanges()}setCurrentMultiplier(t){if(this.winAmountRef&&!1===this.waitingForResponse){let e=this.betValue*t;!1===this.isBetIncluded&&(e-=this.betValue),this.winAmountRef.nativeElement.textContent=function bJ(n,t=0){return Math.floor(n*Math.pow(10,t))/Math.pow(10,t)}(e,this.app.config.betPrecision).toFixed(this.app.config.betPrecision)}this.cashOutDisabled&&t>=this.limits.minCashout&&(this.cashOutDisabled=!1,this.cd.detectChanges())}onCashOut(){this.sound.play(nu.Bet),this.waitingForResponse=!0,this.connector.request(bi.CashOut,{betId:this.betId,currentTimestamp:Date.now()}),this.ifc.emitEvent(Ei.Cashout,{id:this.betId})}cashOutResponse(t){t.cashouts.forEach(e=>{this.user.id===e.player_id&&this.betId===e.betId&&(this.waitingForResponse=!1,200===t.code&&(this.betService.removeBet(this.betId),null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint+=e.winAmount),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint-=e.winAmount),null!==this.autoBetOpt.exceedStopPoint&&e.winAmount>this.autoBetOpt.exceedStopPoint&&this.stopAutoGame(),(null!==this.autoBetOpt.autoBetsAmount||this.endlessAutoBetEnabled)&&this.autoBet(),this.message.add({template:xf.win,params:{winAmount:e.winAmount,betAmount:e.betAmount,multiplier:t.multiplier,currency:this.app.config.currency}}),this.ifc.emitEvent(Ei.WinInfo,{id:e.betId,amount:e.winAmount}),this.betService.isWinCelebrated(e.winAmount,e.betAmount)&&this.sound.play(nu.Win),this.freeBets.activeFreeBet||this.netSession.plus(e.winAmount)),this.ifc.emitEvent(Ei.CashoutComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:e.additionalOperatorData}))}),this.cd.detectChanges()}onSetBetOpt(t){this.betSaved||this.freeBets.activeFreeBet||(this.settedBetOpt===t?this.betValue+=t:(this.settedBetOpt=t,this.betValue=t))}onAutoBetSwitch(){this.displayBetBtn&&this.endlessAutoBetEnabled?this.autoBet():this.displayCancelBtn&&!this.endlessAutoBetEnabled&&this.cancel()}autoBet(){this.isOutOffAutoBetLimits?this.stopAutoGame():this.bet()}bet(){var t;this.sound.play(nu.Bet);const e={bet:this.betValue,clientSeed:this.user.clientSeed,betId:this.betId,freeBet:!1},i=this.freeBets.activeFreeBet;i&&(e.freeBet=!0,e.freeBetsId=i.freeBetsId),this.autoCashOutEnabled&&(e.autoCashOut=this.autoCashOutValue);const r=(null===(t=this.betService.getBets()[0])||void 0===t?void 0:t.preBet)?this.user.balance-this.betService.getBets()[0].data.bet:this.user.balance;this.app.config.isBalanceValidationEnabled&&!i&&r<this.betValue?(null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.endlessAutoBetEnabled&&setTimeout(()=>{this.endlessAutoBetEnabled=!1,this.cd.markForCheck()}),this.message.add({value:hy.NotEnoughBalance,context:Es.danger})):(this.betService.setBet({betId:this.betId,preBet:!0,data:e}),this.mainService.state===Ji.Bet&&this.sendBet(e))}sendBet(t){this.isLockUI&&this.app.onLockUIActions===Ff.CancelBet?this.betService.removeBet(this.betId):(this.waitingForResponse=!0,this.connector.request(bi.Bet,t),this.ifc.emitEvent(Ei.MakeBet,{id:this.betId,amount:t.bet}),this.inactivityTimer.reset())}betResponse(t){this.waitingForResponse=!1,t.code===Gc.Success?(this.betService.setBet({betId:this.betId,preBet:!1,data:t}),this.autoBetOpt.autoBetsAmount&&this.autoBetOpt.autoBetsAmount--,null!==this.autoBetOpt.decreaseBalanceStopPoint&&(this.autoBetOpt.decreaseBalanceStopPoint-=t.bet),null!==this.autoBetOpt.increaseBalanceStopPoint&&(this.autoBetOpt.increaseBalanceStopPoint+=t.bet),this.freeBets.activeFreeBet||this.netSession.minus(t.bet)):(this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame()),this.ifc.emitEvent(Ei.MakeBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}cancel(){!1===this.isPreBet?(this.waitingForResponse=!0,this.connector.request(bi.CancelBet,{betId:this.betId}),this.ifc.emitEvent(Ei.CancelBet,{id:this.betId})):!0===this.isPreBet&&this.betService.removeBet(this.betId),this.endlessAutoBetEnabled&&(this.endlessAutoBetEnabled=!1),null!==this.autoBetOpt.autoBetsAmount&&this.stopAutoGame(),this.sound.play(nu.Bet)}cancelBetResponse(t){this.waitingForResponse=!1,200===t.code&&(this.freeBets.activeFreeBet||this.netSession.plus(this.betService.getBet(this.betId).data.bet),this.betService.removeBet(this.betId)),this.ifc.emitEvent(Ei.CancelBetComplete,{id:this.betId,code:t.code,errorMessage:t.errorMessage,additionalOperatorData:t.additionalOperatorData}),this.cd.detectChanges()}onBetValueChange(t){this.betValue=t,this.minBetError.updateStake(t,this.betId),this.ifc.emitUpdateStakeEvent(this.betId,t)}onSetAutoPlayOptions(t){t?this.ngbModal.open(o_e).result.then(e=>{e?(this.autoBetOpt.autoBetsAmount=e.autoBetsAmount,this.autoBetOpt.decreaseBalanceStopPoint=e.decreaseBalanceStopPoint?e.decreaseBalanceStopPoint:null,this.autoBetOpt.increaseBalanceStopPoint=e.increaseBalanceStopPoint?e.increaseBalanceStopPoint:null,this.autoBetOpt.exceedStopPoint=e.exceedStopPoint?e.exceedStopPoint:null,this.ifc.emitEvent(Ei.Autoplay,{id:this.betId,value:!0}),this.displayBetBtn&&this.autoBet()):this.stopAutoGame(),this.cd.detectChanges()},()=>{}):this.displayCancelBtn?this.cancel():this.stopAutoGame()}stopAutoGame(){this.autoBetOpt.autoBetsAmount=null,this.autoBetOpt.decreaseBalanceStopPoint=null,this.autoBetOpt.increaseBalanceStopPoint=null,this.autoBetOpt.exceedStopPoint=null,this.ifc.emitEvent(Ei.Autoplay,{id:this.betId,value:!1})}isMyAction(t){return this.user.id===t.player_id&&this.betId===t.betId}get betSaved(){return!!this.betService.getBet(this.betId)}get isSecHandCloseBtnDisabled(){return this.betService.getBet(2)&&!1===this.betService.getBet(2).preBet}get isAutoShown(){return this.activeTab===td.auto}get freeBetAvailable(){return void 0!==this.freeBets.activeFreeBet}get displayBetBtn(){return!this.displayCashOutBtn&&void 0===this.betService.getBet(this.betId)}get displayCancelBtn(){return!this.displayCashOutBtn&&void 0!==this.betService.getBet(this.betId)}get displayCashOutBtn(){return this.mainService.state===Ji.Run&&this.betService.getBet(this.betId)&&!1===this.betService.getBet(this.betId).preBet}get isOutOffAutoBetLimits(){return 0===this.autoBetOpt.autoBetsAmount||null!==this.autoBetOpt.decreaseBalanceStopPoint&&this.autoBetOpt.decreaseBalanceStopPoint<=0||null!==this.autoBetOpt.increaseBalanceStopPoint&&this.autoBetOpt.increaseBalanceStopPoint<=0}get isPreBet(){return this.betService.getBet(this.betId)&&this.betService.getBet(this.betId).preBet}get betOptions(){return this.app.isLongPrecision?this.app.config.betOptions.slice(0,2):this.app.config.betOptions}ngOnDestroy(){this.betService.removeBet(this.betId),this.ifc.emitUpdateStakeEvent(this.betId,0),this.minBetError.updateStake(0,this.betId)}};nd.\u0275fac=function(t){return new(t||nd)(X(Vi),X(ln),X(yi),X(vl),X(rp),X(dh),X(Ha),X(Yo),X(ru),X(M0),X(iu),X(Mn),X(s_e),X(X0),X(PG),X(w0),X(db))},nd.\u0275cmp=gt({type:nd,selectors:[["app-bet-control"]],viewQuery:function(t,e){if(1&t&&Jo(a_e,5),2&t){let i;Kn(i=qn())&&(e.winAmountRef=i.first)}},inputs:{betId:"betId",secondBet:"secondBet"},outputs:{secHandBtn:"secHandBtn"},decls:27,vars:50,consts:[[1,"controls"],["class","sec-hand-btn add btn btn-success",3,"click",4,"ngIf"],["class","sec-hand-btn close",3,"disabled","click",4,"ngIf"],[4,"ngIf"],[1,"first-row"],[1,"bet-block"],[1,"spinner",3,"disabled","ngModel","step","min","max","showCurrency","formatOnBlur","formatPrecision","ngModelChange"],[1,"bets-opt-list"],["class","btn btn-secondary btn-sm bet-opt",3,"disabled","long-precision","click",4,"ngFor","ngForOf"],[1,"buttons-block"],[1,"w-100","border-line"],[1,"second-row"],[1,"auto-bet-wrapper"],[1,"auto-bet"],[1,"cashout-block"],[1,"cash-out-switcher"],["translate",""],[3,"ngModel","disabled","ngModelChange"],[1,"cashout-spinner-wrapper"],[1,"cashout-spinner"],[3,"disabled","ngModel","enableButtons","min","max","formatOnBlur","formatPrecision","showX","size","ngModelChange"],[1,"sec-hand-btn","add","btn","btn-success",3,"click"],[1,"sec-hand-btn","close",3,"click"],[1,"navigation",3,"disabled","ngModel","translatePath","tabs","ngModelChange"],[1,"btn","btn-secondary","btn-sm","bet-opt",3,"disabled","click"],[1,"btn","btn-success","bet",3,"disabled","click"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],[1,"label","text-uppercase"],[1,"amount"],[1,"currency"],["class","btn-tooltip","translate","",4,"ngIf"],[1,"btn","btn-danger","bet",3,"disabled","click"],["translate","",1,"btn-tooltip"],[1,"btn","btn-warning","cashout",3,"disabled","click"],[1,"text-uppercase"],["winAmount",""],[3,"disabled","ngModel","ngModelChange","toggle"],["class","btn btn-sm btn-primary auto-play-btn text-uppercase",3,"disabled","click",4,"ngIf"],["class","btn btn-sm btn-danger auto-play-btn text-lowercase",3,"disabled","click",4,"ngIf"],[1,"btn","btn-sm","btn-primary","auto-play-btn","text-uppercase",3,"disabled","click"],[1,"btn","btn-sm","btn-danger","auto-play-btn","text-lowercase",3,"disabled","click"]],template:function(t,e){1&t&&(R(0,"div",0),ue(1,l_e,1,0,"div",1),ue(2,u_e,1,2,"div",2),ue(3,c_e,2,4,"ng-container",3),R(4,"div",4)(5,"div",5)(6,"app-spinner",6),Me("ngModelChange",function(r){return e.onBetValueChange(r)}),I(),R(7,"div",7),ue(8,h_e,3,6,"button",8),I()(),R(9,"div",9),ue(10,d_e,11,8,"ng-container",3),ue(11,p_e,6,9,"ng-container",3),ue(12,g_e,12,7,"ng-container",3),I()(),Ae(13,"div",10),R(14,"div",11)(15,"div",12)(16,"div",13),ue(17,m_e,4,4,"ng-container",3),ue(18,E_e,3,2,"ng-container",3),I()(),R(19,"div",14)(20,"div",15)(21,"label",16),z(22," game.bet-controls.bet-control.auto cashout "),I(),R(23,"app-ui-switcher",17),Me("ngModelChange",function(r){return e.autoCashOutEnabled=r}),I()(),R(24,"div",18)(25,"div",19)(26,"app-spinner",20),Me("ngModelChange",function(r){return e.autoCashOutValue=r}),I()()()()()()),2&t&&(at("border-red",e.displayCancelBtn)("border-orange",e.displayCashOutBtn)("disabled",e.waitingForResponse),F(1),Q("ngIf",!e.secondBet&&e.app.config.isMultipleBetsEnabled),F(1),Q("ngIf",e.secondBet&&2===e.betId),F(1),Q("ngIf",e.app.isAutoBetFeatureEnabled),F(1),at("auto-game",e.isAutoShown)("auto-game-feature",e.app.isAutoBetFeatureEnabled),F(2),at("long-precision",e.app.isLongPrecision)("disabled",e.betSaved||e.freeBetAvailable),Q("disabled",e.betSaved||e.freeBetAvailable)("ngModel",e.betValue)("step",e.app.config.betInputStep)("min",e.limits.minBet)("max",e.limits.maxBet)("showCurrency",!1)("formatOnBlur",!0)("formatPrecision",e.app.config.betPrecision),F(2),Q("ngForOf",e.betOptions),F(2),Q("ngIf",e.displayBetBtn),F(1),Q("ngIf",e.displayCancelBtn),F(1),Q("ngIf",e.displayCashOutBtn),F(1),at("d-none",!e.isAutoShown),F(1),at("d-none",!e.isAutoShown),F(3),Q("ngIf",!e.app.config.autoBetOptions),F(1),Q("ngIf",e.app.config.autoBetOptions),F(3),at("disabled",e.betSaved),F(2),Q("ngModel",e.autoCashOutEnabled)("disabled",e.betSaved),F(2),at("disabled",!e.autoCashOutEnabled),F(1),Q("disabled",!e.autoCashOutEnabled||e.betSaved)("ngModel",e.autoCashOutValue)("enableButtons",!1)("min",e.limits.minCashout)("max",e.app.config.autoCashOut.maxValue)("formatOnBlur",!0)("formatPrecision",e.app.config.multiplierPrecision)("showX",!0)("size","small"))},directives:[Zt,bw,ea,Ps,aP,Ti,jn,q0],pipes:[Qn],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;position:relative;width:100%;flex-direction:column;justify-content:center;align-items:center;border-radius:10px;background-color:#1b1c1d;height:100%;margin:0 auto;border:solid 1px transparent}.controls.border-red[_ngcontent-%COMP%]{border:solid 1px #cb011a}.controls.border-orange[_ngcontent-%COMP%]{border:solid 1px #d07206}.controls.disabled[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]{position:absolute;right:10px;top:10px;width:24px;height:24px;padding:0;cursor:pointer;border-radius:10px;border:none;background:#427f00 url(plus.165877be2653aaf8.svg) no-repeat center center}.controls[_ngcontent-%COMP%]   .sec-hand-btn.disabled[_ngcontent-%COMP%]{opacity:.2;pointer-events:none}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:hover{background-color:#28a909}.controls[_ngcontent-%COMP%]   .sec-hand-btn[_ngcontent-%COMP%]:active{transform:translateY(1px)}.controls[_ngcontent-%COMP%]   .sec-hand-btn.close[_ngcontent-%COMP%]{background:url(remove.3d798769e16d6b60.svg) no-repeat}.controls[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{height:24px;font-size:12px;margin-bottom:auto;margin-top:10px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]{width:calc(100% - 20px);max-width:390px;display:flex;justify-content:center}.controls[_ngcontent-%COMP%]   .first-row.auto-game-feature[_ngcontent-%COMP%]{margin:0 auto auto}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;width:140px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{height:34px;font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .spinner.long-precision[_ngcontent-%COMP%]{font-size:14px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;font-size:14px;color:#9ea0a3;width:100%}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]{font-size:14px;width:64px;height:18px;margin-top:4px;line-height:1;padding:0;background:#141516;border:none}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(2){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt[_ngcontent-%COMP%]:nth-child(4){margin-left:4px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   .bets-opt-list[_ngcontent-%COMP%]   .bet-opt.long-precision[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:132px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .bet-block[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#ffffff80}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]{width:calc(100% - 145px);margin-left:5px;display:flex;justify-content:center;align-items:center;flex-direction:column}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .btn-tooltip[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;text-align:center}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:100%;font-size:20px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0;line-height:1;cursor:pointer}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]{font-size:24px;margin-top:2px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   label.amount[_ngcontent-%COMP%]   .currency[_ngcontent-%COMP%]{font-size:18px}.controls[_ngcontent-%COMP%]   .first-row[_ngcontent-%COMP%]   .buttons-block[_ngcontent-%COMP%]   .height-70[_ngcontent-%COMP%]{height:70%}.controls[_ngcontent-%COMP%]   .border-line[_ngcontent-%COMP%]{height:2px;background:#141516}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]{display:flex;width:100%;max-width:390px;justify-content:space-around;align-items:center;height:40px;color:#9ea0a3}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]{margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]{font-size:12px;text-align:center;display:flex;align-items:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   .auto-play-btn[_ngcontent-%COMP%]{height:22px;width:100px;padding:0;font-size:12px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .auto-bet-wrapper[_ngcontent-%COMP%]   .auto-bet[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:0 5px 0 0;display:block}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:0 5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:center;box-sizing:border-box}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cash-out-switcher[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:12px;margin:0 5px 0 0;text-align:center}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]{height:50%;display:flex;justify-content:center;align-items:center;margin-left:5px}.controls[_ngcontent-%COMP%]   .second-row[_ngcontent-%COMP%]   .cashout-block[_ngcontent-%COMP%]   .cashout-spinner-wrapper[_ngcontent-%COMP%]   .cashout-spinner[_ngcontent-%COMP%]{height:30px;width:80px;display:flex;font-size:16px}@media (max-width: 991.98px){.controls[_ngcontent-%COMP%]   .first-row.auto-game[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}}"],changeDetection:0}),nd=Ye([Ci()],nd);const S_e=["controls"];function T_e(n,t){if(1&n){const e=Ct();R(0,"app-bet-control",4),Me("secHandBtn",function(){return ft(e),he().setSecondBet()}),I()}if(2&n){const e=he();at("locked",e.lockBets),Q("secondBet",e.user.settings.secondBet)("betId",2)}}let id=class{constructor(t,e,i,r,o,s,a){this.mainService=t,this.cd=e,this.user=i,this.betService=r,this.app=o,this.ifc=s,this.window=a,this.lockBets=!1,this.controlsWrap=!1}ngOnInit(){this.betService.getBet(2)&&(this.user.settings.secondBet=!0),this.mainService.timeLeft<=0&&this.onLockBets(!0),this.mainService.getState(Ji.Run).pipe(Tt(this)).subscribe(()=>{this.onLockBets(!1),this.ifc.emitEventStartRound(this.betService.getBets())}),this.mainService.event(gm.onLockBets).pipe(Tt(this)).subscribe(t=>this.onLockBets(t.data))}ngAfterViewInit(){this.window.onResize$.pipe(Tt(this)).subscribe(()=>{setTimeout(()=>this.checkBetControlsStyle())})}onLockBets(t){this.lockBets!==t&&(this.lockBets=t,this.cd.detectChanges())}setSecondBet(){this.user.settings.secondBet=!this.user.settings.secondBet,this.window.manualEmitResizeEvent()}checkBetControlsStyle(){const t=this.user.settings.secondBet&&this.app.config.isMultipleBetsEnabled;this.controlsWrap=!1,t&&(this.controlsWrap=this.controlsRef.nativeElement.offsetWidth<620),this.cd.detectChanges()}};id.\u0275fac=function(t){return new(t||id)(X(Vi),X(Mn),X(Ha),X(vl),X(ln),X(iu),X(I_))},id.\u0275cmp=gt({type:id,selectors:[["app-bet-controls"]],viewQuery:function(t,e){if(1&t&&Jo(S_e,7),2&t){let i;Kn(i=qn())&&(e.controlsRef=i.first)}},decls:4,vars:9,consts:[[1,"controls"],["controls",""],[1,"bet-control",3,"betId","secondBet","secHandBtn"],["class","bet-control double-bet",3,"locked","secondBet","betId","secHandBtn",4,"ngIf"],[1,"bet-control","double-bet",3,"secondBet","betId","secHandBtn"]],template:function(t,e){1&t&&(R(0,"div",0,1)(2,"app-bet-control",2),Me("secHandBtn",function(){return e.setSecondBet()}),I(),ue(3,T_e,1,4,"app-bet-control",3),I()),2&t&&(at("controls-wrap",e.controlsWrap),F(2),at("double-bet",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled)("locked",e.lockBets),Q("betId",1)("secondBet",e.user.settings.secondBet),F(1),Q("ngIf",e.user.settings.secondBet&&e.app.config.isMultipleBetsEnabled))},directives:[nd,Zt],styles:["[_nghost-%COMP%]{width:100%}.controls[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.controls.controls-wrap[_ngcontent-%COMP%]{flex-wrap:wrap}.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:10px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{margin-right:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{margin-left:5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{width:100%;height:170px;max-width:750px;min-width:310px;border-radius:20px}.controls[_ngcontent-%COMP%]   .locked[_ngcontent-%COMP%]{pointer-events:none;opacity:.5}@media (max-width: 991.98px){.controls.controls-wrap[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]:first-child{margin-bottom:5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:first-child{margin-right:2.5px}.controls[_ngcontent-%COMP%]:not(.controls-wrap)   .bet-control.double-bet[_ngcontent-%COMP%]:last-child{margin-left:2.5px}.controls[_ngcontent-%COMP%]   .bet-control[_ngcontent-%COMP%]{height:auto;min-height:150px}}"],changeDetection:0}),id=Ye([Ci()],id);let C_e=(()=>{class n{constructor(e,i){this.chatService=e,this.mainService=i}}return n.\u0275fac=function(e){return new(e||n)(X(Wa),X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-chat-header"]],decls:9,vars:1,consts:[[1,"header"],[1,"online-wrapper","position-absolute","d-flex","align-items-center"],[1,"green-circle"],[1,"buttons"],["type","button","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),Ae(2,"div",2),R(3,"span"),z(4),I()(),R(5,"div",3)(6,"button",4),Me("click",function(){return i.chatService.isOpen=!1}),R(7,"span",5),z(8,"\xd7"),I()()()()),2&e&&(F(4),St(i.mainService.onlinePlayers))},styles:["[_nghost-%COMP%]{width:inherit}.header[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:7px 13px;height:38px;position:relative;align-items:center}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);font-size:14px}.header[_ngcontent-%COMP%]   .online-wrapper[_ngcontent-%COMP%]   .green-circle[_ngcontent-%COMP%]{width:6px;height:6px;background:#28a909;border-radius:50%;margin:0 3px}.header[_ngcontent-%COMP%]   .buttons[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]{background-image:url(close.f62b9233d6078bd1.svg)}.header[_ngcontent-%COMP%]   .btn-hide[_ngcontent-%COMP%]:hover{background-image:url(close-h.1ea37fb099b65e33.svg)}.header[_ngcontent-%COMP%]   .btn-hide.collapsed[_ngcontent-%COMP%]{background-image:url(up.8535033e8a8651ee.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]{background-image:url(turn-off.0912216e64ccd16f.svg)}.header[_ngcontent-%COMP%]   .btn-turn-off[_ngcontent-%COMP%]:hover{background-image:url(turn-off-h.d6117b6d962d0f22.svg)}"]}),n})();var Rb=(()=>(function(n){n.reply="reply",n.translate="translate"}(Rb||(Rb={})),Rb))(),_m=(()=>(function(n){n.header="header"}(_m||(_m={})),_m))(),Db=(()=>(function(n){n.ban="ban",n.winInfo="win_info",n.rain="rain",n.gif="gif"}(Db||(Db={})),Db))(),rd=(()=>(function(n){n.moderator="moderator",n.bot="bot",n.user="user"}(rd||(rd={})),rd))();function O_e(n,t){if(1&n&&(R(0,"span",7),z(1),I()),2&n){const e=he();F(1),Pe(" ",e.app.getFormattedUsername(e.banInfo.playerName)," ")}}function M_e(n,t){1&n&&(R(0,"span",5),z(1," game.chat-widget.chat-message.chat-message-ban.you "),I())}function w_e(n,t){1&n&&(R(0,"span",5),z(1," game.chat-widget.chat-message.chat-message-ban.has been "),I())}function P_e(n,t){1&n&&(R(0,"span",5),z(1," game.chat-widget.chat-message.chat-message-ban.have been "),I())}function A_e(n,t){1&n&&(R(0,"span",8),z(1," game.chat-widget.chat-message.chat-message-ban.banned-other "),I())}function x_e(n,t){1&n&&(R(0,"span",8),z(1," game.chat-widget.chat-message.chat-message-ban.banned-me "),I())}function R_e(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.day"),I()()),2&n){const e=he();F(2),St(e.day)}}function D_e(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.hour"),I()()),2&n){const e=he();F(2),St(e.hour)}}function I_e(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.min"),I()()),2&n){const e=he();F(2),St(e.min)}}function N_e(n,t){if(1&n&&(R(0,"span")(1,"span"),z(2),I(),R(3,"span",5),z(4,"game.chat-widget.chat-message.chat-message-ban.sec"),I()()),2&n){const e=he();F(2),St(e.sec)}}function k_e(n,t){if(1&n&&(R(0,"span",5),z(1),I()),2&n){const e=he();F(1),Pe(" game.chat-widget.chat-message.chat-message-ban.",e.banInfo.reason," ")}}function F_e(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he();F(1),St(e.banInfo.reason)}}let B_e=(()=>{class n{constructor(e){this.app=e,this.isShownDay=!1,this.isShownHour=!1,this.isShownMin=!1,this.isShownSec=!1,this.day=0,this.hour=0,this.min=0,this.sec=0,this.isReasonOther=!1}ngOnInit(){this.setBanTime(),this.setBanReasonShown()}setBanTime(){if(!this.banInfo)return;let e=0;this.banInfo.isMyResponse?(e=(this.banInfo.chatBanEndDate-Date.now())/1e3,e=e<=0?1:e):e=this.banInfo.duration;const i=Math.floor(e/3600/24),r=Math.floor(e%86400/3600),o=Math.floor(e%3600/60),s=Math.floor(e%60);this.isShownDay=!!i,this.isShownHour=!!r,this.isShownMin=!!o,this.isShownSec=!!s,this.day=i,this.hour=r,this.min=o,this.sec=s}setBanReasonShown(){switch(this.banInfo.reason){case"strong language":case"spam":this.isReasonOther=!1;break;default:this.isReasonOther=!0}}}return n.\u0275fac=function(e){return new(e||n)(X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-chat-message-ban"]],inputs:{banInfo:"banInfo"},decls:18,vars:12,consts:[[1,"message-ban"],[1,"text","canSelect"],["class","player-name",4,"ngIf"],["translate","",4,"ngIf"],["class","font-weight-bold","translate","",4,"ngIf"],["translate",""],[4,"ngIf"],[1,"player-name"],["translate","",1,"font-weight-bold"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1),ue(2,O_e,2,1,"span",2),ue(3,M_e,2,0,"span",3),ue(4,w_e,2,0,"span",3),ue(5,P_e,2,0,"span",3),ue(6,A_e,2,0,"span",4),ue(7,x_e,2,0,"span",4),R(8,"span",5),z(9," game.chat-widget.chat-message.chat-message-ban.from chat for "),I(),ue(10,R_e,5,1,"span",6),ue(11,D_e,5,1,"span",6),ue(12,I_e,5,1,"span",6),ue(13,N_e,5,1,"span",6),R(14,"span",5),z(15,"game.chat-widget.chat-message.chat-message-ban.reason"),I(),ue(16,k_e,2,1,"span",3),ue(17,F_e,2,1,"span",6),I()()),2&e&&(F(2),Q("ngIf",i.banInfo.playerName),F(1),Q("ngIf",i.banInfo.isMyResponse),F(1),Q("ngIf",i.banInfo.playerName),F(1),Q("ngIf",i.banInfo.isMyResponse),F(1),Q("ngIf",i.banInfo.playerName),F(1),Q("ngIf",i.banInfo.isMyResponse),F(3),Q("ngIf",i.isShownDay),F(1),Q("ngIf",i.isShownHour),F(1),Q("ngIf",i.isShownMin),F(1),Q("ngIf",i.isShownSec),F(3),Q("ngIf",!i.isReasonOther),F(1),Q("ngIf",i.isReasonOther))},directives:[Zt,jn],styles:[".message-ban[_ngcontent-%COMP%]{min-height:47px;width:100%;border-radius:6px;box-shadow:4px 4px 6px #0000004a;border:solid 1px #f3000c;display:flex;align-items:center;justify-content:center;font-size:13px}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{min-height:100%;width:100%;text-align:center;padding:7px 10px;line-height:1.2;word-break:break-word}.message-ban[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .player-name[_ngcontent-%COMP%]{color:#f3000c}"]}),n})();const L_e=["(\\[b\\]@\\w+\\[\\/b\\])"],U_e=["(\\[b\\])","(\\[\\/b\\])"],j_e={"Good job! \u{1f62e}":!0,"Wow! \u{1f62e}":!0,"Awesome! \u{1f31f}":!0,"Cool! \u{1f60e}":!0,"That's huge! \u{1f6e9}":!0,"Congratulations \u{1f44f}":!0,"Best in this round with HUGE WIN! \u{1f44f}":!0," made a rain! \u{1f327}\u{1f60a}":!0,"Free bets for everyone! \u{1f60a}":!0};function AG(n){return new RegExp(n.join("|"),"g")}function V_e(n,t){1&n&&(R(0,"span",4),z(1," Mod "),I())}function H_e(n,t){1&n&&(R(0,"span",5),z(1," Bot "),I())}let Y_e=(()=>{class n{constructor(e,i){this.chat=e,this.app=i}tagUser(){this.chat.tagUser(this.username)}get isModeratorMessageType(){return this.senderType===rd.moderator}get isBotMessageType(){return this.senderType===rd.bot}get username(){return this.isBotMessageType||this.isModeratorMessageType?this.playerName:this.app.getFormattedUsername(this.playerName)}}return n.\u0275fac=function(e){return new(e||n)(X(Wa),X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-chat-message-name"]],inputs:{playerName:"playerName",senderType:"senderType"},decls:5,vars:3,consts:[[1,"name-wrapper"],[1,"name","canSelect",3,"click"],["class","font-weight-bold prefix prefix-mod",4,"ngIf"],["class","font-weight-bold prefix prefix-bot",4,"ngIf"],[1,"font-weight-bold","prefix","prefix-mod"],[1,"font-weight-bold","prefix","prefix-bot"]],template:function(e,i){1&e&&(R(0,"span",0)(1,"span",1),Me("click",function(){return i.tagUser()}),z(2),I(),ue(3,V_e,2,0,"span",2),ue(4,H_e,2,0,"span",3),I()),2&e&&(F(2),St(i.username),F(1),Q("ngIf",i.isModeratorMessageType),F(1),Q("ngIf",i.isBotMessageType))},directives:[Zt],styles:[".name-wrapper[_ngcontent-%COMP%]{margin-right:6px;align-items:center}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#ffffff80;cursor:pointer}.name-wrapper[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]:hover{cursor:pointer;color:#fff}.name-wrapper[_ngcontent-%COMP%]   .prefix[_ngcontent-%COMP%]{color:#013674;font-size:11px;margin-left:3px;padding:1px 3px;border-radius:4px}.name-wrapper[_ngcontent-%COMP%]   .prefix-mod[_ngcontent-%COMP%]{background-color:#27a708}.name-wrapper[_ngcontent-%COMP%]   .prefix-bot[_ngcontent-%COMP%]{background-color:#1279f1}"]}),n})();function W_e(n,t){if(1&n&&(R(0,"span",7),z(1),I()),2&n){const e=he().$implicit;at("reply-me",e.isReplyForMe),F(1),Pe(" ",e.str," ")}}function z_e(n,t){1&n&&Ae(0,"span",8),2&n&&Q("translate","game.chat-widget.chat-message."+he().$implicit.str)}function $_e(n,t){if(1&n&&(R(0,"span"),z(1),I()),2&n){const e=he().$implicit;F(1),St(e.str)}}function X_e(n,t){if(1&n&&(qt(0)(1,3),ue(2,W_e,2,3,"span",4),ue(3,z_e,1,1,"span",5),ue(4,$_e,2,1,"span",6),Jt()()),2&n){const e=t.$implicit,i=he();F(1),Q("ngSwitch",e.type),F(1),Q("ngSwitchCase",i.chatMessageChunkTypes.reply),F(1),Q("ngSwitchCase",i.chatMessageChunkTypes.translate)}}let K_e=(()=>{class n{constructor(){this.chatMessageChunkTypes=Rb,this.chatMessageSenderTypes=rd,this.messageChunks=[]}ngOnInit(){this.makeMessageChunks()}makeMessageChunks(){this.message&&this.message.split(AG(L_e)).forEach(i=>{if(""===i)return;const r=this.getChunkTypeMessage(i),o={str:this.getChunkMessage(i,r),type:r};this.messageChunks.push(o)})}getChunkMessage(e,i){return i===this.chatMessageChunkTypes.reply?e.replace(AG(U_e),""):e}getChunkTypeMessage(e){return function G_e(n){return/(\[b\]@\w+\[\/b\])/g.test(n)}(e)?this.chatMessageChunkTypes.reply:this.isBotMessageType&&j_e.hasOwnProperty(e)?this.chatMessageChunkTypes.translate:""}get isBotMessageType(){return this.senderType===this.chatMessageSenderTypes.bot}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-chat-message-text"]],inputs:{message:"message",senderType:"senderType",playerName:"playerName"},decls:3,vars:3,consts:[[1,"text","canSelect"],[3,"senderType","playerName"],[4,"ngFor","ngForOf"],[3,"ngSwitch"],["class","reply",3,"reply-me",4,"ngSwitchCase"],[3,"translate",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"reply"],[3,"translate"]],template:function(e,i){1&e&&(R(0,"span",0),Ae(1,"app-chat-message-name",1),ue(2,X_e,5,3,"ng-container",2),I()),2&e&&(F(1),Q("senderType",i.senderType)("playerName",i.playerName),F(1),Q("ngForOf",i.messageChunks))},directives:[Y_e,Ti,ol,Nu,jn,Fg],styles:[".text[_ngcontent-%COMP%]{word-break:break-word;margin-top:3px;color:#b1b7bd}.text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}"]}),n})();const q_e=["likeButton"];function J_e(n,t){if(1&n&&(R(0,"div",3),z(1),I()),2&n){const e=he();F(1),Pe(" ",e.usersLikesNumber," ")}}let od=class{constructor(t,e){this.cd=t,this.connector=e,this.loading=!1}ngOnInit(){this.connector.response(yn.Like,200).pipe(Ut(t=>this.messageId===t.messageId),Tt(this),tr(t=>{this.loading=!1,this.usersLikesNumber=t.usersLikesNumber})).subscribe(()=>this.cd.detectChanges())}onLike(){this.loading||(this.loading=!0,this.isMeLiked=!this.isMeLiked,this.usersLikesNumber=this.hasLikes?this.isMeLiked?++this.usersLikesNumber:--this.usersLikesNumber:1,this.connector.request(bi.Like,{setLike:this.isMeLiked,messageId:this.messageId}))}get hasLikes(){return!!this.usersLikesNumber}get isActiveMeLike(){return!!this.isMeLiked}};function Q_e(n,t){if(1&n&&(qt(0),R(1,"div",3)(2,"div",4),Ae(3,"img",5),I(),R(4,"div",6)(5,"div",7),Ae(6,"app-chat-message-text",8),I()(),R(7,"div",9),Ae(8,"app-chat-message-likes",10),I()(),Jt()),2&n){const e=he();F(3),Q("src",e.getAvatar(e.message),so)("alt",e.getAvatar(e.message)),F(3),Q("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),F(2),Q("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}function Z_e(n,t){if(1&n&&(qt(0),R(1,"div",3)(2,"div",4),Ae(3,"img",5),I(),R(4,"div",11)(5,"div",7),Ae(6,"app-chat-message-text",8),I()(),R(7,"div",9),Ae(8,"app-chat-message-likes",10),I()(),Jt()),2&n){const e=he();F(3),Q("src",e.getAvatar(e.message),so)("alt",e.getAvatar(e.message)),F(3),Q("playerName",e.message.playerName)("senderType",e.message.senderType)("message",e.message.message),F(2),Q("messageId",e.message.messageId)("isMeLiked",null==e.message.likes?null:e.message.likes.isMeLiked)("usersLikesNumber",null==e.message.likes?null:e.message.likes.usersLikesNumber)}}od.\u0275fac=function(t){return new(t||od)(X(Mn),X(yi))},od.\u0275cmp=gt({type:od,selectors:[["app-chat-message-likes"]],viewQuery:function(t,e){if(1&t&&Jo(q_e,7),2&t){let i;Kn(i=qn())&&(e.likeButtonRef=i.first)}},inputs:{messageId:"messageId",isMeLiked:"isMeLiked",usersLikesNumber:"usersLikesNumber"},decls:3,vars:3,consts:[[1,"btn-block"],["class","font-weight-bold likes-number",4,"ngIf"],[1,"btn-like",3,"click"],[1,"font-weight-bold","likes-number"]],template:function(t,e){1&t&&(R(0,"div",0),ue(1,J_e,2,1,"div",1),R(2,"div",2),Me("click",function(){return e.onLike()}),I()()),2&t&&(F(1),Q("ngIf",e.hasLikes),F(1),at("active",e.isActiveMeLike))},directives:[Zt],styles:[".btn-block[_ngcontent-%COMP%]{margin-top:4px;height:12px;display:flex;justify-content:center;color:#767b85}.btn-block[_ngcontent-%COMP%]   .likes-number[_ngcontent-%COMP%]{position:relative}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]{height:100%;width:12px;padding:0;margin:0 2px;cursor:pointer;background-image:var(--urlImgLike);background-repeat:no-repeat;background-position:center;background-size:contain;--urlImgLike: url(like.bce1e56708107e40.svg);--urlImgLikeH: url(like-h.c93fa2bd77581a8c.svg)}.btn-block[_ngcontent-%COMP%]   .btn-like.active[_ngcontent-%COMP%]{background-image:var(--urlImgLikeH)}.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:active{transform:translateY(1px);background-image:var(--urlImgLikeH)}@media (pointer: fine) and (hover: hover){.btn-block[_ngcontent-%COMP%]   .btn-like[_ngcontent-%COMP%]:hover{background-image:var(--urlImgLikeH)}}"]}),od=Ye([Ci()],od);let eme=(()=>{class n{constructor(){this.chatMessageRegularTypes=_m}getAvatar(e){return Wi_avatarPath+e.profileImage+`?v=${Wi_version}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-chat-message-regular"]],inputs:{message:"message",type:"type"},decls:3,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"message-wrapper"],[1,"avatar-block"],[1,"avatar",3,"src","alt"],[1,"msg-block","msg-block-type-header"],[1,"msg-data"],[3,"playerName","senderType","message"],[1,"likes-block"],[3,"messageId","isMeLiked","usersLikesNumber"],[1,"msg-block"]],template:function(e,i){1&e&&(qt(0,0),ue(1,Q_e,9,8,"ng-container",1),ue(2,Z_e,9,8,"ng-container",2),Jt()),2&e&&(Q("ngSwitch",i.type),F(1),Q("ngSwitchCase",i.chatMessageRegularTypes.header))},directives:[ol,Nu,K_e,od,Fg],styles:[".message-wrapper[_ngcontent-%COMP%]{display:flex;width:100%;padding:0 10px 0 8px;align-items:flex-start;border-radius:8px;line-height:normal}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]{text-align:center}.message-wrapper[_ngcontent-%COMP%]   .avatar-block[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{min-width:22px;min-height:22px;max-width:22px;max-height:22px;border-radius:50%}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]{border-radius:17px;display:flex;flex-direction:column;width:100%;padding:2px 10px 5px 4px}.message-wrapper[_ngcontent-%COMP%]   .msg-block.msg-block-typ-header[_ngcontent-%COMP%]{padding:2px 10px 5px 5px}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;width:100%;align-items:center;justify-content:space-between}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-mobile-wrapper[_ngcontent-%COMP%]{display:inline-block;width:60px;position:absolute;top:-16px;margin-left:auto;margin-right:auto;left:0;right:0}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .reply-wrapper[_ngcontent-%COMP%]{display:none}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{margin-top:3px;word-break:break-word}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply[_ngcontent-%COMP%]{color:#fff}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .reply-me[_ngcontent-%COMP%]{color:#e50539}.message-wrapper[_ngcontent-%COMP%]   .msg-block[_ngcontent-%COMP%]   .msg-data[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   .emoji[_ngcontent-%COMP%]{font-size:24px}.message-wrapper[_ngcontent-%COMP%]   .likes-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;flex-basis:32px}"]}),n})(),xG=(()=>{class n{transform(e,i){return i?"":e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=oo({name:"hideCurrency",type:n,pure:!0}),n})(),tme=(()=>{class n{constructor(e,i){this.app=e,this.main=i}}return n.\u0275fac=function(e){return new(e||n)(X(ln),X(Vi))},n.\u0275cmp=gt({type:n,selectors:[["app-chat-share-bet"]],inputs:{winInfo:"winInfo"},decls:34,vars:28,consts:[[1,"wrapper"],[1,"header"],[1,"fairness-i","position-absolute","mr-2","mt-2","disabled-on-game-focused",3,"click"],[1,"user","d-flex","justify-content-center","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"info-blocks"],[1,"info-block"],[1,"title-info-block"],["appColoredMultiplier","",1,"info-data","font-weight-bold"],[1,"info-data"],[1,"info-data",3,"isFreeBet","amount"]],template:function(e,i){1&e&&(R(0,"div",0)(1,"div",1)(2,"div",2),Me("click",function(){return i.main.checkFairness(i.winInfo.roundId)}),I()(),R(3,"div",3),Ae(4,"img",4),R(5,"div"),z(6),I()(),R(7,"div",5)(8,"div",6)(9,"div",7),z(10),Ce(11,"translate"),I(),R(12,"div",8),z(13),I()(),R(14,"div",6)(15,"div",7),z(16),Ce(17,"translate"),Ce(18,"hideCurrency"),I(),R(19,"div",9),z(20),I()()(),R(21,"div",5)(22,"div",6)(23,"div",7),z(24),Ce(25,"translate"),I(),R(26,"div",9),z(27),I()(),R(28,"div",6)(29,"div",7),z(30),Ce(31,"translate"),Ce(32,"hideCurrency"),I(),Ae(33,"app-bet-amount",10),I()()()),2&e&&(F(4),Q("src",i.app.getAvatarUrl(i.winInfo.profileImage),so)("alt",i.app.getAvatarUrl(i.winInfo.profileImage)),F(2),Pe(" ",i.app.getFormattedUsername(i.winInfo.playerName)," "),F(4),Pe("",Ne(11,14,"shared.cashed_out"),":"),F(3),Pe(" ",i.winInfo.multiplier.toFixed(2),"x "),F(3),Yi(" ",Ne(17,16,"shared.win"),", ",oi(18,18,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),F(4),Pe(" ",i.winInfo.winAmount.toFixed(i.app.config.betPrecision)," "),F(4),Pe("",Ne(25,21,"shared.round"),":"),F(3),Pe("",i.winInfo.roundMaxMultiplier.toFixed(2),"x"),F(3),Yi(" ",Ne(31,23,"shared.bet"),", ",oi(32,25,i.winInfo.currency,i.app.config.isCurrencyNameHidden),": "),F(3),Q("isFreeBet",i.winInfo.isFreeBet)("amount",i.winInfo.bet))},directives:[A5,K0],pipes:[Qn,xG],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column;font-size:11px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:relative}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-top:3px;font-size:13px}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-i[_ngcontent-%COMP%]{background:url(icon-provabyfair.652dcfd9d89241e2.svg) no-repeat center center/contain;min-width:14px;max-width:14px;height:16px;cursor:pointer;right:0;top:0}.wrapper[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .fairness-wrapper[_ngcontent-%COMP%]{margin-left:5px;right:5px;top:5px;position:absolute}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]{text-align:center;font-size:14px;color:#fff;padding:10px 0 20px}.wrapper[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]{display:flex;margin-bottom:11px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]{width:50%;font-size:12px;flex-shrink:0;padding-left:12%}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .title-info-block[_ngcontent-%COMP%]{opacity:.3;display:flex;justify-content:flex-start;align-items:center;height:14px}.wrapper[_ngcontent-%COMP%]   .info-blocks[_ngcontent-%COMP%]   .info-block[_ngcontent-%COMP%]   .info-data[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;height:14px;margin-top:5px;color:#fff}"]}),n})();var Ib=(()=>(function(n){n.Claimed="claimed",n.Free="free",n.Canceled="canceled"}(Ib||(Ib={})),Ib))();function nme(n,t){if(1&n&&(qt(0),R(1,"div",11),Ae(2,"img",12),R(3,"div",13),z(4),I()(),Jt()),2&n){const e=he().$implicit,i=he();F(2),Q("src",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage),so)("alt",i.app.getAvatarUrl(i.rainInfo.rainWinnerInfo[e].profileImage)),F(1),at("me",i.rainInfo.rainWinnerInfo[e].isMe),F(1),Pe(" ",i.app.getFormattedUsername(i.rainInfo.rainWinnerInfo[e].playerName)," ")}}function ime(n,t){if(1&n){const e=Ct();qt(0),R(1,"button",14),Me("click",function(){ft(e);const r=he().$implicit,o=he();return o.onClaimRain({rainWinnerId:o.rainInfo.rainWinnerInfo[r].rainWinnerId,rainId:o.rainInfo.rainId})}),z(2),Ce(3,"translate"),I(),Jt()}if(2&n){const e=he(2);F(1),Q("disabled",!e.rainInfo.isCanClaim),F(1),Pe(" ",Ne(3,2,"shared.claim")," ")}}function rme(n,t){1&n&&(qt(0),R(1,"button",15),z(2),Ce(3,"translate"),I(),Jt()),2&n&&(F(1),Q("disabled",!0),F(1),Pe(" ",Ne(3,2,"shared.claim")," "))}function ome(n,t){if(1&n&&(R(0,"div",7)(1,"div",8)(2,"span"),z(3),Ce(4,"hideCurrency"),I()(),qt(5,9),ue(6,nme,5,5,"ng-container",10),ue(7,ime,4,4,"ng-container",10),ue(8,rme,4,4,"ng-container",10),Jt(),I()),2&n){const e=t.$implicit,i=he();F(3),Yi(" ",i.rainInfo.rainAmountPerUser.toFixed(i.app.config.betPrecision)," ",oi(4,6,i.rainInfo.currency,i.app.config.isCurrencyNameHidden)," "),F(2),Q("ngSwitch",i.rainInfo.rainWinnerInfo[e].rainNodeStatus),F(1),Q("ngSwitchCase",i.rainNodeStatus.Claimed),F(1),Q("ngSwitchCase",i.rainNodeStatus.Free),F(1),Q("ngSwitchCase",i.rainNodeStatus.Canceled)}}let sd=class{constructor(t,e,i,r,o){this.connector=t,this.captcha=e,this.cd=i,this.freeBets=r,this.app=o,this.objectKeys=Object.keys,this.rainNodeStatus=Ib}ngOnInit(){this.connector.response(yn.ClaimRainWin).pipe(Ut(t=>t.rainId===this.rainInfo.rainId),Tt(this)).subscribe(t=>this.responseClaimRain(t))}onClaimRain(t){this.rainInfo.isCanClaim&&(this.rainInfo.isCanClaim=!1,this.app.config.reCaptchaSiteKey?this.captcha.execute(this.app.config.reCaptchaSiteKey,"claimRain",e=>{t.captchaUserToken=e,this.connector.request(bi.ClaimRainWin,t)}):this.connector.request(bi.ClaimRainWin,t))}responseClaimRain(t){200!==t.code?this.rainInfo.isCanClaim=!0:(this.rainInfo.rainWinnerInfo[t.rainWinnerId]=Object.assign(Object.assign({},this.rainInfo.rainWinnerInfo[t.rainWinnerId]),{playerName:t.playerName,profileImage:t.profileImage,isMe:t.isMe,rainNodeStatus:t.rainNodeStatus}),t.freeBetInfo&&this.freeBets.add(t.freeBetInfo)),this.cd.detectChanges()}};function sme(n,t){if(1&n&&(qt(0),R(1,"div",3),Ae(2,"app-chat-message-ban",4),I(),Jt()),2&n){const e=he();F(2),Q("banInfo",e.message.banInfo)}}sd.\u0275fac=function(t){return new(t||sd)(X(yi),X(OL),X(Mn),X(ru),X(ln))},sd.\u0275cmp=gt({type:sd,selectors:[["app-chat-rain"]],inputs:{rainInfo:"rainInfo"},decls:13,vars:12,consts:[[1,"rain-wrapper"],[1,"body"],[1,"claim-wrapper"],["class","claim-block",4,"ngFor","ngForOf"],[1,"footer"],[1,"footer-info"],[1,"amount"],[1,"claim-block"],[1,"amount","mr-2","px-2"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"user","d-flex","align-items-center"],[1,"avatar","mr-1",3,"src","alt"],[1,"username"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled","click"],[1,"btn","btn-warning","btn-claim","text-uppercase",3,"disabled"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),ue(3,ome,9,9,"div",3),I()(),R(4,"div",4)(5,"div",5)(6,"span"),z(7),Ce(8,"translate"),Ce(9,"translate"),I(),R(10,"span",6),z(11),Ce(12,"hideCurrency"),I()()()()),2&t&&(F(3),Q("ngForOf",e.objectKeys(e.rainInfo.rainWinnerInfo)),F(4),Yi(" ",Ne(8,5,"shared.rain")," \u{1f327} | ",Ne(9,7,"shared.total")," "),F(4),Yi(" ",e.rainInfo.rainFullAmount.toFixed(e.app.config.betPrecision)," ",oi(12,9,e.rainInfo.currency,e.app.config.isCurrencyNameHidden)," "))},directives:[Ti,ol,Nu],pipes:[xG,Qn],styles:[".rain-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:20px 0 15px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:flex-start;margin:5px auto;color:#fff}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-right:9px;border-radius:11px;border:solid 1px #427f00;background-color:#123405;font-size:14px;padding-top:3px;padding-bottom:3px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{margin-left:2px;width:22px;height:22px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .user[_ngcontent-%COMP%]   .username.me[_ngcontent-%COMP%]{color:#e30c32}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]{min-width:80px;height:22px;font-size:14px;padding:0 5px}.rain-wrapper[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .claim-wrapper[_ngcontent-%COMP%]   .claim-block[_ngcontent-%COMP%]   .btn-claim[_ngcontent-%COMP%]:disabled{cursor:auto;opacity:.2;pointer-events:none}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{max-height:34px;min-height:34px;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;color:#9ea0a3}.rain-wrapper[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#fff}"]}),sd=Ye([Ci()],sd);const ame=function(n,t,e){return{low:n,medium:t,high:e}};function lme(n,t){if(1&n&&(qt(0),R(1,"div",5)(2,"div",6),Ae(3,"app-chat-message-regular",7),I(),Ae(4,"app-chat-share-bet",8),I(),Jt()),2&n){const e=he();F(1),Q("ngClass",Iv(4,ame,e.message.winInfo.multiplier<e.multiplierLevel.Medium,e.message.winInfo.multiplier>=e.multiplierLevel.Medium&&e.message.winInfo.multiplier<e.multiplierLevel.High,e.message.winInfo.multiplier>=e.multiplierLevel.High)),F(2),Q("type",e.chatMessageRegularTypes.header)("message",e.message),F(1),Q("winInfo",e.message.winInfo)}}function ume(n,t){if(1&n&&(qt(0),R(1,"div",9)(2,"div",6),Ae(3,"app-chat-message-regular",7),I(),Ae(4,"app-chat-rain",10),I(),Jt()),2&n){const e=he();F(3),Q("type",e.chatMessageRegularTypes.header)("message",e.message),F(1),Q("rainInfo",e.message.rainInfo)}}const cme=function(n,t){return{width:n,height:t}};function hme(n,t){if(1&n&&(qt(0),R(1,"div",11)(2,"div"),Ae(3,"app-chat-message-regular",7),I(),R(4,"div",12)(5,"div",13),Ae(6,"img",14),I()()(),Jt()),2&n){const e=he();F(3),Q("type",e.chatMessageRegularTypes.header)("message",e.message),F(2),Q("ngStyle",Aa(4,cme,e.gifWidth+"px",e.gifHeight+"px")),F(1),Q("src",e.gifInfo.url,so)}}function dme(n,t){if(1&n&&(qt(0),R(1,"div",3),Ae(2,"app-chat-message-regular",15),I(),Jt()),2&n){const e=he();F(2),Q("message",e.message)}}let fme=(()=>{class n{constructor(){this.gifMaxLength=180,this.chatMessageTypes=Db,this.chatMessageRegularTypes=_m,this.chatMessageSenderTypes=rd,this.multiplierLevel=ph}ngOnInit(){this.isGifShown&&(this.gifInfo=JSON.parse(this.message.gifInfo),this.getGifSizes())}getGifSizes(){const e=this.gifInfo.dims[0],i=this.gifInfo.dims[1],r=e>=i;this.gifWidth=r?this.gifMaxLength:e/(i/this.gifMaxLength),this.gifHeight=r?i/(e/this.gifMaxLength):this.gifMaxLength}get isGifShown(){return this.message.messageType===this.chatMessageTypes.gif&&!!this.message.gifInfo}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-chat-message"]],inputs:{message:"message"},decls:6,vars:5,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"mb-2"],[3,"banInfo"],[1,"win-info-wrapper","mb-2",3,"ngClass"],[1,"msg-wrapper"],[3,"type","message"],[3,"winInfo"],[1,"rain-wrapper","mb-2"],[3,"rainInfo"],[1,"gif-wrapper","mb-2"],[1,"img-wrapper"],[1,"img-container",3,"ngStyle"],["alt","gif",1,"img",3,"src"],[3,"message"]],template:function(e,i){1&e&&(qt(0,0),ue(1,sme,3,1,"ng-container",1),ue(2,lme,5,8,"ng-container",1),ue(3,ume,5,3,"ng-container",1),ue(4,hme,7,7,"ng-container",1),ue(5,dme,3,1,"ng-container",2),Jt()),2&e&&(Q("ngSwitch",i.message.messageType),F(1),Q("ngSwitchCase",i.chatMessageTypes.ban),F(1),Q("ngSwitchCase",i.chatMessageTypes.winInfo),F(1),Q("ngSwitchCase",i.chatMessageTypes.rain),F(1),Q("ngSwitchCase",i.chatMessageTypes.gif))},directives:[ol,Nu,B_e,yf,eme,tme,sd,Bg,Fg],styles:[".win-info-wrapper[_ngcontent-%COMP%]{border-radius:6px}.win-info-wrapper.low[_ngcontent-%COMP%]{background-color:#000e34}.win-info-wrapper.medium[_ngcontent-%COMP%]{background-color:#260034}.win-info-wrapper.high[_ngcontent-%COMP%]{background-color:#34002f}.win-info-wrapper[_ngcontent-%COMP%]   .msg-wrapper[_ngcontent-%COMP%]{background:rgba(0,0,0,.2)}.rain-wrapper[_ngcontent-%COMP%]{border-radius:6px;background-color:#055522}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]{margin:4px 10px 0 30px}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]{border-radius:6px;overflow:hidden}.gif-wrapper[_ngcontent-%COMP%]   .img-wrapper[_ngcontent-%COMP%]   .img-container[_ngcontent-%COMP%]   .img[_ngcontent-%COMP%]{width:100%;height:100%}.msg-wrapper[_ngcontent-%COMP%]{min-height:40px;padding-top:10px}"],changeDetection:0}),n})();var _c=(()=>(function(n){n.emoji="emoji",n.gif="gif",n.rain="rain"}(_c||(_c={})),_c))();const ad=JSON.parse('[{"no":1,"title":"face with tears of joy","category":"Favorites","pic":"\u{1f602}"},{"no":2,"title":"smiling face with heart-eyes","category":"Favorites","pic":"\u{1f60d}"},{"no":3,"title":"smiling face with smiling eyes","category":"Favorites","pic":"\u{1f60a}"},{"no":4,"title":"confused face","category":"Favorites","pic":"\u{1f615}"},{"no":5,"title":"OK hand","category":"Favorites","pic":"\u{1f44c}"},{"no":6,"title":"rocket","category":"Favorites","pic":"\u{1f680}"},{"no":7,"title":"trophy","category":"Favorites","pic":"\u{1f3c6}"},{"no":8,"title":"beer mug","category":"Favorites","pic":"\u{1f37a}"},{"no":9,"title":"red heart","category":"Favorites","pic":"\u2764\ufe0f"},{"no":10,"title":"grinning face with smiling eyes","category":"People","pic":"\u{1f604}"},{"no":11,"title":"grinning face with big eyes","category":"People","pic":"\u{1f603}"},{"no":12,"title":"grinning face","category":"People","pic":"\u{1f600}"},{"no":13,"title":"smiling face with smiling eyes","category":"People","pic":"\u{1f60a}"},{"no":14,"title":"winking face","category":"People","pic":"\u{1f609}"},{"no":15,"title":"smiling face with heart-eyes","category":"People","pic":"\u{1f60d}"},{"no":16,"title":"face blowing a kiss","category":"People","pic":"\u{1f618}"},{"no":17,"title":"kissing face with closed eyes","category":"People","pic":"\u{1f61a}"},{"no":18,"title":"kissing face","category":"People","pic":"\u{1f617}"},{"no":19,"title":"kissing face with smiling eyes","category":"People","pic":"\u{1f619}"},{"no":20,"title":"winking face with tongue","category":"People","pic":"\u{1f61c}"},{"no":21,"title":"squinting face with tongue","category":"People","pic":"\u{1f61d}"},{"no":22,"title":"face with tongue","category":"People","pic":"\u{1f61b}"},{"no":23,"title":"flushed face","category":"People","pic":"\u{1f633}"},{"no":24,"title":"beaming face with smiling eyes","category":"People","pic":"\u{1f601}"},{"no":25,"title":"pensive face","category":"People","pic":"\u{1f614}"},{"no":26,"title":"relieved face","category":"People","pic":"\u{1f60c}"},{"no":27,"title":"unamused face","category":"People","pic":"\u{1f612}"},{"no":28,"title":"disappointed face","category":"People","pic":"\u{1f61e}"},{"no":29,"title":"persevering face","category":"People","pic":"\u{1f623}"},{"no":30,"title":"crying face","category":"People","pic":"\u{1f622}"},{"no":31,"title":"face with tears of joy","category":"People","pic":"\u{1f602}"},{"no":32,"title":"loudly crying face","category":"People","pic":"\u{1f62d}"},{"no":33,"title":"sleepy face","category":"People","pic":"\u{1f62a}"},{"no":34,"title":"sad but relieved face","category":"People","pic":"\u{1f625}"},{"no":35,"title":"anxious face with sweat","category":"People","pic":"\u{1f630}"},{"no":36,"title":"grinning face with sweat","category":"People","pic":"\u{1f605}"},{"no":37,"title":"downcast face with sweat","category":"People","pic":"\u{1f613}"},{"no":38,"title":"weary face","category":"People","pic":"\u{1f629}"},{"no":39,"title":"tired face","category":"People","pic":"\u{1f62b}"},{"no":40,"title":"fearful face","category":"People","pic":"\u{1f628}"},{"no":41,"title":"face screaming in fear","category":"People","pic":"\u{1f631}"},{"no":42,"title":"angry face","category":"People","pic":"\u{1f620}"},{"no":43,"title":"pouting face","category":"People","pic":"\u{1f621}"},{"no":44,"title":"face with steam from nose","category":"People","pic":"\u{1f624}"},{"no":45,"title":"confounded face","category":"People","pic":"\u{1f616}"},{"no":46,"title":"grinning squinting face","category":"People","pic":"\u{1f606}"},{"no":47,"title":"face savoring food","category":"People","pic":"\u{1f60b}"},{"no":48,"title":"face with medical mask","category":"People","pic":"\u{1f637}"},{"no":49,"title":"smiling face with sunglasses","category":"People","pic":"\u{1f60e}"},{"no":50,"title":"sleeping face","category":"People","pic":"\u{1f634}"},{"no":51,"title":"dizzy face","category":"People","pic":"\u{1f635}"},{"no":52,"title":"astonished face","category":"People","pic":"\u{1f632}"},{"no":53,"title":"worried face","category":"People","pic":"\u{1f61f}"},{"no":54,"title":"frowning face with open mouth","category":"People","pic":"\u{1f626}"},{"no":55,"title":"anguished face","category":"People","pic":"\u{1f627}"},{"no":56,"title":"angry face with horns","category":"People","pic":"\u{1f47f}"},{"no":57,"title":"face with open mouth","category":"People","pic":"\u{1f62e}"},{"no":58,"title":"grimacing face","category":"People","pic":"\u{1f62c}"},{"no":59,"title":"neutral face","category":"People","pic":"\u{1f610}"},{"no":60,"title":"confused face","category":"People","pic":"\u{1f615}"},{"no":61,"title":"hushed face","category":"People","pic":"\u{1f62f}"},{"no":62,"title":"smirking face","category":"People","pic":"\u{1f60f}"},{"no":63,"title":"expressionless face","category":"People","pic":"\u{1f611}"},{"no":64,"title":"slightly frowning face","category":"People","pic":"\u{1f641}"},{"no":65,"title":"face with rolling eyes","category":"People","pic":"\u{1f644}"},{"no":66,"title":"thinking face","category":"People","pic":"\u{1f914}"},{"no":67,"title":"zipper-mouth face","category":"People","pic":"\u{1f910}"},{"no":68,"title":"face with thermometer","category":"People","pic":"\u{1f912}"},{"no":69,"title":"face with head-bandage","category":"People","pic":"\u{1f915}"},{"no":70,"title":"slightly smiling face","category":"People","pic":"\u{1f642}"},{"no":71,"title":"upside-down face","category":"People","pic":"\u{1f643}"},{"no":72,"title":"money-mouth face","category":"People","pic":"\u{1f911}"},{"no":73,"title":"hugging face","category":"People","pic":"\u{1f917}"},{"no":74,"title":"nerd face","category":"People","pic":"\u{1f913}"},{"no":75,"title":"princess","category":"People","pic":"\u{1f478}"},{"no":76,"title":"ogre","category":"People","pic":"\u{1f479}"},{"no":77,"title":"goblin","category":"People","pic":"\u{1f47a}"},{"no":78,"title":"see-no-evil monkey","category":"People","pic":"\u{1f648}"},{"no":79,"title":"hear-no-evil monkey","category":"People","pic":"\u{1f649}"},{"no":80,"title":"speak-no-evil monkey","category":"People","pic":"\u{1f64a}"},{"no":81,"title":"skull","category":"People","pic":"\u{1f480}"},{"no":82,"title":"alien","category":"People","pic":"\u{1f47d}"},{"no":83,"title":"pile of poo","category":"People","pic":"\u{1f4a9}"},{"no":84,"title":"fire","category":"People","pic":"\u{1f525}"},{"no":85,"title":"sparkles","category":"People","pic":"\u2728"},{"no":86,"title":"glowing star","category":"People","pic":"\u{1f31f}"},{"no":87,"title":"collision","category":"People","pic":"\u{1f4a5}"},{"no":88,"title":"sweat droplets","category":"People","pic":"\u{1f4a6}"},{"no":89,"title":"droplet","category":"People","pic":"\u{1f4a7}"},{"no":90,"title":"zzz","category":"People","pic":"\u{1f4a4}"},{"no":91,"title":"dashing away","category":"People","pic":"\u{1f4a8}"},{"no":92,"title":"ear","category":"People","pic":"\u{1f442}"},{"no":93,"title":"eyes","category":"People","pic":"\u{1f440}"},{"no":94,"title":"nose","category":"People","pic":"\u{1f443}"},{"no":95,"title":"tongue","category":"People","pic":"\u{1f445}"},{"no":96,"title":"mouth","category":"People","pic":"\u{1f444}"},{"no":97,"title":"thumbs up","category":"People","pic":"\u{1f44d}"},{"no":98,"title":"thumbs down","category":"People","pic":"\u{1f44e}"},{"no":99,"title":"OK hand","category":"People","pic":"\u{1f44c}"},{"no":100,"title":"oncoming fist","category":"People","pic":"\u{1f44a}"},{"no":101,"title":"raised fist","category":"People","pic":"\u270a"},{"no":102,"title":"waving hand","category":"People","pic":"\u{1f44b}"},{"no":103,"title":"raised hand","category":"People","pic":"\u270b"},{"no":104,"title":"open hands","category":"People","pic":"\u{1f450}"},{"no":105,"title":"backhand index pointing up","category":"People","pic":"\u{1f446}"},{"no":106,"title":"backhand index pointing down","category":"People","pic":"\u{1f447}"},{"no":107,"title":"backhand index pointing right","category":"People","pic":"\u{1f449}"},{"no":108,"title":"backhand index pointing left","category":"People","pic":"\u{1f448}"},{"no":109,"title":"sign of the horns","category":"People","pic":"\u{1f918}"},{"no":110,"title":"hand with fingers splayed","category":"People","pic":"\u{1f590}"},{"no":111,"title":"vulcan salute","category":"People","pic":"\u{1f596}"},{"no":112,"title":"middle finger","category":"People","pic":"\u{1f595}"},{"no":113,"title":"raising hands","category":"People","pic":"\u{1f64c}"},{"no":114,"title":"folded hands","category":"People","pic":"\u{1f64f}"},{"no":115,"title":"clapping hands","category":"People","pic":"\u{1f44f}"},{"no":116,"title":"flexed biceps","category":"People","pic":"\u{1f4aa}"},{"no":117,"title":"woman dancing","category":"People","pic":"\u{1f483}"},{"no":118,"title":"woman and man holding hands","category":"People","pic":"\u{1f46b}"},{"no":119,"title":"family","category":"People","pic":"\u{1f46a}"},{"no":120,"title":"kiss","category":"People","pic":"\u{1f48f}"},{"no":121,"title":"person gesturing OK","category":"People","pic":"\u{1f646}"},{"no":122,"title":"person gesturing NO","category":"People","pic":"\u{1f645}"},{"no":123,"title":"person tipping hand","category":"People","pic":"\u{1f481}"},{"no":124,"title":"person raising hand","category":"People","pic":"\u{1f64b}"},{"no":125,"title":"person getting massage","category":"People","pic":"\u{1f486}"},{"no":126,"title":"person getting haircut","category":"People","pic":"\u{1f487}"},{"no":127,"title":"nail polish","category":"People","pic":"\u{1f485}"},{"no":128,"title":"bride with veil","category":"People","pic":"\u{1f470}"},{"no":129,"title":"person pouting","category":"People","pic":"\u{1f64e}"},{"no":130,"title":"person frowning","category":"People","pic":"\u{1f64d}"},{"no":131,"title":"person bowing","category":"People","pic":"\u{1f647}"},{"no":132,"title":"top hat","category":"People","pic":"\u{1f3a9}"},{"no":133,"title":"crown","category":"People","pic":"\u{1f451}"},{"no":134,"title":"red heart","category":"People","pic":"\u2764\ufe0f"},{"no":135,"title":"yellow heart","category":"People","pic":"\u{1f49b}"},{"no":136,"title":"blue heart","category":"People","pic":"\u{1f499}"},{"no":137,"title":"purple heart","category":"People","pic":"\u{1f49c}"},{"no":138,"title":"green heart","category":"People","pic":"\u{1f49a}"},{"no":139,"title":"broken heart","category":"People","pic":"\u{1f494}"},{"no":140,"title":"growing heart","category":"People","pic":"\u{1f497}"},{"no":141,"title":"beating heart","category":"People","pic":"\u{1f493}"},{"no":142,"title":"two hearts","category":"People","pic":"\u{1f495}"},{"no":143,"title":"sparkling heart","category":"People","pic":"\u{1f496}"},{"no":144,"title":"revolving hearts","category":"People","pic":"\u{1f49e}"},{"no":145,"title":"heart with arrow","category":"People","pic":"\u{1f498}"},{"no":146,"title":"love letter","category":"People","pic":"\u{1f48c}"},{"no":147,"title":"kiss mark","category":"People","pic":"\u{1f48b}"},{"no":148,"title":"ring","category":"People","pic":"\u{1f48d}"},{"no":149,"title":"gem stone","category":"People","pic":"\u{1f48e}"},{"no":150,"title":"robot","category":"People","pic":"\u{1f916}"},{"no":151,"title":"dog face","category":"Nature","pic":"\u{1f436}"},{"no":152,"title":"wolf","category":"Nature","pic":"\u{1f43a}"},{"no":153,"title":"cat face","category":"Nature","pic":"\u{1f431}"},{"no":154,"title":"mouse face","category":"Nature","pic":"\u{1f42d}"},{"no":155,"title":"hamster","category":"Nature","pic":"\u{1f439}"},{"no":156,"title":"rabbit face","category":"Nature","pic":"\u{1f430}"},{"no":157,"title":"frog","category":"Nature","pic":"\u{1f438}"},{"no":158,"title":"tiger face","category":"Nature","pic":"\u{1f42f}"},{"no":159,"title":"koala","category":"Nature","pic":"\u{1f428}"},{"no":160,"title":"bear","category":"Nature","pic":"\u{1f43b}"},{"no":161,"title":"pig face","category":"Nature","pic":"\u{1f437}"},{"no":162,"title":"pig nose","category":"Nature","pic":"\u{1f43d}"},{"no":163,"title":"cow face","category":"Nature","pic":"\u{1f42e}"},{"no":164,"title":"boar","category":"Nature","pic":"\u{1f417}"},{"no":165,"title":"monkey face","category":"Nature","pic":"\u{1f435}"},{"no":166,"title":"monkey","category":"Nature","pic":"\u{1f412}"},{"no":167,"title":"horse face","category":"Nature","pic":"\u{1f434}"},{"no":168,"title":"ewe","category":"Nature","pic":"\u{1f411}"},{"no":169,"title":"elephant","category":"Nature","pic":"\u{1f418}"},{"no":170,"title":"panda","category":"Nature","pic":"\u{1f43c}"},{"no":171,"title":"penguin","category":"Nature","pic":"\u{1f427}"},{"no":172,"title":"bird","category":"Nature","pic":"\u{1f426}"},{"no":173,"title":"baby chick","category":"Nature","pic":"\u{1f424}"},{"no":174,"title":"front-facing baby chick","category":"Nature","pic":"\u{1f425}"},{"no":175,"title":"hatching chick","category":"Nature","pic":"\u{1f423}"},{"no":176,"title":"chicken","category":"Nature","pic":"\u{1f414}"},{"no":177,"title":"snake","category":"Nature","pic":"\u{1f40d}"},{"no":178,"title":"turtle","category":"Nature","pic":"\u{1f422}"},{"no":179,"title":"bug","category":"Nature","pic":"\u{1f41b}"},{"no":180,"title":"honeybee","category":"Nature","pic":"\u{1f41d}"},{"no":181,"title":"ant","category":"Nature","pic":"\u{1f41c}"},{"no":182,"title":"lady beetle","category":"Nature","pic":"\u{1f41e}"},{"no":183,"title":"snail","category":"Nature","pic":"\u{1f40c}"},{"no":184,"title":"lion","category":"Nature","pic":"\u{1f981}"},{"no":185,"title":"unicorn","category":"Nature","pic":"\u{1f984}"},{"no":186,"title":"spider","category":"Nature","pic":"\u{1f577}"},{"no":187,"title":"spider web","category":"Nature","pic":"\u{1f578}"},{"no":188,"title":"scorpion","category":"Nature","pic":"\u{1f982}"},{"no":189,"title":"crab","category":"Nature","pic":"\u{1f980}"},{"no":190,"title":"turkey","category":"Nature","pic":"\u{1f983}"},{"no":191,"title":"dove","category":"Nature","pic":"\u{1f54a}"},{"no":192,"title":"chipmunk","category":"Nature","pic":"\u{1f43f}"},{"no":193,"title":"octopus","category":"Nature","pic":"\u{1f419}"},{"no":194,"title":"spiral shell","category":"Nature","pic":"\u{1f41a}"},{"no":195,"title":"tropical fish","category":"Nature","pic":"\u{1f420}"},{"no":196,"title":"fish","category":"Nature","pic":"\u{1f41f}"},{"no":197,"title":"dolphin","category":"Nature","pic":"\u{1f42c}"},{"no":198,"title":"spouting whale","category":"Nature","pic":"\u{1f433}"},{"no":199,"title":"horse","category":"Nature","pic":"\u{1f40e}"},{"no":200,"title":"dragon face","category":"Nature","pic":"\u{1f432}"},{"no":201,"title":"blowfish","category":"Nature","pic":"\u{1f421}"},{"no":202,"title":"two-hump camel","category":"Nature","pic":"\u{1f42b}"},{"no":203,"title":"poodle","category":"Nature","pic":"\u{1f429}"},{"no":204,"title":"bouquet","category":"Nature","pic":"\u{1f490}"},{"no":205,"title":"rose","category":"Nature","pic":"\u{1f339}"},{"no":206,"title":"sunflower","category":"Nature","pic":"\u{1f33b}"},{"no":207,"title":"mushroom","category":"Nature","pic":"\u{1f344}"},{"no":208,"title":"cactus","category":"Nature","pic":"\u{1f335}"},{"no":209,"title":"new moon","category":"Nature","pic":"\u{1f311}"},{"no":210,"title":"first quarter moon","category":"Nature","pic":"\u{1f313}"},{"no":211,"title":"waxing gibbous moon","category":"Nature","pic":"\u{1f314}"},{"no":212,"title":"full moon","category":"Nature","pic":"\u{1f315}"},{"no":213,"title":"first quarter moon face","category":"Nature","pic":"\u{1f31b}"},{"no":214,"title":"crescent moon","category":"Nature","pic":"\u{1f319}"},{"no":215,"title":"globe showing Asia-Australia","category":"Nature","pic":"\u{1f30f}"},{"no":216,"title":"sun behind cloud","category":"Nature","pic":"\u26c5"},{"no":217,"title":"snowman without snow","category":"Nature","pic":"\u26c4"},{"no":218,"title":"water wave","category":"Nature","pic":"\u{1f30a}"},{"no":219,"title":"sun behind small cloud","category":"Nature","pic":"\u{1f324}"},{"no":220,"title":"sun behind large cloud","category":"Nature","pic":"\u{1f325}"},{"no":221,"title":"sun behind rain cloud","category":"Nature","pic":"\u{1f326}"},{"no":222,"title":"cloud with rain","category":"Nature","pic":"\u{1f327}"},{"no":223,"title":"cloud with lightning","category":"Nature","pic":"\u{1f329}"},{"no":224,"title":"cloud with snow","category":"Nature","pic":"\u{1f328}"},{"no":225,"title":"wind face","category":"Nature","pic":"\u{1f32c}"},{"no":226,"title":"tornado","category":"Nature","pic":"\u{1f32a}"},{"no":227,"title":"graduation cap","category":"Objects","pic":"\u{1f393}"},{"no":228,"title":"fireworks","category":"Objects","pic":"\u{1f386}"},{"no":229,"title":"sparkler","category":"Objects","pic":"\u{1f387}"},{"no":230,"title":"jack-o-lantern","category":"Objects","pic":"\u{1f383}"},{"no":231,"title":"ghost","category":"Objects","pic":"\u{1f47b}"},{"no":232,"title":"Santa Claus","category":"Objects","pic":"\u{1f385}"},{"no":233,"title":"Christmas tree","category":"Objects","pic":"\u{1f384}"},{"no":234,"title":"wrapped gift","category":"Objects","pic":"\u{1f381}"},{"no":235,"title":"party popper","category":"Objects","pic":"\u{1f389}"},{"no":236,"title":"confetti ball","category":"Objects","pic":"\u{1f38a}"},{"no":237,"title":"balloon","category":"Objects","pic":"\u{1f388}"},{"no":238,"title":"light bulb","category":"Objects","pic":"\u{1f4a1}"},{"no":239,"title":"toilet","category":"Objects","pic":"\u{1f6bd}"},{"no":240,"title":"wrench","category":"Objects","pic":"\u{1f527}"},{"no":241,"title":"nut and bolt","category":"Objects","pic":"\u{1f529}"},{"no":242,"title":"hammer","category":"Objects","pic":"\u{1f528}"},{"no":243,"title":"cigarette","category":"Objects","pic":"\u{1f6ac}"},{"no":244,"title":"bomb","category":"Objects","pic":"\u{1f4a3}"},{"no":245,"title":"pistol","category":"Objects","pic":"\u{1f52b}"},{"no":246,"title":"kitchen knife","category":"Objects","pic":"\u{1f52a}"},{"no":247,"title":"pill","category":"Objects","pic":"\u{1f48a}"},{"no":248,"title":"syringe","category":"Objects","pic":"\u{1f489}"},{"no":249,"title":"money bag","category":"Objects","pic":"\u{1f4b0}"},{"no":250,"title":"yen banknote","category":"Objects","pic":"\u{1f4b4}"},{"no":251,"title":"dollar banknote","category":"Objects","pic":"\u{1f4b5}"},{"no":252,"title":"credit card","category":"Objects","pic":"\u{1f4b3}"},{"no":253,"title":"money with wings","category":"Objects","pic":"\u{1f4b8}"},{"no":254,"title":"clapper board","category":"Objects","pic":"\u{1f3ac}"},{"no":255,"title":"microphone","category":"Objects","pic":"\u{1f3a4}"},{"no":256,"title":"alien monster","category":"Objects","pic":"\u{1f47e}"},{"no":257,"title":"video game","category":"Objects","pic":"\u{1f3ae}"},{"no":258,"title":"joker","category":"Objects","pic":"\u{1f0cf}"},{"no":259,"title":"mahjong red dragon","category":"Objects","pic":"\u{1f004}"},{"no":260,"title":"game die","category":"Objects","pic":"\u{1f3b2}"},{"no":261,"title":"direct hit","category":"Objects","pic":"\u{1f3af}"},{"no":262,"title":"pool 8 ball","category":"Objects","pic":"\u{1f3b1}"},{"no":263,"title":"chequered flag","category":"Objects","pic":"\u{1f3c1}"},{"no":264,"title":"trophy","category":"Objects","pic":"\u{1f3c6}"},{"no":265,"title":"beer mug","category":"Objects","pic":"\u{1f37a}"},{"no":266,"title":"cocktail glass","category":"Objects","pic":"\u{1f378}"},{"no":267,"title":"tropical drink","category":"Objects","pic":"\u{1f379}"},{"no":268,"title":"wine glass","category":"Objects","pic":"\u{1f377}"},{"no":269,"title":"fork and knife","category":"Objects","pic":"\u{1f374}"},{"no":270,"title":"pizza","category":"Objects","pic":"\u{1f355}"},{"no":271,"title":"hamburger","category":"Objects","pic":"\u{1f354}"},{"no":272,"title":"french fries","category":"Objects","pic":"\u{1f35f}"},{"no":273,"title":"poultry leg","category":"Objects","pic":"\u{1f357}"},{"no":274,"title":"spaghetti","category":"Objects","pic":"\u{1f35d}"},{"no":275,"title":"bento box","category":"Objects","pic":"\u{1f371}"},{"no":276,"title":"steaming bowl","category":"Objects","pic":"\u{1f35c}"},{"no":277,"title":"cooking","category":"Objects","pic":"\u{1f373}"},{"no":278,"title":"bread","category":"Objects","pic":"\u{1f35e}"},{"no":279,"title":"doughnut","category":"Objects","pic":"\u{1f369}"},{"no":280,"title":"soft ice cream","category":"Objects","pic":"\u{1f366}"},{"no":281,"title":"birthday cake","category":"Objects","pic":"\u{1f382}"},{"no":282,"title":"shortcake","category":"Objects","pic":"\u{1f370}"},{"no":283,"title":"cookie","category":"Objects","pic":"\u{1f36a}"},{"no":284,"title":"chocolate bar","category":"Objects","pic":"\u{1f36b}"},{"no":285,"title":"lollipop","category":"Objects","pic":"\u{1f36d}"},{"no":286,"title":"honey pot","category":"Objects","pic":"\u{1f36f}"},{"no":287,"title":"red apple","category":"Objects","pic":"\u{1f34e}"},{"no":288,"title":"cherries","category":"Objects","pic":"\u{1f352}"},{"no":289,"title":"strawberry","category":"Objects","pic":"\u{1f353}"},{"no":290,"title":"peach","category":"Objects","pic":"\u{1f351}"},{"no":291,"title":"banana","category":"Objects","pic":"\u{1f34c}"},{"no":292,"title":"pineapple","category":"Objects","pic":"\u{1f34d}"},{"no":293,"title":"eggplant","category":"Objects","pic":"\u{1f346}"},{"no":294,"title":"tomato","category":"Objects","pic":"\u{1f345}"},{"no":295,"title":"ear of corn","category":"Objects","pic":"\u{1f33d}"},{"no":296,"title":"hot pepper","category":"Objects","pic":"\u{1f336}"},{"no":297,"title":"cheese wedge","category":"Objects","pic":"\u{1f9c0}"},{"no":298,"title":"hot dog","category":"Objects","pic":"\u{1f32d}"},{"no":299,"title":"taco","category":"Objects","pic":"\u{1f32e}"},{"no":300,"title":"burrito","category":"Objects","pic":"\u{1f32f}"},{"no":301,"title":"popcorn","category":"Objects","pic":"\u{1f37f}"},{"no":302,"title":"bottle with popping cork","category":"Objects","pic":"\u{1f37e}"},{"no":303,"title":"fork and knife with plate","category":"Objects","pic":"\u{1f37d}"},{"no":304,"title":"ping pong","category":"Objects","pic":"\u{1f3d3}"},{"no":305,"title":"sports medal","category":"Objects","pic":"\u{1f3c5}"},{"no":306,"title":"military medal","category":"Objects","pic":"\u{1f396}"},{"no":307,"title":"joystick","category":"Objects","pic":"\u{1f579}"},{"no":308,"title":"hammer and wrench","category":"Objects","pic":"\u{1f6e0}"},{"no":309,"title":"dagger","category":"Objects","pic":"\u{1f5e1}"},{"no":310,"title":"speedboat","category":"Places","pic":"\u{1f6a4}"},{"no":311,"title":"rocket","category":"Places","pic":"\u{1f680}"},{"no":312,"title":"high-speed train","category":"Places","pic":"\u{1f684}"},{"no":313,"title":"bullet train","category":"Places","pic":"\u{1f685}"},{"no":314,"title":"railway car","category":"Places","pic":"\u{1f683}"},{"no":315,"title":"bus","category":"Places","pic":"\u{1f68c}"},{"no":316,"title":"automobile","category":"Places","pic":"\u{1f697}"},{"no":317,"title":"taxi","category":"Places","pic":"\u{1f695}"},{"no":318,"title":"delivery truck","category":"Places","pic":"\u{1f69a}"},{"no":319,"title":"police car light","category":"Places","pic":"\u{1f6a8}"},{"no":320,"title":"police car","category":"Places","pic":"\u{1f693}"},{"no":321,"title":"fire engine","category":"Places","pic":"\u{1f692}"},{"no":322,"title":"ambulance","category":"Places","pic":"\u{1f691}"},{"no":323,"title":"bicycle","category":"Places","pic":"\u{1f6b2}"},{"no":324,"title":"Japanese symbol for beginner","category":"Places","pic":"\u{1f530}"},{"no":325,"title":"fuel pump","category":"Places","pic":"\u26fd"},{"no":326,"title":"red paper lantern","category":"Places","pic":"\u{1f3ee}"},{"no":327,"title":"slot machine","category":"Places","pic":"\u{1f3b0}"},{"no":328,"title":"racing car","category":"Places","pic":"\u{1f3ce}"},{"no":329,"title":"motorcycle","category":"Places","pic":"\u{1f3cd}"},{"no":330,"title":"small airplane","category":"Places","pic":"\u{1f6e9}"},{"no":331,"title":"airplane departure","category":"Places","pic":"\u{1f6eb}"},{"no":332,"title":"airplane arrival","category":"Places","pic":"\u{1f6ec}"},{"no":333,"title":"satellite","category":"Places","pic":"\u{1f6f0}"},{"no":334,"title":"motor boat","category":"Places","pic":"\u{1f6e5}"},{"no":335,"title":"passenger ship","category":"Places","pic":"\u{1f6f3}"},{"no":336,"title":"SOS button","category":"Symbols","pic":"\u{1f198}"},{"no":337,"title":"no one under eighteen","category":"Symbols","pic":"\u{1f51e}"},{"no":338,"title":"no entry","category":"Symbols","pic":"\u26d4"},{"no":339,"title":"check mark button","category":"Symbols","pic":"\u2705"},{"no":340,"title":"VS button","category":"Symbols","pic":"\u{1f19a}"},{"no":341,"title":"chart increasing with yen","category":"Symbols","pic":"\u{1f4b9}"},{"no":342,"title":"heavy dollar sign","category":"Symbols","pic":"\u{1f4b2}"},{"no":343,"title":"currency exchange","category":"Symbols","pic":"\u{1f4b1}"},{"no":344,"title":"cross mark","category":"Symbols","pic":"\u274c"},{"no":345,"title":"exclamation mark","category":"Symbols","pic":"\u2757"},{"no":346,"title":"question mark","category":"Symbols","pic":"\u2753"},{"no":347,"title":"hollow red circle","category":"Symbols","pic":"\u2b55"},{"no":348,"title":"hundred points","category":"Symbols","pic":"\u{1f4af}"},{"no":349,"title":"white flag","category":"Symbols","pic":"\u{1f3f3}"},{"no":350,"title":"black flag","category":"Symbols","pic":"\u{1f3f4}"}]');var Rp=(()=>(function(n){n.emoji="emoji",n.rain="rain",n.gif="gif"}(Rp||(Rp={})),Rp))();const pme=["*"];let lP=(()=>{class n{constructor(){this.chatInputTools=_c,this.closeTool=new jt}onCloseTool(){this.closeTool.emit()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-chat-input-tool-wrapper"]],inputs:{title:"title"},outputs:{closeTool:"closeTool"},ngContentSelectors:pme,decls:12,vars:5,consts:[[1,"modal"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","text-uppercase"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",3,"click"],["aria-hidden","true"],[1,"modal-body","p-0"]],template:function(e,i){1&e&&(vg(),R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),z(5),Ce(6,"translate"),I(),R(7,"button",5),Me("click",function(){return i.onCloseTool()}),R(8,"span",6),z(9,"\xd7"),I()()(),R(10,"div",7),yg(11),I()()()()),2&e&&(F(1),at("rain",i.title===i.chatInputTools.rain),F(4),Pe(" ",Ne(6,3,"shared."+i.title)," "))},pipes:[Qn],styles:[".modal[_ngcontent-%COMP%]{position:absolute;top:auto;display:block;margin-left:auto;margin-right:auto;left:0;right:0;height:auto;bottom:67px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{left:auto;margin:0 auto;height:320px;width:calc(100% - 20px);max-width:calc(100% - 20px)}.modal[_ngcontent-%COMP%]   .modal-dialog.rain[_ngcontent-%COMP%]{height:336px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{min-height:36px;max-height:36px}.modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}"]}),n})();function gme(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function _me(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function mme(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function vme(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function yme(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function bme(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function Eme(n,t){if(1&n&&(qt(0),R(1,"div",6),z(2," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.favorites "),I(),R(3,"div",7),ue(4,gme,2,2,"span",8),I(),R(5,"div",9),z(6," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.people "),I(),R(7,"div",7),ue(8,_me,2,2,"span",8),I(),R(9,"div",9),z(10," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.nature "),I(),R(11,"div",7),ue(12,mme,2,2,"span",8),I(),R(13,"div",9),z(14," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.objects "),I(),R(15,"div",7),ue(16,vme,2,2,"span",8),I(),R(17,"div",9),z(18," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.places "),I(),R(19,"div",7),ue(20,yme,2,2,"span",8),I(),R(21,"div",9),z(22," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.symbols "),I(),R(23,"div",7),ue(24,bme,2,2,"span",8),I(),Jt()),2&n){const e=he();F(4),Q("ngForOf",e.emojiFriquentlyUsed),F(4),Q("ngForOf",e.emojiPeople),F(4),Q("ngForOf",e.emojiNature),F(4),Q("ngForOf",e.emojiObjects),F(4),Q("ngForOf",e.emojiPlaces),F(4),Q("ngForOf",e.emojiSymbols)}}function Sme(n,t){if(1&n){const e=Ct();R(0,"span",10),Me("click",function(){const o=ft(e).$implicit;return he(2).onClickEmoji(o.pic)}),z(1),I()}if(2&n){const e=t.$implicit;Q("title",e.title),F(1),Pe(" ",e.pic," ")}}function Tme(n,t){if(1&n&&(qt(0),R(1,"div",7),ue(2,Sme,2,2,"span",8),I(),Jt()),2&n){const e=he();F(2),Q("ngForOf",e.searchList)}}let Cme=(()=>{class n{constructor(){this.finish=new jt,this.chatInputToolWrapperTitles=Rp,this.searchText="",this.searchList=[]}ngOnInit(){this.emojiForSearch=ad.slice(9),this.emojiFriquentlyUsed=ad.slice(0,9),this.emojiPeople=ad.slice(9,150),this.emojiNature=ad.slice(150,226),this.emojiObjects=ad.slice(226,309),this.emojiPlaces=ad.slice(309,335),this.emojiSymbols=ad.slice(335)}onModelChange(e){const i=[],r=this.formatMsg(e);if(""!==r&&" "!==r){for(const o of this.emojiForSearch)o.title.includes(e)&&i.push(o);this.searchList=[...i]}else this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}preventDefault(e){e&&e.preventDefault()}formatMsg(e){return e.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}onClickEmoji(e){this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["app-chat-input-tool-emoji"]],outputs:{finish:"finish"},decls:8,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"emoji-list","scroll-y"],[4,"ngIf"],["translate",""],[1,"emoji-group"],["class","emoji-item",3,"title","click",4,"ngFor","ngForOf"],["translate","",1,"header"],[1,"emoji-item",3,"title","click"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Me("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2)(3,"textarea",3),Me("ngModelChange",function(o){return i.searchText=o})("ngModelChange",function(o){return i.onModelChange(o)})("keydown.enter",function(o){return i.preventDefault(o)}),Ce(4,"translate"),I()()(),R(5,"div",4),ue(6,Eme,25,6,"ng-container",5),ue(7,Tme,3,1,"ng-container",5),I()()),2&e&&(Q("title",i.chatInputToolWrapperTitles.emoji),F(3),uf("placeholder",Ne(4,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-emoji.search emoji")),Q("ngModel",i.searchText)("maxlength",20),F(3),Q("ngIf",!i.isShownSearchList),F(1),Q("ngIf",i.isShownSearchList))},directives:[lP,_h,L0,ea,Ps,U0,Zt,jn,Ti],pipes:[Qn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.emoji-list[_ngcontent-%COMP%]{margin-top:10px;font-size:13px;height:100%;overflow:hidden}.emoji-list[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding-top:10px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]{font-size:18px}.emoji-list[_ngcontent-%COMP%]   .emoji-group[_ngcontent-%COMP%]   .emoji-item[_ngcontent-%COMP%]{display:inline-table;text-align:justify;width:30px;line-height:1.07;cursor:pointer;padding:6px;transition:transform 60ms ease-out 60ms}"]}),n})(),Ome=(()=>{class n{constructor(e){this.app=e,this.chatInputToolWrapperTitles=Rp,this.amountPerUser=.5,this.finish=new jt}ngOnInit(){this.numberOfUsers=this.app.config.chat.rain.defaultNumOfUsers,this.amountPerUser=this.app.config.minBet}get minNumberOfUsers(){return this.app.config.chat.rain.minNumOfUsers}get maxNumberOfUsers(){return this.app.config.chat.rain.maxNumOfUsers}get minAmountPerUser(){return this.app.config.chat.rain.rainMinBet}get maxAmountPerUser(){return this.app.config.chat.rain.rainMaxBet}get totalAmount(){return(this.amountPerUser*this.numberOfUsers).toFixed(this.app.config.betPrecision)}onRain(){const e=`/rain:${this.amountPerUser.toFixed(this.app.config.betPrecision)}:${this.numberOfUsers} `;this.finish.emit({str:e})}}return n.\u0275fac=function(e){return new(e||n)(X(ln))},n.\u0275cmp=gt({type:n,selectors:[["app-chat-input-tool-rain"]],outputs:{finish:"finish"},decls:34,vars:24,consts:[[3,"title","closeTool"],[1,"content"],["translate","",1,"description"],[1,"input-wrapper"],[1,"mt-3"],["translate",""],[1,"currency"],[1,"input-spinner"],[3,"formatOnBlur","formatPrecision","ngModel","step","min","max","ngModelChange"],["translate","",1,"mt-2"],[3,"step","formatPrecision","formatOnBlur","min","max","ngModel","ngModelChange"],[1,"d-flex","mt-2","justify-content-center"],[1,"total-amount","text-center","font-weight-bold"],[1,"text-center"],[1,"btn-rain","btn","btn-sm","btn-success",3,"click"],[1,"text-uppercase"]],template:function(e,i){1&e&&(R(0,"app-chat-input-tool-wrapper",0),Me("closeTool",function(){return i.finish.emit()}),R(1,"div",1)(2,"div",2),z(3," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.description "),I(),R(4,"div",3)(5,"div",4)(6,"span",5),z(7," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.amount per player "),I(),R(8,"span",6),z(9),I()(),R(10,"div",7)(11,"app-spinner",8),Me("ngModelChange",function(o){return i.amountPerUser=o}),I()(),R(12,"div",9),z(13," game.chat-widget.chat-input.chat-input-tools.chat-input-tool-rain.number of players "),I(),R(14,"div",7)(15,"app-spinner",10),Me("ngModelChange",function(o){return i.numberOfUsers=o}),I()()(),R(16,"div",11)(17,"div")(18,"span"),z(19),Ce(20,"translate"),I(),R(21,"span",6),z(22),I()()(),R(23,"div",12),z(24),I(),R(25,"div",13)(26,"button",14),Me("click",function(){return i.onRain()}),R(27,"span",15),z(28),Ce(29,"translate"),I(),R(30,"span"),z(31),I(),R(32,"span"),z(33),I()()()()()),2&e&&(Q("title",i.chatInputToolWrapperTitles.rain),F(9),St(i.app.config.currency),F(2),Q("formatOnBlur",!0)("formatPrecision",i.app.config.betPrecision)("ngModel",i.amountPerUser)("step",i.app.config.betInputStep)("min",i.minAmountPerUser)("max",i.maxAmountPerUser),F(4),Q("step",1)("formatPrecision",0)("formatOnBlur",!0)("min",i.minNumberOfUsers)("max",i.maxNumberOfUsers)("ngModel",i.numberOfUsers),F(4),Pe("",Ne(20,20,"shared.total"),","),F(3),Pe(" ",i.app.config.currency,""),F(2),Pe(" ",i.totalAmount," "),F(4),St(Ne(29,22,"shared.rain")),F(3),Pe(" ",i.totalAmount,""),F(2),Pe(" ",i.app.config.currency,""))},directives:[lP,jn,aP,ea,Ps],pipes:[Qn],styles:[".content[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:12px}.content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#b1b7bd}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{max-width:240px;margin:0 auto;display:flex;flex-direction:column}.content[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-spinner[_ngcontent-%COMP%]{height:30px;font-size:18px;text-align:center}.content[_ngcontent-%COMP%]   .total-amount[_ngcontent-%COMP%]{font-size:22px}.content[_ngcontent-%COMP%]   .btn-rain[_ngcontent-%COMP%]{width:240px;font-size:14px;margin-top:15px}"]}),n})();const RG=function(n){return{background:n}};function wme(n,t){if(1&n){const e=Ct();R(0,"div",8)(1,"div",9),Me("click",function(){const o=ft(e).$implicit;return he(2).shareGif(o.id)}),I()()}if(2&n){const e=t.$implicit;F(1),Q("ngStyle",Pa(1,RG,"url("+e.url+") center center/cover"))}}function Pme(n,t){if(1&n&&(qt(0),ue(1,wme,2,3,"div",7),Jt()),2&n){const e=he();F(1),Q("ngForOf",e.chatService.top10Gifs)}}function Ame(n,t){if(1&n){const e=Ct();R(0,"div",8)(1,"div",9),Me("click",function(){const o=ft(e).$implicit;return he(3).shareGif(o.id)}),I()()}if(2&n){const e=t.$implicit;F(1),Q("ngStyle",Pa(1,RG,"url("+e.url+") center center/cover"))}}function xme(n,t){if(1&n&&(qt(0),ue(1,Ame,2,3,"div",7),Jt()),2&n){const e=he(2);F(1),Q("ngForOf",e.searchList)}}function Rme(n,t){1&n&&(R(0,"div",11),Ae(1,"app-loader"),I())}function Dme(n,t){if(1&n&&(qt(0),ue(1,xme,2,1,"ng-container",6),ue(2,Rme,2,0,"div",10),Jt()),2&n){const e=he();F(1),Q("ngIf",e.searchList&&e.searchList.length),F(1),Q("ngIf",!(e.searchList&&e.searchList.length))}}let ld=class{constructor(t,e,i){this.connector=t,this.cd=e,this.chatService=i,this.finish=new jt,this.searchInput=new Le,this.chatInputToolWrapperTitles=Rp,this.searchText="",this.searchList=[]}ngOnInit(){this.connector.response(yn.SearchGifs).pipe(Tt(this)).subscribe(t=>{const e=this.formatMsg(this.searchText);if(""===e||" "===e)return this.searchList=[],void this.cd.detectChanges();this.searchList=dk(t.gifsInfo),this.cd.detectChanges()}),this.searchInput.pipe(function Mme(n,t=$g){return je((e,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=o;o=null,i.next(u)}};function l(){const u=s+n,g=t.now();if(g<u)return r=this.schedule(void 0,u-g),void i.add(r);a()}e.subscribe(ie(i,u=>{o=u,s=t.now(),r||(r=t.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}(1e3),ap(),Tt(this)).subscribe(t=>{this.getGifs(t)})}getGifs(t){this.connector.request(bi.SearchGifs,{tag:t})}onModelChange(t){const e=this.formatMsg(t);""!==e&&" "!==e?this.searchInput.next(e):this.searchList=[]}get isShownSearchList(){return this.searchText&&this.searchText.length>0}formatMsg(t){return t.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}preventDefault(t){t&&t.preventDefault()}shareGif(t){this.finish.emit({str:`/gif:${t} `})}};ld.\u0275fac=function(t){return new(t||ld)(X(yi),X(Mn),X(Wa))},ld.\u0275cmp=gt({type:ld,selectors:[["app-chat-input-tool-gif"]],outputs:{finish:"finish"},decls:9,vars:8,consts:[[3,"title","closeTool"],[1,"search-wrapper"],[1,"input-wrapper"],[1,"i-block"],["minlength","0",3,"ngModel","placeholder","maxlength","ngModelChange","keydown.enter"],[1,"gif-list","scroll-y"],[4,"ngIf"],["class","gif-wrapper",4,"ngFor","ngForOf"],[1,"gif-wrapper"],[1,"gif-item",3,"ngStyle","click"],["class","loader-wrapper",4,"ngIf"],[1,"loader-wrapper"]],template:function(t,e){1&t&&(R(0,"app-chat-input-tool-wrapper",0),Me("closeTool",function(){return e.finish.emit()}),R(1,"div",1)(2,"div",2),Ae(3,"div",3),R(4,"textarea",4),Me("ngModelChange",function(r){return e.searchText=r})("ngModelChange",function(r){return e.onModelChange(r)})("keydown.enter",function(r){return e.preventDefault(r)}),Ce(5,"translate"),I()()(),R(6,"div",5),ue(7,Pme,2,1,"ng-container",6),ue(8,Dme,3,2,"ng-container",6),I()()),2&t&&(Q("title",e.chatInputToolWrapperTitles.gif),F(4),uf("placeholder",Ne(5,6,"game.chat-widget.chat-input.chat-input-tools.chat-input-tool-gif.search gif")),Q("ngModel",e.searchText)("maxlength",20),F(3),Q("ngIf",!e.isShownSearchList),F(1),Q("ngIf",e.isShownSearchList))},directives:[lP,_h,L0,ea,Ps,U0,Zt,Ti,Bg,Th],pipes:[Qn],styles:[".search-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;width:100%;min-height:50px;max-height:50px;padding:0 10px;border-bottom:solid 1px #545454}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{width:100%;border-radius:22px;background-color:#000;min-height:30px;max-height:30px;display:flex}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding-left:16px;font-size:13px;width:100%;background:unset;resize:none;max-height:100%;color:#fff;line-height:2;border:none}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#d2d2d2}.search-wrapper[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#d2d2d2}.gif-list[_ngcontent-%COMP%]{font-size:13px;height:100%;overflow:hidden;display:flex;flex-wrap:wrap}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]{width:50%;height:118px;padding:5px}.gif-list[_ngcontent-%COMP%]   .gif-wrapper[_ngcontent-%COMP%]   .gif-item[_ngcontent-%COMP%]{border-radius:6px;width:100%;height:100%;cursor:pointer;transition:transform 60ms ease-out 60ms}.loader-wrapper[_ngcontent-%COMP%]{margin:0 auto}"]}),ld=Ye([Ci()],ld);const Ime=["input"];function Nme(n,t){if(1&n){const e=Ct();R(0,"div",11),Me("click",function(){ft(e);const r=he();return r.showToolModal(r.chatInputTools.emoji)}),I()}}function kme(n,t){if(1&n){const e=Ct();R(0,"div",12),Me("click",function(){ft(e);const r=he();return r.showToolModal(r.chatInputTools.gif)}),I()}}function Fme(n,t){if(1&n){const e=Ct();R(0,"div",13),Me("click",function(){ft(e);const r=he();return r.showToolModal(r.chatInputTools.rain)}),Ae(1,"div",14),R(2,"div",15),z(3,"shared.rain"),I()()}}function Bme(n,t){if(1&n){const e=Ct();R(0,"app-chat-input-tool-emoji",16),Me("finish",function(r){return ft(e),he().onCloseToolModal(r,"emoji")}),I()}}function Lme(n,t){if(1&n){const e=Ct();R(0,"app-chat-input-tool-rain",16),Me("finish",function(r){return ft(e),he().onCloseToolModal(r,"rain")}),I()}}function Ume(n,t){if(1&n){const e=Ct();R(0,"app-chat-input-tool-gif",16),Me("finish",function(r){return ft(e),he().onCloseToolModal(r,"gif")}),I()}}function Gme(n,t){if(1&n){const e=Ct();R(0,"div",17)(1,"div",18)(2,"div",19),Me("animationend",function(){return ft(e),he().onWaitEnd()}),I()(),R(3,"p",20),z(4,"game.chat-widget.chat-input.please wait"),I()()}if(2&n){const e=he();F(2),Au("animation-duration",e.app.config.chat.sendMessageDelay,"ms")}}let ud=class{constructor(t,e,i,r,o){this.chatService=t,this.app=e,this.mainService=i,this.cd=r,this.connector=o,this.message="",this.wait=!1,this.chatInputTools=_c,this.toolModal=null}ngOnInit(){this.value="",Gi(this.inputRef.nativeElement,"input").pipe(Ya(50),Tt(this)).subscribe(()=>{this.cd.detectChanges()}),Gi(this.inputRef.nativeElement,"keydown").pipe(Ut(t=>13===t.which),Tt(this)).subscribe(t=>{t.preventDefault(),this.sendMessage(),this.cd.detectChanges()}),this.chatService.onTagUser.pipe(Tt(this)).subscribe(t=>{this.addToInput(t),this.cd.detectChanges()})}addToInput(t,e=!1){t.length<=this.leftLength&&(this.value=e?t:`${this.value?this.value:""}${t}`)}onClickSend(){this.sendMessage()}get isValid(){const t=this.value.length;return t>=1&&t<=this.app.config.chat.maxMessageLength}sendMessage(){const t=function jme(n){return n.replace(/\n/gm," ").replace(/ {1,}/g," ").trim()}(this.value);""===t||" "===t||!this.isValid||(this.value="",this.wait=!0,this.connector.request(bi.AddChatMessage,{message:t}),this.showToolModal(null),setTimeout(()=>{this.inputRef.nativeElement.blur()}))}onCloseToolModal(t,e){void 0!==t?!1===this.wait&&("gif"===e?(this.addToInput(t.str),this.sendMessage()):"emoji"===e?this.addToInput(t.str):"rain"===e&&(this.addToInput(t.str,!0),this.showToolModal(null))):this.showToolModal(null)}showToolModal(t=null){this.toolModal!==t||null===this.toolModal?this.toolModal=t:this.onCloseToolModal()}onWaitEnd(){this.wait=!1,setTimeout(()=>{this.inputRef.nativeElement.focus()})}get isEmojiShown(){return this.toolModal===_c.emoji}get isRainShown(){return this.toolModal===_c.rain}get isGifShown(){return this.toolModal===_c.gif}get leftLength(){return this.app.config.chat.maxMessageLength-(this.value?this.value.length:0)}get value(){return this.inputRef.nativeElement.value}set value(t){this.inputRef.nativeElement.value=t}};ud.\u0275fac=function(t){return new(t||ud)(X(Wa),X(ln),X(Vi),X(Mn),X(yi))},ud.\u0275cmp=gt({type:ud,selectors:[["app-chat-input"]],viewQuery:function(t,e){if(1&t&&Jo(Ime,7),2&t){let i;Kn(i=qn())&&(e.inputRef=i.first)}},decls:15,vars:13,consts:[[1,"input-message"],["required","","minlength","1",1,"scroll-y",3,"placeholder"],["input",""],[1,"tools"],["class","smiles",3,"click",4,"ngIf"],["class","gif",3,"click",4,"ngIf"],["class","rain-wrapper",3,"click",4,"ngIf"],[1,"left-length"],[1,"enter",3,"disabled","click"],[3,"finish",4,"ngIf"],["class","chat-input-overlay",4,"ngIf"],[1,"smiles",3,"click"],[1,"gif",3,"click"],[1,"rain-wrapper",3,"click"],[1,"i-rain"],["translate","",1,"text"],[3,"finish"],[1,"chat-input-overlay"],[1,"time-left-loading"],[1,"time-left-loading-thumb",3,"animationend"],["translate",""]],template:function(t,e){1&t&&(R(0,"div",0),Ae(1,"textarea",1,2),Ce(3,"translate"),R(4,"div",3),ue(5,Nme,1,0,"div",4),ue(6,kme,1,0,"div",5),ue(7,Fme,4,0,"div",6),R(8,"div",7),z(9),I()(),R(10,"button",8),Me("click",function(){return e.onClickSend()}),I(),ue(11,Bme,1,0,"app-chat-input-tool-emoji",9),ue(12,Lme,1,0,"app-chat-input-tool-rain",9),ue(13,Ume,1,0,"app-chat-input-tool-gif",9),ue(14,Gme,5,2,"div",10),I()),2&t&&(F(1),uf("placeholder",Ne(3,11,"shared.reply")),ii("maxlength",e.app.config.chat.maxMessageLength),F(4),Q("ngIf",e.app.isDesktop),F(1),Q("ngIf",e.app.config.chat.isGifsEnabled),F(1),Q("ngIf",e.app.config.chat.rain.isEnabled),F(2),St(e.leftLength),F(1),Q("disabled",!e.isValid),F(1),Q("ngIf",e.isEmojiShown),F(1),Q("ngIf",e.isRainShown),F(1),Q("ngIf",e.isGifShown),F(1),Q("ngIf",e.wait))},directives:[Zt,jn,Cme,Ome,ld],pipes:[Qn],styles:["[_nghost-%COMP%]{width:inherit}.input-message[_ngcontent-%COMP%]{margin:0 auto;height:67px;position:relative;z-index:110;background-color:#000;border-top:1px solid #2a2b2e}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{margin:7px 0 0 12px;border:0;resize:none;width:calc(100% - 50px);display:block;height:34px;font-size:13px;color:#fff;line-height:1;background:unset;position:relative;overflow:hidden}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]::placeholder{color:#747474}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]{width:calc(100% - 20px);position:absolute;bottom:5px;left:14px;color:#747474;display:flex;align-items:flex-end;font-size:13px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:active{transform:translateY(1px)}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]{width:14px;height:14px;background:url(smiley.61b61a0d20c01820.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .smiles[_ngcontent-%COMP%]:hover{background:url(smiley-h.287177b586f9403b.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]{width:25px;height:14px;margin-left:5px;background:url(gif.a404393bc863f822.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .gif[_ngcontent-%COMP%]:hover{background:url(gif-h.8389ecc5920019db.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]{margin-left:10px;display:flex;align-items:flex-end;justify-content:center;cursor:pointer}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .i-rain[_ngcontent-%COMP%]{background:url(rain-h.aa4937bd9df8c5d2.svg) no-repeat center center/contain}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]:hover   .text[_ngcontent-%COMP%]{color:#fff}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .i-rain[_ngcontent-%COMP%]{background:url(rain.3c852ab3a33c94b6.svg) no-repeat center center/contain;width:10px;height:14px}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .rain-wrapper[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding-left:2px;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]{margin-left:auto;margin-right:5px;cursor:auto;line-height:1}.input-message[_ngcontent-%COMP%]   .tools[_ngcontent-%COMP%]   .left-length[_ngcontent-%COMP%]:active{transform:unset}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%);border:none;background:url(enter.4543428ce422345d.svg) no-repeat;background-size:contain;height:16px;padding:0;width:11px;cursor:pointer}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:active{transform:translateY(calc(-50% + 1px))}.input-message[_ngcontent-%COMP%]   .enter[_ngcontent-%COMP%]:disabled{opacity:.3}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:4px 4px 0 0;background:rgba(0,0,0,.2);display:flex;justify-content:center;align-items:center;flex-direction:column}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]{height:6px;width:160px;border:1px solid #b0bbc8;border-radius:4px;overflow:hidden;opacity:.5}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   .time-left-loading[_ngcontent-%COMP%]   .time-left-loading-thumb[_ngcontent-%COMP%]{height:6px;width:160px;border-radius:2px;background:#b0bbc8;transform:translate(-160px);-webkit-animation:chat-input-loading;animation:chat-input-loading;-webkit-animation-timing-function:linear;animation-timing-function:linear}.input-message[_ngcontent-%COMP%]   .chat-input-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:12px;color:#b0bbc8}@-webkit-keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}@keyframes chat-input-loading{0%{transform:translate(0)}to{transform:translate(-160px)}}"],changeDetection:0}),ud=Ye([Ci()],ud);const Vme=["container"];function Hme(n,t){1&n&&Ae(0,"app-chat-message",5),2&n&&Q("message",t.$implicit)}function Yme(n,t){if(1&n){const e=Ct();R(0,"div",6),Me("click",function(){return ft(e),he().onScrollToBottom()}),z(1," game.chat-widget.New messages "),Ae(2,"span",7),I()}}let cd=class{constructor(t,e,i,r,o,s){this.connector=t,this.app=e,this.zone=i,this.chat=r,this.messageService=o,this.cd=s,this.newMessagesAdded=!1}ngOnInit(){this.scrollNativeElement=this.containerRef.nativeElement,this.connector.response(yn.AddChatMessage,200).pipe(Tt(this)).subscribe(t=>this.onReceiveMessage(t)),this.connector.response(yn.AddChatMessages,200).pipe(Tt(this)).subscribe(t=>this.onAddChatMessages(t)),this.connector.response(yn.DeleteChatMessage,200).pipe(Tt(this)).subscribe(t=>this.onDeleteMessage(t.messageIdList)),this.chat.isOpen$.pipe(Ut(t=>!0===t),Tt(this)).subscribe(()=>this.scrollToBottom()),Gi(document.fonts,"loadingdone").pipe(Tt(this)).subscribe(()=>this.scrollToBottom())}ngAfterViewInit(){this.scrollToBottom(100)}onReceiveMessage(t){this.chat.messages.push(t.message),this.chat.messages.length>this.app.config.chat.maxMessages&&this.chat.messages.shift(),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&"rain"===t.message.messageType&&this.notifyAboutRain()}keepUpScroll(){this.isScrollAtBottom?(this.newMessagesAdded=!1,this.scrollToBottom()):this.newMessagesAdded=!0}notifyAboutRain(){this.messageService.add({value:"rain-has-been-dropped",lifeTime:5e3,context:Es.success,callback:()=>{setTimeout(()=>{this.chat.isOpen=!0},300)}})}onAddChatMessages(t){const e=t.messages.some(i=>"rain"===i.messageType);this.chat.messages.push(...t.messages),this.chat.messages=this.chat.messages.slice(-this.app.config.chat.maxMessages),this.keepUpScroll(),this.cd.detectChanges(),!1===this.chat.isOpen&&e&&this.notifyAboutRain()}onDeleteMessage(t){this.chat.messages=this.chat.messages.filter(e=>!t.includes(e.messageId)),this.cd.detectChanges()}onScrollToBottom(){this.newMessagesAdded=!1,this.scrollToBottom()}get isScrollAtBottom(){return this.scrollNativeElement.scrollHeight-this.scrollNativeElement.scrollTop===this.scrollNativeElement.clientHeight}scrollToBottom(t=0){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.scrollNativeElement.scrollTop=this.scrollNativeElement.scrollHeight},t)})}};function Wme(n,t){if(1&n&&(R(0,"div",13),Ae(1,"app-engagement-tool",14),I()),2&n){const e=he();F(1),Q("engagementTools",e.app.config.engagementTools)("gameIdentifier",e.gameIdentifier)}}function zme(n,t){1&n&&Ae(0,"app-free-bet")}function $me(n,t){1&n&&Ae(0,"app-chat-widget")}cd.\u0275fac=function(t){return new(t||cd)(X(yi),X(ln),X(On),X(Wa),X(dh),X(Mn))},cd.\u0275cmp=gt({type:cd,selectors:[["app-chat-widget"]],viewQuery:function(t,e){if(1&t&&Jo(Vme,7),2&t){let i;Kn(i=qn())&&(e.containerRef=i.first)}},decls:7,vars:2,consts:[[1,"wrapper"],[1,"messages-container","scroll-y"],["container",""],[3,"message",4,"ngFor","ngForOf"],["class","notification","translate","",3,"click",4,"ngIf"],[3,"message"],["translate","",1,"notification",3,"click"],[1,"i-arrow"]],template:function(t,e){1&t&&(R(0,"div",0),Ae(1,"app-chat-header"),R(2,"div",1,2),ue(4,Hme,1,1,"app-chat-message",3),I(),Ae(5,"app-chat-input"),ue(6,Yme,3,0,"div",4),I()),2&t&&(F(4),Q("ngForOf",e.chat.messages),F(2),Q("ngIf",e.newMessagesAdded))},directives:[C_e,Ti,fme,ud,Zt,jn],styles:['.wrapper[_ngcontent-%COMP%]{width:100%;bottom:0;border-radius:0;background:#000000;color:#fff;margin:0 auto;height:100%;position:relative;display:flex;flex-direction:column;align-items:center}.wrapper[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;width:100%;height:14px;left:0;top:38px;z-index:999;color:#0f0f11;background-image:linear-gradient(-180deg,rgba(0,0,0,.5) 0%,rgba(0,0,0,0) 100%)}.wrapper[_ngcontent-%COMP%]   .modal-back[_ngcontent-%COMP%]{width:100%;height:100%;background:rgba(22,29,54,.8);position:absolute;bottom:0;left:0;z-index:101}.wrapper[_ngcontent-%COMP%]   .messages-container[_ngcontent-%COMP%]{height:calc(100% - 96px);width:100%;max-width:360px;margin:0;position:relative;padding-top:10px;z-index:100;font-size:13px;line-height:13px;overflow-x:hidden}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]{position:absolute;z-index:109;cursor:pointer;left:50%;bottom:85px;transform:translate(-50%);height:26px;border-radius:15px;border:1px solid #767b85;background:rgba(98,102,113,.65);color:#fff;font-size:12px;line-height:12px;width:200px;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   .notification[_ngcontent-%COMP%]   .i-arrow[_ngcontent-%COMP%]{display:block;background-image:url(chat-arrow.f617bc9716ca6276.svg);margin-right:3px;border:none;width:12px;height:10px;background-repeat:no-repeat;background-position:center;background-size:contain}'],changeDetection:0}),cd=Ye([Ci()],cd);let hd=class{constructor(t,e,i,r,o,s,a,l,u,g,E){this.chat=t,this.freeBets=e,this.app=i,this.window=r,this.renderer=o,this.ifc=s,this.connector=a,this.modal=l,this.betControls=u,this.main=g,this.cd=E,this.gameIdentifier="AVIATOR",this.isOpenChat=!1}ngOnInit(){this.chat.isOpen$.pipe(Tt(this)).subscribe(t=>{this.isOpenChat=t,this.checkBodyScroll(),this.cd.detectChanges()}),this.window.onResize$.pipe(Tt(this)).subscribe(()=>{this.checkBodyScroll(),this.cd.detectChanges()}),this.ifc.command(Cr.UpdateBalance).pipe(Tt(this)).subscribe(()=>this.connector.request(bi.UpdateBalance,null)),this.ifc.command(Cr.ContinueInternalRealityCheck).pipe(Tt(this)).subscribe(()=>this.sendNotificationCallback(wh.Continue)),this.ifc.command(Cr.StopInternalRealityCheck).pipe(Tt(this)).subscribe(()=>this.sendNotificationCallback(wh.Stop)),this.connector.response(yn.InternalRealityCheck).pipe(Tt(this)).subscribe(t=>this.onInternalRealityCheck(t)),this.betControls.betSetted.pipe(Tt(this),Ut(()=>this.app.config.isActiveGameFocused)).subscribe(t=>this.onBetSetted(t)),this.main.getState(Ji.Bet).pipe(Tt(this)).subscribe(()=>this.ifc.emitEvent(Ei.StartBetTimer)),this.main.getState(Ji.End).pipe(Tt(this)).subscribe(()=>this.ifc.emitEvent(Ei.EndRound)),this.showInitModals(),this.app.setGameInited()}sendNotificationCallback(t){this.connector.request(bi.NotificationCallback,{notificationType:Y_.RealityCheck,action:t})}checkBodyScroll(){this.isGameWrap?this.renderer.addClass(document.body,"body-scroll-y"):this.renderer.removeClass(document.body,"body-scroll-y")}get isGameWrap(){return!(this.window.getSize().width<ou.lg||this.window.getSize().width>=ou.xl1300)&&this.isOpenChat}onInternalRealityCheck(t){this.ifc.emitEvent(Ei.InternalRealityCheck,{code:t.code,errorMessage:t.errorMessage,message:t.message}),this.app.isIrcDisplayModal&&this.modal.open(Un.notification,{type:zl.InternalRealityCheck,message:t.message})}onBetSetted(t){t?this.renderer.addClass(document.body,"game-focused"):this.renderer.removeClass(document.body,"game-focused")}showInitModals(){!this.app.isGameInited&&this.app.config.isAlderneyModalShownOnInit&&this.modal.open(Un.notification,{type:zl.Alderney})}};function Xme(n,t){if(1&n&&(qt(0),R(1,"h4",5),z(2),I(),R(3,"p",6),z(4),I(),Jt()),2&n){const e=he(2);F(2),St(e.message.heading),F(2),Pe(" shared.ui-components.toastr.toastr-message.",e.message.value," ")}}function Kme(n,t){if(1&n&&(R(0,"p",9),z(1),I()),2&n){const e=he(3);F(1),Pe(" ",e.getTranslation(e.message.value,e.message.errorMessageParams)," ")}}function qme(n,t){if(1&n){const e=Ct();R(0,"p",10),Me("click",function(r){return ft(e),he(3).onMessageClick(r)}),z(1),I()}if(2&n){const e=he(3);F(1),Pe(" ",e.getTranslation(e.message.value)," ")}}function Jme(n,t){if(1&n&&(qt(0),ue(1,Kme,2,1,"p",7),ue(2,qme,2,1,"p",8),Jt()),2&n){const e=he(2);F(1),Q("ngIf",!e.message.callback),F(1),Q("ngIf",e.message.callback)}}function Qme(n,t){if(1&n){const e=Ct();R(0,"button",11),Me("click",function(r){return ft(e),he(2).onCloseIconClick(r)}),R(1,"span"),z(2,"\xd7"),I()()}}function Zme(n,t){if(1&n){const e=Ct();R(0,"div",2),Me("mouseenter",function(){return ft(e),he().onMouseEnter()})("mouseleave",function(){return ft(e),he().onMouseLeave()}),ue(1,Xme,5,2,"ng-container",3),ue(2,Jme,3,2,"ng-container",3),ue(3,Qme,3,0,"button",4),I()}if(2&n){const e=he();at("alert-dismissible",e.isClosable),Q("@messageState",void 0)("ngClass",e.context),F(1),Q("ngIf",e.message.heading),F(1),Q("ngIf",!e.message.heading),F(1),Q("ngIf",e.isClosable)}}function eve(n,t){if(1&n){const e=Ct();R(0,"div",12),Me("mouseenter",function(){return ft(e),he().onMouseEnter()})("mouseleave",function(){return ft(e),he().onMouseLeave()}),R(1,"div",13)(2,"div",14),z(3," shared.ui-components.toastr.toastr-message.You have cashed out! "),I(),R(4,"div",15),z(5),Ce(6,"number"),I()(),R(7,"div",16)(8,"div",17)(9,"span",6),z(10,"shared.win"),I(),R(11,"span",18),z(12),I()(),R(13,"div",15)(14,"span"),z(15),I()()(),R(16,"button",11),Me("click",function(r){return ft(e),he().onCloseIconClick(r)}),R(17,"span"),z(18,"\xd7"),I()()()}if(2&n){const e=he();at("celebrated",e.isWinCelebrated),Q("@messageState",void 0),F(5),Pe(" ",oi(6,8,e.message.params.multiplier,"1.2-2"),"x "),F(2),at("celebrated",e.isWinCelebrated),F(5),Pe(", ",e.message.params.currency,""),F(3),St(e.message.params.winAmount.toFixed(e.precision))}}function tve(n,t){}hd.\u0275fac=function(t){return new(t||hd)(X(Wa),X(ru),X(ln),X(I_),X(Eo),X(iu),X(yi),X(Yo),X(vl),X(Vi),X(Mn))},hd.\u0275cmp=gt({type:hd,selectors:[["app-game"]],decls:20,vars:11,consts:[[1,"main-wrapper"],[1,"main-container"],[1,"main-header"],[1,"w-100","h-100"],[1,"game-container"],[1,"info-board","pt-2"],[1,"game-play"],["class","missions-holder my-1",4,"ngIf"],[1,"result-history","disabled-on-game-focused","my-2"],[1,"stage-board"],[4,"ngIf"],[1,"bet-controls"],[1,"chat-bar"],[1,"missions-holder","my-1"],[3,"engagementTools","gameIdentifier"]],template:function(t,e){1&t&&(R(0,"div",0)(1,"div",1)(2,"div",2),Ae(3,"app-header"),I(),R(4,"div",3)(5,"div",4)(6,"div",5),Ae(7,"app-bets-widget")(8,"app-spribe-footer"),I(),R(9,"div",6),ue(10,Wme,2,2,"div",7),R(11,"div",8),Ae(12,"app-stats-widget"),I(),R(13,"div",9),ue(14,zme,1,0,"app-free-bet",10),Ae(15,"app-play-board"),I(),R(16,"div",11),Ae(17,"app-bet-controls"),I()()()()(),R(18,"div",12),ue(19,$me,1,0,"app-chat-widget",10),I()()),2&t&&(at("hide-chat-bar",!e.isOpenChat),F(1),at("h-100",e.app.useInnerScroll),F(3),at("--scrollable",e.app.useInnerScroll),F(1),at("game-wrap",e.isGameWrap),F(5),Q("ngIf",null==e.app.config.engagementTools?null:e.app.config.engagementTools.host),F(4),Q("ngIf",e.freeBets.activeFreeBet),F(5),Q("ngIf",e.app.config.chat.isEnabled))},directives:[Rh,zde,$de,Zt,Hh,cpe,Yh,ed,id,cd],styles:[".main-wrapper[_ngcontent-%COMP%]{position:relative;height:100%}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{position:relative;width:calc(100% - 280px);height:100%;padding-top:38px;background:#0e0e0e}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .main-header[_ngcontent-%COMP%]{height:38px;position:fixed;width:inherit;top:0;left:0;z-index:840}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:100%;flex-grow:0;flex-shrink:0;width:100%;padding-left:10px;display:flex;flex-direction:column}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-between;overflow-y:hidden;padding:0 10px 10px}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .result-history[_ngcontent-%COMP%]{min-height:22px;max-height:22px;display:flex;justify-content:center;align-items:center}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:100%;position:relative}.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]   .bet-controls[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-shrink:0;padding-top:10px}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed;width:280px;height:100%;top:0;right:0;bottom:0;z-index:850}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper.hide-chat-bar[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{visibility:hidden;top:-5000px;right:-5000px;z-index:-99999}@media (max-width: 991.98px){.main-container[_ngcontent-%COMP%]:not(.h-100){height:auto!important}.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:5px!important;padding-right:5px!important;height:auto!important}.info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important}.game-play[_ngcontent-%COMP%]{padding:0!important}.stage-board[_ngcontent-%COMP%]{height:calc(40vh - 38px)!important;min-height:200px!important}.bet-controls[_ngcontent-%COMP%]{padding-top:5px!important}}@media (min-width: 992px){.info-board[_ngcontent-%COMP%]{min-width:320px!important;max-width:320px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}}@media (min-width: 1200px){.info-board[_ngcontent-%COMP%]{min-width:370px!important;max-width:370px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 370px)!important}}@media (min-width: 1399.98px){.main-container[_ngcontent-%COMP%]{width:calc(100% - 320px)!important}.chat-bar[_ngcontent-%COMP%]{width:320px!important}.info-board[_ngcontent-%COMP%]{min-width:410px!important;max-width:410px!important}.game-play[_ngcontent-%COMP%]{width:calc(100% - 410px)!important}}@media (max-width: 767.98px){.main-wrapper[_ngcontent-%COMP%]   .main-container[_ngcontent-%COMP%]{width:100%!important}.main-wrapper[_ngcontent-%COMP%]   .chat-bar[_ngcontent-%COMP%]{position:fixed!important;width:100%;top:0;height:100%}}.--scrollable[_ngcontent-%COMP%]{overflow-y:auto;-webkit-overflow-scrolling:touch}.game-wrap.game-container[_ngcontent-%COMP%]{flex-direction:column-reverse!important;padding-left:10px!important;padding-right:10px!important;height:auto!important}.game-wrap[_ngcontent-%COMP%]   .info-board[_ngcontent-%COMP%]{height:80vh!important;padding-left:0!important;padding-top:20px!important;min-width:100%!important;max-width:100%!important}.game-wrap[_ngcontent-%COMP%]   .game-play[_ngcontent-%COMP%]{padding:0!important;width:100%!important}.game-wrap[_ngcontent-%COMP%]   .stage-board[_ngcontent-%COMP%]{height:calc(40vh - 38px)!important;min-height:200px!important}"],changeDetection:0}),hd=Ye([Ci()],hd);let nve=(()=>{class n{constructor(e,i){this.translate=e,this.betControls=i,this.precision=0,this.closeMessage=new jt,this.BsMessageTemplate=xf}getTranslation(e,i){const r=`shared.ui-components.toastr.toastr-message.${e}`,o=this.translate.instant(r,{amount:null==i?void 0:i.amount,duration:null==i?void 0:i.duration,minBalance:null==i?void 0:i.minBalance,currency:null==i?void 0:i.currency});return this.translate.parser.getValue(this.translate.translations[this.translate.currentLang],r)?o:e}ngAfterViewInit(){this.initTimeout()}get template(){return this.message.template?this.message.template:xf.alert}get context(){return this.message.context?this.message.context:Es.primary}get isClosable(){return!1!==this.message.closable}get isWinCelebrated(){return this.betControls.isWinCelebrated(this.message.params.winAmount,this.message.params.betAmount)}initTimeout(){this.timeoutRef=setTimeout(()=>{this.closeMessage.emit(this.index)},this.message.lifeTime||3e3)}clearTimeout(){clearTimeout(this.timeoutRef),this.timeoutRef=null}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(e){e.preventDefault(),this.clearTimeout(),this.closeMessage.emit(this.index)}onMessageClick(e){this.message.callback(),this.onCloseIconClick(e)}ngOnDestroy(){this.clearTimeout()}}return n.\u0275fac=function(e){return new(e||n)(X(Ku),X(vl))},n.\u0275cmp=gt({type:n,selectors:[["app-bs-message-item"]],inputs:{message:"message",precision:"precision",index:"index"},outputs:{closeMessage:"closeMessage"},decls:4,vars:4,consts:[[3,"ngSwitch"],[3,"ngSwitchCase"],[1,"alert",3,"ngClass","mouseenter","mouseleave"],[4,"ngIf"],["type","button","class","close",3,"click",4,"ngIf"],["translate","",1,"alert-heading"],["translate",""],["class","m-0",4,"ngIf"],["class","m-0","style","cursor: pointer",3,"click",4,"ngIf"],[1,"m-0"],[1,"m-0",2,"cursor","pointer",3,"click"],["type","button",1,"close",3,"click"],[1,"alert-win",3,"mouseenter","mouseleave"],[1,"multiplier"],["translate","",1,"label"],[1,"value"],[1,"win"],["translate","",1,"label","no-wrap"],[1,"currency"]],template:function(e,i){1&e&&(qt(0,0),ue(1,Zme,4,7,"ng-template",1),ue(2,eve,19,11,"ng-template",1),ue(3,tve,0,0,"ng-template",1),Jt()),2&e&&(Q("ngSwitch",i.template),F(1),Q("ngSwitchCase",i.BsMessageTemplate.alert),F(1),Q("ngSwitchCase",i.BsMessageTemplate.win),F(1),Q("ngSwitchCase",i.BsMessageTemplate.toast))},directives:[ol,Nu,yf,Zt,jn],pipes:[tN],styles:['.alert-win[_ngcontent-%COMP%]{position:relative;justify-content:space-around;border-radius:26px;background-color:#383a3e;text-align:center;display:flex;height:56px;align-items:center;padding-top:5px;padding-bottom:5px;margin-bottom:1rem;box-shadow:0 0 8px #0000004d;border:1px solid #2c2d30}.alert-win.celebrated[_ngcontent-%COMP%]{background-color:#123405;border:1px solid #427f00}.alert-win[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{padding:0 8px;color:#d2d2d2}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;height:100%;padding:0 10px}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:12px;line-height:12px;color:#9ea0a3}.alert-win[_ngcontent-%COMP%]   .multiplier[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{font-size:20px;line-height:20px;display:flex;justify-content:center;margin-top:3px}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]{font-weight:700;border-radius:23px;background-color:#2c2d30;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;min-width:120px;max-width:120px;margin-left:auto;height:100%;flex-direction:column}.alert-win[_ngcontent-%COMP%]   .win.celebrated[_ngcontent-%COMP%]{background-color:#4eaf11}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:after{content:" ";position:absolute;background:url(win-icon.a82d20d3a52bbad1.svg) no-repeat;width:31px;height:31px;right:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]:before{content:" ";position:absolute;background:url(win-icon-copy.6a5624ab52d781bc.svg) no-repeat;width:31px;height:31px;left:0;opacity:.5}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:14px;line-height:14px;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .no-wrap[_ngcontent-%COMP%]{white-space:nowrap}.alert-win[_ngcontent-%COMP%]   .win[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{margin-top:2px;min-width:60px;display:flex;justify-content:center;align-items:center;height:16px;font-size:20px;line-height:20px;font-weight:700;text-shadow:0 1px 2px rgba(0,0,0,.5);z-index:2}'],data:{animation:[Ow("messageState",[ipe("visible",$a({transform:"translateY(0)",opacity:1})),Q_("void => *",[$a({transform:"translateY(100%)",opacity:0}),yp("300ms ease-out")]),Q_("* => void",[yp("250ms ease-in",$a({height:0,opacity:0,transform:"translateY(-100%)"}))])])]},changeDetection:0}),n})();function ive(n,t){if(1&n){const e=Ct();R(0,"app-bs-message-item",2),Me("closeMessage",function(r){return ft(e),he().onMessageClose(r)}),I()}if(2&n){const e=t.$implicit,i=t.index,r=he();Q("message",e)("precision",r.app.config.betPrecision)("index",i)("@messageAnimation",void 0)}}let dd=class{constructor(t,e,i){this.message=t,this.app=e,this.cd=i}ngOnInit(){this.message.message$.pipe(Tt(this)).subscribe(t=>{if(t)if(t instanceof Array){let e=t.filter(i=>this.key===i.key);this.messages=this.messages?[...this.messages,...e]:[...e],this.cd.detectChanges()}else this.key===t.key&&(this.messages=this.messages?[...this.messages,t]:[t],this.cd.detectChanges())}),this.message.clear$.pipe(Tt(this)).subscribe(t=>{t?this.key===t&&(this.messages=null,this.cd.detectChanges()):(this.messages=null,this.cd.detectChanges())})}onMessageClose(t){this.messages.splice(t,1)}};function rve(n,t){1&n&&(R(0,"div",3),z(1," shared.components.connector.reconnect "),I())}function ove(n,t){1&n&&(R(0,"div",3),z(1," shared.components.connector.slow connection "),I())}function sve(n,t){if(1&n&&(R(0,"div",1),ue(1,rve,2,0,"div",2),ue(2,ove,2,0,"div",2),I()),2&n){const e=he();Q("@messageState",void 0),F(1),Q("ngIf",e.reconnect),F(1),Q("ngIf",e.connectionSlow)}}dd.\u0275fac=function(t){return new(t||dd)(X(dh),X(ln),X(Mn))},dd.\u0275cmp=gt({type:dd,selectors:[["app-bs-message"]],inputs:{key:"key"},decls:2,vars:1,consts:[[1,"bs-message","top-center"],[3,"message","precision","index","closeMessage",4,"ngFor","ngForOf"],[3,"message","precision","index","closeMessage"]],template:function(t,e){1&t&&(R(0,"div",0),ue(1,ive,1,4,"app-bs-message-item",1),I()),2&t&&(F(1),Q("ngForOf",e.messages))},directives:[Ti,nve],styles:[".bs-message[_ngcontent-%COMP%]{position:fixed;width:300px;overflow:hidden;z-index:2000}.bs-message.top-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);top:10px}.bs-message.top-left[_ngcontent-%COMP%]{left:10px;top:10px}.bs-message.center-center[_ngcontent-%COMP%]{left:50%;top:50%;transform:translate(-50%,-50%)}.bs-message.bottom-center[_ngcontent-%COMP%]{left:50%;transform:translate(-50%);bottom:10px}"],data:{animation:[Ow("messageAnimation",[Q_(":enter, :leave",[function ope(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}("@*",function rpe(n=null){return{type:9,options:n}}())])])]},changeDetection:0}),dd=Ye([Ci()],dd);let fd=class{constructor(t,e){this.connector=t,this.cd=e,this.state=null}ngOnInit(){this.connector.display.pipe(Tt(this)).subscribe(({state:t})=>{this.state!==t&&(this.state=t,this.cd.detectChanges())})}get reconnect(){return null!==this.state&&this.state===si.reconnect}get connectionSlow(){return null!==this.state&&this.state===si.connectionSlow}};fd.\u0275fac=function(t){return new(t||fd)(X(yi),X(Mn))},fd.\u0275cmp=gt({type:fd,selectors:[["app-connector"]],decls:1,vars:1,consts:[["class","connector",4,"ngIf"],[1,"connector"],["class","alert alert-warning","translate","",4,"ngIf"],["translate","",1,"alert","alert-warning"]],template:function(t,e){1&t&&ue(0,sve,3,3,"div",0),2&t&&Q("ngIf",e.state)},directives:[Zt,jn],styles:[".connector[_ngcontent-%COMP%]{position:fixed;z-index:99999;top:20px;left:50%;transform:translate(-50%)}.connector[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{width:300px}"],data:{animation:[Ow("messageState",[Q_("void => *",[$a({transform:"translate(-50%,-100%)",opacity:0}),yp("300ms ease-out")]),Q_("* => void",[yp("250ms ease-in",$a({opacity:0,transform:"translate(-50%,-100%)"}))])])]},changeDetection:0}),fd=Ye([Ci()],fd);var mm=(()=>(function(n){n.Inactivity="inactivity",n.Ban="ban"}(mm||(mm={})),mm))();function ave(n,t){if(1&n){const e=Ct();R(0,"a",6),Me("click",function(){return ft(e),he(2).onBackToHome()}),z(1),Ce(2,"translate"),I()}2&n&&(F(1),Pe(" ",Ne(2,1,"shared.home")," "))}function lve(n,t){if(1&n&&(qt(0),R(1,"div",4),z(2," shared.components.disconnect-message.text "),I(),ue(3,ave,3,3,"a",5),Jt()),2&n){const e=he();F(3),Q("ngIf",e.urlParams.returnUrl)}}function uve(n,t){1&n&&(qt(0),R(1,"div",7),z(2),Ce(3,"translate"),I(),Jt()),2&n&&(F(2),Pe("",Ne(3,1,"shared.thank_you_for_playing"),"."))}let cve=(()=>{class n{constructor(e,i,r,o){this.sound=e,this.app=i,this.ifc=r,this.urlParams=o}ngOnInit(){this.sound.stopAll(),this.ifc.emitCloseEvent(Object.assign(this.state===si.inactivity?{reason:mm.Inactivity}:this.state===si.ban?{reason:mm.Ban}:{},this.data))}get isShutdown(){return this.state===si.shutdown}onBackToHome(){this.app.config&&this.app.config.backToHomeActionType===kf.IfcEvent?this.ifc.emitEvent(Ei.BackToHome,{returnUrl:this.urlParams.returnUrl}):window.open(this.urlParams.returnUrl,"_top")}}return n.\u0275fac=function(e){return new(e||n)(X(rp),X(ln),X(iu),X(tu))},n.\u0275cmp=gt({type:n,selectors:[["app-disconnect-message"]],inputs:{state:"state",data:"data"},decls:5,vars:2,consts:[[1,"wrapper"],[1,"disconn-icon"],[1,"alert"],[4,"ngIf"],["translate","",1,"text"],["href","javascript:void(0)","target","_top","class","btn btn-warning btn-lg text-uppercase",3,"click",4,"ngIf"],["href","javascript:void(0)","target","_top",1,"btn","btn-warning","btn-lg","text-uppercase",3,"click"],[1,"text"]],template:function(e,i){1&e&&(R(0,"div",0),Ae(1,"div",1),R(2,"div",2),ue(3,lve,4,1,"ng-container",3),ue(4,uve,4,3,"ng-container",3),I()()),2&e&&(F(3),Q("ngIf",!1===i.isShutdown),F(1),Q("ngIf",!0===i.isShutdown))},directives:[Zt,jn],pipes:[Qn],styles:[".wrapper[_ngcontent-%COMP%]{height:100%;max-height:500px;width:100%;display:flex;justify-content:center;align-items:center;flex-direction:column}.wrapper[_ngcontent-%COMP%]   .disconn-icon[_ngcontent-%COMP%]{background:url(error-page.4aa561fd98783d15.svg) no-repeat center;width:120px;height:120px;background-size:contain;margin-bottom:40px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{background-color:#1b1c1d;max-width:600px;width:100%;min-height:204px;border-radius:10px;border:1px solid #2a2b2e;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:20px 50px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{text-align:center;margin-bottom:15px}.wrapper[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:160px}"]}),n})();const hve=["lockUI"];function dve(n,t){1&n&&(qt(0),Ae(1,"app-game")(2,"app-bs-message")(3,"app-connector"),Jt())}function fve(n,t){1&n&&(qt(0),R(1,"span",3),z(2,"Connection..."),I(),Jt())}function pve(n,t){if(1&n&&(qt(0),Ae(1,"app-disconnect-message",4),Jt()),2&n){const e=he();F(1),Q("data",e.disconnectData)("state",e.disconnectState)}}let gve=(()=>{class n{constructor(e,i,r,o,s,a,l,u,g,E,w,P,A,D,B,Y){this.connector=e,this.app=i,this.mainService=r,this.user=o,this.cd=s,this.sound=a,this.freeBets=l,this.statsService=u,this.chatService=g,this.frontEndProxyService=E,this.ifc=w,this.renderer=P,this.scriptService=A,this.betControls=D,this.multiplierService=B,this.modalManagerService=Y,this.loaded=!1,this.cantConnect=!1,this.disconnectState=null,this.disconnectData=null}ngOnInit(){this.setup(),this.connector.init().subscribe(e=>this.onInit(e)),this.ifc.command(Cr.LockUI).subscribe(e=>this.lockUIHandler(e.value))}lockUIHandler(e){e?(this.renderer.addClass(document.body,"pointer-events-none"),this.renderer.removeClass(this.lockUIRef.nativeElement,"d-none")):(this.renderer.removeClass(document.body,"pointer-events-none"),this.renderer.addClass(this.lockUIRef.nativeElement,"d-none"))}setup(){this.modalManagerService.init(),this.renderer.setAttribute(document.body,"app-version",Wi_version),this.app.isDesktop?this.renderer.addClass(document.body,"scroll-restyle"):this.app.useInnerScroll&&(this.renderer.setStyle(document.body,"overflow-y","hidden"),this.renderer.setStyle(document.body,"min-width","100%"),this.renderer.setStyle(document.body,"width","1px")),this.connector.display.subscribe(({state:e,data:i})=>{null!==e&&(this.cantConnect=e===si.kicked||e===si.loginError,this.disconnectState=e===si.kicked?si.kicked:e===si.loginError?si.loginError:e===si.shutdown?si.shutdown:e===si.connectionLost?si.connectionLost:e===si.inactivity?si.inactivity:e===si.ban?si.ban:null,this.disconnectData=i||null,this.cd.detectChanges())}),!1===this.app.isDesktop&&document.addEventListener("visibilitychange",()=>{document.hidden?this.sound.stopAll():this.sound.stopAll(!1)})}onInit(e){this.loaded=!1,this.cd.detectChanges(),this.app.setConfig(e.config),this.user.init(e.user),FT()&&(this.frontEndProxyService.setup(),this.ifc.setup()),this.app.config.reCaptchaSiteKey&&this.scriptService.registerCaptchaScript(!1,this.app.config.reCaptchaSiteKey,()=>{}),this.statsService.history=e.roundsInfo,this.betControls.restoreBets(e.activeBets),this.freeBets.setList(e.activeFreeBetsInfo),this.chatService.init(e),this.mainService.init(e),this.multiplierService.init(e),this.loaded=!0,this.cd.detectChanges(),this.frontEndProxyService.sendInitialized(),this.ifc.emitInitEvent(e)}}return n.\u0275fac=function(e){return new(e||n)(X(yi),X(ln),X(Vi),X(Ha),X(Mn),X(rp),X(ru),X(TL),X(Wa),X(M0),X(iu),X(Eo),X(kM),X(vl),X(w0),X(ghe))},n.\u0275cmp=gt({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&Jo(hve,7),2&e){let r;Kn(r=qn())&&(i.lockUIRef=r.first)}},decls:5,vars:3,consts:[[4,"ngIf"],[1,"lock-ui","d-none"],["lockUI",""],[1,"loading"],[3,"data","state"]],template:function(e,i){1&e&&(ue(0,dve,4,0,"ng-container",0),ue(1,fve,3,0,"ng-container",0),ue(2,pve,2,2,"ng-container",0),Ae(3,"div",1,2)),2&e&&(Q("ngIf",i.loaded&&null===i.disconnectState),F(1),Q("ngIf",!i.loaded&&null===i.disconnectState),F(1),Q("ngIf",null!==i.disconnectState))},directives:[Zt,hd,dd,fd,cve],styles:[".loading[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.lock-ui[_ngcontent-%COMP%]{position:fixed;background:rgba(0,0,0,.3);width:100%;height:100%;z-index:9999;top:0;left:0;pointer-events:none}"],changeDetection:0}),n})(),_ve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),mve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),vve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),Nb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),yve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,mve,vve,Nb]]}),n})(),bve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,yve]]}),n})(),Eve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),Sve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),Tve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),Cve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,Nb]]}),n})(),Ove=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),Mve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),DG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),wve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,dp,Tve,Cve,Ove,Mve,DG,Nb]]}),n})(),Pve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,DG,Nb]]}),n})(),Ave=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[_ve,ab,sb,lb,vp,El,db,ob,hb],imports:[[xt,bn,dp,bve,Eve,Sve,wve,Pve]]}),n})(),uP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),_u=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),IG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),Dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),xve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,xae,bn,ta,uP,_u,IG,Dp]]}),n})(),cP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),wl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,IG]]}),n})(),Rve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,wl]]}),n})(),Dve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,Dp,wl]]}),n})(),Ive=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,dde,Rve,_u,wl,Dp,Dve]]}),n})(),Nve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,Dp,wl]]}),n})(),kve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,_u,Nve]]}),n})(),Fve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,wl,bn]]}),n})(),Bve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,wl,bn]]}),n})(),Lve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,wl,Dp]]}),n})(),Uve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,_u,Fve,Bve,Lve]]}),n})(),Gve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,Uve,bn,cP,ta]]}),n})(),jve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,cP,ta,Ive,kve,Gve,bn]]}),n})(),Vve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,wl,_u,bn,dp]]}),n})(),Hve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt]]}),n})(),kb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,ta]]}),n})();const kn=!1;function NG(n){return new kt(3e3,kn)}function Tye(){return"undefined"!=typeof window&&void 0!==window.document}function hP(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mc(n){switch(n.length){case 0:return new Z_;case 1:return n[0];default:return new Q5(n)}}function kG(n,t,e,i,r={},o={}){const s=[],a=[];let l=-1,u=null;if(i.forEach(g=>{const E=g.offset,w=E==l,P=w&&u||{};Object.keys(g).forEach(A=>{let D=A,B=g[A];if("offset"!==A)switch(D=t.normalizePropertyName(D,s),B){case"!":B=r[A];break;case lu:B=o[A];break;default:B=t.normalizeStyleValue(A,D,B,s)}P[D]=B}),w||a.push(P),u=P,l=E}),s.length)throw function dye(n){return new kt(3502,kn)}();return a}function dP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&fP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&fP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&fP(e,"destroy",n)))}}function fP(n,t,e){const i=e.totalTime,o=pP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==i?n.totalTime:i,!!e.disabled),s=n._data;return null!=s&&(o._data=s),o}function pP(n,t,e,i,r="",o=0,s){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ns(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function FG(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let gP=(n,t)=>!1,BG=(n,t,e)=>[],LG=null;function _P(n){const t=n.parentNode||n.host;return t===LG?null:t}(hP()||"undefined"!=typeof Element)&&(Tye()?(LG=(()=>document.documentElement)(),gP=(n,t)=>{for(;t;){if(t===n)return!0;t=_P(t)}return!1}):gP=(n,t)=>n.contains(t),BG=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let pd=null,UG=!1;function GG(n){pd||(pd=function Oye(){return"undefined"!=typeof document?document.body:null}()||{},UG=!!pd.style&&"WebkitAppearance"in pd.style);let t=!0;return pd.style&&!function Cye(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in pd.style,!t&&UG&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in pd.style)),t}const jG=gP,VG=BG;let HG=(()=>{class n{validateStyleProperty(e){return GG(e)}matchesElement(e,i){return!1}containsElement(e,i){return jG(e,i)}getParentElement(e){return _P(e)}query(e,i,r){return VG(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,s,a=[],l){return new Z_(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),mP=(()=>{class n{}return n.NOOP=new HG,n})();const vP="ng-enter",Bb="ng-leave",Lb="ng-trigger",Ub=".ng-trigger",WG="ng-animating",yP=".ng-animating";function gd(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:bP(parseFloat(t[1]),t[2])}function bP(n,t){return"s"===t?1e3*n:n}function Gb(n,t,e){return n.hasOwnProperty("duration")?n:function Pye(n,t,e){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return t.push(NG()),{duration:0,delay:0,easing:""};r=bP(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=bP(parseFloat(l),a[4]));const u=a[5];u&&(s=u)}else r=n;if(!e){let a=!1,l=t.length;r<0&&(t.push(function Yve(){return new kt(3100,kn)}()),a=!0),o<0&&(t.push(function Wve(){return new kt(3101,kn)}()),a=!0),a&&t.splice(l,0,NG())}return{duration:r,delay:o,easing:s}}(n,t,e)}function Ip(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function vc(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Ip(n,e);return e}function $G(n,t,e){return e?t+":"+e+";":""}function XG(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=$G(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=$G(0,Rye(e),n.style[e]));n.setAttribute("style",t)}function Pl(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=SP(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),hP()&&XG(n))}function _d(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=SP(e);n.style[i]=""}),hP()&&XG(n))}function vm(n){return Array.isArray(n)?1==n.length?n[0]:q5(n):n}const EP=new RegExp("{{\\s*(.+?)\\s*}}","g");function KG(n){let t=[];if("string"==typeof n){let e;for(;e=EP.exec(n);)t.push(e[1]);EP.lastIndex=0}return t}function jb(n,t,e){const i=n.toString(),r=i.replace(EP,(o,s)=>{let a=t[s];return t.hasOwnProperty(s)||(e.push(function $ve(n){return new kt(3003,kn)}()),a=""),a.toString()});return r==i?n:r}function Vb(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const xye=/-+([a-z0-9])/g;function SP(n){return n.replace(xye,(...t)=>t[1].toUpperCase())}function Rye(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ks(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Xve(n){return new kt(3004,kn)}()}}function qG(n,t){return window.getComputedStyle(n)[t]}function Bye(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Lye(n,t,e){if(":"==n[0]){const l=function Uye(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function lye(n){return new kt(3016,kn)}()),"* => *"}}(n,e);if("function"==typeof l)return void t.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function aye(n){return new kt(3015,kn)}()),t;const r=i[1],o=i[2],s=i[3];t.push(JG(r,s));"<"==o[0]&&!("*"==r&&"*"==s)&&t.push(JG(s,r))}(i,e,t)):e.push(n),e}const zb=new Set(["true","1"]),$b=new Set(["false","0"]);function JG(n,t){const e=zb.has(n)||$b.has(n),i=zb.has(t)||$b.has(t);return(r,o)=>{let s="*"==n||n==r,a="*"==t||t==o;return!s&&e&&"boolean"==typeof r&&(s=r?zb.has(n):$b.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?zb.has(t):$b.has(t)),s&&a}}const Gye=new RegExp("s*:selfs*,?","g");function TP(n,t,e,i){return new jye(n).build(t,e,i)}class jye{constructor(t){this._driver=t}build(t,e,i){const r=new Yye(e);this._resetContextStyleTimingState(r);const o=ks(this,vm(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),o}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push(function qve(){return new kt(3006,kn)}()),t.definitions.forEach(a=>{if(this._resetContextStyleTimingState(e),0==a.type){const l=a,u=l.name;u.toString().split(/\s*,\s*/).forEach(g=>{l.name=g,o.push(this.visitState(l,e))}),l.name=u}else if(1==a.type){const l=this.visitTransition(a,e);i+=l.queryCount,r+=l.depCount,s.push(l)}else e.errors.push(function Jve(){return new kt(3007,kn)}())}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{if(Xb(a)){const l=a;Object.keys(l).forEach(u=>{KG(l[u]).forEach(g=>{s.hasOwnProperty(g)||o.add(g)})})}}),o.size&&(Vb(o.values()),e.errors.push(function Qve(n,t){return new kt(3008,kn)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ks(this,vm(t.animation),e);return{type:1,matchers:Bye(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:md(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ks(this,i,e)),options:md(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(s=>{e.currentTime=i;const a=ks(this,s,e);return r=Math.max(r,e.currentTime),a});return e.currentTime=r,{type:3,steps:o,options:md(t.options)}}visitAnimate(t,e){const i=function zye(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return CP(Gb(n,t).duration,0,"");const i=n;if(i.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=CP(0,0,"");return o.dynamic=!0,o.strValue=i,o}return e=e||Gb(i,t),CP(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:$a({});if(5==o.type)r=this.visitKeyframes(o,e);else{let s=t.styles,a=!1;if(!s){a=!0;const u={};i.easing&&(u.easing=i.easing),s=$a(u)}e.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,e);l.isEmptyStep=a,r=l}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(s=>{"string"==typeof s?s==lu?i.push(s):e.errors.push(function Zve(n){return new kt(3002,kn)}()):i.push(s)}):i.push(t.styles);let r=!1,o=null;return i.forEach(s=>{if(Xb(s)){const a=s,l=a.easing;if(l&&(o=l,delete a.easing),!r)for(let u in a)if(a[u].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:o,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(s=>{"string"!=typeof s&&Object.keys(s).forEach(a=>{if(!this._driver.validateStyleProperty(a))return delete s[a],void e.unsupportedCSSPropertiesFound.add(a);const l=e.collectedStyles[e.currentQuerySelector],u=l[a];let g=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(e.errors.push(function eye(n,t,e,i,r){return new kt(3010,kn)}()),g=!1),o=u.startTime),g&&(l[a]={startTime:o,endTime:r}),e.options&&function Aye(n,t,e){const i=t.params||{},r=KG(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function zve(n){return new kt(3001,kn)}())})}(s[a],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function tye(){return new kt(3011,kn)}()),i;let o=0;const s=[];let a=!1,l=!1,u=0;const g=t.steps.map(Y=>{const K=this._makeStyleAst(Y,e);let re=null!=K.offset?K.offset:function Wye(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Xb(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Xb(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(K.styles),ae=0;return null!=re&&(o++,ae=K.offset=re),l=l||ae<0||ae>1,a=a||ae<u,u=ae,s.push(ae),K});l&&e.errors.push(function nye(){return new kt(3012,kn)}()),a&&e.errors.push(function iye(){return new kt(3200,kn)}());const E=t.steps.length;let w=0;o>0&&o<E?e.errors.push(function rye(){return new kt(3202,kn)}()):0==o&&(w=1/(E-1));const P=E-1,A=e.currentTime,D=e.currentAnimateTimings,B=D.duration;return g.forEach((Y,K)=>{const re=w>0?K==P?1:w*K:s[K],ae=re*B;e.currentTime=A+D.delay+ae,D.duration=ae,this._validateStyleAst(Y,e),Y.offset=re,i.styles.push(Y)}),i}visitReference(t,e){return{type:8,animation:ks(this,vm(t.animation),e),options:md(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:md(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:md(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,s]=function Vye(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(Gye,"")),n=n.replace(/@\*/g,Ub).replace(/@\w+/g,e=>Ub+"-"+e.substr(1)).replace(/:animating/g,yP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ns(e.collectedStyles,e.currentQuerySelector,{});const a=ks(this,vm(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:t.selector,options:md(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function oye(){return new kt(3013,kn)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Gb(t.timings,e.errors,!0);return{type:12,animation:ks(this,vm(t.animation),e),timings:i,options:null}}}class Yye{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Xb(n){return!Array.isArray(n)&&"object"==typeof n}function md(n){return n?(n=Ip(n)).params&&(n.params=function Hye(n){return n?Ip(n):null}(n.params)):n={},n}function CP(n,t,e){return{duration:n,delay:t,easing:e}}function OP(n,t,e,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Kb{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Kye=new RegExp(":enter","g"),Jye=new RegExp(":leave","g");function MP(n,t,e,i,r,o={},s={},a,l,u=[]){return(new Qye).buildKeyframes(n,t,e,i,r,o,s,a,l,u)}class Qye{buildKeyframes(t,e,i,r,o,s,a,l,u,g=[]){u=u||new Kb;const E=new wP(t,e,u,r,o,g,[]);E.options=l,E.currentTimeline.setStyles([s],null,E.errors,l),ks(this,i,E);const w=E.timelines.filter(P=>P.containsAnimation());if(Object.keys(a).length){let P;for(let A=w.length-1;A>=0;A--){const D=w[A];if(D.element===e){P=D;break}}P&&!P.allowOnlyTimelineStyles()&&P.setStyles([a],null,E.errors,l)}return w.length?w.map(P=>P.buildKeyframes()):[OP(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const s=null!=i.duration?gd(i.duration):null,a=null!=i.delay?gd(i.delay):null;return 0!==s&&t.forEach(l=>{const u=e.appendInstructionToTimeline(l,s,a);o=Math.max(o,u.duration+u.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ks(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=qb);const s=gd(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(s=>ks(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?gd(t.options.delay):0;t.steps.forEach(s=>{const a=e.createSubContext(t.options);o&&a.delayNextStep(o),ks(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>e.currentTimeline.mergeTimelineCollectedStyles(s)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Gb(e.params?jb(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,a=e.createSubContext().currentTimeline;a.easing=i.easing,t.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,e.errors,e.options),a.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(a),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?gd(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=qb);let s=i;const a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;let l=null;a.forEach((u,g)=>{e.currentQueryIndex=g;const E=e.createSubContext(t.options,u);o&&E.delayNextStep(o),u===e.element&&(l=E.currentTimeline),ks(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),l&&(e.currentTimeline.mergeTimelineCollectedStyles(l),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,s=Math.abs(o.duration),a=s*(e.currentQueryTotal-1);let l=s*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const g=e.currentTimeline;l&&g.delayNextStep(l);const E=g.currentTime;ks(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const qb={};class wP{constructor(t,e,i,r,o,s,a,l){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=qb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Jb(this._driver,e,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=gd(i.duration)),null!=i.delay&&(r.delay=gd(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!e||!s.hasOwnProperty(a))&&(s[a]=jb(o[a],s,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new wP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=qb,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=i?i:0)+t.delay,easing:""},o=new Zye(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,s){let a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Kye,"."+this._enterClassName)).replace(Jye,"."+this._leaveClassName);let u=this._driver.query(this.element,t,1!=i);0!==i&&(u=i<0?u.slice(u.length+i,u.length):u.slice(0,i)),a.push(...u)}return!o&&0==a.length&&s.push(function sye(n){return new kt(3014,kn)}()),a}}class Jb{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Jb(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||lu,this._currentKeyframe[e]=lu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const o=r&&r.params||{},s=function e0e(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(o=>{e[o]=lu})):vc(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(s).forEach(a=>{const l=jb(s[a],o,i);this._pendingStyles[a]=l,this._localTimelineStyles.hasOwnProperty(a)||(this._backFill[a]=this._globalTimelineStyles.hasOwnProperty(a)?this._globalTimelineStyles[a]:lu),this._updateStyle(a,l)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const u=vc(a,!0);Object.keys(u).forEach(g=>{const E=u[g];"!"==E?t.add(g):E==lu&&e.add(g)}),i||(u.offset=l/this.duration),r.push(u)});const o=t.size?Vb(t.values()):[],s=e.size?Vb(e.values()):[];if(i){const a=r[0],l=Ip(a);a.offset=0,l.offset=1,r=[a,l]}return OP(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class Zye extends Jb{constructor(t,e,i,r,o,s,a=!1){super(t,e,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],s=i+e,a=e/s,l=vc(t[0],!1);l.offset=0,o.push(l);const u=vc(t[0],!1);u.offset=e8(a),o.push(u);const g=t.length-1;for(let E=1;E<=g;E++){let w=vc(t[E],!1);w.offset=e8((e+w.offset*i)/s),o.push(w)}i=s,e=0,r="",t=o}return OP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function e8(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class PP{}class t0e extends PP{normalizePropertyName(t,e){return SP(t)}normalizeStyleValue(t,e,i,r){let o="";const s=i.toString().trim();if(n0e[e]&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function Kve(n,t){return new kt(3005,kn)}())}return s+o}}const n0e=(()=>function i0e(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function t8(n,t,e,i,r,o,s,a,l,u,g,E,w){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:g,totalTime:E,errors:w}}const AP={};class n8{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function r0e(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],o=this._stateStyles[t],s=r?r.buildStyles(e,i):{};return o?o.buildStyles(e,i):s}build(t,e,i,r,o,s,a,l,u,g){const E=[],w=this.ast.options&&this.ast.options.params||AP,A=this.buildStyles(i,a&&a.params||AP,E),D=l&&l.params||AP,B=this.buildStyles(r,D,E),Y=new Set,K=new Map,re=new Map,ae="void"===r,te={params:Object.assign(Object.assign({},w),D)},ne=g?[]:MP(t,e,this.ast.animation,o,s,A,B,te,u,E);let Oe=0;if(ne.forEach(ye=>{Oe=Math.max(ye.duration+ye.delay,Oe)}),E.length)return t8(e,this._triggerName,i,r,ae,A,B,[],[],K,re,Oe,E);ne.forEach(ye=>{const Ve=ye.element,nt=Ns(K,Ve,{});ye.preStyleProps.forEach(Ze=>nt[Ze]=!0);const it=Ns(re,Ve,{});ye.postStyleProps.forEach(Ze=>it[Ze]=!0),Ve!==e&&Y.add(Ve)});const Ie=Vb(Y.values());return t8(e,this._triggerName,i,r,ae,A,B,ne,Ie,K,re,Oe)}}class o0e{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Ip(this.defaultParams);return Object.keys(t).forEach(o=>{const s=t[o];null!=s&&(r[o]=s)}),this.styles.styles.forEach(o=>{if("string"!=typeof o){const s=o;Object.keys(s).forEach(a=>{let l=s[a];l.length>1&&(l=jb(l,r,e));const u=this.normalizer.normalizePropertyName(a,e);l=this.normalizer.normalizeStyleValue(a,u,l,e),i[u]=l})}}),i}}class a0e{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new o0e(r.style,r.options&&r.options.params||{},i)}),i8(this.states,"true","1"),i8(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new n8(t,r,this.states))}),this.fallbackTransition=function l0e(n,t,e){return new n8(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(s=>s.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function i8(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const u0e=new Kb;class c0e{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],o=TP(this._driver,e,i,[]);if(i.length)throw function fye(n){return new kt(3503,kn)}();this._animations[t]=o}_buildPlayer(t,e,i){const r=t.element,o=kG(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations[t];let s;const a=new Map;if(o?(s=MP(this._driver,e,o,vP,Bb,{},{},i,u0e,r),s.forEach(g=>{const E=Ns(a,g.element,{});g.postStyleProps.forEach(w=>E[w]=null)})):(r.push(function pye(){return new kt(3300,kn)}()),s=[]),r.length)throw function gye(n){return new kt(3504,kn)}();a.forEach((g,E)=>{Object.keys(g).forEach(w=>{g[w]=this._driver.computeStyle(E,w,lu)})});const u=mc(s.map(g=>{const E=a.get(g.element);return this._buildPlayer(g,{},E)}));return this._playersById[t]=u,u.onDestroy(()=>this.destroy(t)),this.players.push(u),u}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function _ye(n){return new kt(3301,kn)}();return e}listen(t,e,i,r){const o=pP(e,"","","");return dP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const r8="ng-animate-queued",xP="ng-animate-disabled",g0e=[],o8={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_0e={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class RP{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function b0e(n){return null!=n?n:null}(i?t.value:t),i){const o=Ip(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const ym="void",DP=new RP(ym);class m0e{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ga(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function mye(n,t){return new kt(3302,kn)}();if(null==i||0==i.length)throw function vye(n){return new kt(3303,kn)}();if(!function E0e(n){return"start"==n||"done"==n}(i))throw function yye(n,t){return new kt(3400,kn)}();const o=Ns(this._elementListeners,t,[]),s={name:e,phase:i,callback:r};o.push(s);const a=Ns(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(ga(t,Lb),ga(t,Lb+"-"+e),a[e]=DP),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function bye(n){return new kt(3401,kn)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),s=new IP(this.id,e,t);let a=this._engine.statesByElement.get(t);a||(ga(t,Lb),ga(t,Lb+"-"+e),this._engine.statesByElement.set(t,a={}));let l=a[e];const u=new RP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&u.absorbOptions(l.options),a[e]=u,l||(l=DP),u.value!==ym&&l.value===u.value){if(!function C0e(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(l.params,u.params)){const D=[],B=o.matchStyles(l.value,l.params,D),Y=o.matchStyles(u.value,u.params,D);D.length?this._engine.reportError(D):this._engine.afterFlush(()=>{_d(t,B),Pl(t,Y)})}return}const w=Ns(this._engine.playersByElement,t,[]);w.forEach(D=>{D.namespaceId==this.id&&D.triggerName==e&&D.queued&&D.destroy()});let P=o.matchTransition(l.value,u.value,t,u.params),A=!1;if(!P){if(!r)return;P=o.fallbackTransition,A=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:P,fromState:l,toState:u,player:s,isFallbackTransition:A}),A||(ga(t,r8),s.onStart(()=>{Np(t,r8)})),s.onDone(()=>{let D=this.players.indexOf(s);D>=0&&this.players.splice(D,1);const B=this._engine.playersByElement.get(t);if(B){let Y=B.indexOf(s);Y>=0&&B.splice(Y,1)}}),this.players.push(s),w.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Ub,!0);i.forEach(r=>{if(r[pa])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),s=new Map;if(o){const a=[];if(Object.keys(o).forEach(l=>{if(s.set(l,o[l].value),this._triggers[l]){const u=this.trigger(t,l,ym,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,s),i&&mc(a).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers[s].fallbackTransition,u=i[s]||DP,g=new RP(ym),E=new IP(this.id,s,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:s,transition:l,fromState:u,toState:g,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let s=t;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[pa];(!o||o===o8)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ga(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=pP(o,i.triggerName,i.fromState.value,i.toState.value);l._data=t,dP(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class v0e{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new m0e(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,o=i.length-1;if(o>=0){let s=!1;if(void 0!==this.driver.getParentElement){let a=this.driver.getParentElement(e);for(;a;){const l=r.get(a);if(l){const u=i.indexOf(l);i.splice(u+1,0,t),s=!0;break}a=this.driver.getParentElement(a)}}else for(let a=o;a>=0;a--)if(this.driver.containsElement(i[a].hostElement,e)){i.splice(a+1,0,t),s=!0;break}s||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let o=0;o<r.length;o++){const s=i[r[o]].namespaceId;if(s){const a=this._fetchNamespace(s);a&&e.add(a)}}}return e}trigger(t,e,i,r){if(Qb(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Qb(e))return;const o=e[pa];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(e);s>=0&&this.collectedLeaveElements.splice(s,1)}if(t){const s=this._fetchNamespace(t);s&&s.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ga(t,xP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Np(t,xP))}removeNode(t,e,i,r){if(Qb(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const s=this.namespacesByHostElement.get(e);s&&s.id!==t&&s.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[pa]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return Qb(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,Ub,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,yP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mc(this.players).onDone(()=>t());t()})}processLeaveNode(t){var e;const i=t[pa];if(i&&i.setForRemoval){if(t[pa]=o8,i.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(i.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,i.setForRemoval)}(null===(e=t.classList)||void 0===e?void 0:e.contains(xP))&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ga(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?mc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Eye(n){return new kt(3402,kn)}()}_flushAnimations(t,e){const i=new Kb,r=[],o=new Map,s=[],a=new Map,l=new Map,u=new Map,g=new Set;this.disabledNodes.forEach(De=>{g.add(De);const Ke=this.driver.query(De,".ng-animate-queued",!0);for(let ht=0;ht<Ke.length;ht++)g.add(Ke[ht])});const E=this.bodyNode,w=Array.from(this.statesByElement.keys()),P=l8(w,this.collectedEnterElements),A=new Map;let D=0;P.forEach((De,Ke)=>{const ht=vP+D++;A.set(Ke,ht),De.forEach(wt=>ga(wt,ht))});const B=[],Y=new Set,K=new Set;for(let De=0;De<this.collectedLeaveElements.length;De++){const Ke=this.collectedLeaveElements[De],ht=Ke[pa];ht&&ht.setForRemoval&&(B.push(Ke),Y.add(Ke),ht.hasAnimation?this.driver.query(Ke,".ng-star-inserted",!0).forEach(wt=>Y.add(wt)):K.add(Ke))}const re=new Map,ae=l8(w,Array.from(Y));ae.forEach((De,Ke)=>{const ht=Bb+D++;re.set(Ke,ht),De.forEach(wt=>ga(wt,ht))}),t.push(()=>{P.forEach((De,Ke)=>{const ht=A.get(Ke);De.forEach(wt=>Np(wt,ht))}),ae.forEach((De,Ke)=>{const ht=re.get(Ke);De.forEach(wt=>Np(wt,ht))}),B.forEach(De=>{this.processLeaveNode(De)})});const te=[],ne=[];for(let De=this._namespaceList.length-1;De>=0;De--)this._namespaceList[De].drainQueuedTransitions(e).forEach(ht=>{const wt=ht.player,We=ht.element;if(te.push(wt),this.collectedEnterElements.length){const pn=We[pa];if(pn&&pn.setForMove){if(pn.previousTriggersValues&&pn.previousTriggersValues.has(ht.triggerName)){const Hn=pn.previousTriggersValues.get(ht.triggerName),En=this.statesByElement.get(ht.element);En&&En[ht.triggerName]&&(En[ht.triggerName].value=Hn)}return void wt.destroy()}}const bt=!E||!this.driver.containsElement(E,We),Dt=re.get(We),Nt=A.get(We),Rt=this._buildInstruction(ht,i,Nt,Dt,bt);if(Rt.errors&&Rt.errors.length)return void ne.push(Rt);if(bt)return wt.onStart(()=>_d(We,Rt.fromStyles)),wt.onDestroy(()=>Pl(We,Rt.toStyles)),void r.push(wt);if(ht.isFallbackTransition)return wt.onStart(()=>_d(We,Rt.fromStyles)),wt.onDestroy(()=>Pl(We,Rt.toStyles)),void r.push(wt);const ui=[];Rt.timelines.forEach(pn=>{pn.stretchStartingKeyframe=!0,this.disabledNodes.has(pn.element)||ui.push(pn)}),Rt.timelines=ui,i.append(We,Rt.timelines),s.push({instruction:Rt,player:wt,element:We}),Rt.queriedElements.forEach(pn=>Ns(a,pn,[]).push(wt)),Rt.preStyleProps.forEach((pn,Hn)=>{const En=Object.keys(pn);if(En.length){let un=l.get(Hn);un||l.set(Hn,un=new Set),En.forEach(tn=>un.add(tn))}}),Rt.postStyleProps.forEach((pn,Hn)=>{const En=Object.keys(pn);let un=u.get(Hn);un||u.set(Hn,un=new Set),En.forEach(tn=>un.add(tn))})});if(ne.length){const De=[];ne.forEach(Ke=>{De.push(function Sye(n,t){return new kt(3505,kn)}())}),te.forEach(Ke=>Ke.destroy()),this.reportError(De)}const Oe=new Map,Ie=new Map;s.forEach(De=>{const Ke=De.element;i.has(Ke)&&(Ie.set(Ke,Ke),this._beforeAnimationBuild(De.player.namespaceId,De.instruction,Oe))}),r.forEach(De=>{const Ke=De.element;this._getPreviousPlayers(Ke,!1,De.namespaceId,De.triggerName,null).forEach(wt=>{Ns(Oe,Ke,[]).push(wt),wt.destroy()})});const ye=B.filter(De=>c8(De,l,u)),Ve=new Map;a8(Ve,this.driver,K,u,lu).forEach(De=>{c8(De,l,u)&&ye.push(De)});const it=new Map;P.forEach((De,Ke)=>{a8(it,this.driver,new Set(De),l,"!")}),ye.forEach(De=>{const Ke=Ve.get(De),ht=it.get(De);Ve.set(De,Object.assign(Object.assign({},Ke),ht))});const Ze=[],At=[],$e={};s.forEach(De=>{const{element:Ke,player:ht,instruction:wt}=De;if(i.has(Ke)){if(g.has(Ke))return ht.onDestroy(()=>Pl(Ke,wt.toStyles)),ht.disabled=!0,ht.overrideTotalTime(wt.totalTime),void r.push(ht);let We=$e;if(Ie.size>1){let Dt=Ke;const Nt=[];for(;Dt=Dt.parentNode;){const Rt=Ie.get(Dt);if(Rt){We=Rt;break}Nt.push(Dt)}Nt.forEach(Rt=>Ie.set(Rt,We))}const bt=this._buildAnimation(ht.namespaceId,wt,Oe,o,it,Ve);if(ht.setRealPlayer(bt),We===$e)Ze.push(ht);else{const Dt=this.playersByElement.get(We);Dt&&Dt.length&&(ht.parentPlayer=mc(Dt)),r.push(ht)}}else _d(Ke,wt.fromStyles),ht.onDestroy(()=>Pl(Ke,wt.toStyles)),At.push(ht),g.has(Ke)&&r.push(ht)}),At.forEach(De=>{const Ke=o.get(De.element);if(Ke&&Ke.length){const ht=mc(Ke);De.setRealPlayer(ht)}}),r.forEach(De=>{De.parentPlayer?De.syncPlayerEvents(De.parentPlayer):De.destroy()});for(let De=0;De<B.length;De++){const Ke=B[De],ht=Ke[pa];if(Np(Ke,Bb),ht&&ht.hasAnimation)continue;let wt=[];if(a.size){let bt=a.get(Ke);bt&&bt.length&&wt.push(...bt);let Dt=this.driver.query(Ke,yP,!0);for(let Nt=0;Nt<Dt.length;Nt++){let Rt=a.get(Dt[Nt]);Rt&&Rt.length&&wt.push(...Rt)}}const We=wt.filter(bt=>!bt.destroyed);We.length?S0e(this,Ke,We):this.processLeaveNode(Ke)}return B.length=0,Ze.forEach(De=>{this.players.push(De),De.onDone(()=>{De.destroy();const Ke=this.players.indexOf(De);this.players.splice(Ke,1)}),De.play()}),Ze}elementContainsData(t,e){let i=!1;const r=e[pa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let s=[];if(e){const a=this.playersByQueriedElement.get(t);a&&(s=a)}else{const a=this.playersByElement.get(t);if(a){const l=!o||o==ym;a.forEach(u=>{u.queued||!l&&u.triggerName!=r||s.push(u)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(t,e,i){const o=e.element,s=e.isRemovalTransition?void 0:t,a=e.isRemovalTransition?void 0:e.triggerName;for(const l of e.timelines){const u=l.element,g=u!==o,E=Ns(i,u,[]);this._getPreviousPlayers(u,g,s,a,e.toState).forEach(P=>{const A=P.getRealPlayer();A.beforeDestroy&&A.beforeDestroy(),P.destroy(),E.push(P)})}_d(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,s){const a=e.triggerName,l=e.element,u=[],g=new Set,E=new Set,w=e.timelines.map(A=>{const D=A.element;g.add(D);const B=D[pa];if(B&&B.removedBeforeQueried)return new Z_(A.duration,A.delay);const Y=D!==l,K=function T0e(n){const t=[];return u8(n,t),t}((i.get(D)||g0e).map(Oe=>Oe.getRealPlayer())).filter(Oe=>!!Oe.element&&Oe.element===D),re=o.get(D),ae=s.get(D),te=kG(0,this._normalizer,0,A.keyframes,re,ae),ne=this._buildPlayer(A,te,K);if(A.subTimeline&&r&&E.add(D),Y){const Oe=new IP(t,a,D);Oe.setRealPlayer(ne),u.push(Oe)}return ne});u.forEach(A=>{Ns(this.playersByQueriedElement,A.element,[]).push(A),A.onDone(()=>function y0e(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,A.element,A))}),g.forEach(A=>ga(A,WG));const P=mc(w);return P.onDestroy(()=>{g.forEach(A=>Np(A,WG)),Pl(l,e.toStyles)}),E.forEach(A=>{Ns(r,A,[]).push(P)}),P}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Z_(t.duration,t.delay)}}class IP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Z_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>dP(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ns(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Qb(n){return n&&1===n.nodeType}function s8(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function a8(n,t,e,i,r){const o=[];e.forEach(l=>o.push(s8(l)));const s=[];i.forEach((l,u)=>{const g={};l.forEach(E=>{const w=g[E]=t.computeStyle(u,E,r);(!w||0==w.length)&&(u[pa]=_0e,s.push(u))}),n.set(u,g)});let a=0;return e.forEach(l=>s8(l,o[a++])),s}function l8(n,t){const e=new Map;if(n.forEach(a=>e.set(a,[])),0==t.length)return e;const r=new Set(t),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const u=a.parentNode;return l=e.has(u)?u:r.has(u)?1:s(u),o.set(a,l),l}return t.forEach(a=>{const l=s(a);1!==l&&e.get(l).push(a)}),e}function ga(n,t){var e;null===(e=n.classList)||void 0===e||e.add(t)}function Np(n,t){var e;null===(e=n.classList)||void 0===e||e.remove(t)}function S0e(n,t,e){mc(e).onDone(()=>n.processLeaveNode(t))}function u8(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Q5?u8(i.players,t):t.push(i)}}function c8(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class Zb{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new v0e(t,e,i),this._timelineEngine=new c0e(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const s=t+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],g=TP(this._driver,o,l,[]);if(l.length)throw function hye(n,t){return new kt(3404,kn)}();a=function s0e(n,t,e){return new a0e(n,t,e)}(r,g,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(e,r,a)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,s]=FG(i);this._timelineEngine.command(o,e,s,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[s,a]=FG(i);return this._timelineEngine.listen(s,e,a,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let M0e=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o={}),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Pl(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pl(this._element,this._initialStyles),this._endStyles&&(Pl(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(_d(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(_d(this._element,this._endStyles),this._endStyles=null),Pl(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NP(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];w0e(r)&&(t=t||{},t[r]=n[r])}return t}function w0e(n){return"display"===n||"position"===n}class h8{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:qG(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class P0e{validateStyleProperty(t){return GG(t)}matchesElement(t,e){return!1}containsElement(t,e){return jG(t,e)}getParentElement(t){return _P(t)}query(t,e,i){return VG(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const u={},g=s.filter(w=>w instanceof h8);(function Dye(n,t){return 0===n||0===t})(i,r)&&g.forEach(w=>{let P=w.currentSnapshot;Object.keys(P).forEach(A=>u[A]=P[A])}),e=function Iye(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(a=>{o.hasOwnProperty(a)||s.push(a),o[a]=e[a]}),s.length)for(var r=1;r<t.length;r++){let a=t[r];s.forEach(function(l){a[l]=qG(n,l)})}}return t}(t,e=e.map(w=>vc(w,!1)),u);const E=function O0e(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=NP(t[0]),t.length>1&&(i=NP(t[t.length-1]))):t&&(e=NP(t)),e||i?new M0e(n,e,i):null}(t,e);return new h8(t,e,l,E)}}let A0e=(()=>{class n extends Cw{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:ya.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?q5(e):e;return d8(this._renderer,null,i,"register",[r]),new x0e(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(ke(gf),ke(Di))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class x0e extends class npe{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new R0e(this._id,t,e||{},this._renderer)}}class R0e{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return d8(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function d8(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const f8="@.disabled";let D0e=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,s)=>{const a=null==s?void 0:s.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let g=this._rendererCache.get(o);return g||(g=new p8("",o,this.engine),this._rendererCache.set(o,g)),g}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,e);const l=g=>{Array.isArray(g)?g.forEach(l):this.engine.registerTrigger(s,a,e,g.name,g)};return i.data.animation.forEach(l),new I0e(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(ke(gf),ke(Zb),ke(On))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();class p8{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==f8?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class I0e extends p8{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==f8?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function N0e(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.substr(1),s="";return"@"!=o.charAt(0)&&([o,s]=function k0e(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(t,e,i)}}let F0e=(()=>{class n extends Zb{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(ke(Di),ke(mP),ke(PP))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const g8=new Kt("AnimationModuleType"),_8=[{provide:Cw,useClass:A0e},{provide:PP,useFactory:function B0e(){return new t0e}},{provide:Zb,useClass:F0e},{provide:gf,useFactory:function L0e(n,t,e){return new D0e(n,t,e)},deps:[ty,Zb,On]}],m8=[{provide:mP,useFactory:()=>new P0e},{provide:g8,useValue:"BrowserAnimations"},..._8],U0e=[{provide:mP,useClass:HG},{provide:g8,useValue:"NoopAnimations"},..._8];let v8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?U0e:m8}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:m8,imports:[_N]}),n})(),G0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,uP,ta,kb]]}),n})(),j0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[],imports:[[xt,kb,uP,ta,v8,bn,cP,G0e]]}),n})(),V0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,kb,bn,ta,dp]]}),n})(),H0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,ta,bn,V0e,dp]]}),n})(),Y0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,ta,_u,bn,wl]]}),n})(),W0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,ta,_u,bn]]}),n})(),z0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),$0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),X0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),K0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),kP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({providers:[],imports:[[xt,bn]]}),n})(),q0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[kP,xt,_u,bn]]}),n})(),J0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),Q0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),Z0e=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,_u,bn,Dp,wl]]}),n})(),ebe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),tbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn,kb,ta]]}),n})(),nbe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,xve,jve,Vve,j0e,Hve,H0e,Y0e,W0e,z0e,X0e,bn,K0e,J0e,q0e,kP,$0e,Q0e,Z0e,ebe,tbe,Ave]]}),n})();const t1=S(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function y8(){return je((n,t)=>{let e=null;n._refCount++;const i=ie(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ibe extends oe{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,qe(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new f;const e=this.getSubject();t.add(this.source.subscribe(ie(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=f.EMPTY)}return t}refCount(){return y8()(this)}}function rbe(n,t,e,i,r){return(o,s)=>{let a=e,l=t,u=0;o.subscribe(ie(s,g=>{const E=u++;l=a?n(l,g,E):(a=!0,g),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function b8(n,t){return je(rbe(n,t,arguments.length>=2,!0))}function yc(n){return je((t,e)=>{let o,i=null,r=!1;i=t.subscribe(ie(e,void 0,void 0,s=>{o=pt(n(s,yc(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function FP(n){return n<=0?()=>Qe:je((t,e)=>{let i=[];t.subscribe(ie(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function E8(n=obe){return je((t,e)=>{let i=!1;t.subscribe(ie(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function obe(){return new t1}function S8(n){return je((t,e)=>{let i=!1;t.subscribe(ie(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function kp(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ut((r,o)=>n(r,o,i)):se,$n(1),e?S8(t):E8(()=>new t1))}class mu{constructor(t,e){this.id=t,this.url=e}}class BP extends mu{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bm extends mu{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class T8 extends mu{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class lbe extends mu{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ube extends mu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cbe extends mu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hbe extends mu{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dbe extends mu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fbe extends mu{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class C8{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class O8{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pbe{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gbe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _be{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mbe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M8{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Rn="primary";class vbe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Fp(n){return new vbe(n)}const w8="ngNavigationCancelingError";function LP(n){const t=Error("NavigationCancelingError: "+n);return t[w8]=!0,t}function bbe(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Al(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!P8(n[r],t[r]))return!1;return!0}function P8(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function A8(n){return Array.prototype.concat.apply([],n)}function x8(n){return n.length>0?n[n.length-1]:null}function fo(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function xl(n){return hS(n)?n:mg(n)?Ln(Promise.resolve(n)):Vt(n)}const Tbe={exact:function I8(n,t,e){if(!yd(n.segments,t.segments)||!n1(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!I8(n.children[i],t.children[i],e))return!1;return!0},subset:N8},R8={exact:function Cbe(n,t){return Al(n,t)},subset:function Obe(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>P8(n[e],t[e]))},ignored:()=>!0};function D8(n,t,e){return Tbe[e.paths](n.root,t.root,e.matrixParams)&&R8[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function N8(n,t,e){return k8(n,t,t.segments,e)}function k8(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!yd(r,e)||t.hasChildren()||!n1(r,e,i))}if(n.segments.length===e.length){if(!yd(n.segments,e)||!n1(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!N8(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(yd(n.segments,r)&&n1(n.segments,r,i)&&n.children[Rn])&&k8(n.children[Rn],t,o,i)}}function n1(n,t,e){return t.every((i,r)=>R8[e](n[r].parameters,i.parameters))}class vd{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fp(this.queryParams)),this._queryParamMap}toString(){return Pbe.serialize(this)}}class Fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,fo(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return r1(this)}}class Em{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Fp(this.parameters)),this._parameterMap}toString(){return G8(this)}}function yd(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class F8{}class B8{parse(t){const e=new Bbe(t);return new vd(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Sm(t.root,!0)}`,i=function Rbe(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${o1(e)}=${o1(r)}`).join("&"):`${o1(e)}=${o1(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Abe(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Pbe=new B8;function r1(n){return n.segments.map(t=>G8(t)).join("/")}function Sm(n,t){if(!n.hasChildren())return r1(n);if(t){const e=n.children[Rn]?Sm(n.children[Rn],!1):"",i=[];return fo(n.children,(r,o)=>{o!==Rn&&i.push(`${o}:${Sm(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function wbe(n,t){let e=[];return fo(n.children,(i,r)=>{r===Rn&&(e=e.concat(t(i,r)))}),fo(n.children,(i,r)=>{r!==Rn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Rn?[Sm(n.children[Rn],!1)]:[`${r}:${Sm(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rn]?`${r1(n)}/${e[0]}`:`${r1(n)}/(${e.join("//")})`}}function L8(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function o1(n){return L8(n).replace(/%3B/gi,";")}function UP(n){return L8(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function s1(n){return decodeURIComponent(n)}function U8(n){return s1(n.replace(/\+/g,"%20"))}function G8(n){return`${UP(n.path)}${function xbe(n){return Object.keys(n).map(t=>`;${UP(t)}=${UP(n[t])}`).join("")}(n.parameters)}`}const Dbe=/^[^\/()?;=#]+/;function a1(n){const t=n.match(Dbe);return t?t[0]:""}const Ibe=/^[^=?&#]+/,kbe=/^[^&#]+/;class Bbe{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Fn([],{}):new Fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Rn]=new Fn(t,e)),i}parseSegment(){const t=a1(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Em(s1(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=a1(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=a1(this.remaining);r&&(i=r,this.capture(i))}t[s1(e)]=s1(i)}parseQueryParam(t){const e=function Nbe(n){const t=n.match(Ibe);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const s=function Fbe(n){const t=n.match(kbe);return t?t[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=U8(e),o=U8(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=a1(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let o;i.indexOf(":")>-1?(o=i.substr(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Rn);const s=this.parseChildren();e[o]=1===Object.keys(s).length?s[Rn]:new Fn([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class j8{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=GP(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=GP(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=jP(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return jP(t,this._root).map(e=>e.value)}}function GP(n,t){if(n===t.value)return t;for(const e of t.children){const i=GP(n,e);if(i)return i}return null}function jP(n,t){if(n===t.value)return[t];for(const e of t.children){const i=jP(n,e);if(i.length)return i.unshift(t),i}return[]}class vu{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Bp(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class V8 extends j8{constructor(t,e){super(t),this.snapshot=e,VP(this,t)}toString(){return this.snapshot.toString()}}function H8(n,t){const e=function Lbe(n,t){const s=new l1([],{},{},"",{},Rn,t,null,n.root,-1,{});return new W8("",new vu(s,[]))}(n,t),i=new li([new Em("",{})]),r=new li({}),o=new li({}),s=new li({}),a=new li(""),l=new Lp(i,r,s,a,o,Rn,t,e.root);return l.snapshot=e.root,new V8(new vu(l,[]),e)}class Lp{constructor(t,e,i,r,o,s,a,l){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(pe(t=>Fp(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(pe(t=>Fp(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Y8(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Ube(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(i))}class l1{constructor(t,e,i,r,o,s,a,l,u,g,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._urlSegment=u,this._lastPathIndex=g,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Fp(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Fp(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class W8 extends j8{constructor(t,e){super(e),this.url=t,VP(this,e)}toString(){return z8(this._root)}}function VP(n,t){t.value._routerState=n,t.children.forEach(e=>VP(n,e))}function z8(n){const t=n.children.length>0?` { ${n.children.map(z8).join(", ")} } `:"";return`${n.value}${t}`}function HP(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Al(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Al(t.params,e.params)||n.params.next(e.params),function Ebe(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Al(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Al(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function YP(n,t){const e=Al(n.params,t.params)&&function Mbe(n,t){return yd(n,t)&&n.every((e,i)=>Al(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||YP(n.parent,t.parent))}function Tm(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function jbe(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Tm(n,i,r);return Tm(n,i)})}(n,t,e);return new vu(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Tm(n,a)),s}}const i=function Vbe(n){return new Lp(new li(n.url),new li(n.params),new li(n.queryParams),new li(n.fragment),new li(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Tm(n,o));return new vu(i,r)}}function u1(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Cm(n){return"object"==typeof n&&null!=n&&n.outlets}function WP(n,t,e,i,r){let o={};return i&&fo(i,(s,a)=>{o[a]=Array.isArray(s)?s.map(l=>`${l}`):`${s}`}),new vd(e.root===n?t:$8(e.root,n,t),o,r)}function $8(n,t,e){const i={};return fo(n.children,(r,o)=>{i[o]=r===t?e:$8(r,t,e)}),new Fn(n.segments,i)}class X8{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&u1(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Cm);if(r&&r!==x8(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zP{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function K8(n,t,e){if(n||(n=new Fn([],{})),0===n.segments.length&&n.hasChildren())return c1(n,t,e);const i=function Xbe(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const s=n.segments[r],a=e[i];if(Cm(a))break;const l=`${a}`,u=i<e.length-1?e[i+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!J8(l,u,s))return o;i+=2}else{if(!J8(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Fn(n.segments.slice(0,i.pathIndex),{});return o.children[Rn]=new Fn(n.segments.slice(i.pathIndex),n.children),c1(o,0,r)}return i.match&&0===r.length?new Fn(n.segments,{}):i.match&&!n.hasChildren()?$P(n,t,e):i.match?c1(n,0,r):$P(n,t,e)}function c1(n,t,e){if(0===e.length)return new Fn(n.segments,{});{const i=function $be(n){return Cm(n[0])?n[0].outlets:{[Rn]:n}}(e),r={};return fo(i,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=K8(n.children[s],t,o))}),fo(n.children,(o,s)=>{void 0===i[s]&&(r[s]=o)}),new Fn(n.segments,r)}}function $P(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Cm(o)){const l=Kbe(o.outlets);return new Fn(i,l)}if(0===r&&u1(e[0])){i.push(new Em(n.segments[t].path,q8(e[0]))),r++;continue}const s=Cm(o)?o.outlets[Rn]:`${o}`,a=r<e.length-1?e[r+1]:null;s&&a&&u1(a)?(i.push(new Em(s,q8(a))),r+=2):(i.push(new Em(s,{})),r++)}return new Fn(i,{})}function Kbe(n){const t={};return fo(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=$P(new Fn([],{}),0,e))}),t}function q8(n){const t={};return fo(n,(e,i)=>t[i]=`${e}`),t}function J8(n,t,e){return n==e.path&&Al(t,e.parameters)}class Jbe{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),HP(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Bp(e);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),fo(r,(o,s)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Bp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Bp(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Bp(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new mbe(o.value.snapshot))}),t.children.length&&this.forwardEvent(new gbe(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(HP(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),HP(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=function Qbe(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),l=a?a.module.componentFactoryResolver:null;s.attachRef=null,s.route=r,s.resolver=l,s.outlet&&s.outlet.activateWith(r,l),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,i)}}class XP{constructor(t,e){this.routes=t,this.module=e}}function bc(n){return"function"==typeof n}function bd(n){return n instanceof vd}const Om=Symbol("INITIAL_VALUE");function Mm(){return Zs(n=>function FM(...n){const t=ls(n),e=Pi(n),{args:i,keys:r}=hL(n);if(0===i.length)return Ln([],t);const o=new oe(function Ase(n,t,e=se){return i=>{PL(t,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)PL(t,()=>{const u=Ln(n[l],t);let g=!1;u.subscribe(ie(i,E=>{o[l]=E,g||(g=!0,a--),a||i.next(e(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,t,r?s=>dL(r,s):se));return e?o.pipe(GT(e)):o}(n.map(t=>t.pipe($n(1),sp(Om)))).pipe(b8((t,e)=>{let i=!1;return e.reduce((r,o,s)=>r!==Om?r:(o===Om&&(i=!0),i||!1!==o&&s!==e.length-1&&!bd(o)?r:o),t)},Om),Ut(t=>t!==Om),pe(t=>bd(t)?t:!0===t),$n(1)))}class r1e{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wm,this.attachRef=null}}class wm{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new r1e,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let Q8=(()=>{class n{constructor(e,i,r,o,s){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new jt,this.deactivateEvents=new jt,this.attachEvents=new jt,this.detachEvents=new jt,this.name=o||Rn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const s=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),a=this.parentContexts.getOrCreateContext(this.name).children,l=new o1e(e,a,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,l),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(X(wm),X(ms),X(ff),function Pc(n){return function Xj(n,t){if("class"===t)return n.classes;if("style"===t)return n.styles;const e=n.attrs;if(e){const i=e.length;let r=0;for(;r<i;){const o=e[r];if(kA(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof e[r];)r++;else{if(o===t)return e[r+1];r+=2}}}return null}(Br(),n)}("name"),X(Mn))},n.\u0275dir=mt({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class o1e{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Lp?this.route:t===wm?this.childContexts:this.parent.get(t,e)}}let Z8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=gt({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&Ae(0,"router-outlet")},directives:[Q8],encapsulation:2}),n})();function e6(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];s1e(i,a1e(t,i))}}function s1e(n,t){n.children&&e6(n.children,t)}function a1e(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function KP(n){const t=n.children&&n.children.map(KP),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Rn&&(e.component=Z8),e}function _a(n){return n.outlet||Rn}function t6(n,t){const e=n.filter(i=>_a(i)===t);return e.push(...n.filter(i=>_a(i)!==t)),e}const n6={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h1(n,t,e){var i;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},n6):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const o=(t.matcher||bbe)(e,n,t);if(!o)return Object.assign({},n6);const s={};fo(o.posParams,(l,u)=>{s[u]=l.path});const a=o.consumed.length>0?Object.assign(Object.assign({},s),o.consumed[o.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:a,positionalParamSegments:null!==(i=o.posParams)&&void 0!==i?i:{}}}function d1(n,t,e,i,r="corrected"){if(e.length>0&&function c1e(n,t,e){return e.some(i=>f1(n,t,i)&&_a(i)!==Rn)}(n,e,i)){const s=new Fn(t,function u1e(n,t,e,i){const r={};r[Rn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&_a(o)!==Rn){const s=new Fn([],{});s._sourceSegment=n,s._segmentIndexShift=t.length,r[_a(o)]=s}return r}(n,t,i,new Fn(e,n.children)));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:[]}}if(0===e.length&&function h1e(n,t,e){return e.some(i=>f1(n,t,i))}(n,e,i)){const s=new Fn(n.segments,function l1e(n,t,e,i,r,o){const s={};for(const a of i)if(f1(n,e,a)&&!r[_a(a)]){const l=new Fn([],{});l._sourceSegment=n,l._segmentIndexShift="legacy"===o?n.segments.length:t.length,s[_a(a)]=l}return Object.assign(Object.assign({},r),s)}(n,t,e,i,n.children,r));return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}const o=new Fn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function f1(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function i6(n,t,e,i){return!!(_a(n)===i||i!==Rn&&f1(t,e,n))&&("**"===n.path||h1(t,n,e).matched)}function r6(n,t,e){return 0===t.length&&!n.children[e]}class p1{constructor(t){this.segmentGroup=t||null}}class o6{constructor(t){this.urlTree=t}}function Pm(n){return Kg(new p1(n))}function s6(n){return Kg(new o6(n))}function d1e(n){return Kg(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class g1e{constructor(t,e,i,r,o){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(jl)}apply(){const t=d1(this.urlTree.root,[],[],this.config).segmentGroup,e=new Fn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Rn).pipe(pe(o=>this.createUrlTree(qP(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(yc(o=>{if(o instanceof o6)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof p1?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Rn).pipe(pe(r=>this.createUrlTree(qP(r),t.queryParams,t.fragment))).pipe(yc(r=>{throw r instanceof p1?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new Fn([],{[Rn]:t}):t;return new vd(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe(pe(o=>new Fn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return Ln(r).pipe(Uc(o=>{const s=i.children[o],a=t6(e,o);return this.expandSegmentGroup(t,a,s,o).pipe(pe(l=>({segment:l,outlet:o})))}),b8((o,s)=>(o[s.outlet]=s.segment,o),{}),function sbe(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Ut((r,o)=>n(r,o,i)):se,FP(1),e?S8(t):E8(()=>new t1))}())}expandSegment(t,e,i,r,o,s){return Ln(i).pipe(Uc(a=>this.expandSegmentAgainstRoute(t,e,i,a,r,o,s).pipe(yc(u=>{if(u instanceof p1)return Vt(null);throw u}))),kp(a=>!!a),yc((a,l)=>{if(a instanceof t1||"EmptyError"===a.name)return r6(e,r,o)?Vt(new Fn([],{})):Pm(e);throw a}))}expandSegmentAgainstRoute(t,e,i,r,o,s,a){return i6(r,e,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s):Pm(e):Pm(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?s6(o):this.lineralizeSegments(i,o).pipe(wi(s=>{const a=new Fn(s,{});return this.expandSegment(t,a,e,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:u,positionalParamSegments:g}=h1(e,r,o);if(!a)return Pm(e);const E=this.applyRedirectCommands(l,r.redirectTo,g);return r.redirectTo.startsWith("/")?s6(E):this.lineralizeSegments(r,E).pipe(wi(w=>this.expandSegment(t,e,i,w.concat(u),s,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){if("**"===i.path)return i.loadChildren?(i._loadedConfig?Vt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe(pe(E=>(i._loadedConfig=E,new Fn(r,{})))):Vt(new Fn(r,{}));const{matched:s,consumedSegments:a,remainingSegments:l}=h1(e,i,r);return s?this.getChildConfig(t,i,r).pipe(wi(g=>{const E=g.module,w=g.routes,{segmentGroup:P,slicedSegments:A}=d1(e,a,l,w),D=new Fn(P.segments,P.children);if(0===A.length&&D.hasChildren())return this.expandChildren(E,w,D).pipe(pe(re=>new Fn(a,re)));if(0===w.length&&0===A.length)return Vt(new Fn(a,{}));const B=_a(i)===o;return this.expandSegment(E,D,w,A,B?Rn:o,!0).pipe(pe(K=>new Fn(a.concat(K.segments),K.children)))})):Pm(e)}getChildConfig(t,e,i){return e.children?Vt(new XP(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Vt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe(wi(r=>r?this.configLoader.load(t.injector,e).pipe(pe(o=>(e._loadedConfig=o,o))):function f1e(n){return Kg(LP(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):Vt(new XP([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return Vt(!0);const o=r.map(s=>{const a=t.get(s);let l;if(function e1e(n){return n&&bc(n.canLoad)}(a))l=a.canLoad(e,i);else{if(!bc(a))throw new Error("Invalid CanLoad guard");l=a(e,i)}return xl(l)});return Vt(o).pipe(Mm(),tr(s=>{if(!bd(s))return;const a=LP(`Redirecting to "${this.urlSerializer.serialize(s)}"`);throw a.url=s,a}),pe(s=>!0===s))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Vt(i);if(r.numberOfChildren>1||!r.children[Rn])return d1e(t.redirectTo);r=r.children[Rn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new vd(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return fo(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const a=r.substring(1);i[o]=e[a]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let s={};return fo(e.children,(a,l)=>{s[l]=this.createSegmentGroup(t,a,i,r)}),new Fn(o,s)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function qP(n){const t={};for(const i of Object.keys(n.children)){const o=qP(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function _1e(n){if(1===n.numberOfChildren&&n.children[Rn]){const t=n.children[Rn];return new Fn(n.segments.concat(t.segments),t.children)}return n}(new Fn(n.segments,t))}class a6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class g1{constructor(t,e){this.component=t,this.route=e}}function v1e(n,t,e){const i=n._root;return Am(i,t?t._root:null,e,[i.value])}function _1(n,t,e){const i=function b1e(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Am(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Bp(t);return n.children.forEach(s=>{(function E1e(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=t?t.value:null,a=e?e.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function S1e(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!yd(n.url,t.url);case"pathParamsOrQueryParamsChange":return!yd(n.url,t.url)||!Al(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YP(n,t)||!Al(n.queryParams,t.queryParams);default:return!YP(n,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new a6(i)):(o.data=s.data,o._resolvedData=s._resolvedData),Am(n,t,o.component?a?a.children:null:e,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new g1(a.outlet.component,s))}else s&&xm(t,a,r),r.canActivateChecks.push(new a6(i)),Am(n,null,o.component?a?a.children:null:e,i,r)})(s,o[s.value.outlet],e,i.concat([s.value]),r),delete o[s.value.outlet]}),fo(o,(s,a)=>xm(s,e.getContext(a),r)),r}function xm(n,t,e){const i=Bp(n),r=n.value;fo(i,(o,s)=>{xm(o,r.component?t?t.children.getContext(s):null:t,e)}),e.canDeactivateChecks.push(new g1(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class R1e{}function l6(n){return new oe(t=>t.error(n))}class I1e{constructor(t,e,i,r,o,s){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=s}recognize(){const t=d1(this.urlTree.root,[],[],this.config.filter(s=>void 0===s.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Rn);if(null===e)return null;const i=new l1([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Rn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new vu(i,e),o=new W8(this.url,r);return this.inheritParamsAndData(o._root),o}inheritParamsAndData(t){const e=t.value,i=Y8(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const o of Object.keys(e.children)){const s=e.children[o],a=t6(t,o),l=this.processSegmentGroup(a,s,o);if(null===l)return null;i.push(...l)}const r=u6(i);return function N1e(n){n.sort((t,e)=>t.value.outlet===Rn?-1:e.value.outlet===Rn?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const o of t){const s=this.processSegmentAgainstRoute(o,e,i,r);if(null!==s)return s}return r6(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!i6(t,e,i,r))return null;let o,s=[],a=[];if("**"===t.path){const P=i.length>0?x8(i).parameters:{};o=new l1(i,P,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,d6(t),_a(t),t.component,t,c6(e),h6(e)+i.length,f6(t))}else{const P=h1(e,t,i);if(!P.matched)return null;s=P.consumedSegments,a=P.remainingSegments,o=new l1(s,P.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,d6(t),_a(t),t.component,t,c6(e),h6(e)+s.length,f6(t))}const l=function k1e(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:g}=d1(e,s,a,l.filter(P=>void 0===P.redirectTo),this.relativeLinkResolution);if(0===g.length&&u.hasChildren()){const P=this.processChildren(l,u);return null===P?null:[new vu(o,P)]}if(0===l.length&&0===g.length)return[new vu(o,[])];const E=_a(t)===r,w=this.processSegment(l,u,g,E?Rn:r);return null===w?null:[new vu(o,w)]}}function F1e(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function u6(n){const t=[],e=new Set;for(const i of n){if(!F1e(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=u6(i.children);t.push(new vu(i.value,r))}return t.filter(i=>!e.has(i))}function c6(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function h6(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function d6(n){return n.data||{}}function f6(n){return n.resolve||{}}function p6(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function JP(n){return Zs(t=>{const e=n(t);return e?Ln(e).pipe(pe(()=>t)):Vt(t)})}class Y1e extends class H1e{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const QP=new Kt("ROUTES");class g6{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe(pe(o=>{this.onLoadEndListener&&this.onLoadEndListener(e);const s=o.create(t);return new XP(A8(s.injector.get(QP,void 0,an.Self|an.Optional)).map(KP),s)}),yc(o=>{throw e._loader$=void 0,o}));return e._loader$=new ibe(r,()=>new Le).pipe(y8()),e._loader$}loadModuleFactory(t){return xl(t()).pipe(wi(e=>e instanceof xI?Vt(e):Ln(this.compiler.compileModuleAsync(e))))}}class z1e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function $1e(n){throw n}function X1e(n,t,e){return t.parse("/")}function _6(n,t){return Vt(null)}const K1e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},q1e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Fs=(()=>{class n{constructor(e,i,r,o,s,a,l){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Le,this.errorHandler=$1e,this.malformedUriErrorHandler=X1e,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:_6,afterPreactivation:_6},this.urlHandlingStrategy=new z1e,this.routeReuseStrategy=new Y1e,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(jl),this.console=s.get(f2);const E=s.get(On);this.isNgZoneEnabled=E instanceof On&&On.isInAngularZone(),this.resetConfig(l),this.currentUrlTree=function Sbe(){return new vd(new Fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new g6(s,a,w=>this.triggerEvent(new C8(w)),w=>this.triggerEvent(new O8(w))),this.routerState=H8(this.currentUrlTree,this.rootComponentType),this.transitions=new li({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Ut(r=>0!==r.id),pe(r=>Object.assign(Object.assign({},r),{extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Zs(r=>{let o=!1,s=!1;return Vt(r).pipe(tr(a=>{this.currentNavigation={id:a.id,initialUrl:a.currentRawUrl,extractedUrl:a.extractedUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Zs(a=>{const l=this.browserUrlTree.toString(),u=!this.navigated||a.extractedUrl.toString()!==l||l!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||u)&&this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return m6(a.source)&&(this.browserUrlTree=a.extractedUrl),Vt(a).pipe(Zs(E=>{const w=this.transitions.getValue();return i.next(new BP(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),w!==this.transitions.getValue()?Qe:Promise.resolve(E)}),function m1e(n,t,e,i){return Zs(r=>function p1e(n,t,e,i,r){return new g1e(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe(pe(o=>Object.assign(Object.assign({},r),{urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),tr(E=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:E.urlAfterRedirects})}),function B1e(n,t,e,i,r){return wi(o=>function D1e(n,t,e,i,r="emptyOnly",o="legacy"){try{const s=new I1e(n,t,e,i,r,o).recognize();return null===s?l6(new R1e):Vt(s)}catch(s){return l6(s)}}(n,t,o.urlAfterRedirects,e(o.urlAfterRedirects),i,r).pipe(pe(s=>Object.assign(Object.assign({},o),{targetSnapshot:s}))))}(this.rootComponentType,this.config,E=>this.serializeUrl(E),this.paramsInheritanceStrategy,this.relativeLinkResolution),tr(E=>{if("eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const P=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(P,E)}this.browserUrlTree=E.urlAfterRedirects}const w=new ube(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(w)}));if(u&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:w,extractedUrl:P,source:A,restoredState:D,extras:B}=a,Y=new BP(w,this.serializeUrl(P),A,D);i.next(Y);const K=H8(P,this.rootComponentType).snapshot;return Vt(Object.assign(Object.assign({},a),{targetSnapshot:K,urlAfterRedirects:P,extras:Object.assign(Object.assign({},B),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=a.rawUrl,a.resolve(null),Qe}),JP(a=>{const{targetSnapshot:l,id:u,extractedUrl:g,rawUrl:E,extras:{skipLocationChange:w,replaceUrl:P}}=a;return this.hooks.beforePreactivation(l,{navigationId:u,appliedUrlTree:g,rawUrlTree:E,skipLocationChange:!!w,replaceUrl:!!P})}),tr(a=>{const l=new cbe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot);this.triggerEvent(l)}),pe(a=>Object.assign(Object.assign({},a),{guards:v1e(a.targetSnapshot,a.currentSnapshot,this.rootContexts)})),function T1e(n,t){return wi(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=e;return 0===s.length&&0===o.length?Vt(Object.assign(Object.assign({},e),{guardsResult:!0})):function C1e(n,t,e,i){return Ln(n).pipe(wi(r=>function x1e(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Vt(o.map(a=>{const l=_1(a,t,r);let u;if(function i1e(n){return n&&bc(n.canDeactivate)}(l))u=xl(l.canDeactivate(n,t,e,i));else{if(!bc(l))throw new Error("Invalid CanDeactivate guard");u=xl(l(n,t,e,i))}return u.pipe(kp())})).pipe(Mm()):Vt(!0)}(r.component,r.route,e,t,i)),kp(r=>!0!==r,!0))}(s,i,r,n).pipe(wi(a=>a&&function Zbe(n){return"boolean"==typeof n}(a)?function O1e(n,t,e,i){return Ln(t).pipe(Uc(r=>ju(function w1e(n,t){return null!==n&&t&&t(new pbe(n)),Vt(!0)}(r.route.parent,i),function M1e(n,t){return null!==n&&t&&t(new _be(n)),Vt(!0)}(r.route,i),function A1e(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function y1e(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(s)).filter(s=>null!==s).map(s=>T0(()=>Vt(s.guards.map(l=>{const u=_1(l,s.node,e);let g;if(function n1e(n){return n&&bc(n.canActivateChild)}(u))g=xl(u.canActivateChild(i,n));else{if(!bc(u))throw new Error("Invalid CanActivateChild guard");g=xl(u(i,n))}return g.pipe(kp())})).pipe(Mm())));return Vt(o).pipe(Mm())}(n,r.path,e),function P1e(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Vt(!0);const r=i.map(o=>T0(()=>{const s=_1(o,t,e);let a;if(function t1e(n){return n&&bc(n.canActivate)}(s))a=xl(s.canActivate(t,n));else{if(!bc(s))throw new Error("Invalid CanActivate guard");a=xl(s(t,n))}return a.pipe(kp())}));return Vt(r).pipe(Mm())}(n,r.route,e))),kp(r=>!0!==r,!0))}(i,o,n,t):Vt(a)),pe(a=>Object.assign(Object.assign({},e),{guardsResult:a})))})}(this.ngModule.injector,a=>this.triggerEvent(a)),tr(a=>{if(bd(a.guardsResult)){const u=LP(`Redirecting to "${this.serializeUrl(a.guardsResult)}"`);throw u.url=a.guardsResult,u}const l=new hbe(a.id,this.serializeUrl(a.extractedUrl),this.serializeUrl(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.triggerEvent(l)}),Ut(a=>!!a.guardsResult||(this.restoreHistory(a),this.cancelNavigationTransition(a,""),!1)),JP(a=>{if(a.guards.canActivateChecks.length)return Vt(a).pipe(tr(l=>{const u=new dbe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}),Zs(l=>{let u=!1;return Vt(l).pipe(function L1e(n,t){return wi(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Vt(e);let o=0;return Ln(r).pipe(Uc(s=>function U1e(n,t,e,i){return function G1e(n,t,e,i){const r=p6(n);if(0===r.length)return Vt({});const o={};return Ln(r).pipe(wi(s=>function j1e(n,t,e,i){const r=_1(n,t,i);return xl(r.resolve?r.resolve(t,e):r(t,e))}(n[s],t,e,i).pipe(tr(a=>{o[s]=a}))),FP(1),wi(()=>p6(o).length===r.length?Vt(o):Qe))}(n._resolve,n,t,i).pipe(pe(o=>(n._resolvedData=o,n.data=Object.assign(Object.assign({},n.data),Y8(n,e).resolve),null)))}(s.route,i,n,t)),tr(()=>o++),FP(1),wi(s=>o===r.length?Vt(e):Qe))})}(this.paramsInheritanceStrategy,this.ngModule.injector),tr({next:()=>u=!0,complete:()=>{u||(this.restoreHistory(l),this.cancelNavigationTransition(l,"At least one route resolver didn't emit any value."))}}))}),tr(l=>{const u=new fbe(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(l.urlAfterRedirects),l.targetSnapshot);this.triggerEvent(u)}))}),JP(a=>{const{targetSnapshot:l,id:u,extractedUrl:g,rawUrl:E,extras:{skipLocationChange:w,replaceUrl:P}}=a;return this.hooks.afterPreactivation(l,{navigationId:u,appliedUrlTree:g,rawUrlTree:E,skipLocationChange:!!w,replaceUrl:!!P})}),pe(a=>{const l=function Gbe(n,t,e){const i=Tm(n,t._root,e?e._root:void 0);return new V8(i,t)}(this.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return Object.assign(Object.assign({},a),{targetRouterState:l})}),tr(a=>{this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects)}),((n,t,e)=>pe(i=>(new Jbe(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,a=>this.triggerEvent(a)),tr({next(){o=!0},complete(){o=!0}}),function abe(n){return je((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}(()=>{var a;o||s||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),(null===(a=this.currentNavigation)||void 0===a?void 0:a.id)===r.id&&(this.currentNavigation=null)}),yc(a=>{if(s=!0,function ybe(n){return n&&n[w8]}(a)){const l=bd(a.url);l||(this.navigated=!0,this.restoreHistory(r,!0));const u=new T8(r.id,this.serializeUrl(r.extractedUrl),a.message);i.next(u),l?setTimeout(()=>{const g=this.urlHandlingStrategy.merge(a.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||m6(r.source)};this.scheduleNavigation(g,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const l=new lbe(r.id,this.serializeUrl(r.extractedUrl),a);i.next(l);try{r.resolve(this.errorHandler(a))}catch(u){r.reject(u)}}return Qe}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{var r;const o={replaceUrl:!0},s=(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null;if(s){const l=Object.assign({},s);delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(e.url);this.scheduleNavigation(a,i,s,o)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){e6(e),this.config=e.map(KP),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,u=r||this.routerState.root,g=l?this.currentUrlTree.fragment:s;let E=null;switch(a){case"merge":E=Object.assign(Object.assign({},this.currentUrlTree.queryParams),o);break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=o||null}return null!==E&&(E=this.removeEmptyProps(E)),function Hbe(n,t,e,i,r){if(0===e.length)return WP(t.root,t.root,t,i,r);const o=function Ybe(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new X8(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return fo(o.outlets,(l,u)=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?t++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new X8(e,t,i)}(e);if(o.toRoot())return WP(t.root,new Fn([],{}),t,i,r);const s=function Wbe(n,t,e){if(n.isAbsolute)return new zP(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const o=e.snapshot._urlSegment;return new zP(o,o===t.root,0)}const i=u1(n.commands[0])?0:1;return function zbe(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new zP(i,!1,r-o)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(o,t,n),a=s.processChildren?c1(s.segmentGroup,s.index,o.commands):K8(s.segmentGroup,s.index,o.commands);return WP(s.segmentGroup,a,t,i,r)}(u,this.currentUrlTree,e,E,null!=g?g:null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=bd(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function J1e(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?Object.assign({},K1e):!1===i?Object.assign({},q1e):i,bd(e))return D8(this.currentUrlTree,e,r);const o=this.parseUrl(e);return D8(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new bm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,s){var a,l;if(this.disposed)return Promise.resolve(!1);let u,g,E;s?(u=s.resolve,g=s.reject,E=s.promise):E=new Promise((A,D)=>{u=A,g=D});const w=++this.navigationId;let P;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),P=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?null!==(a=this.browserPageId)&&void 0!==a?a:0:(null!==(l=this.browserPageId)&&void 0!==l?l:0)+1):P=0,this.setTransition({id:w,targetPageId:P,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:u,reject:g,promise:E,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),E.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o=Object.assign(Object.assign({},i.extras.state),this.generateNgRouterState(i.id,i.targetPageId));this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){var r,o;if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)||0===s?this.currentUrlTree===(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)&&0===s&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new T8(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){uS()},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function m6(n){return"imperative"!==n}class v6{}class y6{preload(t,e){return Vt(null)}}let b6=(()=>{class n{constructor(e,i,r,o){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=new g6(r,i,l=>e.triggerEvent(new C8(l)),l=>e.triggerEvent(new O8(l)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ut(e=>e instanceof bm),Uc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(jl);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i)if(o.loadChildren&&!o.canLoad&&o._loadedConfig){const s=o._loadedConfig;r.push(this.processRoutes(s.module,s.routes))}else o.loadChildren&&!o.canLoad?r.push(this.preloadConfig(e,o)):o.children&&r.push(this.processRoutes(e,o.children));return Ln(r).pipe(Fr(),pe(o=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?Vt(i._loadedConfig):this.loader.load(e.injector,i)).pipe(wi(o=>(i._loadedConfig=o,this.processRoutes(o.module,o.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(ke(Fs),ke(p2),ke(br),ke(v6))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})(),tA=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof BP?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof bm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof M8&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new M8(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){uS()},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();const Ed=new Kt("ROUTER_CONFIGURATION"),E6=new Kt("ROUTER_FORROOT_GUARD"),tEe=[JS,{provide:F8,useClass:B8},{provide:Fs,useFactory:function aEe(n,t,e,i,r,o,s={},a,l){const u=new Fs(null,n,t,e,i,r,A8(o));return a&&(u.urlHandlingStrategy=a),l&&(u.routeReuseStrategy=l),function lEe(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(s,u),s.enableTracing&&u.events.subscribe(g=>{var E,w;null===(E=console.group)||void 0===E||E.call(console,`Router Event: ${g.constructor.name}`),console.log(g.toString()),console.log(g),null===(w=console.groupEnd)||void 0===w||w.call(console)}),u},deps:[F8,wm,JS,br,p2,QP,Ed,[class W1e{},new Mu],[class V1e{},new Mu]]},wm,{provide:Lp,useFactory:function uEe(n){return n.routerState.root},deps:[Fs]},b6,y6,class eEe{preload(t,e){return e().pipe(yc(()=>Vt(null)))}},{provide:Ed,useValue:{enableTracing:!1}}];function nEe(){return new y2("Router",Fs)}let iEe=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[tEe,S6(e),{provide:E6,useFactory:sEe,deps:[[Fs,new Mu,new rg]]},{provide:Ed,useValue:i||{}},{provide:vf,useFactory:oEe,deps:[kc,[new ov(qS),new Mu],Ed]},{provide:tA,useFactory:rEe,deps:[Fs,fX,Ed]},{provide:v6,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:y6},{provide:y2,multi:!0,useFactory:nEe},[nA,{provide:Lv,multi:!0,useFactory:cEe,deps:[nA]},{provide:T6,useFactory:hEe,deps:[nA]},{provide:d2,multi:!0,useExisting:T6}]]}}static forChild(e){return{ngModule:n,providers:[S6(e)]}}}return n.\u0275fac=function(e){return new(e||n)(ke(E6,8),ke(Fs,8))},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({}),n})();function rEe(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new tA(n,t,e)}function oEe(n,t,e={}){return e.useHash?new o$(n,t):new U2(n,t)}function sEe(n){return"guarded"}function S6(n){return[{provide:Zj,multi:!0,useValue:n},{provide:QP,multi:!0,useValue:n}]}let nA=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Le}appInitializer(){return this.injector.get(n$,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(a=>i=a),o=this.injector.get(Fs),s=this.injector.get(Ed);return"disabled"===s.initialNavigation?(o.setUpLocationChangeListener(),i(!0)):"enabled"===s.initialNavigation||"enabledBlocking"===s.initialNavigation?(o.hooks.afterPreactivation=()=>this.initNavigation?Vt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),o.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(Ed),r=this.injector.get(b6),o=this.injector.get(tA),s=this.injector.get(Fs),a=this.injector.get(Rg);e===a.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&s.initialNavigation(),r.setUpPreloading(),o.init(),s.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(ke(br))},n.\u0275prov=rt({token:n,factory:n.\u0275fac}),n})();function cEe(n){return n.appInitializer.bind(n)}function hEe(n){return n.bootstrapListener.bind(n)}const T6=new Kt("Router Initializer");let fEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})();class pEe{constructor(t,e="/assets/i18n/",i=".json"){this.http=t,this.prefix=e,this.suffix=i}getTranslation(t){return this.http.get(`${this.prefix}${t}${this.suffix}`)}}function gEe(n){return new pEe(n,"./assets/i18n/",`.json?v=${Wi_version}`)}let _Ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),mEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n}),n.\u0275inj=ut({imports:[[xt,bn]]}),n})(),vEe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=ct({type:n,bootstrap:[gve]}),n.\u0275inj=ut({providers:[{provide:Lv,useFactory:t=>()=>t.init(),deps:[ln],multi:!0},{provide:Vd,useValue:dJ()}],imports:[[_N,v8,nbe,fEe,iEe.forRoot([],{relativeLinkResolution:"legacy"}),rJ,mEe,bn.forRoot({loader:{provide:A_,useFactory:gEe,deps:[xT]}}),kP,dp,_Ee,Ose]]}),n})();var C6=M(752),bEe=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),O6=M(9819),or=M(1255),m1=(0,To.R)(),M6=M(7516),iA=(n,t,e)=>{let i;return r=>{t.value>=0&&(r||e)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,n(t)))}},rA=(n,t)=>({name:n,value:(0,M6.h)(t,()=>-1),delta:0,entries:[],id:`v2-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`}),v1=(n,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){if("first-input"===n&&!("PerformanceEventTiming"in self))return;var e=new PerformanceObserver(i=>i.getEntries().map(t));return e.observe({type:n,buffered:!0}),e}}catch(i){}},y1=(n,t)=>{var e=i=>{("pagehide"===i.type||"hidden"===(0,To.R)().document.visibilityState)&&(n(i),t&&(removeEventListener("visibilitychange",e,!0),removeEventListener("pagehide",e,!0)))};addEventListener("visibilitychange",e,!0),addEventListener("pagehide",e,!0)};let b1=-1;var oA=()=>(b1<0&&(b1="hidden"===(0,To.R)().document.visibilityState?0:1/0,y1(({timeStamp:n})=>{b1=n},!0)),{get firstHiddenTime(){return b1}}),w6={};function E1(n){return"number"==typeof n&&isFinite(n)}function Gp(n,i){var r=i,{startTimestamp:t}=r,e=V6(r,["startTimestamp"]);return t&&n.startTimestamp>t&&(n.startTimestamp=t),n.startChild(Xe({startTimestamp:t},e))}var Sd=(0,To.R)();function P6(){return Sd&&Sd.addEventListener&&Sd.performance}let Rl,Rm,A6=0,sr={};function AEe(n=!1){var t=P6();t&&Fc.Z1&&(t.mark&&Sd.performance.mark("sentry-tracing-init"),function REe(){((n,t)=>{var e=rA("CLS",0);let i,r=0,o=[];var s=l=>{l&&!l.hadRecentInput&&(r&&0!==o.length&&l.startTime-o[o.length-1].startTime<1e3&&l.startTime-o[0].startTime<5e3?(r+=l.value,o.push(l)):(r=l.value,o=[l]),r>e.value&&(e.value=r,e.entries=o,i&&i()))},a=v1("layout-shift",s);a&&(i=iA(n=>{var t=n.entries.pop();!t||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding CLS"),sr.cls={value:n.value,unit:""},Rm=t)},e,void 0),y1(()=>{a.takeRecords().map(s),i(!0)}))})()}(),function DEe(n){((n,t)=>{var e=oA(),i=rA("LCP");let r;var o=l=>{var u=l.startTime;u<e.firstHiddenTime&&(i.value=u,i.entries.push(l)),r&&r()},s=v1("largest-contentful-paint",o);if(s){r=iA(t=>{var e=t.entries.pop();!e||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding LCP"),sr.lcp={value:t.value,unit:"millisecond"},Rl=e)},i,t);var a=()=>{w6[i.id]||(s.takeRecords().map(o),s.disconnect(),w6[i.id]=!0,r(!0))};["keydown","click"].forEach(l=>{addEventListener(l,a,{once:!0,capture:!0})}),y1(a,!0)}})(0,n)}(n),function IEe(){((n,t)=>{var e=oA(),i=rA("FID");let r;var o=a=>{r&&a.startTime<e.firstHiddenTime&&(i.value=a.processingStart-a.startTime,i.entries.push(a),r(!0))},s=v1("first-input",o);s&&(r=iA(n=>{var t=n.entries.pop();if(t){var e=(0,or.XL)(Fc.Z1),i=(0,or.XL)(t.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding FID"),sr.fid={value:n.value,unit:"millisecond"},sr["mark.fid"]={value:e+i,unit:"second"}}},i,void 0),y1(()=>{s.takeRecords().map(o),s.disconnect()},!0))})()}())}function S1(n,t,e,i,r,o){var s=o?t[o]:t[`${e}End`],a=t[`${e}Start`];!a||!s||Gp(n,{op:"browser",description:(0,M6.h)(r,()=>e),startTimestamp:i+(0,or.XL)(a),endTimestamp:i+(0,or.XL)(s)})}var T1={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var Dm=(0,To.R)(),XEe=Xe({idleTimeout:O6.nT,finalTimeout:O6.mg,markBackgroundTransactions:!0,routingInstrumentation:function zEe(n,t=!0,e=!0){if(!Dm||!Dm.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("Could not initialize routing instrumentation due to invalid location"));let r,i=Dm.location.href;t&&(r=n({name:Dm.location.pathname,op:"pageload",metadata:{source:"url"}})),e&&(0,Ia.o)("history",({to:o,from:s})=>{void 0===s&&i&&-1!==i.indexOf(o)?i=void 0:s!==o&&(i=void 0,r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`[Tracing] Finishing current transaction with op: ${r.op}`),r.finish()),r=n({name:Dm.location.pathname,op:"navigation",metadata:{source:"url"}}))})},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0}},T1);class sA{__init(){this.name="BrowserTracing"}constructor(t){sA.prototype.__init.call(this);let e=T1.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)?e=t.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options=ti(Xe(Xe({},XEe),t),{tracingOrigins:e});const{_metricOptions:i}=this.options;AEe(i&&i._reportAllChanges),function yEe(n){let t,e=n[0],i=1;for(;i<n.length;){var r=n[i],o=n[i+1];if(i+=2,("optionalAccess"===r||"optionalCall"===r)&&null==e)return;"access"===r||"optionalAccess"===r?(t=e,e=o(e)):("call"===r||"optionalCall"===r)&&(e=o((...s)=>e.call(t,...s)),t=void 0)}return e}([this,"access",r=>r.options,"access",r=>r._experiments,"optionalAccess",r=>r.enableLongTask])&&function xEe(){v1("longtask",t=>{var e=(0,or.x1)();if(e){var i=(0,or.XL)(Fc.Z1+t.startTime),r=(0,or.XL)(t.duration);e.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+r})}})}()}setupOnce(t,e){this._getCurrentHub=e,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`[Tracing] We added a reasonable default for you: ${T1.tracingOrigins}`));const{routingInstrumentation:i,startTransactionOnLocationChange:r,startTransactionOnPageLoad:o,markBackgroundTransactions:s,traceFetch:a,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:g}=this.options;i(E=>this._createRouteTransaction(E),o,r),s&&function SEe(){m1&&m1.document?m1.document.addEventListener("visibilitychange",()=>{var n=(0,or.x1)();if(m1.document.hidden&&n){var t="cancelled";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`[Tracing] Transaction: ${t} -> since tab moved to the background, op: ${n.op}`),n.status||n.setStatus(t),n.setTag("visibilitychange","document.hidden"),n.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}(),function VEe(n){const{traceFetch:t,traceXHR:e,tracingOrigins:i,shouldCreateSpanForRequest:r}=Xe(Xe({},T1),n);var o={},s=u=>(o[u]||(o[u]=i.some(E=>(0,al.zC)(u,E))&&!(0,al.zC)(u,"sentry_key")),o[u]);let a=s;"function"==typeof r&&(a=u=>s(u)&&r(u));var l={};t&&(0,Ia.o)("fetch",u=>{!function HEe(n,t,e){if((0,or.zu)()&&n.fetchData&&t(n.fetchData.url)){if(n.endTimestamp){var i=n.fetchData.__span;if(!i)return;return void((r=e[i])&&(n.response?r.setHttpStatus(n.response.status):n.error&&r.setStatus("internal_error"),r.finish(),delete e[i]))}var o=(0,or.x1)();if(o){var r=o.startChild({data:ti(Xe({},n.fetchData),{type:"fetch"}),description:`${n.fetchData.method} ${n.fetchData.url}`,op:"http.client"});n.fetchData.__span=r.spanId,e[r.spanId]=r;var s=n.args[0]=n.args[0],a=n.args[1]=n.args[1]||{};a.headers=function YEe(n,t,e,i){let r=i.headers;if((0,Tr.V9)(n,Request)&&(r=n.headers),r)if("function"==typeof r.append)r.append("sentry-trace",e.toTraceparent()),r.append(bs.bU,(0,bs.J8)(t,r.get(bs.bU)));else if(Array.isArray(r)){const[,o]=r.find(([s,a])=>s===bs.bU);r=[...r,["sentry-trace",e.toTraceparent()],[bs.bU,(0,bs.J8)(t,o)]]}else r=ti(Xe({},r),{"sentry-trace":e.toTraceparent(),baggage:(0,bs.J8)(t,r.baggage)});else r={"sentry-trace":e.toTraceparent(),baggage:(0,bs.J8)(t)};return r}(s,o.getBaggage(),r,a)}}}(u,a,l)}),e&&(0,Ia.o)("xhr",u=>{!function WEe(n,t,e){if(!(!(0,or.zu)()||n.xhr&&n.xhr.__sentry_own_request__)&&n.xhr&&n.xhr.__sentry_xhr__&&t(n.xhr.__sentry_xhr__.url)){var i=n.xhr.__sentry_xhr__;if(n.endTimestamp){var r=n.xhr.__sentry_xhr_span_id__;if(!r)return;return void((o=e[r])&&(o.setHttpStatus(i.status_code),o.finish(),delete e[r]))}var s=(0,or.x1)();if(s){var o=s.startChild({data:ti(Xe({},i.data),{type:"xhr",method:i.method,url:i.url}),description:`${i.method} ${i.url}`,op:"http.client"});if(n.xhr.__sentry_xhr_span_id__=o.spanId,e[n.xhr.__sentry_xhr_span_id__]=o,n.xhr.setRequestHeader)try{n.xhr.setRequestHeader("sentry-trace",o.toTraceparent());var a=n.xhr.getRequestHeader&&n.xhr.getRequestHeader(bs.bU);n.xhr.setRequestHeader(bs.bU,(0,bs.J8)(s.getBaggage(),a))}catch(u){}}}}(u,a,l)})}({traceFetch:a,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:g})}_createRouteTransaction(t){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn(`[Tracing] Did not create ${t.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:e,idleTimeout:i,finalTimeout:r}=this.options;var o="pageload"===t.op?function KEe(){var n=x6("sentry-trace"),t=x6("baggage"),e=n?function EEe(n){var t=n.match(bEe);if(t){let e;return"1"===t[3]?e=!0:"0"===t[3]&&(e=!1),{traceId:t[1],parentSampled:e,parentSpanId:t[2]}}}(n):void 0,i=(0,bs.rg)(t,n);if(e||i)return Xe(Xe({},e&&e),i&&{metadata:{baggage:i}})}():void 0,s=ti(Xe(Xe(Xe({},t),o),o&&{metadata:Xe(Xe({},t.metadata),o.metadata)}),{trimEnd:!0}),a="function"==typeof e?e(s):s,l=void 0===a?ti(Xe({},s),{sampled:!1}):a;l.metadata=l.name!==s.name?ti(Xe({},l.metadata),{source:"custom"}):l.metadata,!1===l.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`[Tracing] Will not send ${l.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`[Tracing] Starting ${l.op} transaction on scope`);var u=this._getCurrentHub();const{location:g}=(0,To.R)();var E=(0,C6.lb)(u,l,i,r,!0,{location:g});return E.registerBeforeFinishCallback(w=>{(function NEe(n){var t=P6();if(!t||!Sd.performance.getEntries||!Fc.Z1)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Tracing] Adding & adjusting spans using Performance API");var e=(0,or.XL)(Fc.Z1),i=t.getEntries();let r,o;if(i.slice(A6).forEach(a=>{var l=(0,or.XL)(a.startTime),u=(0,or.XL)(a.duration);if(!("navigation"===n.op&&e+l<n.startTimestamp))switch(a.entryType){case"navigation":(function FEe(n,t,e){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(i=>{S1(n,t,i,e)}),S1(n,t,"secureConnection",e,"TLS/SSL","connectEnd"),S1(n,t,"fetch",e,"cache","domainLookupStart"),S1(n,t,"domainLookup",e,"DNS"),function BEe(n,t,e){Gp(n,{op:"browser",description:"request",startTimestamp:e+(0,or.XL)(t.requestStart),endTimestamp:e+(0,or.XL)(t.responseEnd)}),Gp(n,{op:"browser",description:"response",startTimestamp:e+(0,or.XL)(t.responseStart),endTimestamp:e+(0,or.XL)(t.responseEnd)})}(n,t,e)})(n,a,e),r=e+(0,or.XL)(a.responseStart),o=e+(0,or.XL)(a.requestStart);break;case"mark":case"paint":case"measure":!function kEe(n,t,e,i,r){var o=r+e;Gp(n,{description:t.name,endTimestamp:o+i,op:t.entryType,startTimestamp:o})}(n,a,l,u,e);var g=oA(),E=a.startTime<g.firstHiddenTime;"first-paint"===a.name&&E&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding FP"),sr.fp={value:a.startTime,unit:"millisecond"}),"first-contentful-paint"===a.name&&E&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding FCP"),sr.fcp={value:a.startTime,unit:"millisecond"});break;case"resource":var w=a.name.replace(Sd.location.origin,"");!function LEe(n,t,e,i,r,o){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var a=o+i;Gp(n,{description:e,endTimestamp:a+r,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:a,data:s})}}(n,a,w,l,u,e)}}),A6=Math.max(i.length-1,0),function UEe(n){var t=Sd.navigator;if(t){var e=t.connection;e&&(e.effectiveType&&n.setTag("effectiveConnectionType",e.effectiveType),e.type&&n.setTag("connectionType",e.type),E1(e.rtt)&&(sr["connection.rtt"]={value:e.rtt,unit:"millisecond"}),E1(e.downlink)&&(sr["connection.downlink"]={value:e.downlink,unit:""})),E1(t.deviceMemory)&&n.setTag("deviceMemory",`${t.deviceMemory} GB`),E1(t.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}(n),"pageload"===n.op){"number"==typeof r&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding TTFB"),sr.ttfb={value:1e3*(r-n.startTimestamp),unit:"millisecond"},"number"==typeof o&&o<=r&&(sr["ttfb.requestTime"]={value:1e3*(r-o),unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(sr[a]&&!(e>=n.startTimestamp)){var l=sr[a].value,u=e+(0,or.XL)(l),g=Math.abs(1e3*(u-n.startTimestamp));("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log(`[Measurements] Normalized ${a} from ${l} to ${g} (${g-l})`),sr[a].value=g}});var s=sr["mark.fid"];s&&sr.fid&&(Gp(n,{description:"first input delay",endTimestamp:s.value+(0,or.XL)(sr.fid.value),op:"web.vitals",startTimestamp:s.value}),delete sr["mark.fid"]),"fcp"in sr||delete sr.cls,Object.keys(sr).forEach(a=>{n.setMeasurement(a,sr[a].value,sr[a].unit)}),function GEe(n){Rl&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding LCP Data"),Rl.element&&n.setTag("lcp.element",(0,Cf.Rt)(Rl.element)),Rl.id&&n.setTag("lcp.id",Rl.id),Rl.url&&n.setTag("lcp.url",Rl.url.trim().slice(0,200)),n.setTag("lcp.size",Rl.size)),Rm&&Rm.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.log("[Measurements] Adding CLS Data"),Rm.sources.forEach((t,e)=>n.setTag(`cls.source.${e+1}`,(0,Cf.Rt)(t.node))))}(n)}Rl=void 0,Rm=void 0,sr={}})(w),w.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),E}}function x6(n){var t=(0,Cf.qT)(`meta[name=${n}]`);return t?t.getAttribute("content"):null}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,C6.ro)();class jp{constructor(){jp.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=jp.id}setupOnce(t,e){var i=r=>{var o=e().getIntegration(jp);if(o){try{if(function qEe(n,t){return!(!t||!function JEe(n,t){var e=n.message,i=t.message;return!(!e&&!i||e&&!i||!e&&i||e!==i||!D6(n,t)||!R6(n,t))}(n,t)&&!function QEe(n,t){var e=I6(t),i=I6(n);return!!(e&&i&&e.type===i.type&&e.value===i.value&&D6(n,t)&&R6(n,t))}(n,t))}(r,o._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(s){return o._previousEvent=r}return o._previousEvent=r}return r};i.id=this.name,t(i)}}function R6(n,t){let e=N6(n),i=N6(t);if(!e&&!i)return!0;if(e&&!i||!e&&i||(e=e,i=i,i.length!==e.length))return!1;for(let s=0;s<i.length;s++){var r=i[s],o=e[s];if(r.filename!==o.filename||r.lineno!==o.lineno||r.colno!==o.colno||r.function!==o.function)return!1}return!0}function D6(n,t){let e=n.fingerprint,i=t.fingerprint;if(!e&&!i)return!0;if(e&&!i||!e&&i)return!1;e=e,i=i;try{return e.join("")===i.join("")}catch(r){return!1}}function I6(n){return n.exception&&n.exception.values&&n.exception.values[0]}function N6(n){var t=n.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}}jp.__initStatic();const eSe=["Http failure during parsing for","Failed to start the audio device","The new multiplier is less than the previous multiplier in the current round"],iSe={dsn:"https://8f6b03bc41d54a058f2ccfbe5e3722e3@sentry.spribe.io/10",environment:"prod",release:Wi_version,ignoreErrors:["URL parameters are missing or invalid","Retry limit of client config exceeded!","network error occurred","Possible side-effect in debug-evaluate"],normalizeDepth:8,integrations:[new sA,new jp],maxBreadcrumbs:50,tracesSampleRate:.001,autoSessionTracking:!1,sendClientReports:!1,beforeSend:(n,t)=>function nSe(n,t){return(null==t?void 0:t.originalException)instanceof uy||"Timeout"===(null==t?void 0:t.originalException)||!!eSe.find(e=>{var i;return null===(i=n.message)||void 0===i?void 0:i.includes(e)})&&Math.random()>.001}(n,t)?null:n};(function aJ(n){n._metadata=n._metadata||{},n._metadata.sdk={name:"sentry.javascript.angular",packages:[{name:"npm:@sentry/angular",version:sy}],version:sy},function lJ(){const n=Rv&&Rv.major?parseInt(Rv.major,10):void 0;n&&(n<10&&sJ&&Ht.kg.warn(`The Sentry SDK does not officially support Angular ${n}.`,"This version of the Sentry SDK supports Angular 10 and above.","Please consider upgrading your Angular version or downgrading the Sentry SDK."),function fq(n,t){(0,_r.Gd)().setContext(n,t)}("angular",{version:n}))}(),function Vq(n={}){if(void 0===n.defaultIntegrations&&(n.defaultIntegrations=jq),void 0===n.release){var t=(0,To.R)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(n.release=t.SENTRY_RELEASE.id)}void 0===n.autoSessionTracking&&(n.autoSessionTracking=!0),void 0===n.sendClientReports&&(n.sendClientReports=!0);var e=ti(Xe({},n),{stackParser:(0,Yl.Sq)(n.stackParser||hq),integrations:qX(n),transport:n.transport||((0,mT.Ak)()?Lq:Gq)});(function QX(n,t){!0===t.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?Ht.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var e=(0,_r.Gd)(),i=e.getScope();i&&i.update(t.initialScope);var r=new n(t);e.bindClient(r)})(HK,e),n.autoSessionTracking&&function Yq(){if(void 0!==(0,To.R)().document){var e=(0,_r.Gd)();!e.captureSession||(JN(e),(0,Ia.o)("history",({from:i,to:r})=>{void 0===i||i===r||JN((0,_r.Gd)())}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&Ht.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}(n)})(iSe),Wi_production&&function kz(){O2=!1}(),!1===Wi_loggerEnabled&&window&&["log","debug","warn","info","error"].forEach(n=>{console[n]=function(){}}),LX().bootstrapModule(vEe).catch(n=>{const t=n.hasOwnProperty("message")?n.message:n,e=document.getElementById("main-error-message");e.querySelector(".alert").textContent=t.toString(),e.classList.remove("d-none"),document.getElementById("main-loading").classList.add("d-none")})},9170:me=>{"use strict";var U=Object.prototype.hasOwnProperty,M="~";function c(){}function T(_,f,p){this.fn=_,this.context=f,this.once=p||!1}function y(_,f,p,d,b){if("function"!=typeof p)throw new TypeError("The listener must be a function");var C=new T(p,d||_,b),h=M?M+f:f;return _._events[h]?_._events[h].fn?_._events[h]=[_._events[h],C]:_._events[h].push(C):(_._events[h]=C,_._eventsCount++),_}function S(_,f){0==--_._eventsCount?_._events=new c:delete _._events[f]}function m(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(M=!1)),m.prototype.eventNames=function(){var p,d,f=[];if(0===this._eventsCount)return f;for(d in p=this._events)U.call(p,d)&&f.push(M?d.slice(1):d);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},m.prototype.listeners=function(f){var d=this._events[M?M+f:f];if(!d)return[];if(d.fn)return[d.fn];for(var b=0,C=d.length,h=new Array(C);b<C;b++)h[b]=d[b].fn;return h},m.prototype.listenerCount=function(f){var d=this._events[M?M+f:f];return d?d.fn?1:d.length:0},m.prototype.emit=function(f,p,d,b,C,h){var v=M?M+f:f;if(!this._events[v])return!1;var N,G,O=this._events[v],x=arguments.length;if(O.fn){switch(O.once&&this.removeListener(f,O.fn,void 0,!0),x){case 1:return O.fn.call(O.context),!0;case 2:return O.fn.call(O.context,p),!0;case 3:return O.fn.call(O.context,p,d),!0;case 4:return O.fn.call(O.context,p,d,b),!0;case 5:return O.fn.call(O.context,p,d,b,C),!0;case 6:return O.fn.call(O.context,p,d,b,C,h),!0}for(G=1,N=new Array(x-1);G<x;G++)N[G-1]=arguments[G];O.fn.apply(O.context,N)}else{var L,H=O.length;for(G=0;G<H;G++)switch(O[G].once&&this.removeListener(f,O[G].fn,void 0,!0),x){case 1:O[G].fn.call(O[G].context);break;case 2:O[G].fn.call(O[G].context,p);break;case 3:O[G].fn.call(O[G].context,p,d);break;case 4:O[G].fn.call(O[G].context,p,d,b);break;default:if(!N)for(L=1,N=new Array(x-1);L<x;L++)N[L-1]=arguments[L];O[G].fn.apply(O[G].context,N)}}return!0},m.prototype.on=function(f,p,d){return y(this,f,p,d,!1)},m.prototype.once=function(f,p,d){return y(this,f,p,d,!0)},m.prototype.removeListener=function(f,p,d,b){var C=M?M+f:f;if(!this._events[C])return this;if(!p)return S(this,C),this;var h=this._events[C];if(h.fn)h.fn===p&&(!b||h.once)&&(!d||h.context===d)&&S(this,C);else{for(var v=0,O=[],x=h.length;v<x;v++)(h[v].fn!==p||b&&!h[v].once||d&&h[v].context!==d)&&O.push(h[v]);O.length?this._events[C]=1===O.length?O[0]:O:S(this,C)}return this},m.prototype.removeAllListeners=function(f){var p;return f?this._events[p=M?M+f:f]&&S(this,p):(this._events=new c,this._eventsCount=0),this},m.prototype.off=m.prototype.removeListener,m.prototype.addListener=m.prototype.on,m.prefixed=M,m.EventEmitter=m,me.exports=m},9248:(me,U,M)=>{"use strict";M.d(U,{Gd:()=>v,cu:()=>C});var c=M(5535),T=M(3967),y=M(1446),S=M(7576),m=M(723),_=M(383),f=M(1539),d=100;class b{__init(){this._stack=[{}]}constructor(L,j=new _.s,k=4){this._version=k,b.prototype.__init.call(this),this.getStackTop().scope=j,L&&this.bindClient(L)}isOlderThan(L){return this._version<L}bindClient(L){this.getStackTop().client=L,L&&L.setupIntegrations&&L.setupIntegrations()}pushScope(){var L=_.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:L}),L}popScope(){return!(this.getStack().length<=1||!this.getStack().pop())}withScope(L){var j=this.pushScope();try{L(j)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(L,j){var k=this._lastEventId=j&&j.event_id?j.event_id:(0,c.DM)(),V=new Error("Sentry syntheticException");return this._withClient((J,W)=>{J.captureException(L,ti(Xe({originalException:L,syntheticException:V},j),{event_id:k}),W)}),k}captureMessage(L,j,k){var V=this._lastEventId=k&&k.event_id?k.event_id:(0,c.DM)(),J=new Error(L);return this._withClient((W,ee)=>{W.captureMessage(L,j,ti(Xe({originalException:L,syntheticException:J},k),{event_id:V}),ee)}),V}captureEvent(L,j){var k=j&&j.event_id?j.event_id:(0,c.DM)();return"transaction"!==L.type&&(this._lastEventId=k),this._withClient((V,J)=>{V.captureEvent(L,ti(Xe({},j),{event_id:k}),J)}),k}lastEventId(){return this._lastEventId}addBreadcrumb(L,j){const{scope:k,client:V}=this.getStackTop();if(!k||!V)return;const{beforeBreadcrumb:J=null,maxBreadcrumbs:W=d}=V.getOptions&&V.getOptions()||{};if(!(W<=0)){var ee=(0,T.yW)(),q=Xe({timestamp:ee},L),ce=J?(0,y.Cf)(()=>J(q,j)):q;null!==ce&&k.addBreadcrumb(ce,W)}}setUser(L){var j=this.getScope();j&&j.setUser(L)}setTags(L){var j=this.getScope();j&&j.setTags(L)}setExtras(L){var j=this.getScope();j&&j.setExtras(L)}setTag(L,j){var k=this.getScope();k&&k.setTag(L,j)}setExtra(L,j){var k=this.getScope();k&&k.setExtra(L,j)}setContext(L,j){var k=this.getScope();k&&k.setContext(L,j)}configureScope(L){const{scope:j,client:k}=this.getStackTop();j&&k&&L(j)}run(L){var j=h(this);try{L(this)}finally{h(j)}}getIntegration(L){var j=this.getClient();if(!j)return null;try{return j.getIntegration(L)}catch(k){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn(`Cannot retrieve integration ${L.id} from the current Hub`),null}}startTransaction(L,j){return this._callExtensionMethod("startTransaction",L,j)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(L=!1){if(L)return this.endSession();this._sendSessionUpdate()}endSession(){var L=this.getStackTop(),j=L&&L.scope,k=j&&j.getSession();k&&(0,f.RJ)(k),this._sendSessionUpdate(),j&&j.setSession()}startSession(L){const{scope:j,client:k}=this.getStackTop(),{release:V,environment:J}=k&&k.getOptions()||{};var W=(0,S.R)();const{userAgent:ee}=W.navigator||{};var q=(0,f.Hv)(Xe(Xe(Xe({release:V,environment:J},j&&{user:j.getUser()}),ee&&{userAgent:ee}),L));if(j){var ce=j.getSession&&j.getSession();ce&&"ok"===ce.status&&(0,f.CT)(ce,{status:"exited"}),this.endSession(),j.setSession(q)}return q}shouldSendDefaultPii(){var L=this.getClient(),j=L&&L.getOptions();return Boolean(j&&j.sendDefaultPii)}_sendSessionUpdate(){const{scope:L,client:j}=this.getStackTop();if(L){var k=L.getSession();k&&j&&j.captureSession&&j.captureSession(k)}}_withClient(L){const{scope:j,client:k}=this.getStackTop();k&&L(k,j)}_callExtensionMethod(L,...j){var V=C().__SENTRY__;if(V&&V.extensions&&"function"==typeof V.extensions[L])return V.extensions[L].apply(this,j);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn(`Extension method ${L} couldn't be found, doing nothing.`)}}function C(){var H=(0,S.R)();return H.__SENTRY__=H.__SENTRY__||{extensions:{},hub:void 0},H}function h(H){var L=C(),j=N(L);return G(L,H),j}function v(){var H=C();return(!x(H)||N(H).isOlderThan(4))&&G(H,new b),(0,m.KV)()?function O(H){try{var L=C().__SENTRY__,j=L&&L.extensions&&L.extensions.domain&&L.extensions.domain.active;if(!j)return N(H);if(!x(j)||N(j).isOlderThan(4)){var k=N(H).getStackTop();G(j,new b(k.client,_.s.clone(k.scope)))}return N(j)}catch(V){return N(H)}}(H):N(H)}function x(H){return!!(H&&H.__SENTRY__&&H.__SENTRY__.hub)}function N(H){return(0,S.Y)("hub",()=>new b,H)}function G(H,L){return!!H&&((H.__SENTRY__=H.__SENTRY__||{}).hub=L,!0)}},383:(me,U,M)=>{"use strict";M.d(U,{s:()=>d,c:()=>C});var c=M(6412),T=M(3967),y=M(509),S=M(1446),m=M(5535),_=M(7576),f=M(1539);class d{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(v){var O=new d;return v&&(O._breadcrumbs=[...v._breadcrumbs],O._tags=Xe({},v._tags),O._extra=Xe({},v._extra),O._contexts=Xe({},v._contexts),O._user=v._user,O._level=v._level,O._span=v._span,O._session=v._session,O._transactionName=v._transactionName,O._fingerprint=v._fingerprint,O._eventProcessors=[...v._eventProcessors],O._requestSession=v._requestSession,O._attachments=[...v._attachments]),O}addScopeListener(v){this._scopeListeners.push(v)}addEventProcessor(v){return this._eventProcessors.push(v),this}setUser(v){return this._user=v||{},this._session&&(0,f.CT)(this._session,{user:v}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(v){return this._requestSession=v,this}setTags(v){return this._tags=Xe(Xe({},this._tags),v),this._notifyScopeListeners(),this}setTag(v,O){return this._tags=ti(Xe({},this._tags),{[v]:O}),this._notifyScopeListeners(),this}setExtras(v){return this._extra=Xe(Xe({},this._extra),v),this._notifyScopeListeners(),this}setExtra(v,O){return this._extra=ti(Xe({},this._extra),{[v]:O}),this._notifyScopeListeners(),this}setFingerprint(v){return this._fingerprint=v,this._notifyScopeListeners(),this}setLevel(v){return this._level=v,this._notifyScopeListeners(),this}setTransactionName(v){return this._transactionName=v,this._notifyScopeListeners(),this}setContext(v,O){return null===O?delete this._contexts[v]:this._contexts=ti(Xe({},this._contexts),{[v]:O}),this._notifyScopeListeners(),this}setSpan(v){return this._span=v,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var v=this.getSpan();return v&&v.transaction}setSession(v){return v?this._session=v:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(v){if(!v)return this;if("function"==typeof v){var O=v(this);return O instanceof d?O:this}return v instanceof d?(this._tags=Xe(Xe({},this._tags),v._tags),this._extra=Xe(Xe({},this._extra),v._extra),this._contexts=Xe(Xe({},this._contexts),v._contexts),v._user&&Object.keys(v._user).length&&(this._user=v._user),v._level&&(this._level=v._level),v._fingerprint&&(this._fingerprint=v._fingerprint),v._requestSession&&(this._requestSession=v._requestSession)):(0,c.PO)(v)&&(v=v,this._tags=Xe(Xe({},this._tags),v.tags),this._extra=Xe(Xe({},this._extra),v.extra),this._contexts=Xe(Xe({},this._contexts),v.contexts),v.user&&(this._user=v.user),v.level&&(this._level=v.level),v.fingerprint&&(this._fingerprint=v.fingerprint),v.requestSession&&(this._requestSession=v.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(v,O){var x="number"==typeof O?Math.min(O,100):100;if(x<=0)return this;var N=Xe({timestamp:(0,T.yW)()},v);return this._breadcrumbs=[...this._breadcrumbs,N].slice(-x),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(v){return this._attachments.push(v),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(v,O={}){if(this._extra&&Object.keys(this._extra).length&&(v.extra=Xe(Xe({},this._extra),v.extra)),this._tags&&Object.keys(this._tags).length&&(v.tags=Xe(Xe({},this._tags),v.tags)),this._user&&Object.keys(this._user).length&&(v.user=Xe(Xe({},this._user),v.user)),this._contexts&&Object.keys(this._contexts).length&&(v.contexts=Xe(Xe({},this._contexts),v.contexts)),this._level&&(v.level=this._level),this._transactionName&&(v.transaction=this._transactionName),this._span){v.contexts=Xe({trace:this._span.getTraceContext()},v.contexts);var x=this._span.transaction&&this._span.transaction.name;x&&(v.tags=Xe({transaction:x},v.tags))}return this._applyFingerprint(v),v.breadcrumbs=[...v.breadcrumbs||[],...this._breadcrumbs],v.breadcrumbs=v.breadcrumbs.length>0?v.breadcrumbs:void 0,v.sdkProcessingMetadata=Xe(Xe({},v.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...b(),...this._eventProcessors],v,O)}setSDKProcessingMetadata(v){return this._sdkProcessingMetadata=Xe(Xe({},this._sdkProcessingMetadata),v),this}_notifyEventProcessors(v,O,x,N=0){return new y.cW((G,H)=>{var L=v[N];if(null===O||"function"!=typeof L)G(O);else{var j=L(Xe({},O),x);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&L.id&&null===j&&S.kg.log(`Event processor "${L.id}" dropped event`),(0,c.J8)(j)?j.then(k=>this._notifyEventProcessors(v,k,x,N+1).then(G)).then(null,H):this._notifyEventProcessors(v,j,x,N+1).then(G).then(null,H)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(v=>{v(this)}),this._notifyingListeners=!1)}_applyFingerprint(v){v.fingerprint=v.fingerprint?(0,m.lE)(v.fingerprint):[],this._fingerprint&&(v.fingerprint=v.fingerprint.concat(this._fingerprint)),v.fingerprint&&!v.fingerprint.length&&delete v.fingerprint}}function b(){return(0,_.Y)("globalEventProcessors",()=>[])}function C(h){b().push(h)}},1539:(me,U,M)=>{"use strict";M.d(U,{RJ:()=>_,Hv:()=>S,CT:()=>m});var c=M(3967),T=M(5535),y=M(7759);function S(p){var d=(0,c.ph)(),b={sid:(0,T.DM)(),init:!0,timestamp:d,started:d,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function f(p){return(0,y.Jr)({sid:`${p.sid}`,init:p.init,started:new Date(1e3*p.started).toISOString(),timestamp:new Date(1e3*p.timestamp).toISOString(),status:p.status,errors:p.errors,did:"number"==typeof p.did||"string"==typeof p.did?`${p.did}`:void 0,duration:p.duration,attrs:{release:p.release,environment:p.environment,ip_address:p.ipAddress,user_agent:p.userAgent}})}(b)};return p&&m(b,p),b}function m(p,d={}){if(d.user&&(!p.ipAddress&&d.user.ip_address&&(p.ipAddress=d.user.ip_address),!p.did&&!d.did&&(p.did=d.user.id||d.user.email||d.user.username)),p.timestamp=d.timestamp||(0,c.ph)(),d.ignoreDuration&&(p.ignoreDuration=d.ignoreDuration),d.sid&&(p.sid=32===d.sid.length?d.sid:(0,T.DM)()),void 0!==d.init&&(p.init=d.init),!p.did&&d.did&&(p.did=`${d.did}`),"number"==typeof d.started&&(p.started=d.started),p.ignoreDuration)p.duration=void 0;else if("number"==typeof d.duration)p.duration=d.duration;else{var b=p.timestamp-p.started;p.duration=b>=0?b:0}d.release&&(p.release=d.release),d.environment&&(p.environment=d.environment),!p.ipAddress&&d.ipAddress&&(p.ipAddress=d.ipAddress),!p.userAgent&&d.userAgent&&(p.userAgent=d.userAgent),"number"==typeof d.errors&&(p.errors=d.errors),d.status&&(p.status=d.status)}function _(p,d){let b={};d?b={status:d}:"ok"===p.status&&(b={status:"exited"}),m(p,b)}},752:(me,U,M)=>{"use strict";M.d(U,{ro:()=>H,lb:()=>x});var c=M(9248),T=M(1446),y=M(6412),S=M(723),m=M(3343),_=M(1255);function p(){var L=(0,_.x1)();if(L){var j="internal_error";("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] Transaction: ${j} -> Global error occured`),L.setStatus(j)}}var d=M(9819),b=M(7583);function C(){var L=this.getScope();if(L){var j=L.getSpan();if(j)return{"sentry-trace":j.toTraceparent()}}return{}}function h(L,j,k){if(!(0,_.zu)(j))return L.sampled=!1,L;if(void 0!==L.sampled)return L.setMetadata({transactionSampling:{method:"explicitly_set"}}),L;let V;return"function"==typeof j.tracesSampler?(V=j.tracesSampler(k),L.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(V)}})):void 0!==k.parentSampled?(V=k.parentSampled,L.setMetadata({transactionSampling:{method:"inheritance"}})):(V=j.tracesSampleRate,L.setMetadata({transactionSampling:{method:"client_rate",rate:Number(V)}})),function v(L){return(0,y.i2)(L)||"number"!=typeof L&&"boolean"!=typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(L)} of type ${JSON.stringify(typeof L)}.`),!1):!(L<0||L>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${L}.`),!1)}(V)?V?(L.sampled=Math.random()<V,L.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] starting ${L.op} transaction - ${L.name}`),L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(V)})`),L)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] Discarding transaction because "+("function"==typeof j.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),L.sampled=!1,L):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),L.sampled=!1,L)}function O(L,j){var k=this.getClient(),V=k&&k.getOptions()||{};let J=new b.Y(L,this);return J=h(J,V,Xe({parentSampled:L.parentSampled,transactionContext:L},j)),J.sampled&&J.initSpanRecorder(V._experiments&&V._experiments.maxSpans),J}function x(L,j,k,V,J,W){var ee=L.getClient(),q=ee&&ee.getOptions()||{};let ce=new d.io(j,L,k,V,J);return ce=h(ce,q,Xe({parentSampled:j.parentSampled,transactionContext:j},W)),ce.sampled&&ce.initSpanRecorder(q._experiments&&q._experiments.maxSpans),ce}function H(){(function N(){var L=(0,c.cu)();!L.__SENTRY__||(L.__SENTRY__.extensions=L.__SENTRY__.extensions||{},L.__SENTRY__.extensions.startTransaction||(L.__SENTRY__.extensions.startTransaction=O),L.__SENTRY__.extensions.traceHeaders||(L.__SENTRY__.extensions.traceHeaders=C))})(),(0,S.KV)()&&function G(){var L=(0,c.cu)();if(L.__SENTRY__){var j={mongodb:()=>new((0,S.l$)(me,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,S.l$)(me,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,S.l$)(me,"./integrations/node/mysql").Mysql),pg:()=>new((0,S.l$)(me,"./integrations/node/postgres").Postgres)},k=Object.keys(j).filter(V=>!!(0,S.$y)(V)).map(V=>{try{return j[V]()}catch(J){return}}).filter(V=>V);k.length>0&&(L.__SENTRY__.integrations=[...L.__SENTRY__.integrations||[],...k])}}(),function f(){(0,m.o)("error",p),(0,m.o)("unhandledrejection",p)}()}me=M.hmd(me)},9819:(me,U,M)=>{"use strict";M.d(U,{mg:()=>_,nT:()=>m,io:()=>d});var c=M(3967),T=M(1446),y=M(6190),S=M(7583),m=1e3,_=3e4;class p extends y.gB{constructor(h,v,O,x){super(x),this._pushActivity=h,this._popActivity=v,this.transactionSpanId=O}add(h){h.spanId!==this.transactionSpanId&&(h.finish=v=>{h.endTimestamp="number"==typeof v?v:(0,c._I)(),this._popActivity(h.spanId)},void 0===h.endTimestamp&&this._pushActivity(h.spanId)),super.add(h)}}class d extends S.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(h,v,O=m,x=_,N=!1){super(h,v),this._idleHub=v,this._idleTimeout=O,this._finalTimeout=x,this._onScope=N,d.prototype.__init.call(this),d.prototype.__init2.call(this),d.prototype.__init3.call(this),d.prototype.__init4.call(this),N&&(b(v),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),v.configureScope(G=>G.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(h=(0,c._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var v of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*h).toISOString(),this.op),this._beforeFinishCallbacks))v(this,h);this.spanRecorder.spans=this.spanRecorder.spans.filter(O=>{if(O.spanId===this.spanId)return!0;O.endTimestamp||(O.endTimestamp=h,O.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(O,void 0,2)));var x=O.startTimestamp<h;return x||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(O,void 0,2)),x}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&b(this._idleHub),super.finish(h)}registerBeforeFinishCallback(h){this._beforeFinishCallbacks.push(h)}initSpanRecorder(h){this.spanRecorder||(this.spanRecorder=new p(x=>{this._finished||this._pushActivity(x)},x=>{this._finished||this._popActivity(x)},this.spanId,h),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(h){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&0===Object.keys(this.activities).length&&this.finish(h)},this._idleTimeout)}_pushActivity(h){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] pushActivity: ${h}`),this.activities[h]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(h){if(this.activities[h]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`[Tracing] popActivity ${h}`),delete this.activities[h],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var v=(0,c._I)()+this._idleTimeout/1e3;this._startIdleTimeout(v)}}_beat(){if(!this._finished){var h=Object.keys(this.activities).join("");h===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=h,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},5e3)}}function b(C){var h=C.getScope();h&&h.getTransaction()&&h.setSpan(void 0)}},6190:(me,U,M)=>{"use strict";M.d(U,{Dr:()=>f,gB:()=>_});var c=M(7516),T=M(5535),y=M(3967),S=M(1446),m=M(7759);class _{__init(){this.spans=[]}constructor(b=1e3){_.prototype.__init.call(this),this._maxlen=b}add(b){this.spans.length>this._maxlen?b.spanRecorder=void 0:this.spans.push(b)}}class f{__init2(){this.traceId=(0,T.DM)()}__init3(){this.spanId=(0,T.DM)().substring(16)}__init4(){this.startTimestamp=(0,y._I)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(b){if(f.prototype.__init2.call(this),f.prototype.__init3.call(this),f.prototype.__init4.call(this),f.prototype.__init5.call(this),f.prototype.__init6.call(this),!b)return this;b.traceId&&(this.traceId=b.traceId),b.spanId&&(this.spanId=b.spanId),b.parentSpanId&&(this.parentSpanId=b.parentSpanId),"sampled"in b&&(this.sampled=b.sampled),b.op&&(this.op=b.op),b.description&&(this.description=b.description),b.data&&(this.data=b.data),b.tags&&(this.tags=b.tags),b.status&&(this.status=b.status),b.startTimestamp&&(this.startTimestamp=b.startTimestamp),b.endTimestamp&&(this.endTimestamp=b.endTimestamp)}startChild(b){var C=new f(ti(Xe({},b),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(C.spanRecorder=this.spanRecorder,C.spanRecorder&&C.spanRecorder.add(C),C.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&C.transaction){var x=`[Tracing] Starting '${b&&b.op||"< unknown op >"}' span on transaction '${C.transaction.name||"< unknown name >"}' (${C.transaction.spanId}).`;C.transaction.metadata.spanMetadata[C.spanId]={logMessage:x},S.kg.log(x)}return C}setTag(b,C){return this.tags=ti(Xe({},this.tags),{[b]:C}),this}setData(b,C){return this.data=ti(Xe({},this.data),{[b]:C}),this}setStatus(b){return this.status=b,this}setHttpStatus(b){this.setTag("http.status_code",String(b));var C=function p(d){if(d<400&&d>=100)return"ok";if(d>=400&&d<500)switch(d){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(d>=500&&d<600)switch(d){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(b);return"unknown_error"!==C&&this.setStatus(C),this}isSuccess(){return"ok"===this.status}finish(b){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:C}=this.transaction.metadata.spanMetadata[this.spanId];C&&S.kg.log(C.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof b?b:(0,y._I)()}toTraceparent(){let b="";return void 0!==this.sampled&&(b=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${b}`}toContext(){return(0,m.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(b){return this.data=(0,c.h)(b.data,()=>({})),this.description=b.description,this.endTimestamp=b.endTimestamp,this.op=b.op,this.parentSpanId=b.parentSpanId,this.sampled=b.sampled,this.spanId=(0,c.h)(b.spanId,()=>this.spanId),this.startTimestamp=(0,c.h)(b.startTimestamp,()=>this.startTimestamp),this.status=b.status,this.tags=(0,c.h)(b.tags,()=>({})),this.traceId=(0,c.h)(b.traceId,()=>this.traceId),this}getTraceContext(){return(0,m.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,m.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}},7583:(me,U,M)=>{"use strict";M.d(U,{Y:()=>f});var c=M(7516),T=M(9248),y=M(1446),S=M(7759),m=M(9981),_=M(6190);class f extends _.Dr{__init(){this._measurements={}}constructor(d,b){super(d),f.prototype.__init.call(this),this._hub=b||(0,T.Gd)(),this._name=d.name||"",this.metadata=ti(Xe({},d.metadata),{spanMetadata:{}}),this._trimEnd=d.trimEnd,this.transaction=this}get name(){return this._name}set name(d){this._name=d,this.metadata.source="custom"}setName(d,b="custom"){this.name=d,this.metadata.source=b}initSpanRecorder(d=1e3){this.spanRecorder||(this.spanRecorder=new _.gB(d)),this.spanRecorder.add(this)}setMeasurement(d,b,C=""){this._measurements[d]={value:b,unit:C}}setMetadata(d){this.metadata=Xe(Xe({},this.metadata),d)}finish(d){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(d),!0!==this.sampled){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var b=this._hub.getClient();return void(b&&b.recordDroppedEvent("sample_rate","transaction"))}var C=this.spanRecorder?this.spanRecorder.spans.filter(x=>x!==this&&x.endTimestamp):[];this._trimEnd&&C.length>0&&(this.endTimestamp=C.reduce((x,N)=>x.endTimestamp&&N.endTimestamp?x.endTimestamp>N.endTimestamp?x:N:x).endTimestamp);var h=this.metadata,v=Xe({contexts:{trace:this.getTraceContext()},spans:C,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:ti(Xe({},h),{baggage:this.getBaggage()})},h.source&&{transaction_info:{source:h.source}});return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),v.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(v)}}toContext(){var d=super.toContext();return(0,S.Jr)(ti(Xe({},d),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(d){return super.updateWithContext(d),this.name=(0,c.h)(d.name,()=>""),this._trimEnd=d.trimEnd,this}getBaggage(){var d=this.metadata.baggage,b=!d||(0,m.Gp)(d)?this._populateBaggageWithSentryValues(d):d;return this.metadata.baggage=b,b}_populateBaggageWithSentryValues(d=(0,m.Hn)({})){var b=this._hub||(0,T.Gd)(),C=b&&b.getClient();if(!C)return d;const{environment:h,release:v}=C.getOptions()||{},{publicKey:O}=C.getDsn()||{};var x=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate&&this.metadata.transactionSampling.rate.toString(),N=b.getScope();const{segment:G}=N&&N.getUser()||{};var H=this.metadata.source;return(0,m.Hn)((0,S.Jr)(Xe({environment:h,release:v,transaction:H&&"url"!==H?this.name:void 0,user_segment:G,public_key:O,trace_id:this.traceId,sample_rate:x},(0,m.Hk)(d))),"",!1)}}},1255:(me,U,M)=>{"use strict";M.d(U,{x1:()=>y,zu:()=>T,XL:()=>S});var c=M(9248);function T(_){var f=(0,c.Gd)().getClient(),p=_||f&&f.getOptions();return!!p&&("tracesSampleRate"in p||"tracesSampler"in p)}function y(_){var p=(_||(0,c.Gd)()).getScope();return p&&p.getTransaction()}function S(_){return _/1e3}},9981:(me,U,M)=>{"use strict";M.d(U,{bU:()=>y,Hn:()=>f,Hk:()=>C,Gp:()=>v,J8:()=>G,rg:()=>H});var c=M(6412),T=M(1446),y="baggage",m=/^sentry-/;function f(L,j="",k=!0){return[Xe({},L),j,k]}function C(L){return L[0]}function v(L){return L[2]}function N(L,j=!1){return!Array.isArray(L)&&!(0,c.HD)(L)||"number"==typeof L?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof L,L),f({},"")):((0,c.HD)(L)?L:L.join(",")).split(",").map(V=>V.trim()).filter(V=>""!==V&&(j||m.test(V))).reduce(([V,J],W)=>{const[ee,q]=W.split("=");if(m.test(ee)){var ce=decodeURIComponent(ee.split("-")[1]);return[ti(Xe({},V),{[ce]:decodeURIComponent(q)}),J,!0]}return[V,""===J?W:`${J},${W}`,!0]},[{},"",!0])}function G(L,j){if(!L&&!j)return"";var k=j&&N(j,!0)||void 0,V=k&&function h(L){return L[1]}(k);return function x(L){return Object.keys(L[0]).reduce((j,k)=>{var V=L[0][k],J=`sentry-${encodeURIComponent(k)}=${encodeURIComponent(V)}`,W=""===j?J:`${j},${J}`;return W.length>8192?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn(`Not adding key: ${k} with val: ${V} to baggage due to exceeding baggage size limits.`),j):W},L[1])}(f(L&&L[0]||{},V||""))}function H(L,j){var k=N(L||"");return(j||!function b(L){return 0===Object.keys(L[0]).length}(k))&&function O(L){L[2]=!1}(k),k}},6477:(me,U,M)=>{"use strict";M.d(U,{qT:()=>_,l4:()=>m,Rt:()=>y});var c=M(7576),T=M(6412);function y(f,p){try{let O=f;var C=[];let x=0,N=0;var v=" > ".length;let G;for(;O&&x++<5&&(G=S(O,p),!("html"===G||x>1&&N+C.length*v+G.length>=80));)C.push(G),N+=G.length,O=O.parentNode;return C.reverse().join(" > ")}catch(O){return"<unknown>"}}function S(f,p){var d=f,b=[];let C,h,v,O,x;if(!d||!d.tagName)return"";b.push(d.tagName.toLowerCase());var N=p&&p.length?p.filter(H=>d.getAttribute(H)).map(H=>[H,d.getAttribute(H)]):null;if(N&&N.length)N.forEach(H=>{b.push(`[${H[0]}="${H[1]}"]`)});else if(d.id&&b.push(`#${d.id}`),C=d.className,C&&(0,T.HD)(C))for(h=C.split(/\s+/),x=0;x<h.length;x++)b.push(`.${h[x]}`);var G=["type","name","title","alt"];for(x=0;x<G.length;x++)v=G[x],O=d.getAttribute(v),O&&b.push(`[${v}="${O}"]`);return b.join("")}function m(){var f=(0,c.R)();try{return f.document.location.href}catch(p){return""}}function _(f){var p=(0,c.R)();return p.document&&p.document.querySelector?p.document.querySelector(f):null}},7516:(me,U,M)=>{"use strict";function c(T,y){return null!=T?T:y()}M.d(U,{h:()=>c})},7576:(me,U,M)=>{"use strict";M.d(U,{R:()=>y,Y:()=>S});var c=M(723),T={};function y(){return(0,c.KV)()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:T}function S(m,_,f){var p=f||y(),d=p.__SENTRY__=p.__SENTRY__||{};return d[m]||(d[m]=_())}},3343:(me,U,M)=>{"use strict";M.d(U,{o:()=>C});var c=M(7576),T=M(6412),y=M(1446),S=M(7759),m=M(9725),_=M(8204),f=(0,c.R)(),p={},d={};function C($,se){p[$]=p[$]||[],p[$].push(se),function b($){if(!d[$])switch(d[$]=!0,$){case"console":!function v(){"console"in f&&y.RU.forEach(function($){$ in f.console&&(0,S.hl)(f.console,$,function(se){return function(...Z){h("console",{args:Z,level:$}),se&&se.apply(f.console,Z)}})})}();break;case"dom":!function q(){if("document"in f){var $=h.bind(null,"dom"),se=ee($,!0);f.document.addEventListener("click",se,!1),f.document.addEventListener("keypress",se,!1),["EventTarget","Node"].forEach(Z=>{var be=f[Z]&&f[Z].prototype;!be||!be.hasOwnProperty||!be.hasOwnProperty("addEventListener")||((0,S.hl)(be,"addEventListener",function(oe){return function(le,de,Be){if("click"===le||"keypress"==le)try{var Le=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},Ot=Le[le]=Le[le]||{refCount:0};if(!Ot.handler){var qe=ee($);Ot.handler=qe,oe.call(this,le,qe,Be)}Ot.refCount+=1}catch(je){}return oe.call(this,le,de,Be)}}),(0,S.hl)(be,"removeEventListener",function(oe){return function(le,de,Be){if("click"===le||"keypress"==le)try{var Le=this.__sentry_instrumentation_handlers__||{},Ot=Le[le];Ot&&(Ot.refCount-=1,Ot.refCount<=0&&(oe.call(this,le,Ot.handler,Be),Ot.handler=void 0,delete Le[le]),0===Object.keys(Le).length&&delete this.__sentry_instrumentation_handlers__)}catch(qe){}return oe.call(this,le,de,Be)}}))})}}();break;case"xhr":!function G(){if("XMLHttpRequest"in f){var $=XMLHttpRequest.prototype;(0,S.hl)($,"open",function(se){return function(...Z){var be=this,oe=Z[1],le=be.__sentry_xhr__={method:(0,T.HD)(Z[0])?Z[0].toUpperCase():Z[0],url:Z[1]};(0,T.HD)(oe)&&"POST"===le.method&&oe.match(/sentry_key/)&&(be.__sentry_own_request__=!0);var de=function(){if(4===be.readyState){try{le.status_code=be.status}catch(Be){}h("xhr",{args:Z,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:be})}};return"onreadystatechange"in be&&"function"==typeof be.onreadystatechange?(0,S.hl)(be,"onreadystatechange",function(Be){return function(...Je){return de(),Be.apply(be,Je)}}):be.addEventListener("readystatechange",de),se.apply(be,Z)}}),(0,S.hl)($,"send",function(se){return function(...Z){return this.__sentry_xhr__&&void 0!==Z[0]&&(this.__sentry_xhr__.body=Z[0]),h("xhr",{args:Z,startTimestamp:Date.now(),xhr:this}),se.apply(this,Z)}})}}();break;case"fetch":!function O(){!(0,_.t$)()||(0,S.hl)(f,"fetch",function($){return function(...se){var Z={args:se,fetchData:{method:x(se),url:N(se)},startTimestamp:Date.now()};return h("fetch",Xe({},Z)),$.apply(f,se).then(be=>(h("fetch",ti(Xe({},Z),{endTimestamp:Date.now(),response:be})),be),be=>{throw h("fetch",ti(Xe({},Z),{endTimestamp:Date.now(),error:be})),be})}})}();break;case"history":!function L(){if((0,_.Bf)()){var $=f.onpopstate;f.onpopstate=function(...Z){var be=f.location.href,oe=H;if(H=be,h("history",{from:oe,to:be}),$)try{return $.apply(this,Z)}catch(le){}},(0,S.hl)(f.history,"pushState",se),(0,S.hl)(f.history,"replaceState",se)}function se(Z){return function(...be){var oe=be.length>2?be[2]:void 0;if(oe){var le=H,de=String(oe);H=de,h("history",{from:le,to:de})}return Z.apply(this,be)}}}();break;case"error":!function Te(){ce=f.onerror,f.onerror=function($,se,Z,be,oe){return h("error",{column:be,error:oe,line:Z,msg:$,url:se}),!!ce&&ce.apply(this,arguments)}}();break;case"unhandledrejection":!function Ee(){_e=f.onunhandledrejection,f.onunhandledrejection=function($){return h("unhandledrejection",$),!_e||_e.apply(this,arguments)}}();break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.warn("unknown instrumentation type:",$))}}($)}function h($,se){if($&&p[$])for(var Z of p[$]||[])try{Z(se)}catch(be){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&y.kg.error(`Error while triggering instrumentation handler.\nType: ${$}\nName: ${(0,m.$P)(Z)}\nError:`,be)}}function x($=[]){return"Request"in f&&(0,T.V9)($[0],Request)&&$[0].method?String($[0].method).toUpperCase():$[1]&&$[1].method?String($[1].method).toUpperCase():"GET"}function N($=[]){return"string"==typeof $[0]?$[0]:"Request"in f&&(0,T.V9)($[0],Request)?$[0].url:String($[0])}let H,k,V;function ee($,se=!1){return Z=>{if(Z&&V!==Z&&!function W($){if("keypress"!==$.type)return!1;try{var se=$.target;if(!se||!se.tagName)return!0;if("INPUT"===se.tagName||"TEXTAREA"===se.tagName||se.isContentEditable)return!1}catch(Z){}return!0}(Z)){var be="keypress"===Z.type?"input":Z.type;(void 0===k||function J($,se){if(!$||$.type!==se.type)return!0;try{if($.target!==se.target)return!0}catch(Z){}return!1}(V,Z))&&($({event:Z,name:be,global:se}),V=Z),clearTimeout(k),k=f.setTimeout(()=>{k=void 0},1e3)}}}let ce=null,_e=null},6412:(me,U,M)=>{"use strict";M.d(U,{TX:()=>m,fm:()=>_,kK:()=>C,VZ:()=>T,VW:()=>S,cO:()=>b,V9:()=>N,i2:()=>x,PO:()=>d,pt:()=>p,Kj:()=>h,HD:()=>f,Cy:()=>O,J8:()=>v});var c=Object.prototype.toString;function T(G){switch(c.call(G)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return N(G,Error)}}function y(G,H){return c.call(G)===`[object ${H}]`}function S(G){return y(G,"ErrorEvent")}function m(G){return y(G,"DOMError")}function _(G){return y(G,"DOMException")}function f(G){return y(G,"String")}function p(G){return null===G||"object"!=typeof G&&"function"!=typeof G}function d(G){return y(G,"Object")}function b(G){return"undefined"!=typeof Event&&N(G,Event)}function C(G){return"undefined"!=typeof Element&&N(G,Element)}function h(G){return y(G,"RegExp")}function v(G){return Boolean(G&&G.then&&"function"==typeof G.then)}function O(G){return d(G)&&"nativeEvent"in G&&"preventDefault"in G&&"stopPropagation"in G}function x(G){return"number"==typeof G&&G!=G}function N(G,H){try{return G instanceof H}catch(L){return!1}}},1446:(me,U,M)=>{"use strict";M.d(U,{RU:()=>S,Cf:()=>m,kg:()=>f});var c=M(7576),T=(0,c.R)(),S=["debug","info","warn","error","log","assert","trace"];function m(p){var d=(0,c.R)();if(!("console"in d))return p();var b=d.console,C={};S.forEach(h=>{var v=b[h]&&b[h].__sentry_original__;h in d.console&&v&&(C[h]=b[h],b[h]=v)});try{return p()}finally{Object.keys(C).forEach(h=>{b[h]=C[h]})}}function _(){let p=!1;var d={enable:()=>{p=!0},disable:()=>{p=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?S.forEach(b=>{d[b]=(...C)=>{p&&m(()=>{T.console[b](`Sentry Logger [${b}]:`,...C)})}}):S.forEach(b=>{d[b]=()=>{}}),d}let f;f="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?(0,c.Y)("logger",_):_()},5535:(me,U,M)=>{"use strict";M.d(U,{EG:()=>f,Db:()=>_,lE:()=>h,YO:()=>C,jH:()=>m,DM:()=>y});var c=M(7576),T=M(7759);function y(){var v=(0,c.R)(),O=v.crypto||v.msCrypto;if(O&&O.randomUUID)return O.randomUUID().replace(/-/g,"");var x=O&&O.getRandomValues?()=>O.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,N=>(N^(15&x())>>N/4).toString(16))}function S(v){return v.exception&&v.exception.values?v.exception.values[0]:void 0}function m(v){const{message:O,event_id:x}=v;if(O)return O;var N=S(v);return N?N.type&&N.value?`${N.type}: ${N.value}`:N.type||N.value||x||"<unknown>":x||"<unknown>"}function _(v,O,x){var N=v.exception=v.exception||{},G=N.values=N.values||[],H=G[0]=G[0]||{};H.value||(H.value=O||""),H.type||(H.type=x||"Error")}function f(v,O){var x=S(v);if(x){var G=x.mechanism;if(x.mechanism=Xe(Xe(Xe({},{type:"generic",handled:!0}),G),O),O&&"data"in O){var H=Xe(Xe({},G&&G.data),O.data);x.mechanism.data=H}}}function C(v){if(v&&v.__sentry_captured__)return!0;try{(0,T.xp)(v,"__sentry_captured__",!0)}catch(O){}return!1}function h(v){return Array.isArray(v)?v:[v]}},723:(me,U,M)=>{"use strict";function T(){return!function c(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function y(m,_){return m.require(_)}function S(m){let _;try{_=y(me,m)}catch(f){}try{const{cwd:f}=y(me,"process");_=y(me,`${f()}/node_modules/${m}`)}catch(f){}return _}M.d(U,{l$:()=>y,KV:()=>T,$y:()=>S}),me=M.hmd(me)},7759:(me,U,M)=>{"use strict";M.d(U,{xp:()=>m,Sh:()=>d,Jr:()=>v,zf:()=>h,hl:()=>S,HK:()=>f,$Q:()=>_,_j:()=>p});var c=M(6477),T=M(6412),y=M(1090);function S(N,G,H){if(G in N){var L=N[G],j=H(L);if("function"==typeof j)try{_(j,L)}catch(k){}N[G]=j}}function m(N,G,H){Object.defineProperty(N,G,{value:H,writable:!0,configurable:!0})}function _(N,G){N.prototype=G.prototype=G.prototype||{},m(N,"__sentry_original__",G)}function f(N){return N.__sentry_original__}function p(N){return Object.keys(N).map(G=>`${encodeURIComponent(G)}=${encodeURIComponent(N[G])}`).join("&")}function d(N){if((0,T.VZ)(N))return Xe({message:N.message,name:N.name,stack:N.stack},C(N));if((0,T.cO)(N)){var G=Xe({type:N.type,target:b(N.target),currentTarget:b(N.currentTarget)},C(N));return"undefined"!=typeof CustomEvent&&(0,T.V9)(N,CustomEvent)&&(G.detail=N.detail),G}return N}function b(N){try{return(0,T.kK)(N)?(0,c.Rt)(N):Object.prototype.toString.call(N)}catch(G){return"<unknown>"}}function C(N){if("object"==typeof N&&null!==N){var G={};for(var H in N)Object.prototype.hasOwnProperty.call(N,H)&&(G[H]=N[H]);return G}return{}}function h(N,G=40){var H=Object.keys(d(N));if(H.sort(),!H.length)return"[object has no keys]";if(H[0].length>=G)return(0,y.$G)(H[0],G);for(let j=H.length;j>0;j--){var L=H.slice(0,j).join(", ");if(!(L.length>G))return j===H.length?L:(0,y.$G)(L,G)}return""}function v(N){return O(N,new Map)}function O(N,G){if((0,T.PO)(N)){if(void 0!==(H=G.get(N)))return H;var L={};for(var j of(G.set(N,L),Object.keys(N)))void 0!==N[j]&&(L[j]=O(N[j],G));return L}var H;return Array.isArray(N)?void 0!==(H=G.get(N))?H:(G.set(N,L=[]),N.forEach(J=>{L.push(O(J,G))}),L):N}},9725:(me,U,M)=>{"use strict";function T(...d){var b=d.sort((C,h)=>C[0]-h[0]).map(C=>C[1]);return(C,h=0)=>{var v=[];for(var O of C.split("\n").slice(h)){var x=O.replace(/\(error: (.*)\)/,"$1");for(var N of b){var G=N(x);if(G){v.push(G);break}}}return function S(d){if(!d.length)return[];let b=d;var C=b[0].function||"",h=b[b.length-1].function||"";return(-1!==C.indexOf("captureMessage")||-1!==C.indexOf("captureException"))&&(b=b.slice(1)),-1!==h.indexOf("sentryWrapped")&&(b=b.slice(0,-1)),b.slice(0,50).map(v=>ti(Xe({},v),{filename:v.filename||b[0].filename,function:v.function||"?"})).reverse()}(v)}}function y(d){return Array.isArray(d)?T(...d):d}M.d(U,{pE:()=>T,$P:()=>_,Sq:()=>y});var m="<anonymous>";function _(d){try{return d&&"function"==typeof d&&d.name||m}catch(b){return m}}},1090:(me,U,M)=>{"use strict";M.d(U,{zC:()=>m,nK:()=>S,$G:()=>T});var c=M(6412);function T(f,p=0){return"string"!=typeof f||0===p||f.length<=p?f:`${f.substr(0,p)}...`}function S(f,p){if(!Array.isArray(f))return"";var d=[];for(let C=0;C<f.length;C++){var b=f[C];try{d.push(String(b))}catch(h){d.push("[value cannot be serialized]")}}return d.join(p)}function m(f,p){return!!(0,c.HD)(f)&&((0,c.Kj)(p)?p.test(f):"string"==typeof p&&-1!==f.indexOf(p))}},8204:(me,U,M)=>{"use strict";M.d(U,{Du:()=>f,Ak:()=>_,Bf:()=>C,t$:()=>p});var c=M(7576),T=M(1446);function _(){if(!("fetch"in(0,c.R)()))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(h){return!1}}function f(h){return h&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(h.toString())}function p(){if(!_())return!1;var h=(0,c.R)();if(f(h.fetch))return!0;let v=!1;var O=h.document;if(O&&"function"==typeof O.createElement)try{var x=O.createElement("iframe");x.hidden=!0,O.head.appendChild(x),x.contentWindow&&x.contentWindow.fetch&&(v=f(x.contentWindow.fetch)),O.head.removeChild(x)}catch(N){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&T.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",N)}return v}function C(){var h=(0,c.R)(),v=h.chrome;return!(v&&v.app&&v.app.runtime||!("history"in h)||!h.history.pushState||!h.history.replaceState)}},509:(me,U,M)=>{"use strict";M.d(U,{cW:()=>m,$2:()=>S,WD:()=>y});var T,_,c=M(6412);function y(_){return new m(f=>{f(_)})}function S(_){return new m((f,p)=>{p(_)})}(_=T||(T={}))[_.PENDING=0]="PENDING",_[_.RESOLVED=1]="RESOLVED",_[_.REJECTED=2]="REJECTED";class m{__init(){this._state=T.PENDING}__init2(){this._handlers=[]}constructor(f){m.prototype.__init.call(this),m.prototype.__init2.call(this),m.prototype.__init3.call(this),m.prototype.__init4.call(this),m.prototype.__init5.call(this),m.prototype.__init6.call(this);try{f(this._resolve,this._reject)}catch(p){this._reject(p)}}then(f,p){return new m((d,b)=>{this._handlers.push([!1,C=>{if(f)try{d(f(C))}catch(h){b(h)}else d(C)},C=>{if(p)try{d(p(C))}catch(h){b(h)}else b(C)}]),this._executeHandlers()})}catch(f){return this.then(p=>p,f)}finally(f){return new m((p,d)=>{let b,C;return this.then(h=>{C=!1,b=h,f&&f()},h=>{C=!0,b=h,f&&f()}).then(()=>{C?d(b):p(b)})})}__init3(){this._resolve=f=>{this._setResult(T.RESOLVED,f)}}__init4(){this._reject=f=>{this._setResult(T.REJECTED,f)}}__init5(){this._setResult=(f,p)=>{if(this._state===T.PENDING){if((0,c.J8)(p))return void p.then(this._resolve,this._reject);this._state=f,this._value=p,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state!==T.PENDING){var f=this._handlers.slice();this._handlers=[],f.forEach(p=>{p[0]||(this._state===T.RESOLVED&&p[1](this._value),this._state===T.REJECTED&&p[2](this._value),p[0]=!0)})}}}}},3967:(me,U,M)=>{"use strict";M.d(U,{Z1:()=>v,yW:()=>p,ph:()=>d,_I:()=>b});var c=M(7576),T=M(723);me=M.hmd(me);var y={nowSeconds:()=>Date.now()/1e3},_=(0,T.KV)()?function m(){try{return(0,T.l$)(me,"perf_hooks").performance}catch(x){return}}():function S(){const{performance:O}=(0,c.R)();if(O&&O.now)return{now:()=>O.now(),timeOrigin:Date.now()-O.now()}}(),f=void 0===_?y:{nowSeconds:()=>(_.timeOrigin+_.now())/1e3},p=y.nowSeconds.bind(y),d=f.nowSeconds.bind(f),b=d;let h;var v=(()=>{const{performance:O}=(0,c.R)();if(O&&O.now){var x=36e5,N=O.now(),G=Date.now(),H=O.timeOrigin?Math.abs(O.timeOrigin+N-G):x,L=H<x,j=O.timing&&O.timing.navigationStart,V="number"==typeof j?Math.abs(j+N-G):x;return L||V<x?H<=V?(h="timeOrigin",O.timeOrigin):(h="navigationStart",j):(h="dateNow",G)}h="none"})()},5469:me=>{"use strict";function U($,se,Z){Z=Z||2;var Be,Je,Le,Ot,qe,je,ie,be=se&&se.length,oe=be?se[0]*Z:$.length,le=M($,0,oe,Z,!0),de=[];if(!le||le.next===le.prev)return de;if(be&&(le=function f($,se,Z,be){var le,de,Le,oe=[];for(le=0,de=se.length;le<de;le++)(Le=M($,se[le]*be,le<de-1?se[le+1]*be:$.length,be,!1))===Le.next&&(Le.steiner=!0),oe.push(x(Le));for(oe.sort(p),le=0;le<oe.length;le++)Z=c(Z=d(oe[le],Z),Z.next);return Z}($,se,le,Z)),$.length>80*Z){Be=Le=$[0],Je=Ot=$[1];for(var fe=Z;fe<oe;fe+=Z)(qe=$[fe])<Be&&(Be=qe),(je=$[fe+1])<Je&&(Je=je),qe>Le&&(Le=qe),je>Ot&&(Ot=je);ie=0!==(ie=Math.max(Le-Be,Ot-Je))?1/ie:0}return T(le,de,Z,Be,Je,ie),de}function M($,se,Z,be,oe){var le,de;if(oe===Ee($,se,Z,be)>0)for(le=se;le<Z;le+=be)de=ce(le,$[le],$[le+1],de);else for(le=Z-be;le>=se;le-=be)de=ce(le,$[le],$[le+1],de);return de&&L(de,de.next)&&(Te(de),de=de.next),de}function c($,se){if(!$)return $;se||(se=$);var be,Z=$;do{if(be=!1,Z.steiner||!L(Z,Z.next)&&0!==H(Z.prev,Z,Z.next))Z=Z.next;else{if(Te(Z),(Z=se=Z.prev)===Z.next)break;be=!0}}while(be||Z!==se);return se}function T($,se,Z,be,oe,le,de){if($){!de&&le&&function h($,se,Z,be){var oe=$;do{null===oe.z&&(oe.z=O(oe.x,oe.y,se,Z,be)),oe.prevZ=oe.prev,oe.nextZ=oe.next,oe=oe.next}while(oe!==$);oe.prevZ.nextZ=null,oe.prevZ=null,function v($){var se,Z,be,oe,le,de,Be,Je,Le=1;do{for(Z=$,$=null,le=null,de=0;Z;){for(de++,be=Z,Be=0,se=0;se<Le&&(Be++,be=be.nextZ);se++);for(Je=Le;Be>0||Je>0&&be;)0!==Be&&(0===Je||!be||Z.z<=be.z)?(oe=Z,Z=Z.nextZ,Be--):(oe=be,be=be.nextZ,Je--),le?le.nextZ=oe:$=oe,oe.prevZ=le,le=oe;Z=be}le.nextZ=null,Le*=2}while(de>1)}(oe)}($,be,oe,le);for(var Je,Le,Be=$;$.prev!==$.next;)if(Je=$.prev,Le=$.next,le?S($,be,oe,le):y($))se.push(Je.i/Z),se.push($.i/Z),se.push(Le.i/Z),Te($),$=Le.next,Be=Le.next;else if(($=Le)===Be){de?1===de?T($=m(c($),se,Z),se,Z,be,oe,le,2):2===de&&_($,se,Z,be,oe,le):T(c($),se,Z,be,oe,le,1);break}}}function y($){var se=$.prev,Z=$,be=$.next;if(H(se,Z,be)>=0)return!1;for(var oe=$.next.next;oe!==$.prev;){if(N(se.x,se.y,Z.x,Z.y,be.x,be.y,oe.x,oe.y)&&H(oe.prev,oe,oe.next)>=0)return!1;oe=oe.next}return!0}function S($,se,Z,be){var oe=$.prev,le=$,de=$.next;if(H(oe,le,de)>=0)return!1;for(var Le=oe.x>le.x?oe.x>de.x?oe.x:de.x:le.x>de.x?le.x:de.x,Ot=oe.y>le.y?oe.y>de.y?oe.y:de.y:le.y>de.y?le.y:de.y,qe=O(oe.x<le.x?oe.x<de.x?oe.x:de.x:le.x<de.x?le.x:de.x,oe.y<le.y?oe.y<de.y?oe.y:de.y:le.y<de.y?le.y:de.y,se,Z,be),je=O(Le,Ot,se,Z,be),ie=$.prevZ,fe=$.nextZ;ie&&ie.z>=qe&&fe&&fe.z<=je;){if(ie!==$.prev&&ie!==$.next&&N(oe.x,oe.y,le.x,le.y,de.x,de.y,ie.x,ie.y)&&H(ie.prev,ie,ie.next)>=0||(ie=ie.prevZ,fe!==$.prev&&fe!==$.next&&N(oe.x,oe.y,le.x,le.y,de.x,de.y,fe.x,fe.y)&&H(fe.prev,fe,fe.next)>=0))return!1;fe=fe.nextZ}for(;ie&&ie.z>=qe;){if(ie!==$.prev&&ie!==$.next&&N(oe.x,oe.y,le.x,le.y,de.x,de.y,ie.x,ie.y)&&H(ie.prev,ie,ie.next)>=0)return!1;ie=ie.prevZ}for(;fe&&fe.z<=je;){if(fe!==$.prev&&fe!==$.next&&N(oe.x,oe.y,le.x,le.y,de.x,de.y,fe.x,fe.y)&&H(fe.prev,fe,fe.next)>=0)return!1;fe=fe.nextZ}return!0}function m($,se,Z){var be=$;do{var oe=be.prev,le=be.next.next;!L(oe,le)&&j(oe,be,be.next,le)&&W(oe,le)&&W(le,oe)&&(se.push(oe.i/Z),se.push(be.i/Z),se.push(le.i/Z),Te(be),Te(be.next),be=$=le),be=be.next}while(be!==$);return c(be)}function _($,se,Z,be,oe,le){var de=$;do{for(var Be=de.next.next;Be!==de.prev;){if(de.i!==Be.i&&G(de,Be)){var Je=q(de,Be);return de=c(de,de.next),Je=c(Je,Je.next),T(de,se,Z,be,oe,le),void T(Je,se,Z,be,oe,le)}Be=Be.next}de=de.next}while(de!==$)}function p($,se){return $.x-se.x}function d($,se){var Z=function b($,se){var de,Z=se,be=$.x,oe=$.y,le=-1/0;do{if(oe<=Z.y&&oe>=Z.next.y&&Z.next.y!==Z.y){var Be=Z.x+(oe-Z.y)*(Z.next.x-Z.x)/(Z.next.y-Z.y);if(Be<=be&&Be>le){if(le=Be,Be===be){if(oe===Z.y)return Z;if(oe===Z.next.y)return Z.next}de=Z.x<Z.next.x?Z:Z.next}}Z=Z.next}while(Z!==se);if(!de)return null;if(be===le)return de;var je,Je=de,Le=de.x,Ot=de.y,qe=1/0;Z=de;do{be>=Z.x&&Z.x>=Le&&be!==Z.x&&N(oe<Ot?be:le,oe,Le,Ot,oe<Ot?le:be,oe,Z.x,Z.y)&&(je=Math.abs(oe-Z.y)/(be-Z.x),W(Z,$)&&(je<qe||je===qe&&(Z.x>de.x||Z.x===de.x&&C(de,Z)))&&(de=Z,qe=je)),Z=Z.next}while(Z!==Je);return de}($,se);if(!Z)return se;var be=q(Z,$),oe=c(Z,Z.next);return c(be,be.next),se===Z?oe:se}function C($,se){return H($.prev,$,se.prev)<0&&H(se.next,$,$.next)<0}function O($,se,Z,be,oe){return($=1431655765&(($=858993459&(($=252645135&(($=16711935&(($=32767*($-Z)*oe)|$<<8))|$<<4))|$<<2))|$<<1))|(se=1431655765&((se=858993459&((se=252645135&((se=16711935&((se=32767*(se-be)*oe)|se<<8))|se<<4))|se<<2))|se<<1))<<1}function x($){var se=$,Z=$;do{(se.x<Z.x||se.x===Z.x&&se.y<Z.y)&&(Z=se),se=se.next}while(se!==$);return Z}function N($,se,Z,be,oe,le,de,Be){return(oe-de)*(se-Be)-($-de)*(le-Be)>=0&&($-de)*(be-Be)-(Z-de)*(se-Be)>=0&&(Z-de)*(le-Be)-(oe-de)*(be-Be)>=0}function G($,se){return $.next.i!==se.i&&$.prev.i!==se.i&&!function J($,se){var Z=$;do{if(Z.i!==$.i&&Z.next.i!==$.i&&Z.i!==se.i&&Z.next.i!==se.i&&j(Z,Z.next,$,se))return!0;Z=Z.next}while(Z!==$);return!1}($,se)&&(W($,se)&&W(se,$)&&function ee($,se){var Z=$,be=!1,oe=($.x+se.x)/2,le=($.y+se.y)/2;do{Z.y>le!=Z.next.y>le&&Z.next.y!==Z.y&&oe<(Z.next.x-Z.x)*(le-Z.y)/(Z.next.y-Z.y)+Z.x&&(be=!be),Z=Z.next}while(Z!==$);return be}($,se)&&(H($.prev,$,se.prev)||H($,se.prev,se))||L($,se)&&H($.prev,$,$.next)>0&&H(se.prev,se,se.next)>0)}function H($,se,Z){return(se.y-$.y)*(Z.x-se.x)-(se.x-$.x)*(Z.y-se.y)}function L($,se){return $.x===se.x&&$.y===se.y}function j($,se,Z,be){var oe=V(H($,se,Z)),le=V(H($,se,be)),de=V(H(Z,be,$)),Be=V(H(Z,be,se));return!!(oe!==le&&de!==Be||0===oe&&k($,Z,se)||0===le&&k($,be,se)||0===de&&k(Z,$,be)||0===Be&&k(Z,se,be))}function k($,se,Z){return se.x<=Math.max($.x,Z.x)&&se.x>=Math.min($.x,Z.x)&&se.y<=Math.max($.y,Z.y)&&se.y>=Math.min($.y,Z.y)}function V($){return $>0?1:$<0?-1:0}function W($,se){return H($.prev,$,$.next)<0?H($,se,$.next)>=0&&H($,$.prev,se)>=0:H($,se,$.prev)<0||H($,$.next,se)<0}function q($,se){var Z=new _e($.i,$.x,$.y),be=new _e(se.i,se.x,se.y),oe=$.next,le=se.prev;return $.next=se,se.prev=$,Z.next=oe,oe.prev=Z,be.next=Z,Z.prev=be,le.next=be,be.prev=le,be}function ce($,se,Z,be){var oe=new _e($,se,Z);return be?(oe.next=be.next,oe.prev=be,be.next.prev=oe,be.next=oe):(oe.prev=oe,oe.next=oe),oe}function Te($){$.next.prev=$.prev,$.prev.next=$.next,$.prevZ&&($.prevZ.nextZ=$.nextZ),$.nextZ&&($.nextZ.prevZ=$.prevZ)}function _e($,se,Z){this.i=$,this.x=se,this.y=Z,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ee($,se,Z,be){for(var oe=0,le=se,de=Z-be;le<Z;le+=be)oe+=($[de]-$[le])*($[le+1]+$[de+1]),de=le;return oe}me.exports=U,me.exports.default=U,U.deviation=function($,se,Z,be){var oe=se&&se.length,de=Math.abs(Ee($,0,oe?se[0]*Z:$.length,Z));if(oe)for(var Be=0,Je=se.length;Be<Je;Be++)de-=Math.abs(Ee($,se[Be]*Z,Be<Je-1?se[Be+1]*Z:$.length,Z));var qe=0;for(Be=0;Be<be.length;Be+=3){var je=be[Be]*Z,ie=be[Be+1]*Z,fe=be[Be+2]*Z;qe+=Math.abs(($[je]-$[fe])*($[ie+1]-$[je+1])-($[je]-$[ie])*($[fe+1]-$[je+1]))}return 0===de&&0===qe?0:Math.abs((qe-de)/de)},U.flatten=function($){for(var se=$[0][0].length,Z={vertices:[],holes:[],dimensions:se},be=0,oe=0;oe<$.length;oe++){for(var le=0;le<$[oe].length;le++)for(var de=0;de<se;de++)Z.vertices.push($[oe][le][de]);oe>0&&Z.holes.push(be+=$[oe-1].length)}return Z}},6461:(me,U)=>{var c;!function(){"use strict";var T=function(){this.init()};T.prototype={init:function(){var h=this||y;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var v=this||y;if(h=parseFloat(h),v.ctx||C(),void 0!==h&&h>=0&&h<=1){if(v._volume=h,v._muted)return v;v.usingWebAudio&&v.masterGain.gain.setValueAtTime(h,y.ctx.currentTime);for(var O=0;O<v._howls.length;O++)if(!v._howls[O]._webAudio)for(var x=v._howls[O]._getSoundIds(),N=0;N<x.length;N++){var G=v._howls[O]._soundById(x[N]);G&&G._node&&(G._node.volume=G._volume*h)}return v}return v._volume},mute:function(h){var v=this||y;v.ctx||C(),v._muted=h,v.usingWebAudio&&v.masterGain.gain.setValueAtTime(h?0:v._volume,y.ctx.currentTime);for(var O=0;O<v._howls.length;O++)if(!v._howls[O]._webAudio)for(var x=v._howls[O]._getSoundIds(),N=0;N<x.length;N++){var G=v._howls[O]._soundById(x[N]);G&&G._node&&(G._node.muted=!!h||G._muted)}return v},stop:function(){for(var h=this||y,v=0;v<h._howls.length;v++)h._howls[v].stop();return h},unload:function(){for(var h=this||y,v=h._howls.length-1;v>=0;v--)h._howls[v].unload();return h.usingWebAudio&&h.ctx&&void 0!==h.ctx.close&&(h.ctx.close(),h.ctx=null,C()),h},codecs:function(h){return(this||y)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||y;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(h._canPlayEvent="canplay")}catch(O){h.noAudio=!0}else h.noAudio=!0;try{(new Audio).muted&&(h.noAudio=!0)}catch(O){}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||y,v=null;try{v="undefined"!=typeof Audio?new Audio:null}catch(k){return h}if(!v||"function"!=typeof v.canPlayType)return h;var O=v.canPlayType("audio/mpeg;").replace(/^no$/,""),x=h._navigator?h._navigator.userAgent:"",N=x.match(/OPR\/([0-6].)/g),G=N&&parseInt(N[0].split("/")[1],10)<33,H=-1!==x.indexOf("Safari")&&-1===x.indexOf("Chrome"),L=x.match(/Version\/(.*?) /),j=H&&L&&parseInt(L[1],10)<15;return h._codecs={mp3:!(G||!O&&!v.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!O,opus:!!v.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!v.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(v.canPlayType('audio/wav; codecs="1"')||v.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!v.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!v.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(v.canPlayType("audio/x-m4a;")||v.canPlayType("audio/m4a;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(v.canPlayType("audio/x-m4b;")||v.canPlayType("audio/m4b;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(v.canPlayType("audio/x-mp4;")||v.canPlayType("audio/mp4;")||v.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(j||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(j||!v.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!v.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(v.canPlayType("audio/x-flac;")||v.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||y;if(!h._audioUnlocked&&h.ctx){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&44100!==h.ctx.sampleRate&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var v=function(O){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var x=new Audio;x._unlocked=!0,h._releaseHtml5Audio(x)}catch(k){h.noAudio=!0;break}for(var N=0;N<h._howls.length;N++)if(!h._howls[N]._webAudio)for(var G=h._howls[N]._getSoundIds(),H=0;H<G.length;H++){var L=h._howls[N]._soundById(G[H]);L&&L._node&&!L._node._unlocked&&(L._node._unlocked=!0,L._node.load())}h._autoResume();var j=h.ctx.createBufferSource();j.buffer=h._scratchBuffer,j.connect(h.ctx.destination),void 0===j.start?j.noteOn(0):j.start(0),"function"==typeof h.ctx.resume&&h.ctx.resume(),j.onended=function(){j.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",v,!0),document.removeEventListener("touchend",v,!0),document.removeEventListener("click",v,!0),document.removeEventListener("keydown",v,!0);for(var k=0;k<h._howls.length;k++)h._howls[k]._emit("unlock")}};return document.addEventListener("touchstart",v,!0),document.addEventListener("touchend",v,!0),document.addEventListener("click",v,!0),document.addEventListener("keydown",v,!0),h}},_obtainHtml5Audio:function(){var h=this||y;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var v=(new Audio).play();return v&&"undefined"!=typeof Promise&&(v instanceof Promise||"function"==typeof v.then)&&v.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var v=this||y;return h._unlocked&&v._html5AudioPool.push(h),v},_autoSuspend:function(){var h=this;if(h.autoSuspend&&h.ctx&&void 0!==h.ctx.suspend&&y.usingWebAudio){for(var v=0;v<h._howls.length;v++)if(h._howls[v]._webAudio)for(var O=0;O<h._howls[v]._sounds.length;O++)if(!h._howls[v]._sounds[O]._paused)return h;return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(h.autoSuspend){h._suspendTimer=null,h.state="suspending";var x=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(x,x)}},3e4),h}},_autoResume:function(){var h=this;if(h.ctx&&void 0!==h.ctx.resume&&y.usingWebAudio)return"running"===h.state&&"interrupted"!==h.ctx.state&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):"suspended"===h.state||"running"===h.state&&"interrupted"===h.ctx.state?(h.ctx.resume().then(function(){h.state="running";for(var v=0;v<h._howls.length;v++)h._howls[v]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):"suspending"===h.state&&(h._resumeAfterSuspend=!0),h}};var y=new T,S=function(h){h.src&&0!==h.src.length?this.init(h):console.error("An array of source files must be passed with any new Howl.")};S.prototype={init:function(h){var v=this;return y.ctx||C(),v._autoplay=h.autoplay||!1,v._format="string"!=typeof h.format?h.format:[h.format],v._html5=h.html5||!1,v._muted=h.mute||!1,v._loop=h.loop||!1,v._pool=h.pool||5,v._preload="boolean"!=typeof h.preload&&"metadata"!==h.preload||h.preload,v._rate=h.rate||1,v._sprite=h.sprite||{},v._src="string"!=typeof h.src?h.src:[h.src],v._volume=void 0!==h.volume?h.volume:1,v._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:!(!h.xhr||!h.xhr.withCredentials)&&h.xhr.withCredentials},v._duration=0,v._state="unloaded",v._sounds=[],v._endTimers={},v._queue=[],v._playLock=!1,v._onend=h.onend?[{fn:h.onend}]:[],v._onfade=h.onfade?[{fn:h.onfade}]:[],v._onload=h.onload?[{fn:h.onload}]:[],v._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],v._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],v._onpause=h.onpause?[{fn:h.onpause}]:[],v._onplay=h.onplay?[{fn:h.onplay}]:[],v._onstop=h.onstop?[{fn:h.onstop}]:[],v._onmute=h.onmute?[{fn:h.onmute}]:[],v._onvolume=h.onvolume?[{fn:h.onvolume}]:[],v._onrate=h.onrate?[{fn:h.onrate}]:[],v._onseek=h.onseek?[{fn:h.onseek}]:[],v._onunlock=h.onunlock?[{fn:h.onunlock}]:[],v._onresume=[],v._webAudio=y.usingWebAudio&&!v._html5,void 0!==y.ctx&&y.ctx&&y.autoUnlock&&y._unlockAudio(),y._howls.push(v),v._autoplay&&v._queue.push({event:"play",action:function(){v.play()}}),v._preload&&"none"!==v._preload&&v.load(),v},load:function(){var h=this,v=null;if(y.noAudio)h._emit("loaderror",null,"No audio support.");else{"string"==typeof h._src&&(h._src=[h._src]);for(var O=0;O<h._src.length;O++){var x,N;if(h._format&&h._format[O])x=h._format[O];else{if("string"!=typeof(N=h._src[O])){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(x=/^data:audio\/([^;,]+);/i.exec(N))||(x=/\.([^.]+)$/.exec(N.split("?",1)[0])),x&&(x=x[1].toLowerCase())}if(x||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),x&&y.codecs(x)){v=h._src[O];break}}if(v)return h._src=v,h._state="loading","https:"===window.location.protocol&&"http:"===v.slice(0,5)&&(h._html5=!0,h._webAudio=!1),new m(h),h._webAudio&&f(h),h;h._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(h,v){var O=this,x=null;if("number"==typeof h)x=h,h=null;else{if("string"==typeof h&&"loaded"===O._state&&!O._sprite[h])return null;if(void 0===h&&(h="__default",!O._playLock)){for(var N=0,G=0;G<O._sounds.length;G++)O._sounds[G]._paused&&!O._sounds[G]._ended&&(N++,x=O._sounds[G]._id);1===N?h=null:x=null}}var H=x?O._soundById(x):O._inactiveSound();if(!H)return null;if(x&&!h&&(h=H._sprite||"__default"),"loaded"!==O._state){H._sprite=h,H._ended=!1;var L=H._id;return O._queue.push({event:"play",action:function(){O.play(L)}}),L}if(x&&!H._paused)return v||O._loadQueue("play"),H._id;O._webAudio&&y._autoResume();var j=Math.max(0,H._seek>0?H._seek:O._sprite[h][0]/1e3),k=Math.max(0,(O._sprite[h][0]+O._sprite[h][1])/1e3-j),V=1e3*k/Math.abs(H._rate),J=O._sprite[h][0]/1e3,W=(O._sprite[h][0]+O._sprite[h][1])/1e3;H._sprite=h,H._ended=!1;var ee=function(){H._paused=!1,H._seek=j,H._start=J,H._stop=W,H._loop=!(!H._loop&&!O._sprite[h][2])};if(!(j>=W)){var q=H._node;if(O._webAudio){var ce=function(){O._playLock=!1,ee(),O._refreshBuffer(H),q.gain.setValueAtTime(H._muted||O._muted?0:H._volume,y.ctx.currentTime),H._playStart=y.ctx.currentTime,void 0===q.bufferSource.start?q.bufferSource.noteGrainOn(0,j,H._loop?86400:k):q.bufferSource.start(0,j,H._loop?86400:k),V!==1/0&&(O._endTimers[H._id]=setTimeout(O._ended.bind(O,H),V)),v||setTimeout(function(){O._emit("play",H._id),O._loadQueue()},0)};"running"===y.state&&"interrupted"!==y.ctx.state?ce():(O._playLock=!0,O.once("resume",ce),O._clearTimer(H._id))}else{var Te=function(){q.currentTime=j,q.muted=H._muted||O._muted||y._muted||q.muted,q.volume=H._volume*y.volume(),q.playbackRate=H._rate;try{var $=q.play();if($&&"undefined"!=typeof Promise&&($ instanceof Promise||"function"==typeof $.then)?(O._playLock=!0,ee(),$.then(function(){O._playLock=!1,q._unlocked=!0,v?O._loadQueue():O._emit("play",H._id)}).catch(function(){O._playLock=!1,O._emit("playerror",H._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),H._ended=!0,H._paused=!0})):v||(O._playLock=!1,ee(),O._emit("play",H._id)),q.playbackRate=H._rate,q.paused)return void O._emit("playerror",H._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==h||H._loop?O._endTimers[H._id]=setTimeout(O._ended.bind(O,H),V):(O._endTimers[H._id]=function(){O._ended(H),q.removeEventListener("ended",O._endTimers[H._id],!1)},q.addEventListener("ended",O._endTimers[H._id],!1))}catch(se){O._emit("playerror",H._id,se)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===q.src&&(q.src=O._src,q.load());var _e=window&&window.ejecta||!q.readyState&&y._navigator.isCocoonJS;if(q.readyState>=3||_e)Te();else{O._playLock=!0,O._state="loading";var Ee=function(){O._state="loaded",Te(),q.removeEventListener(y._canPlayEvent,Ee,!1)};q.addEventListener(y._canPlayEvent,Ee,!1),O._clearTimer(H._id)}}return H._id}O._ended(H)},pause:function(h){var v=this;if("loaded"!==v._state||v._playLock)return v._queue.push({event:"pause",action:function(){v.pause(h)}}),v;for(var O=v._getSoundIds(h),x=0;x<O.length;x++){v._clearTimer(O[x]);var N=v._soundById(O[x]);if(N&&!N._paused&&(N._seek=v.seek(O[x]),N._rateSeek=0,N._paused=!0,v._stopFade(O[x]),N._node))if(v._webAudio){if(!N._node.bufferSource)continue;void 0===N._node.bufferSource.stop?N._node.bufferSource.noteOff(0):N._node.bufferSource.stop(0),v._cleanBuffer(N._node)}else(!isNaN(N._node.duration)||N._node.duration===1/0)&&N._node.pause();arguments[1]||v._emit("pause",N?N._id:null)}return v},stop:function(h,v){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"stop",action:function(){O.stop(h)}}),O;for(var x=O._getSoundIds(h),N=0;N<x.length;N++){O._clearTimer(x[N]);var G=O._soundById(x[N]);G&&(G._seek=G._start||0,G._rateSeek=0,G._paused=!0,G._ended=!0,O._stopFade(x[N]),G._node&&(O._webAudio?G._node.bufferSource&&(void 0===G._node.bufferSource.stop?G._node.bufferSource.noteOff(0):G._node.bufferSource.stop(0),O._cleanBuffer(G._node)):(!isNaN(G._node.duration)||G._node.duration===1/0)&&(G._node.currentTime=G._start||0,G._node.pause(),G._node.duration===1/0&&O._clearSound(G._node))),v||O._emit("stop",G._id))}return O},mute:function(h,v){var O=this;if("loaded"!==O._state||O._playLock)return O._queue.push({event:"mute",action:function(){O.mute(h,v)}}),O;if(void 0===v){if("boolean"!=typeof h)return O._muted;O._muted=h}for(var x=O._getSoundIds(v),N=0;N<x.length;N++){var G=O._soundById(x[N]);G&&(G._muted=h,G._interval&&O._stopFade(G._id),O._webAudio&&G._node?G._node.gain.setValueAtTime(h?0:G._volume,y.ctx.currentTime):G._node&&(G._node.muted=!!y._muted||h),O._emit("mute",G._id))}return O},volume:function(){var O,x,H,h=this,v=arguments;if(0===v.length)return h._volume;if(1===v.length||2===v.length&&void 0===v[1]){var N=h._getSoundIds(),G=N.indexOf(v[0]);G>=0?x=parseInt(v[0],10):O=parseFloat(v[0])}else v.length>=2&&(O=parseFloat(v[0]),x=parseInt(v[1],10));if(!(void 0!==O&&O>=0&&O<=1))return(H=x?h._soundById(x):h._sounds[0])?H._volume:0;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,v)}}),h;void 0===x&&(h._volume=O),x=h._getSoundIds(x);for(var L=0;L<x.length;L++)(H=h._soundById(x[L]))&&(H._volume=O,v[2]||h._stopFade(x[L]),h._webAudio&&H._node&&!H._muted?H._node.gain.setValueAtTime(O,y.ctx.currentTime):H._node&&!H._muted&&(H._node.volume=O*y.volume()),h._emit("volume",H._id));return h},fade:function(h,v,O,x){var N=this;if("loaded"!==N._state||N._playLock)return N._queue.push({event:"fade",action:function(){N.fade(h,v,O,x)}}),N;h=Math.min(Math.max(0,parseFloat(h)),1),v=Math.min(Math.max(0,parseFloat(v)),1),O=parseFloat(O),N.volume(h,x);for(var G=N._getSoundIds(x),H=0;H<G.length;H++){var L=N._soundById(G[H]);if(L){if(x||N._stopFade(G[H]),N._webAudio&&!L._muted){var j=y.ctx.currentTime,k=j+O/1e3;L._volume=h,L._node.gain.setValueAtTime(h,j),L._node.gain.linearRampToValueAtTime(v,k)}N._startFadeInterval(L,h,v,O,G[H],void 0===x)}}return N},_startFadeInterval:function(h,v,O,x,N,G){var H=this,L=v,j=O-v,k=Math.abs(j/.01),V=Math.max(4,k>0?x/k:x),J=Date.now();h._fadeTo=O,h._interval=setInterval(function(){var W=(Date.now()-J)/x;J=Date.now(),L+=j*W,L=Math.round(100*L)/100,L=j<0?Math.max(O,L):Math.min(O,L),H._webAudio?h._volume=L:H.volume(L,h._id,!0),G&&(H._volume=L),(O<v&&L<=O||O>v&&L>=O)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,H.volume(O,h._id),H._emit("fade",h._id))},V)},_stopFade:function(h){var v=this,O=v._soundById(h);return O&&O._interval&&(v._webAudio&&O._node.gain.cancelScheduledValues(y.ctx.currentTime),clearInterval(O._interval),O._interval=null,v.volume(O._fadeTo,h),O._fadeTo=null,v._emit("fade",h)),v},loop:function(){var O,x,N,h=this,v=arguments;if(0===v.length)return h._loop;if(1===v.length){if("boolean"!=typeof v[0])return!!(N=h._soundById(parseInt(v[0],10)))&&N._loop;h._loop=O=v[0]}else 2===v.length&&(O=v[0],x=parseInt(v[1],10));for(var G=h._getSoundIds(x),H=0;H<G.length;H++)(N=h._soundById(G[H]))&&(N._loop=O,h._webAudio&&N._node&&N._node.bufferSource&&(N._node.bufferSource.loop=O,O&&(N._node.bufferSource.loopStart=N._start||0,N._node.bufferSource.loopEnd=N._stop,h.playing(G[H])&&(h.pause(G[H],!0),h.play(G[H],!0)))));return h},rate:function(){var O,x,H,h=this,v=arguments;if(0===v.length)x=h._sounds[0]._id;else if(1===v.length){var N=h._getSoundIds(),G=N.indexOf(v[0]);G>=0?x=parseInt(v[0],10):O=parseFloat(v[0])}else 2===v.length&&(O=parseFloat(v[0]),x=parseInt(v[1],10));if("number"!=typeof O)return(H=h._soundById(x))?H._rate:h._rate;if("loaded"!==h._state||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,v)}}),h;void 0===x&&(h._rate=O),x=h._getSoundIds(x);for(var L=0;L<x.length;L++)if(H=h._soundById(x[L])){h.playing(x[L])&&(H._rateSeek=h.seek(x[L]),H._playStart=h._webAudio?y.ctx.currentTime:H._playStart),H._rate=O,h._webAudio&&H._node&&H._node.bufferSource?H._node.bufferSource.playbackRate.setValueAtTime(O,y.ctx.currentTime):H._node&&(H._node.playbackRate=O);var j=h.seek(x[L]),k=(h._sprite[H._sprite][0]+h._sprite[H._sprite][1])/1e3-j,V=1e3*k/Math.abs(H._rate);(h._endTimers[x[L]]||!H._paused)&&(h._clearTimer(x[L]),h._endTimers[x[L]]=setTimeout(h._ended.bind(h,H),V)),h._emit("rate",H._id)}return h},seek:function(){var O,x,h=this,v=arguments;if(0===v.length)h._sounds.length&&(x=h._sounds[0]._id);else if(1===v.length){var N=h._getSoundIds(),G=N.indexOf(v[0]);G>=0?x=parseInt(v[0],10):h._sounds.length&&(x=h._sounds[0]._id,O=parseFloat(v[0]))}else 2===v.length&&(O=parseFloat(v[0]),x=parseInt(v[1],10));if(void 0===x)return 0;if("number"==typeof O&&("loaded"!==h._state||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,v)}}),h;var H=h._soundById(x);if(H){if(!("number"==typeof O&&O>=0)){if(h._webAudio){var V=h.playing(x)?y.ctx.currentTime-H._playStart:0,J=H._rateSeek?H._rateSeek-H._seek:0;return H._seek+(J+V*Math.abs(H._rate))}return H._node.currentTime}var L=h.playing(x);L&&h.pause(x,!0),H._seek=O,H._ended=!1,h._clearTimer(x),!h._webAudio&&H._node&&!isNaN(H._node.duration)&&(H._node.currentTime=O);var j=function(){L&&h.play(x,!0),h._emit("seek",x)};if(L&&!h._webAudio){var k=function(){h._playLock?setTimeout(k,0):j()};setTimeout(k,0)}else j()}return h},playing:function(h){var v=this;if("number"==typeof h){var O=v._soundById(h);return!!O&&!O._paused}for(var x=0;x<v._sounds.length;x++)if(!v._sounds[x]._paused)return!0;return!1},duration:function(h){var v=this,O=v._duration,x=v._soundById(h);return x&&(O=v._sprite[x._sprite][1]/1e3),O},state:function(){return this._state},unload:function(){for(var h=this,v=h._sounds,O=0;O<v.length;O++)v[O]._paused||h.stop(v[O]._id),h._webAudio||(h._clearSound(v[O]._node),v[O]._node.removeEventListener("error",v[O]._errorFn,!1),v[O]._node.removeEventListener(y._canPlayEvent,v[O]._loadFn,!1),v[O]._node.removeEventListener("ended",v[O]._endFn,!1),y._releaseHtml5Audio(v[O]._node)),delete v[O]._node,h._clearTimer(v[O]._id);var x=y._howls.indexOf(h);x>=0&&y._howls.splice(x,1);var N=!0;for(O=0;O<y._howls.length;O++)if(y._howls[O]._src===h._src||h._src.indexOf(y._howls[O]._src)>=0){N=!1;break}return _&&N&&delete _[h._src],y.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,v,O,x){return"function"==typeof v&&this["_on"+h].push(x?{id:O,fn:v,once:x}:{id:O,fn:v}),this},off:function(h,v,O){var x=this,N=x["_on"+h],G=0;if("number"==typeof v&&(O=v,v=null),v||O)for(G=0;G<N.length;G++){var H=O===N[G].id;if(v===N[G].fn&&H||!v&&H){N.splice(G,1);break}}else if(h)x["_on"+h]=[];else{var L=Object.keys(x);for(G=0;G<L.length;G++)0===L[G].indexOf("_on")&&Array.isArray(x[L[G]])&&(x[L[G]]=[])}return x},once:function(h,v,O){return this.on(h,v,O,1),this},_emit:function(h,v,O){for(var x=this,N=x["_on"+h],G=N.length-1;G>=0;G--)(!N[G].id||N[G].id===v||"load"===h)&&(setTimeout(function(H){H.call(this,v,O)}.bind(x,N[G].fn),0),N[G].once&&x.off(h,N[G].fn,N[G].id));return x._loadQueue(h),x},_loadQueue:function(h){var v=this;if(v._queue.length>0){var O=v._queue[0];O.event===h&&(v._queue.shift(),v._loadQueue()),h||O.action()}return v},_ended:function(h){var v=this,O=h._sprite;if(!v._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(v._ended.bind(v,h),100),v;var x=!(!h._loop&&!v._sprite[O][2]);if(v._emit("end",h._id),!v._webAudio&&x&&v.stop(h._id,!0).play(h._id),v._webAudio&&x){v._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=y.ctx.currentTime;var N=1e3*(h._stop-h._start)/Math.abs(h._rate);v._endTimers[h._id]=setTimeout(v._ended.bind(v,h),N)}return v._webAudio&&!x&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,v._clearTimer(h._id),v._cleanBuffer(h._node),y._autoSuspend()),!v._webAudio&&!x&&v.stop(h._id,!0),v},_clearTimer:function(h){var v=this;if(v._endTimers[h]){if("function"!=typeof v._endTimers[h])clearTimeout(v._endTimers[h]);else{var O=v._soundById(h);O&&O._node&&O._node.removeEventListener("ended",v._endTimers[h],!1)}delete v._endTimers[h]}return v},_soundById:function(h){for(var v=this,O=0;O<v._sounds.length;O++)if(h===v._sounds[O]._id)return v._sounds[O];return null},_inactiveSound:function(){var h=this;h._drain();for(var v=0;v<h._sounds.length;v++)if(h._sounds[v]._ended)return h._sounds[v].reset();return new m(h)},_drain:function(){var h=this,v=h._pool,O=0,x=0;if(!(h._sounds.length<v)){for(x=0;x<h._sounds.length;x++)h._sounds[x]._ended&&O++;for(x=h._sounds.length-1;x>=0;x--){if(O<=v)return;h._sounds[x]._ended&&(h._webAudio&&h._sounds[x]._node&&h._sounds[x]._node.disconnect(0),h._sounds.splice(x,1),O--)}}},_getSoundIds:function(h){if(void 0===h){for(var O=[],x=0;x<this._sounds.length;x++)O.push(this._sounds[x]._id);return O}return[h]},_refreshBuffer:function(h){return h._node.bufferSource=y.ctx.createBufferSource(),h._node.bufferSource.buffer=_[this._src],h._node.bufferSource.connect(h._panner?h._panner:h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,y.ctx.currentTime),this},_cleanBuffer:function(h){var O=y._navigator&&y._navigator.vendor.indexOf("Apple")>=0;if(y._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),O))try{h.bufferSource.buffer=y._scratchBuffer}catch(x){}return h.bufferSource=null,this},_clearSound:function(h){/MSIE |Trident\//.test(y._navigator&&y._navigator.userAgent)||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var m=function(h){this._parent=h,this.init()};m.prototype={init:function(){var h=this,v=h._parent;return h._muted=v._muted,h._loop=v._loop,h._volume=v._volume,h._rate=v._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++y._counter,v._sounds.push(h),h.create(),h},create:function(){var h=this,v=h._parent,O=y._muted||h._muted||h._parent._muted?0:h._volume;return v._webAudio?(h._node=void 0===y.ctx.createGain?y.ctx.createGainNode():y.ctx.createGain(),h._node.gain.setValueAtTime(O,y.ctx.currentTime),h._node.paused=!0,h._node.connect(y.masterGain)):y.noAudio||(h._node=y._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(y._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=v._src,h._node.preload=!0===v._preload?"auto":v._preload,h._node.volume=O*y.volume(),h._node.load()),h},reset:function(){var h=this,v=h._parent;return h._muted=v._muted,h._loop=v._loop,h._volume=v._volume,h._rate=v._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++y._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,v=h._parent;v._duration=Math.ceil(10*h._node.duration)/10,0===Object.keys(v._sprite).length&&(v._sprite={__default:[0,1e3*v._duration]}),"loaded"!==v._state&&(v._state="loaded",v._emit("load"),v._loadQueue()),h._node.removeEventListener(y._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,v=h._parent;v._duration===1/0&&(v._duration=Math.ceil(10*h._node.duration)/10,v._sprite.__default[1]===1/0&&(v._sprite.__default[1]=1e3*v._duration),v._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var _={},f=function(h){var v=h._src;if(_[v])return h._duration=_[v].duration,void b(h);if(/^data:[^;]+;base64,/.test(v)){for(var O=atob(v.split(",")[1]),x=new Uint8Array(O.length),N=0;N<O.length;++N)x[N]=O.charCodeAt(N);d(x.buffer,h)}else{var G=new XMLHttpRequest;G.open(h._xhr.method,v,!0),G.withCredentials=h._xhr.withCredentials,G.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(H){G.setRequestHeader(H,h._xhr.headers[H])}),G.onload=function(){var H=(G.status+"")[0];"0"===H||"2"===H||"3"===H?d(G.response,h):h._emit("loaderror",null,"Failed loading audio file with status: "+G.status+".")},G.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete _[v],h.load())},p(G)}},p=function(h){try{h.send()}catch(v){h.onerror()}},d=function(h,v){var O=function(){v._emit("loaderror",null,"Decoding audio data failed.")},x=function(N){N&&v._sounds.length>0?(_[v._src]=N,b(v,N)):O()};"undefined"!=typeof Promise&&1===y.ctx.decodeAudioData.length?y.ctx.decodeAudioData(h).then(x).catch(O):y.ctx.decodeAudioData(h,x,O)},b=function(h,v){v&&!h._duration&&(h._duration=v.duration),0===Object.keys(h._sprite).length&&(h._sprite={__default:[0,1e3*h._duration]}),"loaded"!==h._state&&(h._state="loaded",h._emit("load"),h._loadQueue())},C=function(){if(y.usingWebAudio){try{"undefined"!=typeof AudioContext?y.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?y.ctx=new webkitAudioContext:y.usingWebAudio=!1}catch(N){y.usingWebAudio=!1}y.ctx||(y.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(y._navigator&&y._navigator.platform),v=y._navigator&&y._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),O=v?parseInt(v[1],10):null;if(h&&O&&O<9){var x=/safari/.test(y._navigator&&y._navigator.userAgent.toLowerCase());y._navigator&&!x&&(y.usingWebAudio=!1)}y.usingWebAudio&&(y.masterGain=void 0===y.ctx.createGain?y.ctx.createGainNode():y.ctx.createGain(),y.masterGain.gain.setValueAtTime(y._muted?0:y._volume,y.ctx.currentTime),y.masterGain.connect(y.ctx.destination)),y._setup()}};void 0!==(c=function(){return{Howler:y,Howl:S}}.apply(U,[]))&&(me.exports=c),U.Howler=y,U.Howl=S,"undefined"!=typeof global?(global.HowlerGlobal=T,global.Howler=y,global.Howl=S,global.Sound=m):"undefined"!=typeof window&&(window.HowlerGlobal=T,window.Howler=y,window.Howl=S,window.Sound=m)}(),function(){"use strict";var y;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(y){var S=this;if(!S.ctx||!S.ctx.listener)return S;for(var m=S._howls.length-1;m>=0;m--)S._howls[m].stereo(y);return S},HowlerGlobal.prototype.pos=function(y,S,m){var _=this;return _.ctx&&_.ctx.listener?"number"!=typeof y?_._pos:(_._pos=[y,S="number"!=typeof S?_._pos[1]:S,m="number"!=typeof m?_._pos[2]:m],void 0!==_.ctx.listener.positionX?(_.ctx.listener.positionX.setTargetAtTime(_._pos[0],Howler.ctx.currentTime,.1),_.ctx.listener.positionY.setTargetAtTime(_._pos[1],Howler.ctx.currentTime,.1),_.ctx.listener.positionZ.setTargetAtTime(_._pos[2],Howler.ctx.currentTime,.1)):_.ctx.listener.setPosition(_._pos[0],_._pos[1],_._pos[2]),_):_},HowlerGlobal.prototype.orientation=function(y,S,m,_,f,p){var d=this;if(!d.ctx||!d.ctx.listener)return d;var b=d._orientation;return"number"!=typeof y?b:(d._orientation=[y,S="number"!=typeof S?b[1]:S,m="number"!=typeof m?b[2]:m,_="number"!=typeof _?b[3]:_,f="number"!=typeof f?b[4]:f,p="number"!=typeof p?b[5]:p],void 0!==d.ctx.listener.forwardX?(d.ctx.listener.forwardX.setTargetAtTime(y,Howler.ctx.currentTime,.1),d.ctx.listener.forwardY.setTargetAtTime(S,Howler.ctx.currentTime,.1),d.ctx.listener.forwardZ.setTargetAtTime(m,Howler.ctx.currentTime,.1),d.ctx.listener.upX.setTargetAtTime(_,Howler.ctx.currentTime,.1),d.ctx.listener.upY.setTargetAtTime(f,Howler.ctx.currentTime,.1),d.ctx.listener.upZ.setTargetAtTime(p,Howler.ctx.currentTime,.1)):d.ctx.listener.setOrientation(y,S,m,_,f,p),d)},Howl.prototype.init=(y=Howl.prototype.init,function(S){var m=this;return m._orientation=S.orientation||[1,0,0],m._stereo=S.stereo||null,m._pos=S.pos||null,m._pannerAttr={coneInnerAngle:void 0!==S.coneInnerAngle?S.coneInnerAngle:360,coneOuterAngle:void 0!==S.coneOuterAngle?S.coneOuterAngle:360,coneOuterGain:void 0!==S.coneOuterGain?S.coneOuterGain:0,distanceModel:void 0!==S.distanceModel?S.distanceModel:"inverse",maxDistance:void 0!==S.maxDistance?S.maxDistance:1e4,panningModel:void 0!==S.panningModel?S.panningModel:"HRTF",refDistance:void 0!==S.refDistance?S.refDistance:1,rolloffFactor:void 0!==S.rolloffFactor?S.rolloffFactor:1},m._onstereo=S.onstereo?[{fn:S.onstereo}]:[],m._onpos=S.onpos?[{fn:S.onpos}]:[],m._onorientation=S.onorientation?[{fn:S.onorientation}]:[],y.call(this,S)}),Howl.prototype.stereo=function(y,S){var m=this;if(!m._webAudio)return m;if("loaded"!==m._state)return m._queue.push({event:"stereo",action:function(){m.stereo(y,S)}}),m;var _=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===S){if("number"!=typeof y)return m._stereo;m._stereo=y,m._pos=[y,0,0]}for(var f=m._getSoundIds(S),p=0;p<f.length;p++){var d=m._soundById(f[p]);if(d){if("number"!=typeof y)return d._stereo;d._stereo=y,d._pos=[y,0,0],d._node&&(d._pannerAttr.panningModel="equalpower",(!d._panner||!d._panner.pan)&&T(d,_),"spatial"===_?void 0!==d._panner.positionX?(d._panner.positionX.setValueAtTime(y,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):d._panner.setPosition(y,0,0):d._panner.pan.setValueAtTime(y,Howler.ctx.currentTime)),m._emit("stereo",d._id)}}return m},Howl.prototype.pos=function(y,S,m,_){var f=this;if(!f._webAudio)return f;if("loaded"!==f._state)return f._queue.push({event:"pos",action:function(){f.pos(y,S,m,_)}}),f;if(S="number"!=typeof S?0:S,m="number"!=typeof m?-.5:m,void 0===_){if("number"!=typeof y)return f._pos;f._pos=[y,S,m]}for(var p=f._getSoundIds(_),d=0;d<p.length;d++){var b=f._soundById(p[d]);if(b){if("number"!=typeof y)return b._pos;b._pos=[y,S,m],b._node&&((!b._panner||b._panner.pan)&&T(b,"spatial"),void 0!==b._panner.positionX?(b._panner.positionX.setValueAtTime(y,Howler.ctx.currentTime),b._panner.positionY.setValueAtTime(S,Howler.ctx.currentTime),b._panner.positionZ.setValueAtTime(m,Howler.ctx.currentTime)):b._panner.setPosition(y,S,m)),f._emit("pos",b._id)}}return f},Howl.prototype.orientation=function(y,S,m,_){var f=this;if(!f._webAudio)return f;if("loaded"!==f._state)return f._queue.push({event:"orientation",action:function(){f.orientation(y,S,m,_)}}),f;if(S="number"!=typeof S?f._orientation[1]:S,m="number"!=typeof m?f._orientation[2]:m,void 0===_){if("number"!=typeof y)return f._orientation;f._orientation=[y,S,m]}for(var p=f._getSoundIds(_),d=0;d<p.length;d++){var b=f._soundById(p[d]);if(b){if("number"!=typeof y)return b._orientation;b._orientation=[y,S,m],b._node&&(b._panner||(b._pos||(b._pos=f._pos||[0,0,-.5]),T(b,"spatial")),void 0!==b._panner.orientationX?(b._panner.orientationX.setValueAtTime(y,Howler.ctx.currentTime),b._panner.orientationY.setValueAtTime(S,Howler.ctx.currentTime),b._panner.orientationZ.setValueAtTime(m,Howler.ctx.currentTime)):b._panner.setOrientation(y,S,m)),f._emit("orientation",b._id)}}return f},Howl.prototype.pannerAttr=function(){var m,_,f,y=this,S=arguments;if(!y._webAudio)return y;if(0===S.length)return y._pannerAttr;if(1===S.length){if("object"!=typeof S[0])return(f=y._soundById(parseInt(S[0],10)))?f._pannerAttr:y._pannerAttr;m=S[0],void 0===_&&(m.pannerAttr||(m.pannerAttr={coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor,panningModel:m.panningModel}),y._pannerAttr={coneInnerAngle:void 0!==m.pannerAttr.coneInnerAngle?m.pannerAttr.coneInnerAngle:y._coneInnerAngle,coneOuterAngle:void 0!==m.pannerAttr.coneOuterAngle?m.pannerAttr.coneOuterAngle:y._coneOuterAngle,coneOuterGain:void 0!==m.pannerAttr.coneOuterGain?m.pannerAttr.coneOuterGain:y._coneOuterGain,distanceModel:void 0!==m.pannerAttr.distanceModel?m.pannerAttr.distanceModel:y._distanceModel,maxDistance:void 0!==m.pannerAttr.maxDistance?m.pannerAttr.maxDistance:y._maxDistance,refDistance:void 0!==m.pannerAttr.refDistance?m.pannerAttr.refDistance:y._refDistance,rolloffFactor:void 0!==m.pannerAttr.rolloffFactor?m.pannerAttr.rolloffFactor:y._rolloffFactor,panningModel:void 0!==m.pannerAttr.panningModel?m.pannerAttr.panningModel:y._panningModel})}else 2===S.length&&(m=S[0],_=parseInt(S[1],10));for(var p=y._getSoundIds(_),d=0;d<p.length;d++)if(f=y._soundById(p[d])){var b=f._pannerAttr;b={coneInnerAngle:void 0!==m.coneInnerAngle?m.coneInnerAngle:b.coneInnerAngle,coneOuterAngle:void 0!==m.coneOuterAngle?m.coneOuterAngle:b.coneOuterAngle,coneOuterGain:void 0!==m.coneOuterGain?m.coneOuterGain:b.coneOuterGain,distanceModel:void 0!==m.distanceModel?m.distanceModel:b.distanceModel,maxDistance:void 0!==m.maxDistance?m.maxDistance:b.maxDistance,refDistance:void 0!==m.refDistance?m.refDistance:b.refDistance,rolloffFactor:void 0!==m.rolloffFactor?m.rolloffFactor:b.rolloffFactor,panningModel:void 0!==m.panningModel?m.panningModel:b.panningModel};var C=f._panner;C?(C.coneInnerAngle=b.coneInnerAngle,C.coneOuterAngle=b.coneOuterAngle,C.coneOuterGain=b.coneOuterGain,C.distanceModel=b.distanceModel,C.maxDistance=b.maxDistance,C.refDistance=b.refDistance,C.rolloffFactor=b.rolloffFactor,C.panningModel=b.panningModel):(f._pos||(f._pos=y._pos||[0,0,-.5]),T(f,"spatial"))}return y},Sound.prototype.init=function(y){return function(){var S=this,m=S._parent;S._orientation=m._orientation,S._stereo=m._stereo,S._pos=m._pos,S._pannerAttr=m._pannerAttr,y.call(this),S._stereo?m.stereo(S._stereo):S._pos&&m.pos(S._pos[0],S._pos[1],S._pos[2],S._id)}}(Sound.prototype.init),Sound.prototype.reset=function(y){return function(){var S=this,m=S._parent;return S._orientation=m._orientation,S._stereo=m._stereo,S._pos=m._pos,S._pannerAttr=m._pannerAttr,S._stereo?m.stereo(S._stereo):S._pos?m.pos(S._pos[0],S._pos[1],S._pos[2],S._id):S._panner&&(S._panner.disconnect(0),S._panner=void 0,m._refreshBuffer(S)),y.call(this)}}(Sound.prototype.reset);var T=function(y,S){"spatial"===(S=S||"spatial")?(y._panner=Howler.ctx.createPanner(),y._panner.coneInnerAngle=y._pannerAttr.coneInnerAngle,y._panner.coneOuterAngle=y._pannerAttr.coneOuterAngle,y._panner.coneOuterGain=y._pannerAttr.coneOuterGain,y._panner.distanceModel=y._pannerAttr.distanceModel,y._panner.maxDistance=y._pannerAttr.maxDistance,y._panner.refDistance=y._pannerAttr.refDistance,y._panner.rolloffFactor=y._pannerAttr.rolloffFactor,y._panner.panningModel=y._pannerAttr.panningModel,void 0!==y._panner.positionX?(y._panner.positionX.setValueAtTime(y._pos[0],Howler.ctx.currentTime),y._panner.positionY.setValueAtTime(y._pos[1],Howler.ctx.currentTime),y._panner.positionZ.setValueAtTime(y._pos[2],Howler.ctx.currentTime)):y._panner.setPosition(y._pos[0],y._pos[1],y._pos[2]),void 0!==y._panner.orientationX?(y._panner.orientationX.setValueAtTime(y._orientation[0],Howler.ctx.currentTime),y._panner.orientationY.setValueAtTime(y._orientation[1],Howler.ctx.currentTime),y._panner.orientationZ.setValueAtTime(y._orientation[2],Howler.ctx.currentTime)):y._panner.setOrientation(y._orientation[0],y._orientation[1],y._orientation[2])):(y._panner=Howler.ctx.createStereoPanner(),y._panner.pan.setValueAtTime(y._stereo,Howler.ctx.currentTime)),y._panner.connect(y._node),y._paused||y._parent.pause(y._id,!0).play(y._id,!0)}}()},3894:me=>{me.exports="function"==typeof Object.create?function(M,c){c&&(M.super_=c,M.prototype=Object.create(c.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}))}:function(M,c){if(c){M.super_=c;var T=function(){};T.prototype=c.prototype,M.prototype=new T,M.prototype.constructor=M}}},5943:me=>{"use strict";var U=Object.getOwnPropertySymbols,M=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function T(S){if(null==S)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(S)}me.exports=function y(){try{if(!Object.assign)return!1;var S=new String("abc");if(S[5]="de","5"===Object.getOwnPropertyNames(S)[0])return!1;for(var m={},_=0;_<10;_++)m["_"+String.fromCharCode(_)]=_;if("0123456789"!==Object.getOwnPropertyNames(m).map(function(d){return m[d]}).join(""))return!1;var p={};return"abcdefghijklmnopqrst".split("").forEach(function(d){p[d]=d}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},p)).join("")}catch(d){return!1}}()?Object.assign:function(S,m){for(var _,p,f=T(S),d=1;d<arguments.length;d++){for(var b in _=Object(arguments[d]))M.call(_,b)&&(f[b]=_[b]);if(U){p=U(_);for(var C=0;C<p.length;C++)c.call(_,p[C])&&(f[p[C]]=_[p[C]])}}return f}},516:me=>{"use strict";function U(M,c){return Object.prototype.hasOwnProperty.call(M,c)}me.exports=function(M,c,T,y){T=T||"=";var S={};if("string"!=typeof M||0===M.length)return S;var m=/\+/g;M=M.split(c=c||"&");var _=1e3;y&&"number"==typeof y.maxKeys&&(_=y.maxKeys);var f=M.length;_>0&&f>_&&(f=_);for(var p=0;p<f;++p){var C,h,v,O,d=M[p].replace(m,"%20"),b=d.indexOf(T);b>=0?(C=d.substr(0,b),h=d.substr(b+1)):(C=d,h=""),v=decodeURIComponent(C),O=decodeURIComponent(h),U(S,v)?Array.isArray(S[v])?S[v].push(O):S[v]=[S[v],O]:S[v]=O}return S}},5776:me=>{"use strict";var U=function(M){switch(typeof M){case"string":return M;case"boolean":return M?"true":"false";case"number":return isFinite(M)?M:"";default:return""}};me.exports=function(M,c,T,y){return c=c||"&",T=T||"=",null===M&&(M=void 0),"object"==typeof M?Object.keys(M).map(function(S){var m=encodeURIComponent(U(S))+T;return Array.isArray(M[S])?M[S].map(function(_){return m+encodeURIComponent(U(_))}).join(c):m+encodeURIComponent(U(M[S]))}).join(c):y?encodeURIComponent(U(y))+T+encodeURIComponent(U(M)):""}},7137:(me,U,M)=>{"use strict";U.decode=U.parse=M(516),U.encode=U.stringify=M(5776)},2858:(me,U)=>{"use strict";var M=Object.prototype.hasOwnProperty;function T(_){try{return decodeURIComponent(_.replace(/\+/g," "))}catch(f){return null}}function y(_){try{return encodeURIComponent(_)}catch(f){return null}}U.stringify=function m(_,f){f=f||"";var d,b,p=[];for(b in"string"!=typeof f&&(f="?"),_)if(M.call(_,b)){if(!(d=_[b])&&(null==d||isNaN(d))&&(d=""),b=y(b),d=y(d),null===b||null===d)continue;p.push(b+"="+d)}return p.length?f+p.join("&"):""},U.parse=function S(_){for(var d,f=/([^=?#&]+)=?([^&]*)/g,p={};d=f.exec(_);){var b=T(d[1]),C=T(d[2]);null===b||null===C||b in p||(p[b]=C)}return p}},8237:me=>{"use strict";me.exports=function(M,c){if(c=c.split(":")[0],!(M=+M))return!1;switch(c){case"http":case"ws":return 80!==M;case"https":case"wss":return 443!==M;case"ftp":return 21!==M;case"gopher":return 70!==M;case"file":return!1}return 0!==M}},8135:function(me){me.exports=function(U){var M={};function c(T){if(M[T])return M[T].exports;var y=M[T]={i:T,l:!1,exports:{}};return U[T].call(y.exports,y,y.exports,c),y.l=!0,y.exports}return c.m=U,c.c=M,c.d=function(T,y,S){c.o(T,y)||Object.defineProperty(T,y,{configurable:!1,enumerable:!0,get:S})},c.r=function(T){Object.defineProperty(T,"__esModule",{value:!0})},c.n=function(T){var y=T&&T.__esModule?function(){return T.default}:function(){return T};return c.d(y,"a",y),y},c.o=function(T,y){return Object.prototype.hasOwnProperty.call(T,y)},c.p="",c(c.s=325)}([function(U,M,c){var T=c(6),y=c(37),S=c(18),m=c(15),_=c(27),f=function(p,d,b){var C,h,v,O,x=p&f.F,N=p&f.G,H=p&f.P,L=p&f.B,j=N?T:p&f.S?T[d]||(T[d]={}):(T[d]||{}).prototype,k=N?y:y[d]||(y[d]={}),V=k.prototype||(k.prototype={});for(C in N&&(b=d),b)v=((h=!x&&j&&void 0!==j[C])?j:b)[C],O=L&&h?_(v,T):H&&"function"==typeof v?_(Function.call,v):v,j&&m(j,C,v,p&f.U),k[C]!=v&&S(k,C,O),H&&V[C]!=v&&(V[C]=v)};T.core=y,f.F=1,f.G=2,f.S=4,f.P=8,f.B=16,f.W=32,f.U=64,f.R=128,U.exports=f},function(U,M,c){"use strict";function T(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function y(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?p:d}function S(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}Object.defineProperty(M,"__esModule",{value:!0});var m=function(p){function d(b){T(this,d);var C=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return C.name="SFSError",C}return S(d,Error),d}(),_=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];T(this,d);var h=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return h.name="SFSValidationError",h.errors=C,h}return S(d,m),d}(),f=function(p){function d(b){T(this,d);var C=y(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,b));return C.name="SFSTypeError",C}return S(d,m),d}();M.SFSError=m,M.SFSValidationError=_,M.SFSTypeError=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Message=M.Requests=M.BaseRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=c(8),S=c(50);function m(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}var _=function(){function d(b){m(this,d),this._reqObj=new y.SFSObject,this._id=b,this._targetController=0,this._logger=S.Logger.instance}return T(d,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}}]),T(d,[{key:"getMessage",value:function(){return new f(this._id,this._targetController,this._reqObj)}},{key:"validate",value:function(){this._logger.error("BaseRequest.validate = no child-class implementation found!")}},{key:"execute",value:function(){this._logger.error("BaseRequest.execute = no child-class implementation found!")}},{key:"id",get:function(){return this._id}}]),d}(),f=function(){function d(b,C,h){m(this,d),this._id=b,this._targetController=C,this._content=h,Object.freeze(this)}return T(d,[{key:"dump",value:function(){return(p.getNameFromId(this.id)+" ("+this.id+")").trim()+"\n"+this.content.getDump()}},{key:"id",get:function(){return this._id}},{key:"targetController",get:function(){return this._targetController}},{key:"content",get:function(){return this._content}}]),d}(),p=Object.freeze({Handshake:0,Login:1,Logout:2,JoinRoom:4,CreateRoom:6,GenericMessage:7,ChangeRoomName:8,ChangeRoomPassword:9,SetRoomVariables:11,SetUserVariables:12,CallExtension:13,LeaveRoom:14,SubscribeRoomGroup:15,UnsubscribeRoomGroup:16,SpectatorToPlayer:17,PlayerToSpectator:18,ChangeRoomCapacity:19,KickUser:24,BanUser:25,FindRooms:27,FindUsers:28,PingPong:29,SetUserPosition:30,QuickJoinOrCreateRoom:31,InitBuddyList:200,AddBuddy:201,BlockBuddy:202,RemoveBuddy:203,SetBuddyVariables:204,GoOnline:205,InviteUsers:300,InvitationReply:301,CreateSFSGame:302,QuickJoinGame:303,JoinRoomInvite:304,getNameFromId:function(d){for(var b in this)if(this.hasOwnProperty(b)&&this[b]===d)return b;return""}});M.BaseRequest=_,M.Requests=p,M.Message=f},function(U,M){U.exports=function(c){try{return!!c()}catch(T){return!0}}},function(U,M){U.exports=function(c){return"object"==typeof c?null!==c:"function"==typeof c}},function(U,M,c){var T=c(4);U.exports=function(y){if(!T(y))throw TypeError(y+" is not an object!");return y}},function(U,M){var c=U.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(U,M,c){var T=c(95)("wks"),y=c(35),S=c(6).Symbol,m="function"==typeof S;(U.exports=function(_){return T[_]||(T[_]=m&&S[_]||(m?S:y)("Symbol."+_))}).store=T},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.Vec3D=M.SFSArray=M.SFSObject=M.SFSDataWrapper=M.SFSDataType=void 0;var T=function(){function v(O,x){for(var N=0;N<x.length;N++){var G=x[N];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,G.key,G)}}return function(O,x,N){return x&&v(O.prototype,x),N&&v(O,N),O}}(),y=c(174),S=c(51),m=c(50),_=c(1);function f(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}var p=Object.freeze({NULL:0,BOOL:1,BYTE:2,SHORT:3,INT:4,LONG:5,FLOAT:6,DOUBLE:7,UTF_STRING:8,BOOL_ARRAY:9,BYTE_ARRAY:10,SHORT_ARRAY:11,INT_ARRAY:12,LONG_ARRAY:13,FLOAT_ARRAY:14,DOUBLE_ARRAY:15,UTF_STRING_ARRAY:16,SFS_ARRAY:17,SFS_OBJECT:18,TEXT:20,fromId:function(v){if("number"!=typeof v)return null;for(var O in this)if(this.hasOwnProperty(O)&&this[O]===v)return O},validate:function(v,O){if(null==this.fromId(v))throw new _.SFSTypeError("Invalid type passed; use one of the SFSDataType constants");var x=null;if(v===this.NULL&&null!=O&&(x="a null value"),v!==this.NULL&&null==O&&(x="a non-null value"),v!==this.BOOL||this.isBoolType(O)||(x="a boolean value"),v!==this.BYTE||this.isByteType(O)||(x="an integer number in this range: 0 <= value < 256"),v!==this.SHORT||this.isShortType(O)||(x="an integer number in this range: -32.768 <= value < +32.768"),v!==this.INT||this.isIntType(O)||(x="an integer number in this range: -2^31 <= value < +2^31"),v!==this.LONG||this.isLongType(O)||(x="an integer number in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),v!==this.FLOAT||this.isFloatType(O)||(x="a number in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),v!==this.DOUBLE||this.isDoubleType(O)||(x="a finite number"),v!==this.UTF_STRING&&v!==this.TEXT||this.isStringType(O)||(x="a string value"),v!==this.BOOL_ARRAY||this.isArrayType(O,this.isBoolType)||(x="an array of boolean values"),v!==this.BYTE_ARRAY||O instanceof Uint8Array||(x="a Uint8Array"),v!==this.SHORT_ARRAY||this.isArrayType(O,this.isShortType)||(x="an array of integer numbers in this range: -32.768 <= value < +32.768"),v!==this.INT_ARRAY||this.isArrayType(O,this.isIntType)||(x="an array of integer numbers in this range: -2^31 <= value < +2^31"),v!==this.LONG_ARRAY||this.isArrayType(O,this.isLongType)||(x="an array of integer numbers in this range: -(2^53 - 1) <= value <= +(2^53 - 1)"),v!==this.FLOAT_ARRAY||this.isArrayType(O,this.isFloatType)||(x="an array of numbers in this range: -3.4028234663852886e+38 <= value <= 3.4028234663852886e+38"),v!==this.DOUBLE_ARRAY||this.isArrayType(O,this.isDoubleType)||(x="an array of finite numbers"),v!==this.UTF_STRING_ARRAY||this.isArrayType(O,this.isStringType)||(x="an array of string values"),v!==this.SFS_OBJECT||O instanceof b||(x="a SFSObject instance"),v!==this.SFS_ARRAY||O instanceof C||(x="a SFSArray instance"),null!=x)throw new _.SFSTypeError("Invalid value passed; type SFSDataType."+this.fromId(v)+" requires "+x)},isBoolType:function(v){return"boolean"==typeof v},isByteType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=0&&v<256},isShortType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=-32768&&v<32768},isIntType:function(v){return"number"==typeof v&&Math.floor(v)===v&&v>=-2147483648&&v<2147483648},isLongType:function(v){return"number"==typeof v&&Math.floor(v)===v&&Number.isSafeInteger(v)},isFloatType:function(v){return"number"==typeof v&&v>=-34028234663852886e22&&v<=34028234663852886e22},isDoubleType:function(v){return"number"==typeof v&&isFinite(v)},isStringType:function(v){return"string"==typeof v},isArrayType:function(v,O){return v instanceof Array&&(!(v.length>0)||O(v[0]))}}),d=function v(O,x){f(this,v),this.type=O,this.value=x,Object.freeze(this)},b=function(){function v(){f(this,v),this._dataHolder=new Map,this._serializer=y.SFSDataSerializer.instance,Object.freeze(this)}return T(v,[{key:"toBinary",value:function(){return this._serializer.object2binary(this)}},{key:"keys",value:function(){return this._dataHolder.keys()}},{key:"getWrappedItem",value:function(O){return this._dataHolder.get(O)}},{key:"getKeysArray",value:function(){return Array.from(this.keys())}},{key:"size",value:function(){return this._dataHolder.size}},{key:"containsKey",value:function(O){return null!=this.getWrappedItem(O)}},{key:"get",value:function(O){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,N=this.getWrappedItem(O);if(null!=N&&null!=x&&N.type!=x)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+p.fromId(x));return null!=N?N.value:null}},{key:"isNull",value:function(O){var x=this.getWrappedItem(O);return null==x||x.type==p.NULL}},{key:"getBool",value:function(O){return this.get(O,p.BOOL)}},{key:"getByte",value:function(O){return this.get(O,p.BYTE)}},{key:"getShort",value:function(O){return this.get(O,p.SHORT)}},{key:"getInt",value:function(O){return this.get(O,p.INT)}},{key:"getLong",value:function(O){var x=this.get(O,p.LONG);return Number.isSafeInteger(x)||m.Logger.instance.warn("Long value contained in SFSObject is not safe"),x}},{key:"getFloat",value:function(O){return this.get(O,p.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,p.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,p.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,p.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,p.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,p.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,p.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,p.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,p.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,p.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,p.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,p.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,p.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,p.SFS_ARRAY)}},{key:"put",value:function(O,x,N){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])){if("string"!=typeof O)throw"Invalid key passed; must be of type string";p.validate(N,x)}this._dataHolder.set(O,new d(N,x))}},{key:"putNull",value:function(O){this.put(O,null,p.NULL)}},{key:"putBool",value:function(O,x){this.put(O,x,p.BOOL)}},{key:"putByte",value:function(O,x){this.put(O,x,p.BYTE)}},{key:"putShort",value:function(O,x){this.put(O,x,p.SHORT)}},{key:"putInt",value:function(O,x){this.put(O,x,p.INT)}},{key:"putLong",value:function(O,x){this.put(O,x,p.LONG)}},{key:"putFloat",value:function(O,x){this.put(O,x,p.FLOAT)}},{key:"putDouble",value:function(O,x){this.put(O,x,p.DOUBLE)}},{key:"putUtfString",value:function(O,x){this.put(O,x,p.UTF_STRING)}},{key:"putText",value:function(O,x){this.put(O,x,p.TEXT)}},{key:"putBoolArray",value:function(O,x){this.put(O,x,p.BOOL_ARRAY)}},{key:"putByteArray",value:function(O,x){this.put(O,x,p.BYTE_ARRAY)}},{key:"putShortArray",value:function(O,x){this.put(O,x,p.SHORT_ARRAY)}},{key:"putIntArray",value:function(O,x){this.put(O,x,p.INT_ARRAY)}},{key:"putLongArray",value:function(O,x){this.put(O,x,p.LONG_ARRAY)}},{key:"putFloatArray",value:function(O,x){this.put(O,x,p.FLOAT_ARRAY)}},{key:"putDoubleArray",value:function(O,x){this.put(O,x,p.DOUBLE_ARRAY)}},{key:"putUtfStringArray",value:function(O,x){this.put(O,x,p.UTF_STRING_ARRAY)}},{key:"putSFSArray",value:function(O,x){this.put(O,x,p.SFS_ARRAY)}},{key:"putSFSObject",value:function(O,x){this.put(O,x,p.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSObject ]":O?S.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return S.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){var O=S.DumpFormatter.TOKEN_INDENT_OPEN,x=!0,N=!1,G=void 0;try{for(var H,L=this.keys()[Symbol.iterator]();!(x=(H=L.next()).done);x=!0){var j=H.value,k=this.getWrappedItem(j);O+="("+p.fromId(k.type).toLowerCase()+") "+j+": ",O+=k.type===p.SFS_OBJECT||k.type===p.SFS_ARRAY?k.value.getDump(!1):k.type===p.BYTE_ARRAY?S.DumpFormatter.prettyPrintByteArray(k.value):k.value,O+=S.DumpFormatter.TOKEN_DIVIDER}}catch(V){N=!0,G=V}finally{try{!x&&L.return&&L.return()}finally{if(N)throw G}}return O+S.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return y.SFSDataSerializer.instance.binary2object(O)}}]),v}(),C=function(){function v(){f(this,v),this._dataHolder=[],this._serializer=y.SFSDataSerializer.instance,Object.freeze(this)}return T(v,[{key:"toBinary",value:function(){return this._serializer.array2binary(this)}},{key:"getWrappedItem",value:function(O){return"number"!=typeof O||O>=this._dataHolder.length?null:this._dataHolder[O]}},{key:"size",value:function(){return this._dataHolder.length}},{key:"contains",value:function(O){if(O instanceof v||O instanceof b)throw new _.SFSError("SFSArray and SFSObject types are not supported by the SFSArray.contains method");for(var x=0;x<this.size();x++){var N=this.getWrappedItem(x);if(null!=N&&N.value==O)return!0}return!1}},{key:"get",value:function(O){var x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof O||O>=this._dataHolder.length)return null;var N=this.getWrappedItem(O);if(null!=N&&null!=x&&N.type!=x)throw new _.SFSTypeError("Requested value is not of type SFSDataType."+p.fromId(x));return null!=N?N.value:null}},{key:"isNull",value:function(O){var x=this.getWrappedItem(O);return null==x||x.type==p.NULL}},{key:"getBool",value:function(O){return this.get(O,p.BOOL)}},{key:"getByte",value:function(O){return this.get(O,p.BYTE)}},{key:"getShort",value:function(O){return this.get(O,p.SHORT)}},{key:"getInt",value:function(O){return this.get(O,p.INT)}},{key:"getLong",value:function(O){var x=this.get(O,p.LONG);return Number.isSafeInteger(x)||m.Logger.instance.warn("Long value contained in SFSObject is not safe"),x}},{key:"getFloat",value:function(O){return this.get(O,p.FLOAT)}},{key:"getDouble",value:function(O){return this.get(O,p.DOUBLE)}},{key:"getUtfString",value:function(O){return this.get(O,p.UTF_STRING)}},{key:"getText",value:function(O){return this.get(O,p.TEXT)}},{key:"getBoolArray",value:function(O){return this.get(O,p.BOOL_ARRAY)}},{key:"getByteArray",value:function(O){return this.get(O,p.BYTE_ARRAY)}},{key:"getShortArray",value:function(O){return this.get(O,p.SHORT_ARRAY)}},{key:"getIntArray",value:function(O){return this.get(O,p.INT_ARRAY)}},{key:"getLongArray",value:function(O){return this.get(O,p.LONG_ARRAY)}},{key:"getFloatArray",value:function(O){return this.get(O,p.FLOAT_ARRAY)}},{key:"getDoubleArray",value:function(O){return this.get(O,p.DOUBLE_ARRAY)}},{key:"getUtfStringArray",value:function(O){return this.get(O,p.UTF_STRING_ARRAY)}},{key:"getSFSObject",value:function(O){return this.get(O,p.SFS_OBJECT)}},{key:"getSFSArray",value:function(O){return this.get(O,p.SFS_ARRAY)}},{key:"add",value:function(O,x){arguments.length>2&&void 0!==arguments[2]&&arguments[2]||p.validate(x,O),this._dataHolder.push(new d(x,O))}},{key:"addNull",value:function(){this.add(null,p.NULL)}},{key:"addBool",value:function(O){this.add(O,p.BOOL)}},{key:"addByte",value:function(O){this.add(O,p.BYTE)}},{key:"addShort",value:function(O){this.add(O,p.SHORT)}},{key:"addInt",value:function(O){this.add(O,p.INT)}},{key:"addLong",value:function(O){this.add(O,p.LONG)}},{key:"addFloat",value:function(O){this.add(O,p.FLOAT)}},{key:"addDouble",value:function(O){this.add(O,p.DOUBLE)}},{key:"addUtfString",value:function(O){this.add(O,p.UTF_STRING)}},{key:"addText",value:function(O){this.add(O,p.TEXT)}},{key:"addBoolArray",value:function(O){this.add(O,p.BOOL_ARRAY)}},{key:"addByteArray",value:function(O){this.add(O,p.BYTE_ARRAY)}},{key:"addShortArray",value:function(O){this.add(O,p.SHORT_ARRAY)}},{key:"addIntArray",value:function(O){this.add(O,p.INT_ARRAY)}},{key:"addLongArray",value:function(O){this.add(O,p.LONG_ARRAY)}},{key:"addFloatArray",value:function(O){this.add(O,p.FLOAT_ARRAY)}},{key:"addDoubleArray",value:function(O){this.add(O,p.DOUBLE_ARRAY)}},{key:"addUtfStringArray",value:function(O){this.add(O,p.UTF_STRING_ARRAY)}},{key:"addSFSArray",value:function(O){this.add(O,p.SFS_ARRAY)}},{key:"addSFSObject",value:function(O){this.add(O,p.SFS_OBJECT)}},{key:"getDump",value:function(){var O=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return 0===this.size()?"[ Empty SFSArray ]":O?S.DumpFormatter.prettyPrintDump(this._dump()):this._dump()}},{key:"getHexDump",value:function(){return S.DumpFormatter.hexDump(this.toBinary())}},{key:"_dump",value:function(){for(var O=S.DumpFormatter.TOKEN_INDENT_OPEN,x=0;x<this.size();x++){var N=this.getWrappedItem(x);O+="("+p.fromId(N.type).toLowerCase()+") "+x+": ",O+=N.type===p.SFS_OBJECT||N.type===p.SFS_ARRAY?N.value.getDump(!1):N.type===p.BYTE_ARRAY?S.DumpFormatter.prettyPrintByteArray(N.value):N.value,O+=S.DumpFormatter.TOKEN_DIVIDER}return O+S.DumpFormatter.TOKEN_INDENT_CLOSE}}],[{key:"newFromBinaryData",value:function(O){return y.SFSDataSerializer.instance.binary2array(O)}}]),v}(),h=function(){function v(O,x){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,G=arguments.length>3&&void 0!==arguments[3]&&arguments[3];f(this,v),this.px=O,this.py=x,this.pz=N,this._useFloatCoordinates=G}return T(v,[{key:"toString",value:function(){return"("+this.px+","+this.py+","+this.pz+")"}},{key:"toArray",value:function(){return[this.px,this.py,this.pz]}},{key:"isFloat",get:function(){return this._useFloatCoordinates}}],[{key:"fromArray",value:function(O){return new v(O[0],O[1],O[2])}}]),v}();M.SFSDataType=p,M.SFSDataWrapper=d,M.SFSObject=b,M.SFSArray=C,M.Vec3D=h},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MMORoom=M.SFSRoom=void 0;var T=function(){function b(C,h){for(var v=0;v<h.length;v++){var O=h[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,h,v){return h&&b(C.prototype,h),v&&b(C,v),C}}(),y=c(8),S=c(49),m=c(119),_=c(1);function f(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var p=function(){function b(C,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default",O=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];f(this,b),this._id=C,this._name=h,this._groupId=v,this._isGame=!1,this._isHidden=!1,this._isJoined=!1,this._isPasswordProtected=!1,this._maxUsers=0,this._maxSpectators=0,this._userCount=0,this._specCount=0,this._isManaged=!0,this._variables=new Map,this._userManager=new m.SFSUserManager,this._roomManager=null,this.properties={},O&&Object.seal(this)}return T(b,[{key:"toString",value:function(){return"[Room: "+this.name+", Id: "+this.id+", Group Id: "+this.groupId+"]"}},{key:"getUserByName",value:function(C){return this._userManager.getUserByName(C)}},{key:"getUserById",value:function(C){return this._userManager.getUserById(C)}},{key:"containsUser",value:function(C){return this._userManager.containsUser(C)}},{key:"getUserList",value:function(){return this._userManager.getUserList()}},{key:"getPlayerList",value:function(){var C=this;return this._userManager.getUserList().filter(function(h){return h.isPlayerInRoom(C)})}},{key:"getSpectatorList",value:function(){var C=this;return this._userManager.getUserList().filter(function(h){return h.isSpectatorInRoom(C)})}},{key:"getVariable",value:function(C){return this._variables.get(C)}},{key:"containsVariable",value:function(C){return this._variables.has(C)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getRoomManager",value:function(){return this._roomManager}},{key:"_addUser",value:function(C){this._userManager._addUser(C)}},{key:"_removeUser",value:function(C){this._userManager._removeUser(C)}},{key:"_setVariables",value:function(C){var h=!0,v=!1,O=void 0;try{for(var x,N=C[Symbol.iterator]();!(h=(x=N.next()).done);h=!0)this._setVariable(x.value)}catch(H){v=!0,O=H}finally{try{!h&&N.return&&N.return()}finally{if(v)throw O}}}},{key:"_setVariable",value:function(C){C.isNull?this._variables.delete(C.name):this._variables.set(C.name,C)}},{key:"_setRoomManager",value:function(C){if(null!=this._roomManager)throw new _.SFSError("Room Manager already assigned to "+this.toString());this._roomManager=C}},{key:"_merge",value:function(C){if(!this.isJoined){this._variables.clear();var h=!0,v=!1,O=void 0;try{for(var x,N=C._variables.values()[Symbol.iterator]();!(h=(x=N.next()).done);h=!0)this._setVariable(x.value)}catch(W){v=!0,O=W}finally{try{!h&&N.return&&N.return()}finally{if(v)throw O}}this._userManager._clearAll();var H=!0,L=!1,j=void 0;try{for(var k,V=C.getUserList()[Symbol.iterator]();!(H=(k=V.next()).done);H=!0)this._addUser(k.value)}catch(W){L=!0,j=W}finally{try{!H&&V.return&&V.return()}finally{if(L)throw j}}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"groupId",get:function(){return this._groupId}},{key:"isGame",get:function(){return this._isGame}},{key:"isHidden",get:function(){return this._isHidden}},{key:"isJoined",get:function(){return this._isJoined}},{key:"isPasswordProtected",get:function(){return this._isPasswordProtected}},{key:"maxUsers",get:function(){return this._maxUsers}},{key:"maxSpectators",get:function(){return this._maxSpectators}},{key:"userCount",get:function(){return this.isJoined?this.isGame?this.getPlayerList().length:this._userManager.getUserCount():this._userCount}},{key:"spectatorCount",get:function(){return this.isGame?this.isJoined?this.getSpectatorList().length:this._specCount:0}},{key:"capacity",get:function(){return this.maxUsers+this.maxSpectators}}],[{key:"fromSFSArray",value:function(C){var h=14===C.size(),v=void 0;(v=h?new d(C.get(0),C.get(1),C.get(2)):new b(C.get(0),C.get(1),C.get(2)))._isGame=C.get(3),v._isHidden=C.get(4),v._isPasswordProtected=C.get(5),v._userCount=C.get(6),v._maxUsers=C.get(7);var O=C.get(8);if(null!=O)for(var x=0;x<O.size();x++){var N=S.SFSRoomVariable.fromSFSArray(O.get(x));v._setVariable(N)}return v._isGame&&(v._specCount=C.get(9),v._maxSpectators=C.get(10)),h&&(v._defaultAOI=y.Vec3D.fromArray(C.get(11)),null!=C.get(13)&&(v._lowerMapLimit=y.Vec3D.fromArray(C.get(12)),v._higherMapLimit=y.Vec3D.fromArray(C.get(13)))),v}}]),b}(),d=function(b){function C(h,v){var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";f(this,C);var x=function(N,G){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?N:G}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,h,v,O,!1));return x._defaultAOI=null,x._lowerMapLimit=null,x._higherMapLimit=null,x._itemsById=new Map,Object.seal(x),x}return function(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}(C,p),T(C,[{key:"getMMOItem",value:function(h){return this._itemsById.get(h)}},{key:"getMMOItems",value:function(){return Array.from(this._itemsById.values())}},{key:"_addMMOItem",value:function(h){this._itemsById.set(h.id,h)}},{key:"_removeItem",value:function(h){this._itemsById.delete(h)}},{key:"defaultAOI",get:function(){return this._defaultAOI}},{key:"lowerMapLimit",get:function(){return this._lowerMapLimit}},{key:"higherMapLimit",get:function(){return this._higherMapLimit}}]),C}();M.SFSRoom=p,M.MMORoom=d},function(U,M,c){var T=c(5),y=c(148),S=c(30),m=Object.defineProperty;M.f=c(11)?Object.defineProperty:function(_,f,p){if(T(_),f=S(f,!0),T(p),y)try{return m(_,f,p)}catch(d){}if("get"in p||"set"in p)throw TypeError("Accessors not supported!");return"value"in p&&(_[f]=p.value),_}},function(U,M,c){U.exports=!c(3)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(U,M,c){var T=c(24),y=Math.min;U.exports=function(S){return S>0?y(T(S),9007199254740991):0}},function(U,M,c){var T=c(0),y=c(3),S=c(28),m=/"/g,_=function(f,p,d,b){var C=String(S(f)),h="<"+p;return""!==d&&(h+=" "+d+'="'+String(b).replace(m,"&quot;")+'"'),h+">"+C+"</"+p+">"};U.exports=function(f,p){var d={};d[f]=p(_),T(T.P+T.F*y(function(){var b=""[f]('"');return b!==b.toLowerCase()||b.split('"').length>3}),"String",d)}},function(U,M,c){var T=c(28);U.exports=function(y){return Object(T(y))}},function(U,M,c){var T=c(6),y=c(18),S=c(16),m=c(35)("src"),_=Function.toString,f=(""+_).split("toString");c(37).inspectSource=function(p){return _.call(p)},(U.exports=function(p,d,b,C){var h="function"==typeof b;h&&(S(b,"name")||y(b,"name",d)),p[d]!==b&&(h&&(S(b,m)||y(b,m,p[d]?""+p[d]:f.join(String(d)))),p===T?p[d]=b:C?p[d]?p[d]=b:y(p,d,b):(delete p[d],y(p,d,b)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[m]||_.call(this)})},function(U,M){var c={}.hasOwnProperty;U.exports=function(T,y){return c.call(T,y)}},function(U,M,c){"use strict";var T=c(3);U.exports=function(y,S){return!!y&&T(function(){S?y.call(null,function(){},1):y.call(null)})}},function(U,M,c){var T=c(10),y=c(36);U.exports=c(11)?function(S,m,_){return T.f(S,m,y(1,_))}:function(S,m,_){return S[m]=_,S}},function(U,M,c){var T=c(27),y=c(54),S=c(14),m=c(12),_=c(231);U.exports=function(f,p){var d=1==f,b=2==f,C=3==f,h=4==f,v=6==f,O=5==f||v,x=p||_;return function(N,G,H){for(var L,j,k=S(N),V=y(k),J=T(G,H,3),W=m(V.length),ee=0,q=d?x(N,W):b?x(N,0):void 0;W>ee;ee++)if((O||ee in V)&&(j=J(L=V[ee],ee,k),f))if(d)q[ee]=j;else if(j)switch(f){case 3:return!0;case 5:return L;case 6:return ee;case 2:q.push(L)}else if(h)return!1;return v?-1:C||h?h:q}}},function(U,M,c){var T=c(0),y=c(37),S=c(3);U.exports=function(m,_){var f=(y.Object||{})[m]||Object[m],p={};p[m]=_(f),T(T.S+T.F*S(function(){f(1)}),"Object",p)}},function(U,M,c){var T=c(54),y=c(28);U.exports=function(S){return T(y(S))}},function(U,M,c){"use strict";if(c(11)){var T=c(44),y=c(6),S=c(3),m=c(0),_=c(60),f=c(75),p=c(27),d=c(42),b=c(36),C=c(18),h=c(41),v=c(24),O=c(12),x=c(121),N=c(34),G=c(30),H=c(16),L=c(66),j=c(4),k=c(14),V=c(80),J=c(33),W=c(31),ee=c(32).f,q=c(79),ce=c(35),Te=c(7),_e=c(19),Ee=c(94),$=c(76),se=c(128),Z=c(53),be=c(64),oe=c(43),le=c(78),de=c(129),Be=c(10),Je=c(23),Le=Be.f,Ot=Je.f,qe=y.RangeError,je=y.TypeError,ie=y.Uint8Array,fe=Array.prototype,pe=f.ArrayBuffer,Ge=f.DataView,ze=_e(0),et=_e(2),xe=_e(3),Ye=_e(4),Yt=_e(5),It=_e(6),$t=Ee(!0),Wn=Ee(!1),tt=se.values,dt=se.keys,ve=se.entries,ge=fe.lastIndexOf,we=fe.reduce,Re=fe.reduceRight,Se=fe.join,Fe=fe.sort,st=fe.slice,_t=fe.toString,vt=fe.toLocaleString,cn=Te("iterator"),wn=Te("toStringTag"),zn=ce("typed_constructor"),Ft=ce("def_constructor"),Pn=_.CONSTR,en=_.TYPED,Bt=_.VIEW,Sn=_e(1,function(Qe,Et){return _i($(Qe,Qe[Ft]),Et)}),ar=S(function(){return 1===new ie(new Uint16Array([1]).buffer)[0]}),lr=!!ie&&!!ie.prototype.set&&S(function(){new ie(1).set({})}),Nn=function(Qe,Et){var Lt=v(Qe);if(Lt<0||Lt%Et)throw qe("Wrong offset!");return Lt},Xt=function(Qe){if(j(Qe)&&en in Qe)return Qe;throw je(Qe+" is not a typed array!")},_i=function(Qe,Et){if(!j(Qe)||!(zn in Qe))throw je("It is not a typed array constructor!");return new Qe(Et)},Wt=function(Qe,Et){return Bi($(Qe,Qe[Ft]),Et)},Bi=function(Qe,Et){for(var Lt=0,ci=Et.length,rn=_i(Qe,ci);ci>Lt;)rn[Lt]=Et[Lt++];return rn},ur=function(Qe,Et,Lt){Le(Qe,Et,{get:function(){return this._d[Lt]}})},pt=function(Qe){var Et,Lt,ci,rn,Pi,ls,on=k(Qe),Ai=arguments.length,dr=Ai>1?arguments[1]:void 0,po=void 0!==dr,$r=q(on);if(null!=$r&&!V($r)){for(ls=$r.call(on),ci=[],Et=0;!(Pi=ls.next()).done;Et++)ci.push(Pi.value);on=ci}for(po&&Ai>2&&(dr=p(dr,arguments[2],2)),Et=0,Lt=O(on.length),rn=_i(this,Lt);Lt>Et;Et++)rn[Et]=po?dr(on[Et],Et):on[Et];return rn},cr=function(){for(var Qe=0,Et=arguments.length,Lt=_i(this,Et);Et>Qe;)Lt[Qe]=arguments[Qe++];return Lt},kr=!!ie&&S(function(){vt.call(new ie(1))}),Bs=function(){return vt.apply(kr?st.call(Xt(this)):Xt(this),arguments)},Ec={copyWithin:function(Qe,Et){return de.call(Xt(this),Qe,Et,arguments.length>2?arguments[2]:void 0)},every:function(Qe){return Ye(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},fill:function(Qe){return le.apply(Xt(this),arguments)},filter:function(Qe){return Wt(this,et(Xt(this),Qe,arguments.length>1?arguments[1]:void 0))},find:function(Qe){return Yt(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},findIndex:function(Qe){return It(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},forEach:function(Qe){ze(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},indexOf:function(Qe){return Wn(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},includes:function(Qe){return $t(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},join:function(Qe){return Se.apply(Xt(this),arguments)},lastIndexOf:function(Qe){return ge.apply(Xt(this),arguments)},map:function(Qe){return Sn(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},reduce:function(Qe){return we.apply(Xt(this),arguments)},reduceRight:function(Qe){return Re.apply(Xt(this),arguments)},reverse:function(){for(var Qe,Et=Xt(this).length,Lt=Math.floor(Et/2),ci=0;ci<Lt;)Qe=this[ci],this[ci++]=this[--Et],this[Et]=Qe;return this},some:function(Qe){return xe(Xt(this),Qe,arguments.length>1?arguments[1]:void 0)},sort:function(Qe){return Fe.call(Xt(this),Qe)},subarray:function(Qe,Et){var Lt=Xt(this),ci=Lt.length,rn=N(Qe,ci);return new($(Lt,Lt[Ft]))(Lt.buffer,Lt.byteOffset+rn*Lt.BYTES_PER_ELEMENT,O((void 0===Et?ci:N(Et,ci))-rn))}},Ls=function(Qe,Et){return Wt(this,st.call(Xt(this),Qe,Et))},Il=function(Qe){Xt(this);var Et=Nn(arguments[1],1),Lt=this.length,ci=k(Qe),rn=O(ci.length),Pi=0;if(rn+Et>Lt)throw qe("Wrong length!");for(;Pi<rn;)this[Et+Pi]=ci[Pi++]},hr={entries:function(){return ve.call(Xt(this))},keys:function(){return dt.call(Xt(this))},values:function(){return tt.call(Xt(this))}},Io=function(Qe,Et){return j(Qe)&&Qe[en]&&"symbol"!=typeof Et&&Et in Qe&&String(+Et)==String(Et)},zr=function(Qe,Et){return Io(Qe,Et=G(Et,!0))?b(2,Qe[Et]):Ot(Qe,Et)},wi=function(Qe,Et,Lt){return!(Io(Qe,Et=G(Et,!0))&&j(Lt)&&H(Lt,"value"))||H(Lt,"get")||H(Lt,"set")||Lt.configurable||H(Lt,"writable")&&!Lt.writable||H(Lt,"enumerable")&&!Lt.enumerable?Le(Qe,Et,Lt):(Qe[Et]=Lt.value,Qe)};Pn||(Je.f=zr,Be.f=wi),m(m.S+m.F*!Pn,"Object",{getOwnPropertyDescriptor:zr,defineProperty:wi}),S(function(){_t.call({})})&&(_t=vt=function(){return Se.call(this)});var Fr=h({},Ec);h(Fr,hr),C(Fr,cn,hr.values),h(Fr,{slice:Ls,set:Il,constructor:function(){},toString:_t,toLocaleString:Bs}),ur(Fr,"buffer","b"),ur(Fr,"byteOffset","o"),ur(Fr,"byteLength","l"),ur(Fr,"length","e"),Le(Fr,wn,{get:function(){return this[en]}}),U.exports=function(Qe,Et,Lt,ci){var rn=Qe+((ci=!!ci)?"Clamped":"")+"Array",Pi="get"+Qe,ls="set"+Qe,on=y[rn],Ai=on||{},dr=on&&W(on),$r={},vr=on&&on.prototype,Nl=function(Ln,fi){Le(Ln,fi,{get:function(){return(_o=this._d).v[Pi](fi*Et+_o.o,ar);var _o},set:function($n){return _o=fi,Tn=$n,Us=this._d,ci&&(Tn=(Tn=Math.round(Tn))<0?0:Tn>255?255:255&Tn),void Us.v[ls](_o*Et+Us.o,Tn,ar);var _o,Tn,Us},enumerable:!0})};on&&_.ABV?S(function(){on(1)})&&S(function(){new on(-1)})&&be(function(Ln){new on,new on(null),new on(1.5),new on(Ln)},!0)||(on=Lt(function(Ln,fi,$n,go){var _o;return d(Ln,on,rn),j(fi)?fi instanceof pe||"ArrayBuffer"==(_o=L(fi))||"SharedArrayBuffer"==_o?void 0!==go?new Ai(fi,Nn($n,Et),go):void 0!==$n?new Ai(fi,Nn($n,Et)):new Ai(fi):en in fi?Bi(on,fi):pt.call(on,fi):new Ai(x(fi))}),ze(dr!==Function.prototype?ee(Ai).concat(ee(dr)):ee(Ai),function(Ln){Ln in on||C(on,Ln,Ai[Ln])}),on.prototype=vr,T||(vr.constructor=on)):(on=Lt(function(Ln,fi,$n,go){d(Ln,on,rn,"_d");var _o,Tn,Us,ni,Td=0,Cd=0;if(j(fi)){if(!(fi instanceof pe||"ArrayBuffer"==(ni=L(fi))||"SharedArrayBuffer"==ni))return en in fi?Bi(on,fi):pt.call(on,fi);_o=fi,Cd=Nn($n,Et);var gn=fi.byteLength;if(void 0===go){if(gn%Et||(Tn=gn-Cd)<0)throw qe("Wrong length!")}else if((Tn=O(go)*Et)+Cd>gn)throw qe("Wrong length!");Us=Tn/Et}else Us=x(fi),_o=new pe(Tn=Us*Et);for(C(Ln,"_d",{b:_o,o:Cd,l:Tn,e:Us,v:new Ge(_o)});Td<Us;)Nl(Ln,Td++)}),vr=on.prototype=J(Fr),C(vr,"constructor",on));var ma=vr[cn],yu=!!ma&&("values"==ma.name||null==ma.name),Sc=hr.values;C(on,zn,!0),C(vr,en,rn),C(vr,Bt,!0),C(vr,Ft,on),(ci?new on(1)[wn]==rn:wn in vr)||Le(vr,wn,{get:function(){return rn}}),$r[rn]=on,m(m.G+m.W+m.F*(on!=Ai),$r),m(m.S,rn,{BYTES_PER_ELEMENT:Et}),m(m.S+m.F*S(function(){Ai.of.call(on,1)}),rn,{from:pt,of:cr}),"BYTES_PER_ELEMENT"in vr||C(vr,"BYTES_PER_ELEMENT",Et),m(m.P,rn,Ec),oe(rn),m(m.P+m.F*lr,rn,{set:Il}),m(m.P+m.F*!yu,rn,hr),T||vr.toString==_t||(vr.toString=_t),m(m.P+m.F*S(function(){new on(1).slice()}),rn,{slice:Ls}),m(m.P+m.F*(S(function(){return[1,2].toLocaleString()!=new on([1,2]).toLocaleString()})||!S(function(){vr.toLocaleString.call([1,2])})),rn,{toLocaleString:Bs}),Z[rn]=yu?ma:Sc,T||yu||C(vr,cn,Sc)}}else U.exports=function(){}},function(U,M,c){var T=c(67),y=c(36),S=c(21),m=c(30),_=c(16),f=c(148),p=Object.getOwnPropertyDescriptor;M.f=c(11)?p:function(d,b){if(d=S(d),b=m(b,!0),f)try{return p(d,b)}catch(C){}if(_(d,b))return y(!T.f.call(d,b),d[b])}},function(U,M){var c=Math.ceil,T=Math.floor;U.exports=function(y){return isNaN(y=+y)?0:(y>0?T:c)(y)}},function(U,M){var c={}.toString;U.exports=function(T){return c.call(T).slice(8,-1)}},function(U,M){U.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(U,M,c){var T=c(26);U.exports=function(y,S,m){if(T(y),void 0===S)return y;switch(m){case 1:return function(_){return y.call(S,_)};case 2:return function(_,f){return y.call(S,_,f)};case 3:return function(_,f,p){return y.call(S,_,f,p)}}return function(){return y.apply(S,arguments)}}},function(U,M){U.exports=function(c){if(null==c)throw TypeError("Can't call method on  "+c);return c}},function(U,M,c){var T=c(35)("meta"),y=c(4),S=c(16),m=c(10).f,_=0,f=Object.isExtensible||function(){return!0},p=!c(3)(function(){return f(Object.preventExtensions({}))}),d=function(C){m(C,T,{value:{i:"O"+ ++_,w:{}}})},b=U.exports={KEY:T,NEED:!1,fastKey:function(C,h){if(!y(C))return"symbol"==typeof C?C:("string"==typeof C?"S":"P")+C;if(!S(C,T)){if(!f(C))return"F";if(!h)return"E";d(C)}return C[T].i},getWeak:function(C,h){if(!S(C,T)){if(!f(C))return!0;if(!h)return!1;d(C)}return C[T].w},onFreeze:function(C){return p&&b.NEED&&f(C)&&!S(C,T)&&d(C),C}}},function(U,M,c){var T=c(4);U.exports=function(y,S){if(!T(y))return y;var m,_;if(S&&"function"==typeof(m=y.toString)&&!T(_=m.call(y))||"function"==typeof(m=y.valueOf)&&!T(_=m.call(y))||!S&&"function"==typeof(m=y.toString)&&!T(_=m.call(y)))return _;throw TypeError("Can't convert object to primitive value")}},function(U,M,c){var T=c(16),y=c(14),S=c(93)("IE_PROTO"),m=Object.prototype;U.exports=Object.getPrototypeOf||function(_){return _=y(_),T(_,S)?_[S]:"function"==typeof _.constructor&&_ instanceof _.constructor?_.constructor.prototype:_ instanceof Object?m:null}},function(U,M,c){var T=c(146),y=c(92).concat("length","prototype");M.f=Object.getOwnPropertyNames||function(S){return T(S,y)}},function(U,M,c){var T=c(5),y=c(145),S=c(92),m=c(93)("IE_PROTO"),_=function(){},f=function(){var p,d=c(96)("iframe"),b=S.length;for(d.style.display="none",c(90).appendChild(d),d.src="javascript:",(p=d.contentWindow.document).open(),p.write("<script>document.F=Object<\/script>"),p.close(),f=p.F;b--;)delete f.prototype[S[b]];return f()};U.exports=Object.create||function(p,d){var b;return null!==p?(_.prototype=T(p),b=new _,_.prototype=null,b[m]=p):b=f(),void 0===d?b:y(b,d)}},function(U,M,c){var T=c(24),y=Math.max,S=Math.min;U.exports=function(m,_){return(m=T(m))<0?y(m+_,0):S(m,_)}},function(U,M){var c=0,T=Math.random();U.exports=function(y){return"Symbol(".concat(void 0===y?"":y,")_",(++c+T).toString(36))}},function(U,M){U.exports=function(c,T){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:T}}},function(U,M){var c=U.exports={version:"2.5.4"};"number"==typeof __e&&(__e=c)},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LogicOperator=M.MatchExpression=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(8);function S(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")}var m=function(){function f(p,d,b){S(this,f),this._varName=p,this._condition=d,this._value=b,this._logicOp=null,this._next=null,this._parent=null,Object.seal(this)}return T(f,[{key:"and",value:function(p,d,b){return this._next=f.chainedMatchExpression(p,d,b,_.AND,this),this._next}},{key:"or",value:function(p,d,b){return this._next=f.chainedMatchExpression(p,d,b,_.OR,this),this._next}},{key:"hasNext",value:function(){return null!=this._next}},{key:"rewind",value:function(){for(var p=this;null!=p._parent;)p=p._parent;return p}},{key:"toString",value:function(){for(var p=this.rewind(),d=p.asString();p.hasNext();)d+=(p=p.next).asString();return d}},{key:"asString",value:function(){var p="";return null!=this._logicOp&&(p+=" "+this._logicOp.id+" "),p+"("+this._varName+" "+this._condition.symbol+" "+("string"==typeof this._value?"' "+this._value+" '":this._value)+")"}},{key:"toSFSArray",value:function(){var p=this.rewind(),d=new y.SFSArray;for(d.addSFSArray(p.expressionAsSFSArray());p.hasNext();)d.addSFSArray((p=p.next).expressionAsSFSArray());return d}},{key:"expressionAsSFSArray",value:function(){var p=new y.SFSArray;return null!=this._logicOp?p.addUtfString(this._logicOp.id):p.addNull(),p.addUtfString(this._varName),p.addByte(this._condition.type),p.addUtfString(this._condition.symbol),0===this._condition.type?p.addBool(this._value):1===this._condition.type?p.addDouble(this._value):p.addUtfString(this._value),p}},{key:"varName",get:function(){return this._varName}},{key:"condition",get:function(){return this._condition}},{key:"value",get:function(){return this._value}},{key:"logicOp",get:function(){return this._logicOp}},{key:"next",get:function(){return this._next}}],[{key:"chainedMatchExpression",value:function(p,d,b,C,h){var v=new f(p,d,b);return v._logicOp=C,v._parent=h,v}}]),f}(),_=function(){function f(p){S(this,f),this._id=p,Object.freeze(this)}return T(f,[{key:"id",get:function(){return this._id}}],[{key:"AND",get:function(){return new f("AND")}},{key:"OR",get:function(){return new f("OR")}}]),f}();M.MatchExpression=m,M.LogicOperator=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=function(){function _(){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,_),this._listenersByEvent={}}return T(_,[{key:"addEventListener",value:function(f,p,d){this._listenersByEvent[f]||(this._listenersByEvent[f]=[]),this._listenersByEvent[f].push({callback:p,scope:d})}},{key:"removeEventListener",value:function(f,p){var d=this._listenersByEvent[f];if(d)for(var b=0;b<d.length;b++)if(d[b].callback===p){d.splice(b,1);break}}},{key:"dispatchEvent",value:function(f,p){var d=this._listenersByEvent[f];if(d){var b=!0,C=!1,h=void 0;try{for(var v,O=d[Symbol.iterator]();!(b=(v=O.next()).done);b=!0){var x=v.value;x.callback.call(x.scope,p)}}catch(N){C=!0,h=N}finally{try{!b&&O.return&&O.return()}finally{if(C)throw h}}}}}]),_}(),S=Object.freeze({HANDSHAKE:"handshake",CONNECTION:"connection",CONNECTION_LOST:"connectionLost",LOGIN:"login",LOGIN_ERROR:"loginError",LOGOUT:"logout",ROOM_ADD:"roomAdd",ROOM_CREATION_ERROR:"roomCreationError",ROOM_REMOVE:"roomRemove",ROOM_JOIN:"roomJoin",ROOM_JOIN_ERROR:"roomJoinError",USER_ENTER_ROOM:"userEnterRoom",USER_EXIT_ROOM:"userExitRoom",USER_COUNT_CHANGE:"userCountChange",PROXIMITY_LIST_UPDATE:"proximityListUpdate",PLAYER_TO_SPECTATOR:"playerToSpectator",PLAYER_TO_SPECTATOR_ERROR:"playerToSpectatorError",SPECTATOR_TO_PLAYER:"spectatorToPlayer",SPECTATOR_TO_PLAYER_ERROR:"spectatorToPlayerError",ROOM_NAME_CHANGE:"roomNameChange",ROOM_NAME_CHANGE_ERROR:"roomNameChangeError",ROOM_PASSWORD_STATE_CHANGE:"roomPasswordStateChange",ROOM_PASSWORD_STATE_CHANGE_ERROR:"roomPasswordStateChangeError",ROOM_CAPACITY_CHANGE:"roomCapacityChange",ROOM_CAPACITY_CHANGE_ERROR:"roomCapacityChangeError",PUBLIC_MESSAGE:"publicMessage",PRIVATE_MESSAGE:"privateMessage",OBJECT_MESSAGE:"objectMessage",MODERATOR_MESSAGE:"moderatorMessage",ADMIN_MESSAGE:"adminMessage",EXTENSION_RESPONSE:"extensionResponse",ROOM_VARIABLES_UPDATE:"roomVariablesUpdate",USER_VARIABLES_UPDATE:"userVariablesUpdate",MMOITEM_VARIABLES_UPDATE:"mmoItemVariablesUpdate",ROOM_GROUP_SUBSCRIBE:"roomGroupSubscribe",ROOM_GROUP_SUBSCRIBE_ERROR:"roomGroupSubscribeError",ROOM_GROUP_UNSUBSCRIBE:"roomGroupUnsubscribe",ROOM_GROUP_UNSUBSCRIBE_ERROR:"roomGroupUnsubscribeError",ROOM_FIND_RESULT:"roomFindResult",USER_FIND_RESULT:"userFindResult",INVITATION:"invitation",INVITATION_REPLY:"invitationReply",INVITATION_REPLY_ERROR:"invitationReplyError",PING_PONG:"pingPong",SOCKET_ERROR:"socketError"}),m=Object.freeze({BUDDY_LIST_INIT:"buddyListInit",BUDDY_ADD:"buddyAdd",BUDDY_REMOVE:"buddyRemove",BUDDY_BLOCK:"buddyBlock",BUDDY_ERROR:"buddyError",BUDDY_ONLINE_STATE_CHANGE:"buddyOnlineStateChange",BUDDY_VARIABLES_UPDATE:"buddyVariablesUpdate",BUDDY_MESSAGE:"buddyMessage"});M.EventDispatcher=y,M.SFSEvent=S,M.SFSBuddyEvent=m},function(U,M,c){var T=c(4);U.exports=function(y,S){if(!T(y)||y._t!==S)throw TypeError("Incompatible receiver, "+S+" required!");return y}},function(U,M,c){var T=c(15);U.exports=function(y,S,m){for(var _ in S)T(y,_,S[_],m);return y}},function(U,M){U.exports=function(c,T,y,S){if(!(c instanceof T)||void 0!==S&&S in c)throw TypeError(y+": incorrect invocation!");return c}},function(U,M,c){"use strict";var T=c(6),y=c(10),S=c(11),m=c(7)("species");U.exports=function(_){var f=T[_];S&&f&&!f[m]&&y.f(f,m,{configurable:!0,get:function(){return this}})}},function(U,M){U.exports=!1},function(U,M,c){var T=c(10).f,y=c(16),S=c(7)("toStringTag");U.exports=function(m,_,f){m&&!y(m=f?m:m.prototype,S)&&T(m,S,{configurable:!0,value:_})}},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSBuddyVariable=M.ReservedBuddyVariables=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(48),S=Object.freeze({BV_ONLINE:"$__BV_ONLINE__",BV_STATE:"$__BV_STATE__",BV_NICKNAME:"$__BV_NICKNAME__"}),m=function(_){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p,d,b));return Object.freeze(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseVariable),T(f,null,[{key:"OFFLINE_PREFIX",get:function(){return"$"}}]),T(f,[{key:"toString",value:function(){return"[BuddyVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}},{key:"isOffline",get:function(){return this._name.charAt(0)===f.OFFLINE_PREFIX}}],[{key:"fromSFSArray",value:function(p){return new f(p.get(0),p.get(2),p.get(1))}}]),f}();M.ReservedBuddyVariables=S,M.SFSBuddyVariable=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.UserPrivileges=M.SFSUser=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(59),S=c(1),m=function(){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,f),this._id=p,this._name=d,this._isItMe=b,this._privilegeId=0,this._aoiEntryPoint=null,this._variables=new Map,this._playerIdByRoomId=new Map,this._userManager=null,this.properties={},Object.seal(this)}return T(f,[{key:"toString",value:function(){return"[User: "+this.name+", Id: "+this.id+", Is me: "+this.isItMe+"]"}},{key:"isJoinedInRoom",value:function(p){return p.containsUser(this)}},{key:"getPlayerId",value:function(p){var d=this._playerIdByRoomId.get(p.id);return null!=d?d:0}},{key:"isPlayerInRoom",value:function(p){return!!p.isGame&&this.getPlayerId(p)>0}},{key:"isSpectatorInRoom",value:function(p){return!!p.isGame&&this.getPlayerId(p)<0}},{key:"getVariable",value:function(p){return this._variables.get(p)}},{key:"containsVariable",value:function(p){return this._variables.has(p)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getUserManager",value:function(){return this._userManager}},{key:"_setPlayerId",value:function(p,d){this._playerIdByRoomId.set(d.id,p)}},{key:"_removePlayerId",value:function(p){this._playerIdByRoomId.delete(p.id)}},{key:"_setVariables",value:function(p){var d=!0,b=!1,C=void 0;try{for(var h,v=p[Symbol.iterator]();!(d=(h=v.next()).done);d=!0)this._setVariable(h.value)}catch(x){b=!0,C=x}finally{try{!d&&v.return&&v.return()}finally{if(b)throw C}}}},{key:"_setVariable",value:function(p){p.isNull?this._variables.delete(p.name):this._variables.set(p.name,p)}},{key:"_setUserManager",value:function(p){if(null!=this._userManager)throw new S.SFSError("User Manager already assigned to user "+this.toString());this._userManager=p}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isItMe",get:function(){return this._isItMe}},{key:"privilegeId",get:function(){return this._privilegeId}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}},{key:"isGuest",get:function(){return this._privilegeId===_.GUEST}},{key:"isStandardUser",get:function(){return this._privilegeId===_.STANDARD}},{key:"isModerator",get:function(){return this._privilegeId===_.MODERATOR}},{key:"isAdmin",get:function(){return this.privilegeId===_.ADMINISTRATOR}},{key:"isPlayer",get:function(){return this.isPlayerInRoom(this._userManager._sfs.lastJoinedRoom)}},{key:"isSpectator",get:function(){return this.isSpectatorInRoom(this._userManager._sfs.lastJoinedRoom)}}],[{key:"fromSFSArray",value:function(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=new f(p.get(0),p.get(1));b._privilegeId=p.get(2),null!=d&&b._setPlayerId(p.get(3),d);var C=p.get(4);if(null!=C)for(var h=0;h<C.size();h++)b._setVariable(y.SFSUserVariable.fromSFSArray(C.get(h)));return b}}]),f}(),_=Object.freeze({GUEST:0,STANDARD:1,MODERATOR:2,ADMINISTRATOR:3});M.SFSUser=m,M.UserPrivileges=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BaseVariable=M.VariableType=void 0;var T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"==typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},y=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),S=c(8),m=Object.freeze({NULL:0,BOOLEAN:1,INT:2,DOUBLE:3,STRING:4,SFSOBJECT:5,SFSARRAY:6,getTypeName:function(f){return["null","boolean","int","double","string","SFSObject","SFSArray"][f]}}),_=function(){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,f),this._name=p,this._value=d,this._type=b>-1?b:this._evalType()}return y(f,[{key:"toSFSArray",value:function(){var p=new S.SFSArray;return p.addUtfString(this.name),p.addByte(this._type),this._populateArrayWithValue(p),p}},{key:"_populateArrayWithValue",value:function(p){switch(this._type){case m.NULL:p.addNull();break;case m.BOOLEAN:p.addBool(this.value);break;case m.INT:p.addInt(this.value);break;case m.DOUBLE:p.addDouble(this.value);break;case m.STRING:p.addUtfString(this.value);break;case m.SFSOBJECT:p.addSFSObject(this.value);break;case m.SFSARRAY:p.addSFSArray(this.value)}}},{key:"_evalType",value:function(){if(null==this._value)return m.NULL;var p=T(this._value);if("boolean"===p)return m.BOOLEAN;if("number"===p){var d=this._value;return d===+d&&d===(0|d)?m.INT:m.DOUBLE}return"string"===p?m.STRING:"object"===p?this._value instanceof S.SFSArray?m.SFSARRAY:m.SFSOBJECT:void 0}},{key:"name",get:function(){return this._name}},{key:"value",get:function(){return this._value}},{key:"type",get:function(){return m.getTypeName(this._type)}},{key:"isNull",get:function(){return this._type===m.NULL}}]),f}();M.VariableType=m,M.BaseVariable=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSRoomVariable=M.ReservedRoomVariables=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(48),S=Object.freeze({RV_GAME_STARTED:"$GS"}),m=function(_){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p,d,b));return C.isPrivate=!1,C.isPersistent=!1,Object.seal(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseVariable),T(f,[{key:"toString",value:function(){return"[RoomVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var p=function d(b,C,h){null===b&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,C);if(void 0===v){var O=Object.getPrototypeOf(b);return null===O?void 0:d(O,C,h)}if("value"in v)return v.value;var x=v.get;return void 0!==x?x.call(h):void 0}(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"toSFSArray",this).call(this);return p.addBool(this.isPrivate),p.addBool(this.isPersistent),p}}],[{key:"fromSFSArray",value:function(p){var d=new f(p.get(0),p.get(2),p.get(1));return d.isPrivate=p.get(3),d.isPersistent=p.get(4),d}}]),f}();M.ReservedRoomVariables=S,M.SFSRoomVariable=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LoggerEvent=M.Logger=M.LogLevel=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=c(39),S=Object.freeze({DEBUG:0,INFO:1,WARN:2,ERROR:3,toString:function(d){return d===this.DEBUG?"DEBUG":d===this.INFO?"INFO":d===this.WARN?"WARN":d===this.ERROR?"ERROR":void 0}}),m=Object.freeze({DEBUG:"debug",INFO:"info",WARNING:"warn",ERROR:"error"}),_=Symbol(),f=Symbol(),p=function(d){function b(C){!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,b);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(C!==f)throw"Logger is a singleton class; you can't instantiate it";return h._enableConsoleOutput=void 0!==console,h._enableEventDispatching=!1,h._level=S.INFO,h._useBasicLog=!0,void 0!==console&&(h._useBasicLog="function"!=typeof console.debug||"function"!=typeof console.info||"function"!=typeof console.warn||"function"!=typeof console.error),h}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.EventDispatcher),T(b,[{key:"log",value:function(C){for(var h=this,v=arguments.length,O=Array(v>1?v-1:0),x=1;x<v;x++)O[x-1]=arguments[x];if(this.isValidLevel(C)&&C>=this._level){if(this._enableConsoleOutput){var N=function(G,H){h._useBasicLog&&(H=function(L){console.log(L)}),H("[ SFS2X | "+G+" ] "+O.join(" "))};switch(C){case S.DEBUG:N("DEBUG",function(G){console.debug(G)});break;case S.INFO:N("INFO",function(G){console.info(G)});break;case S.WARN:N("WARN",function(G){console.warn(G)});break;case S.ERROR:N("ERROR",function(G){console.error(G)})}}this._enableEventDispatching&&this.dispatchEvent(S.toString(C).toLowerCase(),{message:O.join(" ")})}}},{key:"debug",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.DEBUG,h)}},{key:"info",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.INFO,h)}},{key:"warn",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.WARN,h)}},{key:"error",value:function(){for(var C=arguments.length,h=Array(C),v=0;v<C;v++)h[v]=arguments[v];this.log(S.ERROR,h)}},{key:"isValidLevel",value:function(C){if(!Number.isInteger(C)||C<S.DEBUG||C>S.ERROR)throw"Logging level must be set to a valid value (see LogLevel class)";return!0}},{key:"level",set:function(C){this.isValidLevel(C)&&(this._level=C)},get:function(){return this._level}},{key:"enableConsoleOutput",set:function(C){void 0!==console&&(this._enableConsoleOutput=C)},get:function(){return this._enableConsoleOutput}},{key:"enableEventDispatching",set:function(C){this._enableEventDispatching=C},get:function(){return this._enableEventDispatching}}],[{key:"instance",get:function(){return this[_]||(this[_]=new b(f)),Object.seal(this[_])}}]),b}();M.LogLevel=S,M.Logger=p,M.LoggerEvent=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=Object.freeze({IDLE:"idle",KICK:"kick",BAN:"ban",MANUAL:"manual",UNKNOWN:"unknown",getReason:function(m){switch(m){case 0:return this.IDLE;case 1:return this.KICK;case 2:return this.BAN;case 3:return this.MANUAL;case 4:return this.UNKNOWN}}}),S=function(){function m(){!function(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m)}return T(m,null,[{key:"prettyPrintByteArray",value:function(_){return null==_?"Null":_.length<32?_.toString():"Byte["+_.length+"]"}},{key:"prettyPrintDump",value:function(_){for(var f="",p=0,d=0;d<_.length;d++){var b=_.charAt(d);if(b==this.TOKEN_INDENT_OPEN)p++,f+=this.NEW_LINE+this.getFormatTabs(p);else if(b==this.TOKEN_INDENT_CLOSE){if(--p<0)throw"DumpFormatter: the indentPos is negative. TOKENS ARE NOT BALANCED!";f+=this.NEW_LINE+this.getFormatTabs(p)}else f+=b==this.TOKEN_DIVIDER?this.NEW_LINE+this.getFormatTabs(p):b}if(0!=p)throw"DumpFormatter: the indentPos is not === 0 ("+p+"). TOKENS ARE NOT BALANCED!";return f}},{key:"getFormatTabs",value:function(_){return this.strFill(this.TAB,_)}},{key:"strFill",value:function(_,f){for(var p="",d=0;d<f;d++)p+=_;return p}},{key:"hexDump",value:function(_){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;-1===f&&(f=this.HEX_BYTES_PER_LINE);var p="Binary size: "+_.byteLength+this.NEW_LINE,d="",b="",C=0,h=0,v=null;do{var O=(v=_[C]).toString(16).toUpperCase();1===O.length&&(O="0"+O),d+=O+" ",b+=v>=33&&v<=126?String.fromCharCode(v):this.DOT,++h===f&&(h=0,p+=d+this.TAB+b+this.NEW_LINE,d="",b="")}while(++C<_.length);if(0!==h){for(var x=f-h;x>0;--x)d+="   ",b+=" ";p+=d+this.TAB+b+this.NEW_LINE}return p}},{key:"TOKEN_INDENT_OPEN",get:function(){return"{"}},{key:"TOKEN_INDENT_CLOSE",get:function(){return"}"}},{key:"TOKEN_DIVIDER",get:function(){return";"}},{key:"NEW_LINE",get:function(){return"\n"}},{key:"TAB",get:function(){return"\t"}},{key:"DOT",get:function(){return"."}},{key:"HEX_BYTES_PER_LINE",get:function(){return 16}}]),m}();M.ClientDisconnectionReason=y,M.DumpFormatter=S},function(U,M,c){var T=c(7)("unscopables"),y=Array.prototype;null==y[T]&&c(18)(y,T,{}),U.exports=function(S){y[T][S]=!0}},function(U,M){U.exports={}},function(U,M,c){var T=c(25);U.exports=Object("z").propertyIsEnumerable(0)?Object:function(y){return"String"==T(y)?y.split(""):Object(y)}},function(U,M,c){var T=c(146),y=c(92);U.exports=Object.keys||function(S){return T(S,y)}},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MessageRecipientMode=M.BanMode=M.MapLimits=M.RoomExtension=M.RoomEvents=M.RoomPermissions=M.MMORoomSettings=M.SFSGameSettings=M.RoomSettings=void 0;var T=function(){function h(v,O){for(var x=0;x<O.length;x++){var N=O[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(v,N.key,N)}}return function(v,O,x){return O&&h(v.prototype,O),x&&h(v,x),v}}(),y=c(1);function S(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}function m(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}function _(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}var f=function h(v){_(this,h),this.name=v,this.password="",this.groupId="default",this.isGame=!1,this.maxUsers=10,this.maxSpectators=0,this.maxVariables=5,this.variables=[],this.permissions=null,this.events=null,this.extension=null,this.allowOwnerOnlyInvitation=!0},p=function(h){function v(O){_(this,v);var x=S(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,O));return x.isPublic=!0,x.minPlayersToStartGame=2,x.invitedPlayers=null,x.searchableRooms=null,x.invitationExpiryTime=15,x.leaveLastJoinedRoom=!0,x.notifyGameStarted=!1,x.playerMatchExpression=null,x.spectatorMatchExpression=null,x.invitationParams=null,Object.seal(x),x}return m(v,f),v}(),d=function(h){function v(O,x){_(this,v);var N=S(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,O));return N.defaultAOI=x,N.mapLimits=null,N.userMaxLimboSeconds=50,N.proximityListUpdateMillis=250,N.sendAOIEntryPoint=!0,Object.seal(N),N}return m(v,f),v}(),b=Object.freeze({BY_ADDRESS:0,BY_NAME:1}),C=function(){function h(v,O){if(_(this,h),v<h.TO_USER||v>h.TO_ZONE)throw new y.SFSError("Illegal recipient mode: "+v);this._mode=v,this._target=O,Object.freeze(this)}return T(h,null,[{key:"TO_USER",get:function(){return 0}},{key:"TO_ROOM",get:function(){return 1}},{key:"TO_GROUP",get:function(){return 2}},{key:"TO_ZONE",get:function(){return 3}}]),T(h,[{key:"mode",get:function(){return this._mode}},{key:"target",get:function(){return this._target}}]),h}();M.RoomSettings=f,M.SFSGameSettings=p,M.MMORoomSettings=d,M.RoomPermissions=function h(){_(this,h),this.allowNameChange=!1,this.allowPasswordStateChange=!1,this.allowPublicMessages=!0,this.allowResizing=!1,Object.seal(this)},M.RoomEvents=function h(){_(this,h),this.allowUserCountChange=!1,this.allowUserEnter=!1,this.allowUserExit=!1,this.allowUserVariablesUpdate=!1,Object.seal(this)},M.RoomExtension=function h(v,O){_(this,h),this.id=v,this.className=O,this.propertiesFile="",Object.seal(this)},M.MapLimits=function h(v,O){if(_(this,h),null==v||null==O)throw new y.SFSError("Map limits arguments must be both non null!");this.lowerLimit=v,this.higherLimit=O,Object.seal(this)},M.BanMode=b,M.MessageRecipientMode=C},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CreateRoomRequest=void 0;var T=function(){function b(C,h){for(var v=0;v<h.length;v++){var O=h[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,h,v){return h&&b(C.prototype,h),v&&b(C,v),C}}(),y=c(2),S=c(1),m=c(56),_=c(8),f=c(9),p=c(49),d=function(b){function C(h){var v=arguments.length>1&&void 0!==arguments[1]&&arguments[1],O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}(this,C);var x=function(N,G){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?N:G}(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,y.Requests.CreateRoom));return x._settings=h,x._autoJoin=v,x._roomToLeave=O,Object.seal(x),x}return function(h,v){if("function"!=typeof v&&null!==v)throw new TypeError("Super expression must either be null or a function, not "+typeof v);h.prototype=Object.create(v&&v.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(h,v):h.__proto__=v)}(C,y.BaseRequest),T(C,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}},{key:"KEY_PASSWORD",get:function(){return"p"}},{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ISGAME",get:function(){return"ig"}},{key:"KEY_MAXUSERS",get:function(){return"mu"}},{key:"KEY_MAXSPECTATORS",get:function(){return"ms"}},{key:"KEY_MAXVARS",get:function(){return"mv"}},{key:"KEY_ROOMVARS",get:function(){return"rv"}},{key:"KEY_PERMISSIONS",get:function(){return"pm"}},{key:"KEY_EVENTS",get:function(){return"ev"}},{key:"KEY_EXTID",get:function(){return"xn"}},{key:"KEY_EXTCLASS",get:function(){return"xc"}},{key:"KEY_EXTPROP",get:function(){return"xp"}},{key:"KEY_AUTOJOIN",get:function(){return"aj"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_ALLOW_JOIN_INVITATION_BY_OWNER",get:function(){return"aji"}},{key:"KEY_MMO_DEFAULT_AOI",get:function(){return"maoi"}},{key:"KEY_MMO_MAP_LOW_LIMIT",get:function(){return"mllm"}},{key:"KEY_MMO_MAP_HIGH_LIMIT",get:function(){return"mlhm"}},{key:"KEY_MMO_USER_MAX_LIMBO_SECONDS",get:function(){return"muls"}},{key:"KEY_MMO_PROXIMITY_UPDATE_MILLIS",get:function(){return"mpum"}},{key:"KEY_MMO_SEND_ENTRY_POINT",get:function(){return"msep"}}]),T(C,[{key:"validate",value:function(h){if(!(this._settings instanceof m.RoomSettings))throw new S.SFSValidationError("CreateRoomRequest Error",["Room configuration must be an instance of RoomSettings class"]);var v=[];if(null!=this._settings.name&&0!==this._settings.name.length||v.push("Missing Room name"),this._settings.maxUsers<=0&&v.push("Max number of users must be > 0"),this._settings.maxSpectators<0&&v.push("Max number of spectators must be >= 0"),this._settings.maxVariables<0&&v.push("Max number of Room Variables must be >= 0"),null!=this._settings.variables&&(this._settings.variables instanceof Array?this._settings.variables.every(function(O){return O instanceof p.SFSRoomVariable})||v.push("Each Room Variable must be an instance of SFSRoomVariable class"):v.push("Room Variables must be passed in an array")),null==this._settings.permissions||this._settings.permissions instanceof m.RoomPermissions||v.push("Allowed room permissions must be an instance of RoomPermissions class"),null==this._settings.events||this._settings.events instanceof m.RoomEvents||v.push("Allowed room events must be an instance of RoomEvents class"),null!=this._settings.extension&&(this._settings.extension instanceof m.RoomExtension?(null!=this._settings.extension.className&&0!==this._settings.extension.className.length||v.push("Missing Room Extension class name"),null!=this._settings.extension.id&&0!==this._settings.extension.id.length||v.push("Missing Room Extension id")):v.push("Room Extension settings must be an instance of RoomExtension class")),this._settings instanceof m.MMORoomSettings&&(null==this._settings.defaultAOI&&v.push("Missing MMORoom's default AoI (Area of Interest)"),this._settings.defaultAOI instanceof _.Vec3D||v.push("MMORoom's AoI (Area of Interest) must be an instance of Vec3D class"),null!=this._settings.mapLimits&&(this._settings.mapLimits instanceof m.MapLimits?(null!=this._settings.mapLimits.lowerLimit&&null!=this._settings.mapLimits.higherLimit||v.push("MMORoom's lower and higher map limits must be both set"),this._settings.mapLimits.lowerLimit instanceof _.Vec3D&&this._settings.mapLimits.higherLimit instanceof _.Vec3D||v.push("MMORoom's lower and higher map limits must be both instances of Vec3D class")):v.push("MMORoom's map limits must be set in an instance of MapLimits class"))),null==this._roomToLeave||this._roomToLeave instanceof f.SFSRoom||v.push("Room to leave must be an instance of SFSRoom class"),v.length>0)throw new S.SFSValidationError("CreateRoomRequest Error",v)}},{key:"execute",value:function(h){if(this._reqObj.putUtfString(C.KEY_NAME,this._settings.name),this._reqObj.putUtfString(C.KEY_GROUP_ID,this._settings.groupId),this._reqObj.putUtfString(C.KEY_PASSWORD,this._settings.password),this._reqObj.putBool(C.KEY_ISGAME,this._settings.isGame),this._reqObj.putShort(C.KEY_MAXUSERS,this._settings.maxUsers),this._reqObj.putShort(C.KEY_MAXSPECTATORS,this._settings.maxSpectators),this._reqObj.putShort(C.KEY_MAXVARS,this._settings.maxVariables),this._reqObj.putBool(C.KEY_ALLOW_JOIN_INVITATION_BY_OWNER,this._settings.allowOwnerOnlyInvitation),null!=this._settings.variables&&this._settings.variables.length>0){var v=new _.SFSArray,O=!0,x=!1,N=void 0;try{for(var G,H=this._settings.variables[Symbol.iterator]();!(O=(G=H.next()).done);O=!0)v.addSFSArray(G.value.toSFSArray())}catch(V){x=!0,N=V}finally{try{!O&&H.return&&H.return()}finally{if(x)throw N}}this._reqObj.putSFSArray(C.KEY_ROOMVARS,v)}if(null!=this._settings.permissions){var j=[];j.push(this._settings.permissions.allowNameChange),j.push(this._settings.permissions.allowPasswordStateChange),j.push(this._settings.permissions.allowPublicMessages),j.push(this._settings.permissions.allowResizing),this._reqObj.putBoolArray(C.KEY_PERMISSIONS,j)}if(null!=this._settings.events){var k=[];k.push(this._settings.events.allowUserEnter),k.push(this._settings.events.allowUserExit),k.push(this._settings.events.allowUserCountChange),k.push(this._settings.events.allowUserVariablesUpdate),this._reqObj.putBoolArray(C.KEY_EVENTS,k)}null!=this._settings.extension&&(this._reqObj.putUtfString(C.KEY_EXTID,this._settings.extension.id),this._reqObj.putUtfString(C.KEY_EXTCLASS,this._settings.extension.className),null!=this._settings.extension.propertiesFile&&this._settings.extension.propertiesFile.length>0&&this._reqObj.putUtfString(C.KEY_EXTPROP,this._settings.extension.propertiesFile)),this._settings instanceof m.MMORoomSettings&&(this._settings.defaultAOI.isFloat?(this._reqObj.putFloatArray(C.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putFloatArray(C.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putFloatArray(C.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))):(this._reqObj.putIntArray(C.KEY_MMO_DEFAULT_AOI,this._settings.defaultAOI.toArray()),null!=this._settings.mapLimits&&(this._reqObj.putIntArray(C.KEY_MMO_MAP_LOW_LIMIT,this._settings.mapLimits.lowerLimit.toArray()),this._reqObj.putIntArray(C.KEY_MMO_MAP_HIGH_LIMIT,this._settings.mapLimits.higherLimit.toArray()))),this._reqObj.putShort(C.KEY_MMO_USER_MAX_LIMBO_SECONDS,this._settings.userMaxLimboSeconds),this._reqObj.putShort(C.KEY_MMO_PROXIMITY_UPDATE_MILLIS,this._settings.proximityListUpdateMillis),this._reqObj.putBool(C.KEY_MMO_SEND_ENTRY_POINT,this._settings.sendAOIEntryPoint)),this._reqObj.putBool(C.KEY_AUTOJOIN,this._autoJoin),null!=this._roomToLeave&&this._reqObj.putInt(C.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),C}();M.CreateRoomRequest=d},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BuddyOnlineState=M.SFSBuddy=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(46),S=function(){function _(f,p){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2],b=arguments.length>3&&void 0!==arguments[3]&&arguments[3];(function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")})(this,_),this._id=f,this._name=p,this._isBlocked=d,this._isTemp=b,this._variables=new Map,Object.seal(this)}return T(_,[{key:"toString",value:function(){return"[Buddy: "+this.name+", Id: "+this.id+"]"}},{key:"getVariable",value:function(f){return this._variables.get(f)}},{key:"containsVariable",value:function(f){return this._variables.has(f)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"getOfflineVariables",value:function(){return this.getVariables().filter(function(f){return f.name.charAt(0)===y.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"getOnlineVariables",value:function(){return this.getVariables().filter(function(f){return f.name.charAt(0)!==y.SFSBuddyVariable.OFFLINE_PREFIX})}},{key:"_setVariables",value:function(f){var p=!0,d=!1,b=void 0;try{for(var C,h=f[Symbol.iterator]();!(p=(C=h.next()).done);p=!0)this._setVariable(C.value)}catch(O){d=!0,b=O}finally{try{!p&&h.return&&h.return()}finally{if(d)throw b}}}},{key:"_setVariable",value:function(f){f.isNull?this._variables.delete(f.name):this._variables.set(f.name,f)}},{key:"_removeVariable",value:function(f){this._variables.delete(f)}},{key:"_clearVolatileVariables",value:function(){var f=!0,p=!1,d=void 0;try{for(var b,C=this.getOnlineVariables()[Symbol.iterator]();!(f=(b=C.next()).done);f=!0)this._removeVariable(b.value.name)}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}},{key:"id",get:function(){return this._id}},{key:"name",get:function(){return this._name}},{key:"isBlocked",get:function(){return this._isBlocked}},{key:"isTemp",get:function(){return this._isTemp}},{key:"isOnline",get:function(){var f=!0;return this.containsVariable(y.ReservedBuddyVariables.BV_ONLINE)&&(f=this.getVariable(y.ReservedBuddyVariables.BV_ONLINE).value),f&&this._id>-1}},{key:"state",get:function(){return this.containsVariable(y.ReservedBuddyVariables.BV_STATE)?this.getVariable(y.ReservedBuddyVariables.BV_STATE).value:null}},{key:"nickName",get:function(){return this.containsVariable(y.ReservedBuddyVariables.BV_NICKNAME)?this.getVariable(y.ReservedBuddyVariables.BV_NICKNAME).value:null}}],[{key:"fromSFSArray",value:function(f){var p=new _(f.get(0),f.get(1),f.get(2),f.size()>3&&f.get(4)),d=f.get(3);if(null!=d)for(var b=0;b<d.size();b++)p._setVariable(y.SFSBuddyVariable.fromSFSArray(d.get(b)));return p}}]),_}(),m=Object.freeze({ONLINE:0,OFFLINE:1,LEFT_THE_SERVER:2});M.SFSBuddy=S,M.BuddyOnlineState=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSUserVariable=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(48),S=function(m){function _(f,p){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,_);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,f,p,d));return b.isPrivate=!1,Object.seal(b),b}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseVariable),T(_,[{key:"toString",value:function(){return"[UserVar: "+this.name+", Type: "+this.type+", Value: "+this.value+", Private: "+this.isPrivate+"]"}},{key:"toSFSArray",value:function(){var f=function p(d,b,C){null===d&&(d=Function.prototype);var h=Object.getOwnPropertyDescriptor(d,b);if(void 0===h){var v=Object.getPrototypeOf(d);return null===v?void 0:p(v,b,C)}if("value"in h)return h.value;var O=h.get;return void 0!==O?O.call(C):void 0}(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"toSFSArray",this).call(this);return f.addBool(this.isPrivate),f}}],[{key:"fromSFSArray",value:function(f){var p=new _(f.get(0),f.get(2),f.get(1));return f.size()>3&&(p.isPrivate=f.get(3)),p}}]),_}();M.SFSUserVariable=S},function(U,M,c){for(var T,y=c(6),S=c(18),m=c(35),_=m("typed_array"),f=m("view"),p=!(!y.ArrayBuffer||!y.DataView),d=p,b=0,C="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");b<9;)(T=y[C[b++]])?(S(T.prototype,_,!0),S(T.prototype,f,!0)):d=!1;U.exports={ABV:p,CONSTR:d,TYPED:_,VIEW:f}},function(U,M,c){"use strict";var T=c(6),y=c(0),S=c(15),m=c(41),_=c(29),f=c(62),p=c(42),d=c(4),b=c(3),C=c(64),h=c(45),v=c(87);U.exports=function(O,x,N,G,H,L){var j=T[O],k=j,V=H?"set":"add",J=k&&k.prototype,W={},ee=function($){var se=J[$];S(J,$,"delete"==$||"has"==$?function(Z){return!(L&&!d(Z))&&se.call(this,0===Z?0:Z)}:"get"==$?function(Z){return L&&!d(Z)?void 0:se.call(this,0===Z?0:Z)}:"add"==$?function(Z){return se.call(this,0===Z?0:Z),this}:function(Z,be){return se.call(this,0===Z?0:Z,be),this})};if("function"==typeof k&&(L||J.forEach&&!b(function(){(new k).entries().next()}))){var q=new k,ce=q[V](L?{}:-0,1)!=q,Te=b(function(){q.has(1)}),_e=C(function($){new k($)}),Ee=!L&&b(function(){for(var $=new k,se=5;se--;)$[V](se,se);return!$.has(-0)});_e||((k=x(function($,se){p($,k,O);var Z=v(new j,$,k);return null!=se&&f(se,H,Z[V],Z),Z})).prototype=J,J.constructor=k),(Te||Ee)&&(ee("delete"),ee("has"),H&&ee("get")),(Ee||ce)&&ee(V),L&&J.clear&&delete J.clear}else k=G.getConstructor(x,O,H,V),m(k.prototype,N),_.NEED=!0;return h(k,O),W[O]=k,y(y.G+y.W+y.F*(k!=j),W),L||G.setStrong(k,O,H),k}},function(U,M,c){var T=c(27),y=c(132),S=c(80),m=c(5),_=c(12),f=c(79),p={},d={};(M=U.exports=function(b,C,h,v,O){var x,N,G,H,L=O?function(){return b}:f(b),j=T(h,v,C?2:1),k=0;if("function"!=typeof L)throw TypeError(b+" is not iterable!");if(S(L)){for(x=_(b.length);x>k;k++)if((H=C?j(m(N=b[k])[0],N[1]):j(b[k]))===p||H===d)return H}else for(G=L.call(b);!(N=G.next()).done;)if((H=y(G,j,N.value,C))===p||H===d)return H}).BREAK=p,M.RETURN=d},function(U,M,c){"use strict";var T=c(18),y=c(15),S=c(3),m=c(28),_=c(7);U.exports=function(f,p,d){var b=_(f),C=d(m,b,""[f]),h=C[0],v=C[1];S(function(){var O={};return O[b]=function(){return 7},7!=""[f](O)})&&(y(String.prototype,f,h),T(RegExp.prototype,b,2==p?function(O,x){return v.call(O,this,x)}:function(O){return v.call(O,this)}))}},function(U,M,c){var T=c(7)("iterator"),y=!1;try{var S=[7][T]();S.return=function(){y=!0},Array.from(S,function(){throw 2})}catch(m){}U.exports=function(m,_){if(!_&&!y)return!1;var f=!1;try{var p=[7],d=p[T]();d.next=function(){return{done:f=!0}},p[T]=function(){return d},m(p)}catch(b){}return f}},function(U,M,c){var T=c(0),y=c(28),S=c(3),m=c(88),_="["+m+"]",f=RegExp("^"+_+_+"*"),p=RegExp(_+_+"*$"),d=function(C,h,v){var O={},x=S(function(){return!!m[C]()||"\u200b\x85"!="\u200b\x85"[C]()}),N=O[C]=x?h(b):m[C];v&&(O[v]=N),T(T.P+T.F*x,"String",O)},b=d.trim=function(C,h){return C=String(y(C)),1&h&&(C=C.replace(f,"")),2&h&&(C=C.replace(p,"")),C};U.exports=d},function(U,M,c){var T=c(25),y=c(7)("toStringTag"),S="Arguments"==T(function(){return arguments}());U.exports=function(m){var _,f,p;return void 0===m?"Undefined":null===m?"Null":"string"==typeof(f=function(d,b){try{return d[b]}catch(C){}}(_=Object(m),y))?f:S?T(_):"Object"==(p=T(_))&&"function"==typeof _.callee?"Arguments":p}},function(U,M){M.f={}.propertyIsEnumerable},function(U,M){M.f=Object.getOwnPropertySymbols},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.InviteUsersRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=c(2),S=c(1),m=c(47),_=c(58),f=c(8),p=function(d){function b(C,h){var v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}(this,b);var O=function(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?x:N}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y.Requests.InviteUsers));return O._invitedUsers=C,O._secondsForAnswer=h,O._params=v,Object.seal(O),O}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.BaseRequest),T(b,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_USER_ID",get:function(){return"ui"}},{key:"KEY_INVITATION_ID",get:function(){return"ii"}},{key:"KEY_TIME",get:function(){return"t"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_INVITEE_ID",get:function(){return"ee"}},{key:"KEY_INVITED_USERS",get:function(){return"iu"}},{key:"KEY_REPLY_ID",get:function(){return"ri"}},{key:"MAX_INVITATIONS_FROM_CLIENT_SIDE",get:function(){return 8}},{key:"MIN_EXPIRY_TIME",get:function(){return 5}},{key:"MAX_EXPIRY_TIME",get:function(){return 300}}]),T(b,[{key:"validate",value:function(C){var h=[];if(null==this._invitedUsers?h.push("No invited users"):this._invitedUsers instanceof Array?(this._invitedUsers.length<1&&h.push("No invited users"),this._invitedUsers.length>b.MAX_INVITATIONS_FROM_CLIENT_SIDE&&h.push("Too many invitations; "+b.MAX_INVITATIONS_FROM_CLIENT_SIDE+" max are allowed from client side"),this._invitedUsers.every(function(v){return v instanceof m.SFSUser||v instanceof _.SFSBuddy})||h.push("Each invited user must be an instance of SFSUser or SFSBuddy class")):h.push("Invited users must be passed in an array"),(this._secondsForAnswer<b.MIN_EXPIRY_TIME||this._secondsForAnswer>b.MAX_EXPIRY_TIME)&&h.push("secondsForAnswer value is out of range (min: "+b.MIN_EXPIRY_TIME+"; max: "+b.MAX_EXPIRY_TIME+")"),null==this._params||this._params instanceof f.SFSObject||h.push("Custom invitation parameters must be set in a SFSObject class instance"),h.length>0)throw new S.SFSValidationError("InviteUsersRequest Error",h)}},{key:"execute",value:function(C){var h=[],v=!0,O=!1,x=void 0;try{for(var N,G=this._invitedUsers[Symbol.iterator]();!(v=(N=G.next()).done);v=!0){var H=N.value;if(H instanceof m.SFSUser||H instanceof _.SFSBuddy){if(H===C.mySelf)continue;h.push(H.id)}}}catch(L){O=!0,x=L}finally{try{!v&&G.return&&G.return()}finally{if(O)throw x}}this._reqObj.putIntArray(b.KEY_INVITED_USERS,h),this._reqObj.putShort(b.KEY_TIME,this._secondsForAnswer),null!=this._params&&this._reqObj.putSFSObject(b.KEY_PARAMS,this._params)}}]),b}();M.InviteUsersRequest=p},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AdminMessageRequest=M.ModeratorMessageRequest=M.ObjectMessageRequest=M.PrivateMessageRequest=M.PublicMessageRequest=M.GenericMessageRequest=M.GenericMessageType=void 0;var T=function(){function L(j,k){for(var V=0;V<k.length;V++){var J=k[V];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(j,J.key,J)}}return function(j,k,V){return k&&L(j.prototype,k),V&&L(j,V),j}}(),y=c(2),S=c(1),m=c(56),_=c(8),f=c(9),p=c(47);function d(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")}function b(L,j){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?L:j}function C(L,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}var h=Object.freeze({PUBLIC_MSG:0,PRIVATE_MSG:1,MODERATOR_MSG:2,ADMING_MSG:3,OBJECT_MSG:4,BUDDY_MSG:5}),v=function(L){function j(){d(this,j);var k=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,y.Requests.GenericMessage));return k._type=-1,k._room=null,k._user=null,k._message=null,k._params=null,k._recipient=null,k._sendMode=-1,Object.seal(k),k}return C(j,y.BaseRequest),T(j,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_MESSAGE_TYPE",get:function(){return"t"}},{key:"KEY_RECIPIENT",get:function(){return"rc"}},{key:"KEY_RECIPIENT_MODE",get:function(){return"rm"}},{key:"KEY_XTRA_PARAMS",get:function(){return"p"}},{key:"KEY_SENDER_DATA",get:function(){return"sd"}}]),T(j,[{key:"validate",value:function(k){if(this._type<0)throw new S.SFSValidationError("GenericMessageRequest Error",["Unsupported message type: "+this._type]);var V=[];switch(this._type){case h.PUBLIC_MSG:this._validatePublicMessage(k,V);break;case h.PRIVATE_MSG:this._validatePrivateMessage(k,V);break;case h.OBJECT_MSG:this._validateObjectMessage(k,V);break;case h.BUDDY_MSG:this._validateBuddyMessage(k,V);break;default:this._validateSuperUserMessage(k,V)}if(V.length>0)throw new S.SFSValidationError("GenericMessageRequest Error",V)}},{key:"execute",value:function(k){switch(this._reqObj.putByte(j.KEY_MESSAGE_TYPE,this._type),this._type){case h.PUBLIC_MSG:this._executePublicMessage(k);break;case h.PRIVATE_MSG:this._executePrivateMessage(k);break;case h.OBJECT_MSG:this._executeObjectMessage(k);break;case h.BUDDY_MSG:this._executeBuddyMessage(k);break;default:this._executeSuperUserMessage(k)}}},{key:"_validatePublicMessage",value:function(k,V){null!=this._message&&0!==this._message.length||V.push("Public message is empty"),null==this._room&&(this._room=k.lastJoinedRoom),null==this._room?V.push("You must be joined in a Room to send a message"):this._room instanceof f.SFSRoom?k.getJoinedRooms().indexOf(this._room)<0&&V.push("You are not joined in the target Room: "+this._room):V.push("Target Room must be an instance of SFSRoom class"),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validatePrivateMessage",value:function(k,V){null!=this._message&&0!==this._message.length||V.push("Private message is empty"),this._recipient<0&&V.push("Invalid recipient id: "+this._recipient),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateObjectMessage",value:function(k,V){null==this._params?V.push("Object message is null"):this._params instanceof _.SFSObject||V.push("Message object must be an instance of SFSObject class"),null==this._room&&(this._room=k.lastJoinedRoom),null==this._room?V.push("You must be joined in a Room to send a message"):this._room instanceof f.SFSRoom?k.getJoinedRooms().indexOf(this._room)<0&&V.push("You are not joined in the target Room: "+this._room):V.push("Target Room must be an instance of SFSRoom class"),null!=this._recipient&&(this._recipient instanceof Array?this._recipient.every(function(J){return J instanceof p.SFSUser})||V.push("Each message recipient must be an instance of SFSUser class"):V.push("Message recipients must be passed in an array"),this._recipient.length>this._room.capacity&&V.push("The number of recipients is bigger than the target Room capacity: "+this._recipient.length))}},{key:"_validateBuddyMessage",value:function(k,V){k.buddyManager.isInited||V.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===k.buddyManager.myOnlineState&&V.push("Can't send messages while you are offline in the Buddy List system"),null!=this._message&&0!==this._message.length||V.push("Buddy message is empty"),this._recipient<0&&V.push("Recipient is offline or not in your Buddy List"),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance")}},{key:"_validateSuperUserMessage",value:function(k,V){switch(null!=this._message&&0!==this._message.length||V.push("Moderator message is empty"),null==this._params||this._params instanceof _.SFSObject||V.push("Message parameters must be set in a SFSObject class instance"),this._sendMode){case m.MessageRecipientMode.TO_USER:this._recipient instanceof p.SFSUser||V.push("Recipient must be an instance of SFSUser class");break;case m.MessageRecipientMode.TO_ROOM:this._recipient instanceof f.SFSRoom||V.push("Recipient must be an instance of SFSRoom class");break;case m.MessageRecipientMode.TO_GROUP:"string"!=typeof this._recipient&&V.push("Recipient must be a string (the groupId)")}}},{key:"_executePublicMessage",value:function(k){this._reqObj.putInt(j.KEY_ROOM_ID,this._room.id),this._reqObj.putInt(j.KEY_USER_ID,k.mySelf.id),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executePrivateMessage",value:function(k){this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executeBuddyMessage",value:function(k){this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient),this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params)}},{key:"_executeSuperUserMessage",value:function(k){switch(this._reqObj.putUtfString(j.KEY_MESSAGE,this._message),null!=this._params&&this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params),this._reqObj.putInt(j.KEY_RECIPIENT_MODE,this._sendMode),this._sendMode){case m.MessageRecipientMode.TO_USER:case m.MessageRecipientMode.TO_ROOM:this._reqObj.putInt(j.KEY_RECIPIENT,this._recipient.id);break;case m.MessageRecipientMode.TO_GROUP:this._reqObj.putUtfString(j.KEY_RECIPIENT,this._recipient)}}},{key:"_executeObjectMessage",value:function(k){this._reqObj.putInt(j.KEY_ROOM_ID,this._room.id),this._reqObj.putSFSObject(j.KEY_XTRA_PARAMS,this._params);var V=new Set;if(null!=this._recipient){var J=!0,W=!1,ee=void 0;try{for(var q,ce=this._recipient[Symbol.iterator]();!(J=(q=ce.next()).done);J=!0)V.add(q.value.id)}catch(_e){W=!0,ee=_e}finally{try{!J&&ce.return&&ce.return()}finally{if(W)throw ee}}}V.size>0&&this._reqObj.putIntArray(j.KEY_RECIPIENT,Array.from(V))}}]),j}(),O=function(L){function j(k){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return W._type=h.OBJECT_MSG,W._params=k,W._room=V,W._recipient=J,Object.seal(W),W}return C(j,v),j}(),x=function(L){function j(k){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return W._type=h.PUBLIC_MSG,W._message=k,W._room=J,W._params=V,Object.seal(W),W}return C(j,v),j}(),N=function(L){function j(k,V){var J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));return W._type=h.PRIVATE_MSG,W._message=k,W._recipient=V,W._params=J,Object.seal(W),W}return C(j,v),j}(),G=function(L){function j(k,V){var J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(null==V)throw new S.SFSError("Recipient mode cannot be null");if(!(V instanceof m.MessageRecipientMode))throw new S.SFSError("Recipient mode must be an instance of MessageRecipientMode class");return W._type=h.MODERATOR_MSG,W._message=k,W._params=J,W._recipient=V.target,W._sendMode=V.mode,Object.seal(W),W}return C(j,v),j}(),H=function(L){function j(k,V){var J=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;d(this,j);var W=b(this,(j.__proto__||Object.getPrototypeOf(j)).call(this));if(null==V)throw new S.SFSError("Recipient mode cannot be null");if(!(V instanceof m.MessageRecipientMode))throw new S.SFSError("Recipient mode must an instance of MessageRecipientMode class");return W._type=h.ADMING_MSG,W._message=k,W._params=J,W._recipient=V.target,W._sendMode=V.mode,Object.seal(W),W}return C(j,v),j}();M.GenericMessageType=h,M.GenericMessageRequest=v,M.PublicMessageRequest=x,M.PrivateMessageRequest=N,M.ObjectMessageRequest=O,M.ModeratorMessageRequest=G,M.AdminMessageRequest=H},function(U,M,c){"use strict";c.r(M),c.d(M,"MD5",function(){return T});var T=function(){this.hexcase=0,this.b64pad=""};T.prototype={},T.prototype.hex_md5=function(y){return this.rstr2hex(this.rstr_md5(this.str2rstr_utf8(y)))},T.prototype.b64_md5=function(y){return this.rstr2b64(this.rstr_md5(this.str2rstr_utf8(y)))},T.prototype.any_md5=function(y,S){return this.rstr2any(this.rstr_md5(this.str2rstr_utf8(y)),S)},T.prototype.hex_hmac_md5=function(y,S){return this.rstr2hex(this.rstr_hmac_md5(this.str2rstr_utf8(y),this.str2rstr_utf8(S)))},T.prototype.b64_hmac_md5=function(y,S){return this.rstr2b64(this.rstr_hmac_md5(this.str2rstr_utf8(y),this.str2rstr_utf8(S)))},T.prototype.any_hmac_md5=function(y,S,m){return this.rstr2any(this.rstr_hmac_md5(this.str2rstr_utf8(y),this.str2rstr_utf8(S)),m)},T.prototype.md5_vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"==this.hex_md5("abc").toLowerCase()},T.prototype.rstr_md5=function(y){return this.binl2rstr(this.binl_md5(this.rstr2binl(y),8*y.length))},T.prototype.rstr_hmac_md5=function(y,S){var m=this.rstr2binl(y);m.length>16&&(m=this.binl_md5(m,8*y.length));for(var _=Array(16),f=Array(16),p=0;p<16;p++)_[p]=909522486^m[p],f[p]=1549556828^m[p];var d=this.binl_md5(_.concat(this.rstr2binl(S)),512+8*S.length);return this.binl2rstr(this.binl_md5(f.concat(d),640))},T.prototype.rstr2hex=function(y){for(var S,m=this.hexcase?"0123456789ABCDEF":"0123456789abcdef",_="",f=0;f<y.length;f++)S=y.charCodeAt(f),_+=m.charAt(S>>>4&15)+m.charAt(15&S);return _},T.prototype.rstr2b64=function(y){for(var S="",m=y.length,_=0;_<m;_+=3)for(var f=y.charCodeAt(_)<<16|(_+1<m?y.charCodeAt(_+1)<<8:0)|(_+2<m?y.charCodeAt(_+2):0),p=0;p<4;p++)S+=8*_+6*p>8*y.length?this.b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(f>>>6*(3-p)&63);return S},T.prototype.rstr2any=function(y,S){var m,_,f,p,d,b=S.length,C=Array(Math.ceil(y.length/2));for(m=0;m<C.length;m++)C[m]=y.charCodeAt(2*m)<<8|y.charCodeAt(2*m+1);var h=Math.ceil(8*y.length/(Math.log(S.length)/Math.log(2))),v=Array(h);for(_=0;_<h;_++){for(d=Array(),p=0,m=0;m<C.length;m++)p=(p<<16)+C[m],p-=(f=Math.floor(p/b))*b,(d.length>0||f>0)&&(d[d.length]=f);v[_]=p,C=d}var O="";for(m=v.length-1;m>=0;m--)O+=S.charAt(v[m]);return O},T.prototype.str2rstr_utf8=function(y){for(var S,m,_="",f=-1;++f<y.length;)S=y.charCodeAt(f),m=f+1<y.length?y.charCodeAt(f+1):0,55296<=S&&S<=56319&&56320<=m&&m<=57343&&(S=65536+((1023&S)<<10)+(1023&m),f++),S<=127?_+=String.fromCharCode(S):S<=2047?_+=String.fromCharCode(192|S>>>6&31,128|63&S):S<=65535?_+=String.fromCharCode(224|S>>>12&15,128|S>>>6&63,128|63&S):S<=2097151&&(_+=String.fromCharCode(240|S>>>18&7,128|S>>>12&63,128|S>>>6&63,128|63&S));return _},T.prototype.str2rstr_utf16le=function(y){for(var S="",m=0;m<y.length;m++)S+=String.fromCharCode(255&y.charCodeAt(m),y.charCodeAt(m)>>>8&255);return S},T.prototype.str2rstr_utf16be=function(y){for(var S="",m=0;m<y.length;m++)S+=String.fromCharCode(y.charCodeAt(m)>>>8&255,255&y.charCodeAt(m));return S},T.prototype.rstr2binl=function(y){for(var S=Array(y.length>>2),m=0;m<S.length;m++)S[m]=0;for(m=0;m<8*y.length;m+=8)S[m>>5]|=(255&y.charCodeAt(m/8))<<m%32;return S},T.prototype.binl2rstr=function(y){for(var S="",m=0;m<32*y.length;m+=8)S+=String.fromCharCode(y[m>>5]>>>m%32&255);return S},T.prototype.binl_md5=function(y,S){y[S>>5]|=128<<S%32,y[14+(S+64>>>9<<4)]=S;for(var m=1732584193,_=-271733879,f=-1732584194,p=271733878,d=0;d<y.length;d+=16){var b=m,C=_,h=f,v=p;m=this.md5_ff(m,_,f,p,y[d+0],7,-680876936),p=this.md5_ff(p,m,_,f,y[d+1],12,-389564586),f=this.md5_ff(f,p,m,_,y[d+2],17,606105819),_=this.md5_ff(_,f,p,m,y[d+3],22,-1044525330),m=this.md5_ff(m,_,f,p,y[d+4],7,-176418897),p=this.md5_ff(p,m,_,f,y[d+5],12,1200080426),f=this.md5_ff(f,p,m,_,y[d+6],17,-1473231341),_=this.md5_ff(_,f,p,m,y[d+7],22,-45705983),m=this.md5_ff(m,_,f,p,y[d+8],7,1770035416),p=this.md5_ff(p,m,_,f,y[d+9],12,-1958414417),f=this.md5_ff(f,p,m,_,y[d+10],17,-42063),_=this.md5_ff(_,f,p,m,y[d+11],22,-1990404162),m=this.md5_ff(m,_,f,p,y[d+12],7,1804603682),p=this.md5_ff(p,m,_,f,y[d+13],12,-40341101),f=this.md5_ff(f,p,m,_,y[d+14],17,-1502002290),_=this.md5_ff(_,f,p,m,y[d+15],22,1236535329),m=this.md5_gg(m,_,f,p,y[d+1],5,-165796510),p=this.md5_gg(p,m,_,f,y[d+6],9,-1069501632),f=this.md5_gg(f,p,m,_,y[d+11],14,643717713),_=this.md5_gg(_,f,p,m,y[d+0],20,-373897302),m=this.md5_gg(m,_,f,p,y[d+5],5,-701558691),p=this.md5_gg(p,m,_,f,y[d+10],9,38016083),f=this.md5_gg(f,p,m,_,y[d+15],14,-660478335),_=this.md5_gg(_,f,p,m,y[d+4],20,-405537848),m=this.md5_gg(m,_,f,p,y[d+9],5,568446438),p=this.md5_gg(p,m,_,f,y[d+14],9,-1019803690),f=this.md5_gg(f,p,m,_,y[d+3],14,-187363961),_=this.md5_gg(_,f,p,m,y[d+8],20,1163531501),m=this.md5_gg(m,_,f,p,y[d+13],5,-1444681467),p=this.md5_gg(p,m,_,f,y[d+2],9,-51403784),f=this.md5_gg(f,p,m,_,y[d+7],14,1735328473),_=this.md5_gg(_,f,p,m,y[d+12],20,-1926607734),m=this.md5_hh(m,_,f,p,y[d+5],4,-378558),p=this.md5_hh(p,m,_,f,y[d+8],11,-2022574463),f=this.md5_hh(f,p,m,_,y[d+11],16,1839030562),_=this.md5_hh(_,f,p,m,y[d+14],23,-35309556),m=this.md5_hh(m,_,f,p,y[d+1],4,-1530992060),p=this.md5_hh(p,m,_,f,y[d+4],11,1272893353),f=this.md5_hh(f,p,m,_,y[d+7],16,-155497632),_=this.md5_hh(_,f,p,m,y[d+10],23,-1094730640),m=this.md5_hh(m,_,f,p,y[d+13],4,681279174),p=this.md5_hh(p,m,_,f,y[d+0],11,-358537222),f=this.md5_hh(f,p,m,_,y[d+3],16,-722521979),_=this.md5_hh(_,f,p,m,y[d+6],23,76029189),m=this.md5_hh(m,_,f,p,y[d+9],4,-640364487),p=this.md5_hh(p,m,_,f,y[d+12],11,-421815835),f=this.md5_hh(f,p,m,_,y[d+15],16,530742520),_=this.md5_hh(_,f,p,m,y[d+2],23,-995338651),m=this.md5_ii(m,_,f,p,y[d+0],6,-198630844),p=this.md5_ii(p,m,_,f,y[d+7],10,1126891415),f=this.md5_ii(f,p,m,_,y[d+14],15,-1416354905),_=this.md5_ii(_,f,p,m,y[d+5],21,-57434055),m=this.md5_ii(m,_,f,p,y[d+12],6,1700485571),p=this.md5_ii(p,m,_,f,y[d+3],10,-1894986606),f=this.md5_ii(f,p,m,_,y[d+10],15,-1051523),_=this.md5_ii(_,f,p,m,y[d+1],21,-2054922799),m=this.md5_ii(m,_,f,p,y[d+8],6,1873313359),p=this.md5_ii(p,m,_,f,y[d+15],10,-30611744),f=this.md5_ii(f,p,m,_,y[d+6],15,-1560198380),_=this.md5_ii(_,f,p,m,y[d+13],21,1309151649),m=this.md5_ii(m,_,f,p,y[d+4],6,-145523070),p=this.md5_ii(p,m,_,f,y[d+11],10,-1120210379),f=this.md5_ii(f,p,m,_,y[d+2],15,718787259),_=this.md5_ii(_,f,p,m,y[d+9],21,-343485551),m=this.safe_add(m,b),_=this.safe_add(_,C),f=this.safe_add(f,h),p=this.safe_add(p,v)}return Array(m,_,f,p)},T.prototype.md5_cmn=function(y,S,m,_,f,p){return this.safe_add(this.bit_rol(this.safe_add(this.safe_add(S,y),this.safe_add(_,p)),f),m)},T.prototype.md5_ff=function(y,S,m,_,f,p,d){return this.md5_cmn(S&m|~S&_,y,S,f,p,d)},T.prototype.md5_gg=function(y,S,m,_,f,p,d){return this.md5_cmn(S&_|m&~_,y,S,f,p,d)},T.prototype.md5_hh=function(y,S,m,_,f,p,d){return this.md5_cmn(S^m^_,y,S,f,p,d)},T.prototype.md5_ii=function(y,S,m,_,f,p,d){return this.md5_cmn(m^(S|~_),y,S,f,p,d)},T.prototype.safe_add=function(y,S){var m=(65535&y)+(65535&S);return(y>>16)+(S>>16)+(m>>16)<<16|65535&m},T.prototype.bit_rol=function(y,S){return y<<S|y>>>32-S}},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=function(){function m(_,f){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;(function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=-1,this._inviter=_,this._invitee=f,this._secondsForAnswer=p,this._params=d,Object.seal(this)}return T(m,[{key:"id",get:function(){return this._id}},{key:"inviter",get:function(){return this._inviter}},{key:"invitee",get:function(){return this._invitee}},{key:"secondsForAnswer",get:function(){return this._secondsForAnswer}},{key:"params",get:function(){return this._params}}]),m}(),S=Object.freeze({ACCEPT:0,REFUSE:1,EXPIRED:255});M.SFSInvitation=y,M.InvitationReply=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MMOItemVariable=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(48),S=function(m){function _(f,p){var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,_);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,f,p,d));return Object.freeze(b),b}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseVariable),T(_,[{key:"toString",value:function(){return"[ItemVar: "+this.name+", Type: "+this.type+", Value: "+this.value+"]"}}],[{key:"fromSFSArray",value:function(f){return new _(f.get(0),f.get(2),f.get(1))}}]),_}();M.MMOItemVariable=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=function(){function m(){throw function(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m),"Class SFSErrorCodes cannot be instantiated. Please check the documentation for more details on its usage"}return T(m,null,[{key:"setErrorMessage",value:function(_,f){this._errorsByCode[_]=f}},{key:"getErrorMessage",value:function(_,f){return this.stringFormat(this._errorsByCode[_],f)}},{key:"stringFormat",value:function(_,f){if(null==_)return"";if(null!=f)for(var p=0;p<f.length;p++)_=_.replace("{"+p+"}",f[p]);return _}},{key:"_errorsByCode",get:function(){return S}}]),m}();M.SFSErrorCodes=y;var S=["Client API version is obsolete: {0}; required version: {1}","Requested Zone {0} does not exist","User name {0} is not recognized","Wrong password for user {0}","User {0} is banned","Zone {0} is full","User {0} is already logged in Zone {1}","The server is full","Zone {0} is currently inactive","User name {0} contains bad words; filtered: {1}","Guest users not allowed in Zone {0}","IP address {0} is banned","A Room with the same name already exists: {0}","Requested Group is not available - Room: {0}; Group: {1}","Bad Room name length -  Min: {0}; max: {1}; passed name length: {2}","Room name contains bad words: {0}","Zone is full; can't add Rooms anymore","You have exceeded the number of Rooms that you can create per session: {0}","Room creation failed, wrong parameter: {0}","User {0} already joined in Room","Room {0} is full","Wrong password for Room {0}","Requested Room does not exist","Room {0} is locked","Group {0} is already subscribed","Group {0} does not exist","Group {0} is not subscribed","Group {0} does not exist","{0}","Room permission error; Room {0} cannot be renamed","Room permission error; Room {0} cannot change password state","Room permission error; Room {0} cannot change capacity","Switch user error; no player slots available in Room {0}","Switch user error; no spectator slots available in Room {0}","Switch user error; Room {0} is not a Game Room","Switch user error; you are not joined in Room {0}","Buddy Manager initialization error, could not load buddy list: {0}","Buddy Manager error, your buddy list is full; size is {0}","Buddy Manager error, was not able to block buddy {0} because offline","Buddy Manager error, you are attempting to set too many Buddy Variables; limit is {0}","Game {0} access denied, user does not match access criteria","QuickJoinGame action failed: no matching Rooms were found","Your previous invitation reply was invalid or arrived too late"]},function(U,M,c){"use strict";var T=c(6),y=c(11),S=c(44),m=c(60),_=c(18),f=c(41),p=c(3),d=c(42),b=c(24),C=c(12),h=c(121),v=c(32).f,O=c(10).f,x=c(78),N=c(45),G="prototype",H="Wrong index!",L=T.ArrayBuffer,j=T.DataView,k=T.Math,V=T.RangeError,J=T.Infinity,W=L,ee=k.abs,q=k.pow,ce=k.floor,Te=k.log,_e=k.LN2,Ee=y?"_b":"buffer",$=y?"_l":"byteLength",se=y?"_o":"byteOffset";function Z(xe,Ye,Yt){var It,$t,Wn,tt=new Array(Yt),dt=8*Yt-Ye-1,ve=(1<<dt)-1,ge=ve>>1,we=23===Ye?q(2,-24)-q(2,-77):0,Re=0,Se=xe<0||0===xe&&1/xe<0?1:0;for((xe=ee(xe))!=xe||xe===J?($t=xe!=xe?1:0,It=ve):(It=ce(Te(xe)/_e),xe*(Wn=q(2,-It))<1&&(It--,Wn*=2),(xe+=It+ge>=1?we/Wn:we*q(2,1-ge))*Wn>=2&&(It++,Wn/=2),It+ge>=ve?($t=0,It=ve):It+ge>=1?($t=(xe*Wn-1)*q(2,Ye),It+=ge):($t=xe*q(2,ge-1)*q(2,Ye),It=0));Ye>=8;tt[Re++]=255&$t,$t/=256,Ye-=8);for(It=It<<Ye|$t,dt+=Ye;dt>0;tt[Re++]=255&It,It/=256,dt-=8);return tt[--Re]|=128*Se,tt}function be(xe,Ye,Yt){var It,$t=8*Yt-Ye-1,Wn=(1<<$t)-1,tt=Wn>>1,dt=$t-7,ve=Yt-1,ge=xe[ve--],we=127&ge;for(ge>>=7;dt>0;we=256*we+xe[ve],ve--,dt-=8);for(It=we&(1<<-dt)-1,we>>=-dt,dt+=Ye;dt>0;It=256*It+xe[ve],ve--,dt-=8);if(0===we)we=1-tt;else{if(we===Wn)return It?NaN:ge?-J:J;It+=q(2,Ye),we-=tt}return(ge?-1:1)*It*q(2,we-Ye)}function oe(xe){return xe[3]<<24|xe[2]<<16|xe[1]<<8|xe[0]}function le(xe){return[255&xe]}function de(xe){return[255&xe,xe>>8&255]}function Be(xe){return[255&xe,xe>>8&255,xe>>16&255,xe>>24&255]}function Je(xe){return Z(xe,52,8)}function Le(xe){return Z(xe,23,4)}function Ot(xe,Ye,Yt){O(xe[G],Ye,{get:function(){return this[Yt]}})}function qe(xe,Ye,Yt,It){var $t=h(+Yt);if($t+Ye>xe[$])throw V(H);var tt=$t+xe[se],dt=xe[Ee]._b.slice(tt,tt+Ye);return It?dt:dt.reverse()}function je(xe,Ye,Yt,It,$t,Wn){var tt=h(+Yt);if(tt+Ye>xe[$])throw V(H);for(var dt=xe[Ee]._b,ve=tt+xe[se],ge=It(+$t),we=0;we<Ye;we++)dt[ve+we]=ge[Wn?we:Ye-we-1]}if(m.ABV){if(!p(function(){L(1)})||!p(function(){new L(-1)})||p(function(){return new L,new L(1.5),new L(NaN),"ArrayBuffer"!=L.name})){for(var ie,fe=(L=function(xe){return d(this,L),new W(h(xe))})[G]=W[G],pe=v(W),Ge=0;pe.length>Ge;)(ie=pe[Ge++])in L||_(L,ie,W[ie]);S||(fe.constructor=L)}var ze=new j(new L(2)),et=j[G].setInt8;ze.setInt8(0,2147483648),ze.setInt8(1,2147483649),!ze.getInt8(0)&&ze.getInt8(1)||f(j[G],{setInt8:function(xe,Ye){et.call(this,xe,Ye<<24>>24)},setUint8:function(xe,Ye){et.call(this,xe,Ye<<24>>24)}},!0)}else L=function(xe){d(this,L,"ArrayBuffer");var Ye=h(xe);this._b=x.call(new Array(Ye),0),this[$]=Ye},j=function(xe,Ye,Yt){d(this,j,"DataView"),d(xe,L,"DataView");var It=xe[$],$t=b(Ye);if($t<0||$t>It)throw V("Wrong offset!");if($t+(Yt=void 0===Yt?It-$t:C(Yt))>It)throw V("Wrong length!");this[Ee]=xe,this[se]=$t,this[$]=Yt},y&&(Ot(L,"byteLength","_l"),Ot(j,"buffer","_b"),Ot(j,"byteLength","_l"),Ot(j,"byteOffset","_o")),f(j[G],{getInt8:function(xe){return qe(this,1,xe)[0]<<24>>24},getUint8:function(xe){return qe(this,1,xe)[0]},getInt16:function(xe){var Ye=qe(this,2,xe,arguments[1]);return(Ye[1]<<8|Ye[0])<<16>>16},getUint16:function(xe){var Ye=qe(this,2,xe,arguments[1]);return Ye[1]<<8|Ye[0]},getInt32:function(xe){return oe(qe(this,4,xe,arguments[1]))},getUint32:function(xe){return oe(qe(this,4,xe,arguments[1]))>>>0},getFloat32:function(xe){return be(qe(this,4,xe,arguments[1]),23,4)},getFloat64:function(xe){return be(qe(this,8,xe,arguments[1]),52,8)},setInt8:function(xe,Ye){je(this,1,xe,le,Ye)},setUint8:function(xe,Ye){je(this,1,xe,le,Ye)},setInt16:function(xe,Ye){je(this,2,xe,de,Ye,arguments[2])},setUint16:function(xe,Ye){je(this,2,xe,de,Ye,arguments[2])},setInt32:function(xe,Ye){je(this,4,xe,Be,Ye,arguments[2])},setUint32:function(xe,Ye){je(this,4,xe,Be,Ye,arguments[2])},setFloat32:function(xe,Ye){je(this,4,xe,Le,Ye,arguments[2])},setFloat64:function(xe,Ye){je(this,8,xe,Je,Ye,arguments[2])}});N(L,"ArrayBuffer"),N(j,"DataView"),_(j[G],m.VIEW,!0),M.ArrayBuffer=L,M.DataView=j},function(U,M,c){var T=c(5),y=c(26),S=c(7)("species");U.exports=function(m,_){var f,p=T(m).constructor;return void 0===p||null==(f=T(p)[S])?_:y(f)}},function(U,M,c){"use strict";var T=c(5);U.exports=function(){var y=T(this),S="";return y.global&&(S+="g"),y.ignoreCase&&(S+="i"),y.multiline&&(S+="m"),y.unicode&&(S+="u"),y.sticky&&(S+="y"),S}},function(U,M,c){"use strict";var T=c(14),y=c(34),S=c(12);U.exports=function(m){for(var _=T(this),f=S(_.length),p=arguments.length,d=y(p>1?arguments[1]:void 0,f),b=p>2?arguments[2]:void 0,C=void 0===b?f:y(b,f);C>d;)_[d++]=m;return _}},function(U,M,c){var T=c(66),y=c(7)("iterator"),S=c(53);U.exports=c(37).getIteratorMethod=function(m){if(null!=m)return m[y]||m["@@iterator"]||S[T(m)]}},function(U,M,c){var T=c(53),y=c(7)("iterator"),S=Array.prototype;U.exports=function(m){return void 0!==m&&(T.Array===m||S[y]===m)}},function(U,M,c){var T=c(7)("match");U.exports=function(y){var S=/./;try{"/./"[y](S)}catch(m){try{return S[T]=!1,!"/./"[y](S)}catch(_){}}return!0}},function(U,M,c){var T=c(4),y=c(25),S=c(7)("match");U.exports=function(m){var _;return T(m)&&(void 0!==(_=m[S])?!!_:"RegExp"==y(m))}},function(U,M,c){var T=c(82),y=c(28);U.exports=function(S,m,_){if(T(m))throw TypeError("String#"+_+" doesn't accept regex!");return String(y(S))}},function(U,M,c){"use strict";var T=c(44),y=c(0),S=c(15),m=c(18),_=c(53),f=c(133),p=c(45),d=c(31),b=c(7)("iterator"),C=!([].keys&&"next"in[].keys()),h=function(){return this};U.exports=function(v,O,x,N,G,H,L){f(x,O,N);var j,k,V,J=function(se){if(!C&&se in ce)return ce[se];switch(se){case"keys":case"values":return function(){return new x(this,se)}}return function(){return new x(this,se)}},W=O+" Iterator",ee="values"==G,q=!1,ce=v.prototype,Te=ce[b]||ce["@@iterator"]||G&&ce[G],_e=Te||J(G),Ee=G?ee?J("entries"):_e:void 0,$="Array"==O&&ce.entries||Te;if($&&(V=d($.call(new v)))!==Object.prototype&&V.next&&(p(V,W,!0),T||"function"==typeof V[b]||m(V,b,h)),ee&&Te&&"values"!==Te.name&&(q=!0,_e=function(){return Te.call(this)}),T&&!L||!C&&!q&&ce[b]||m(ce,b,_e),_[O]=_e,_[W]=h,G)if(j={values:ee?_e:J("values"),keys:H?_e:J("keys"),entries:Ee},L)for(k in j)k in ce||S(ce,k,j[k]);else y(y.P+y.F*(C||q),O,j);return j}},function(U,M){var c=Math.expm1;U.exports=!c||c(10)>22025.465794806718||c(10)<22025.465794806718||-2e-17!=c(-2e-17)?function(T){return 0==(T=+T)?T:T>-1e-6&&T<1e-6?T+T*T/2:Math.exp(T)-1}:c},function(U,M){U.exports=Math.sign||function(c){return 0==(c=+c)||c!=c?c:c<0?-1:1}},function(U,M,c){var T=c(4),y=c(89).set;U.exports=function(S,m,_){var f,p=m.constructor;return p!==_&&"function"==typeof p&&(f=p.prototype)!==_.prototype&&T(f)&&y&&y(S,f),S}},function(U,M){U.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},function(U,M,c){var T=c(4),y=c(5),S=function(m,_){if(y(m),!T(_)&&null!==_)throw TypeError(_+": can't set as prototype!")};U.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(m,_,f){try{(f=c(27)(Function.call,c(23).f(Object.prototype,"__proto__").set,2))(m,[]),_=!(m instanceof Array)}catch(p){_=!0}return function(p,d){return S(p,d),_?p.__proto__=d:f(p,d),p}}({},!1):void 0),check:S}},function(U,M,c){var T=c(6).document;U.exports=T&&T.documentElement},function(U,M,c){var T=c(25);U.exports=Array.isArray||function(y){return"Array"==T(y)}},function(U,M){U.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(U,M,c){var T=c(95)("keys"),y=c(35);U.exports=function(S){return T[S]||(T[S]=y(S))}},function(U,M,c){var T=c(21),y=c(12),S=c(34);U.exports=function(m){return function(_,f,p){var d,b=T(_),C=y(b.length),h=S(p,C);if(m&&f!=f){for(;C>h;)if((d=b[h++])!=d)return!0}else for(;C>h;h++)if((m||h in b)&&b[h]===f)return m||h||0;return!m&&-1}}},function(U,M,c){var T=c(6),y=T["__core-js_shared__"]||(T["__core-js_shared__"]={});U.exports=function(S){return y[S]||(y[S]={})}},function(U,M,c){var T=c(4),y=c(6).document,S=T(y)&&T(y.createElement);U.exports=function(m){return S?y.createElement(m):{}}},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ExtensionRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(8),_=c(9),f=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.CallExtension));return v._targetController=1,v._extCmd=b,v._params=C,v._room=h,null==v._params&&(v._params=new m.SFSObject),Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_CMD",get:function(){return"c"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_ROOM",get:function(){return"r"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null!=this._extCmd&&0!==this._extCmd.length||C.push("Missing extension command"),null==this._params||this._params instanceof m.SFSObject||C.push("Custom parameters must be set in a SFSObject class instance"),null==this._room||this._room instanceof _.SFSRoom||C.push("Room must be an instance of SFSRoom class"),C.length>0)throw new S.SFSValidationError("ExtensionRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putUtfString(d.KEY_CMD,this._extCmd),this._reqObj.putInt(d.KEY_ROOM,null==this._room?-1:this._room.id),this._reqObj.putSFSObject(d.KEY_PARAMS,this._params)}}]),d}();M.ExtensionRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetBuddyVariablesRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(8),_=c(46),f=function(p){function d(b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,d);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.SetBuddyVariables));return C._buddyVariables=b,Object.seal(C),C}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_VARS",get:function(){return"bv"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(b.buddyManager.isInited||C.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===b.buddyManager.getMyOnlineState()&&C.push("Can't set Buddy Variables while you are offline in the Buddy List system"),null==this._buddyVariables?C.push("No Buddy Variables specified"):this._buddyVariables instanceof Array?0===this._buddyVariables.length?C.push("No Buddy Variables specified"):this._buddyVariables.every(function(h){return h instanceof _.SFSBuddyVariable})||C.push("Buddy Variables must be passed as instances of SFSBuddyVariable class"):C.push("Buddy Variables must be passed in an array"),C.length>0)throw new S.SFSValidationError("SetBuddyVariablesRequest Error",C)}},{key:"execute",value:function(b){var C=new m.SFSArray,h=!0,v=!1,O=void 0;try{for(var x,N=this._buddyVariables[Symbol.iterator]();!(h=(x=N.next()).done);h=!0)C.addSFSArray(x.value.toSFSArray())}catch(H){v=!0,O=H}finally{try{!h&&N.return&&N.return()}finally{if(v)throw O}}this._reqObj.putSFSArray(d.KEY_BUDDY_VARS,C)}}]),d}();M.SetBuddyVariablesRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.GoOnlineRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.GoOnline));return d._online=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_ONLINE",get:function(){return"o"}},{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_ID",get:function(){return"bi"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),d.length>0)throw new S.SFSValidationError("GoOnlineRequest Error",d)}},{key:"execute",value:function(p){p.buddyManager._setMyOnlineState(this._online),this._reqObj.putBool(f.KEY_ONLINE,this._online)}}]),f}();M.GoOnlineRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BlockBuddyRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p,d){!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,f);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.BlockBuddy));return b._name=p,b._blocked=d,Object.seal(b),b}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}},{key:"KEY_BUDDY_BLOCK_STATE",get:function(){return"bs"}},{key:"KEY_BUDDY",get:function(){return"bd"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===p.buddyManager.getMyOnlineState()&&d.push("Can't block a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1)d.push("Invalid buddy name (null or empty string)");else{var b=p.buddyManager.getBuddyByName(this._name);null==b?d.push("Can't block buddy '"+this._name+"' because it isn't in your list"):b.isBlocked==this._blocked&&d.push("Block flag is already in the requested '"+this._blocked+"' state for buddy '"+this._name+"'")}if(d.length>0)throw new S.SFSValidationError("BlockBuddyRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_BUDDY_NAME,this._name),this._reqObj.putBool(f.KEY_BUDDY_BLOCK_STATE,this._blocked)}}]),f}();M.BlockBuddyRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.RemoveBuddyRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.RemoveBuddy));return d._name=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),!1===p.buddyManager.getMyOnlineState()&&d.push("Can't remove a buddy while you are offline in the Buddy List system"),null==this._name||this._name.length<1?d.push("Invalid buddy name (null or empty string)"):p.buddyManager.containsBuddy(this._name)||d.push("Can't remove buddy '"+this._name+"' because it isn't in your list"),d.length>0)throw new S.SFSValidationError("RemoveBuddyRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_BUDDY_NAME,this._name)}}]),f}();M.RemoveBuddyRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.AddBuddyRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.AddBuddy));return d._name=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BUDDY_NAME",get:function(){return"bn"}}]),T(f,[{key:"validate",value:function(p){var d=[];p.buddyManager.isInited||d.push("Buddy List not yet initialized; please send an InitBuddyRequest first"),(null==this._name||this._name.length<1)&&d.push("Invalid buddy name (null or empty string)"),!1===p.buddyManager.getMyOnlineState()&&d.push("Can't add a buddy while you are offline in the Buddy List system");var b=p.buddyManager.getBuddyByName(this._name);if(null==b||b.isTemp||d.push("Can't add buddy '"+this._name+"' because it is already in your list"),d.length>0)throw new S.SFSValidationError("AddBuddyRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_BUDDY_NAME,this._name)}}]),f}();M.AddBuddyRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.InitBuddyListRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(){!function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?d:b}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.InitBuddyList));return Object.seal(p),p}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_BLIST",get:function(){return"bl"}},{key:"KEY_BUDDY_STATES",get:function(){return"bs"}},{key:"KEY_MY_VARS",get:function(){return"mv"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(p.buddyManager.isInited&&d.push("Buddy List is already initialized"),d.length>0)throw new S.SFSValidationError("InitBuddyListRequest Error",d)}},{key:"execute",value:function(p){}}]),f}();M.InitBuddyListRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetUserPositionRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(8),_=c(9),f=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,d);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.SetUserPosition));return h._pos=b,h._room=C,Object.seal(h),h}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_VEC3D",get:function(){return"v"}},{key:"KEY_PLUS_USER_LIST",get:function(){return"p"}},{key:"KEY_MINUS_USER_LIST",get:function(){return"m"}},{key:"KEY_PLUS_ITEM_LIST",get:function(){return"q"}},{key:"KEY_MINUS_ITEM_LIST",get:function(){return"n"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null!=this._pos&&this._pos instanceof m.Vec3D||C.push("Position must be an instance of Vec3D class"),null==this._room&&(this._room=b.lastJoinedRoom),null==this._room&&C.push("You are not joined in any room"),this._room instanceof _.MMORoom||C.push("Target room must be an instance of MMORoom class"),C.length>0)throw new S.SFSValidationError("SetUserPosition Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(d.KEY_ROOM,this._room.id),this._pos.isFloat?this._reqObj.putFloatArray(d.KEY_VEC3D,this._pos.toArray()):this._reqObj.putIntArray(d.KEY_VEC3D,this._pos.toArray())}}]),d}();M.SetUserPositionRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.FindUsersRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(9),_=c(38),f=function(p){function d(b){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.FindUsers));return v._matchExpr=b,v._target=C,v._limit=h,Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_USERS",get:function(){return"fu"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._matchExpr&&C.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof _.MatchExpression||C.push("Match expression must be passed as an instance of MatchExpression class"),C.length>0)throw new S.SFSValidationError("FindUsersRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putSFSArray(d.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._target&&(this._target instanceof m.SFSRoom?this._reqObj.putInt(d.KEY_ROOM,this._target.id):"string"==typeof this._target?this._reqObj.putUtfString(d.KEY_GROUP,this._target):this._logger.warn("Unsupported target type for FindUsersRequest: "+this._target)),this._limit>0&&this._reqObj.putShort(d.KEY_LIMIT,this._limit)}}]),d}();M.FindUsersRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.FindRoomsRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(38),_=function(f){function p(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,p);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.FindRooms));return h._matchExpr=d,h._groupId=b,h._limit=C,Object.seal(h),h}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_EXPRESSION",get:function(){return"e"}},{key:"KEY_GROUP",get:function(){return"g"}},{key:"KEY_LIMIT",get:function(){return"l"}},{key:"KEY_FILTERED_ROOMS",get:function(){return"fr"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(null==this._matchExpr&&b.push("Missing match expression"),null==this._matchExpr||this._matchExpr instanceof m.MatchExpression||b.push("Match expression must be passed as an instance of MatchExpression class"),b.length>0)throw new S.SFSValidationError("FindRoomsRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putSFSArray(p.KEY_EXPRESSION,this._matchExpr.toSFSArray()),null!=this._groupId&&this._reqObj.putUtfString(p.KEY_GROUP,this._groupId),this._limit>0&&this._reqObj.putShort(p.KEY_LIMIT,this._limit)}}]),p}();M.FindRoomsRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PlayerToSpectatorRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.PlayerToSpectator));return b._room=d,Object.seal(b),b}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(d.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||b.push("Target Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("PlayerToSpectatorRequest Error",b)}},{key:"execute",value:function(d){null==this._room&&(this._room=d.lastJoinedRoom),this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();M.PlayerToSpectatorRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SpectatorToPlayerRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.SpectatorToPlayer));return b._room=d,Object.seal(b),b}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_PLAYER_ID",get:function(){return"p"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(d.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||b.push("Target Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("SpectatorToPlayerRequest Error",b)}},{key:"execute",value:function(d){null==this._room&&(this._room=d.lastJoinedRoom),this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();M.SpectatorToPlayerRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.UnsubscribeRoomGroupRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.UnsubscribeRoomGroup));return d._groupId=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(null!=this._groupId&&0!==this._groupId.length||d.push("Invalid group id passed; must be a string with at least one character"),d.length>0)throw new S.SFSValidationError("UnsubscribeGroupRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_GROUP_ID,this._groupId)}}]),f}();M.UnsubscribeRoomGroupRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SubscribeRoomGroupRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.SubscribeRoomGroup));return d._groupId=p,Object.seal(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_GROUP_ID",get:function(){return"g"}},{key:"KEY_ROOM_LIST",get:function(){return"rl"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(null!=this._groupId&&0!==this._groupId.length||d.push("Invalid group id passed; must be a string with at least one character"),d.length>0)throw new S.SFSValidationError("SubscribeGroupRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putUtfString(f.KEY_GROUP_ID,this._groupId)}}]),f}();M.SubscribeRoomGroupRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetUserVariablesRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(8),_=c(59),f=function(p){function d(b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,d);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.SetUserVariables));return C._userVariables=b,Object.seal(C),C}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_USER",get:function(){return"u"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._userVariables?C.push("No User Variables specified"):this._userVariables instanceof Array?0===this._userVariables.length?C.push("No User Variables specified"):this._userVariables.every(function(h){return h instanceof _.SFSUserVariable})||C.push("User Variables must be passed as instances of SFSUserVariable class"):C.push("User Variables must be passed in an array"),C.length>0)throw new S.SFSValidationError("SetUserVariablesRequest Error",C)}},{key:"execute",value:function(b){var C=new m.SFSArray,h=!0,v=!1,O=void 0;try{for(var x,N=this._userVariables[Symbol.iterator]();!(h=(x=N.next()).done);h=!0)C.addSFSArray(x.value.toSFSArray())}catch(H){v=!0,O=H}finally{try{!h&&N.return&&N.return()}finally{if(v)throw O}}this._reqObj.putSFSArray(d.KEY_VAR_LIST,C)}}]),d}();M.SetUserVariablesRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SetRoomVariablesRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=c(2),S=c(1),m=c(8),_=c(9),f=c(49),p=function(d){function b(C){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,b);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y.Requests.SetRoomVariables));return v._roomVariables=C,v._room=h,Object.seal(v),v}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.BaseRequest),T(b,null,[{key:"KEY_VAR_ROOM",get:function(){return"r"}},{key:"KEY_VAR_LIST",get:function(){return"vl"}}]),T(b,[{key:"validate",value:function(C){var h=[];if(null==this._room&&(this._room=C.lastJoinedRoom),null==this._room?h.push("You must be joined in a Room to send a message"):this._room instanceof _.SFSRoom?C.getJoinedRooms().indexOf(this._room)<0&&h.push("You are not joined in the target Room: "+this._room):h.push("Target Room must be an instance of SFSRoom class"),null==this._roomVariables?h.push("No Room Variables specified"):this._roomVariables instanceof Array?0===this._roomVariables.length?h.push("No Room Variables specified"):this._roomVariables.every(function(v){return v instanceof f.SFSRoomVariable})||h.push("Room Variables must be passed as instances of SFSRoomVariable class"):h.push("Room Variables must be passed in an array"),h.length>0)throw new S.SFSValidationError("SetRoomVariablesRequest Error",h)}},{key:"execute",value:function(C){var h=new m.SFSArray,v=!0,O=!1,x=void 0;try{for(var N,G=this._roomVariables[Symbol.iterator]();!(v=(N=G.next()).done);v=!0)h.addSFSArray(N.value.toSFSArray())}catch(L){O=!0,x=L}finally{try{!v&&G.return&&G.return()}finally{if(O)throw x}}this._reqObj.putSFSArray(b.KEY_VAR_LIST,h),this._reqObj.putInt(b.KEY_VAR_ROOM,this._room.id)}}]),b}();M.SetRoomVariablesRequest=p},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChangeRoomCapacityRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(d,b,C){!function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,p);var h=function(v,O){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?v:O}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.ChangeRoomCapacity));return h._room=d,h._newMaxUsers=b,h._newMaxSpect=C,Object.seal(h),h}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_SIZE",get:function(){return"u"}},{key:"KEY_SPEC_SIZE",get:function(){return"s"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("ChangeRoomCapacityRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putInt(p.KEY_USER_SIZE,this._newMaxUsers),this._reqObj.putInt(p.KEY_SPEC_SIZE,this._newMaxSpect)}}]),p}();M.ChangeRoomCapacityRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChangeRoomPasswordStateRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(d,b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.ChangeRoomPassword));return C._room=d,C._newPass=b,Object.seal(C),C}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_PASS",get:function(){return"p"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),null==this._newPass&&b.push("New room password must be a non-null string (empty string to remove the password)"),b.length>0)throw new S.SFSValidationError("ChangeRoomPasswordStateRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putUtfString(p.KEY_PASS,this._newPass)}}]),p}();M.ChangeRoomPasswordStateRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ChangeRoomNameRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(d,b){!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.ChangeRoomName));return C._room=d,C._newName=b,Object.seal(C),C}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_NAME",get:function(){return"n"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),null!=this._newName&&0!==this._newName.length||b.push("New room name must be a non-null and non-empty string"),b.length>0)throw new S.SFSValidationError("ChangeRoomNameRequest Error",b)}},{key:"execute",value:function(d){this._reqObj.putInt(p.KEY_ROOM,this._room.id),this._reqObj.putUtfString(p.KEY_NAME,this._newName)}}]),p}();M.ChangeRoomNameRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.JoinRoomRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(d){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,h=arguments.length>3&&void 0!==arguments[3]&&arguments[3];!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,p);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.JoinRoom));return"string"==typeof d?v._rName=d:"number"==typeof d?v._rId=d:d instanceof m.SFSRoom&&(v._rId=d.id,v._rName=d.name),v._password=b,v._roomIdToLeave=C,v._asSpectator=h,Object.seal(v),v}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM",get:function(){return"r"}},{key:"KEY_USER_LIST",get:function(){return"ul"}},{key:"KEY_ROOM_NAME",get:function(){return"n"}},{key:"KEY_ROOM_ID",get:function(){return"i"}},{key:"KEY_PASS",get:function(){return"p"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"rl"}},{key:"KEY_AS_SPECTATOR",get:function(){return"sp"}}]),T(p,[{key:"validate",value:function(d){if(null==this._rId&&null==this._rName)throw new S.SFSValidationError("JoinRoomRequest Error",["Missing Room id or name, please provide one of the two or an existing SFSRoom object"])}},{key:"execute",value:function(d){d._isJoining=!0,this._rId>=0?this._reqObj.putInt(p.KEY_ROOM_ID,this._rId):null!=this._rName&&this._reqObj.putUtfString(p.KEY_ROOM_NAME,this._rName),null!=this._password&&this._reqObj.putUtfString(p.KEY_PASS,this._password),null!=this._roomIdToLeave&&this._reqObj.putInt(p.KEY_ROOM_TO_LEAVE,this._roomIdToLeave),this._asSpectator&&this._reqObj.putBool(p.KEY_AS_SPECTATOR,this._asSpectator)}}]),p}();M.JoinRoomRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LogoutRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(){!function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")}(this,f);var p=function(d,b){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?d:b}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.Logout));return Object.seal(p),p}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}}]),T(f,[{key:"validate",value:function(p){if(null==p.mySelf)throw new S.SFSValidationError("LogoutRequest error",["You are not logged in"])}},{key:"execute",value:function(p){}}]),f}();M.LogoutRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LoginRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(71),S=c(2),m=c(1),_=c(8),f=function(p){function d(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(x,N){if(!(x instanceof N))throw new TypeError("Cannot call a class as a function")}(this,d);var O=function(x,N){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?x:N}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,S.Requests.Login));return O._userName=b,O._password=C,O._params=h,O._zoneName=v,Object.seal(O),O}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,S.BaseRequest),T(d,null,[{key:"KEY_ZONE_NAME",get:function(){return"zn"}},{key:"KEY_USER_NAME",get:function(){return"un"}},{key:"KEY_PASSWORD",get:function(){return"pw"}},{key:"KEY_PARAMS",get:function(){return"p"}},{key:"KEY_PRIVILEGE_ID",get:function(){return"pi"}},{key:"KEY_ID",get:function(){return"id"}},{key:"KEY_ROOMLIST",get:function(){return"rl"}},{key:"KEY_RECONNECTION_SECONDS",get:function(){return"rs"}}]),T(d,[{key:"validate",value:function(b){if(null!=b.mySelf)throw new m.SFSValidationError("LoginRequest error",["You are already logged in; logout before attempting a new login"]);var C=[],h=null!=b.config&&null!=b.config.zone?b.config.zone:null;if(null!=this._zoneName&&(h=this._zoneName),null==h||0===h.length?C.push("Missing Zone name"):this._zoneName=h,null==this._params||this._params instanceof _.SFSObject||C.push("Custom parameters must be passed in a SFSObject"),C.length>0)throw new m.SFSValidationError("LoginRequest Error",C)}},{key:"execute",value:function(b){null==this._userName&&(this._userName=""),null==this._password&&(this._password=""),this._reqObj.putUtfString(d.KEY_ZONE_NAME,this._zoneName),this._reqObj.putUtfString(d.KEY_USER_NAME,this._userName),this._reqObj.putUtfString(d.KEY_PASSWORD,this._password.length>0?(new y.MD5).hex_md5(b.sessionToken+this._password):""),null!=this._params&&this._reqObj.putSFSObject(d.KEY_PARAMS,this._params)}}]),d}();M.LoginRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}();function y(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}var S=function(){function _(f){y(this,_),this._sfs=f,this._usersById=new Map,this._usersByName=new Map}return T(_,[{key:"containsUserName",value:function(f){return this._usersByName.has(f)}},{key:"containsUserId",value:function(f){return this._usersById.has(f)}},{key:"containsUser",value:function(f){return this._usersById.has(f.id)}},{key:"getUserById",value:function(f){return this._usersById.get(f)}},{key:"getUserByName",value:function(f){return this._usersByName.get(f)}},{key:"getUserCount",value:function(){return this._usersById.size}},{key:"getUserList",value:function(){return Array.from(this._usersById.values())}},{key:"_addUser",value:function(f){this.__addUser(f)}},{key:"__addUser",value:function(f){this._usersByName.set(f.name,f),this._usersById.set(f.id,f)}},{key:"_removeUser",value:function(f){this._usersById.delete(f.id),this._usersByName.delete(f.name)}},{key:"_clearAll",value:function(){this._usersById.clear(),this._usersByName.clear()}}]),_}(),m=function(_){function f(p){y(this,f);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,p));return d._roomRefCount=new Map,Object.freeze(d),d}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,S),T(f,[{key:"_addUser",value:function(p){this._roomRefCount.has(p)?this._roomRefCount.set(p,this._roomRefCount.get(p)+1):this._roomRefCount.set(p,1),this.__addUser(p)}},{key:"_removeUser",value:function(p){this._removeUserReference(p,!1)}},{key:"_removeUserReference",value:function(p,d){var b=this._roomRefCount.get(p);b<1&&null!=this._sfs?this._sfs.logger.warn("GlobalUserManager RefCount is already at zero. User: "+p):(this._roomRefCount.set(p,this._roomRefCount.get(p)-1),(0===b||d)&&(function C(h,v,O){null===h&&(h=Function.prototype);var x=Object.getOwnPropertyDescriptor(h,v);if(void 0===x){var N=Object.getPrototypeOf(h);return null===N?void 0:C(N,v,O)}if("value"in x)return x.value;var G=x.get;return void 0!==G?G.call(O):void 0}(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"_removeUser",this).call(this,p),this._roomRefCount.delete(p)))}}]),f}();M.SFSUserManager=S,M.GlobalUserManager=m},function(U,M,c){(function(T){var y,S=function(m,_,f){this._byteOffset=_||0,m instanceof ArrayBuffer?this.buffer=m:"object"==typeof m?(this.dataView=m,_&&(this._byteOffset+=_)):this.buffer=new ArrayBuffer(m||1),this.position=0,this.endianness=null==f?S.LITTLE_ENDIAN:f};S.prototype={},void 0===Uint8Array.prototype.BYTES_PER_ELEMENT&&(Uint8Array.prototype.BYTES_PER_ELEMENT=Uint8Array.BYTES_PER_ELEMENT,Int8Array.prototype.BYTES_PER_ELEMENT=Int8Array.BYTES_PER_ELEMENT,Uint8ClampedArray.prototype.BYTES_PER_ELEMENT=Uint8ClampedArray.BYTES_PER_ELEMENT,Uint16Array.prototype.BYTES_PER_ELEMENT=Uint16Array.BYTES_PER_ELEMENT,Int16Array.prototype.BYTES_PER_ELEMENT=Int16Array.BYTES_PER_ELEMENT,Uint32Array.prototype.BYTES_PER_ELEMENT=Uint32Array.BYTES_PER_ELEMENT,Int32Array.prototype.BYTES_PER_ELEMENT=Int32Array.BYTES_PER_ELEMENT,Float64Array.prototype.BYTES_PER_ELEMENT=Float64Array.BYTES_PER_ELEMENT),S.prototype.save=function(m){var _=new Blob(this.buffer),f=window.webkitURL||window.URL;if(!f||!f.createObjectURL)throw"DataStream.save: Can't create object URL.";var p=f.createObjectURL(_),d=document.createElement("a");d.setAttribute("href",p),d.setAttribute("download",m),d.click(),f.revokeObjectURL(p)},S.BIG_ENDIAN=!1,S.LITTLE_ENDIAN=!0,S.prototype._dynamicSize=!0,Object.defineProperty(S.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(m){m||this._trimAlloc(),this._dynamicSize=m}}),S.prototype._byteLength=0,Object.defineProperty(S.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(S.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(m){this._buffer=m,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(S.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(m){this._byteOffset=m,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(S.prototype,"dataView",{get:function(){return this._dataView},set:function(m){this._byteOffset=m.byteOffset,this._buffer=m.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+m.byteLength}}),S.prototype._realloc=function(m){if(this._dynamicSize){var _=this._byteOffset+this.position+m,f=this._buffer.byteLength;if(_<=f)_>this._byteLength&&(this._byteLength=_);else{for(f<1&&(f=1);_>f;)f*=2;var p=new ArrayBuffer(f),d=new Uint8Array(this._buffer);new Uint8Array(p,0,d.length).set(d),this.buffer=p,this._byteLength=_}}},S.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var m=new ArrayBuffer(this._byteLength),_=new Uint8Array(m),f=new Uint8Array(this._buffer,0,_.length);_.set(f),this.buffer=m}},S.prototype.seek=function(m){var _=Math.max(0,Math.min(this.byteLength,m));this.position=isNaN(_)||!isFinite(_)?0:_},S.prototype.isEof=function(){return this.position>=this.byteLength},S.prototype.mapInt32Array=function(m,_){this._realloc(4*m);var f=new Int32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=4*m,f},S.prototype.mapInt16Array=function(m,_){this._realloc(2*m);var f=new Int16Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=2*m,f},S.prototype.mapInt8Array=function(m){this._realloc(1*m);var _=new Int8Array(this._buffer,this.byteOffset+this.position,m);return this.position+=1*m,_},S.prototype.mapUint32Array=function(m,_){this._realloc(4*m);var f=new Uint32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=4*m,f},S.prototype.mapUint16Array=function(m,_){this._realloc(2*m);var f=new Uint16Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=2*m,f},S.prototype.mapUint8Array=function(m){this._realloc(1*m);var _=new Uint8Array(this._buffer,this.byteOffset+this.position,m);return this.position+=1*m,_},S.prototype.mapFloat64Array=function(m,_){this._realloc(8*m);var f=new Float64Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=8*m,f},S.prototype.mapFloat32Array=function(m,_){this._realloc(4*m);var f=new Float32Array(this._buffer,this.byteOffset+this.position,m);return S.arrayToNative(f,null==_?this.endianness:_),this.position+=4*m,f},S.prototype.readInt32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var f=new Int32Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readInt16Array=function(m,_){m=null==m?this.byteLength-this.position/2:m;var f=new Int16Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readInt8Array=function(m){m=null==m?this.byteLength-this.position:m;var _=new Int8Array(m);return S.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,m*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},S.prototype.readUint32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var f=new Uint32Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readUint16Array=function(m,_){m=null==m?this.byteLength-this.position/2:m;var f=new Uint16Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readUint8Array=function(m){m=null==m?this.byteLength-this.position:m;var _=new Uint8Array(m);return S.memcpy(_.buffer,0,this.buffer,this.byteOffset+this.position,m*_.BYTES_PER_ELEMENT),this.position+=_.byteLength,_},S.prototype.readFloat64Array=function(m,_){m=null==m?this.byteLength-this.position/8:m;var f=new Float64Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.readFloat32Array=function(m,_){m=null==m?this.byteLength-this.position/4:m;var f=new Float32Array(m);return S.memcpy(f.buffer,0,this.buffer,this.byteOffset+this.position,m*f.BYTES_PER_ELEMENT),S.arrayToNative(f,null==_?this.endianness:_),this.position+=f.byteLength,f},S.prototype.writeInt32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Int32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt32Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeInt32(m[f],_)},S.prototype.writeInt16Array=function(m,_){if(this._realloc(2*m.length),m instanceof Int16Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt16Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeInt16(m[f],_)},S.prototype.writeInt8Array=function(m){if(this._realloc(1*m.length),m instanceof Int8Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapInt8Array(m.length);else for(var _=0;_<m.length;_++)this.writeInt8(m[_])},S.prototype.writeUint32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Uint32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint32Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeUint32(m[f],_)},S.prototype.writeUint16Array=function(m,_){if(this._realloc(2*m.length),m instanceof Uint16Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint16Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeUint16(m[f],_)},S.prototype.writeUint8Array=function(m){if(this._realloc(1*m.length),m instanceof Uint8Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapUint8Array(m.length);else for(var _=0;_<m.length;_++)this.writeUint8(m[_])},S.prototype.writeFloat64Array=function(m,_){if(this._realloc(8*m.length),m instanceof Float64Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapFloat64Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeFloat64(m[f],_)},S.prototype.writeFloat32Array=function(m,_){if(this._realloc(4*m.length),m instanceof Float32Array&&(this.byteOffset+this.position)%m.BYTES_PER_ELEMENT==0)S.memcpy(this._buffer,this.byteOffset+this.position,m.buffer,m.byteOffset,m.byteLength),this.mapFloat32Array(m.length,_);else for(var f=0;f<m.length;f++)this.writeFloat32(m[f],_)},S.prototype.readInt32=function(m){var _=this._dataView.getInt32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readInt16=function(m){var _=this._dataView.getInt16(this.position,null==m?this.endianness:m);return this.position+=2,_},S.prototype.readInt8=function(){var m=this._dataView.getInt8(this.position);return this.position+=1,m},S.prototype.readUint32=function(m){var _=this._dataView.getUint32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readUint16=function(m){var _=this._dataView.getUint16(this.position,null==m?this.endianness:m);return this.position+=2,_},S.prototype.readUint8=function(){var m=this._dataView.getUint8(this.position);return this.position+=1,m},S.prototype.readFloat32=function(m){var _=this._dataView.getFloat32(this.position,null==m?this.endianness:m);return this.position+=4,_},S.prototype.readFloat64=function(m){var _=this._dataView.getFloat64(this.position,null==m?this.endianness:m);return this.position+=8,_},S.prototype.writeInt32=function(m,_){this._realloc(4),this._dataView.setInt32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeInt16=function(m,_){this._realloc(2),this._dataView.setInt16(this.position,m,null==_?this.endianness:_),this.position+=2},S.prototype.writeInt8=function(m){this._realloc(1),this._dataView.setInt8(this.position,m),this.position+=1},S.prototype.writeUint32=function(m,_){this._realloc(4),this._dataView.setUint32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeUint16=function(m,_){this._realloc(2),this._dataView.setUint16(this.position,m,null==_?this.endianness:_),this.position+=2},S.prototype.writeUint8=function(m){this._realloc(1),this._dataView.setUint8(this.position,m),this.position+=1},S.prototype.writeFloat32=function(m,_){this._realloc(4),this._dataView.setFloat32(this.position,m,null==_?this.endianness:_),this.position+=4},S.prototype.writeFloat64=function(m,_){this._realloc(8),this._dataView.setFloat64(this.position,m,null==_?this.endianness:_),this.position+=8},S.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,S.memcpy=function(m,_,f,p,d){var b=new Uint8Array(m,_,d),C=new Uint8Array(f,p,d);b.set(C)},S.arrayToNative=function(m,_){return _==this.endianness?m:this.flipArrayEndianness(m)},S.nativeToEndian=function(m,_){return this.endianness==_?m:this.flipArrayEndianness(m)},S.flipArrayEndianness=function(m){for(var _=new Uint8Array(m.buffer,m.byteOffset,m.byteLength),f=0;f<m.byteLength;f+=m.BYTES_PER_ELEMENT)for(var p=f+m.BYTES_PER_ELEMENT-1,d=f;p>d;p--,d++){var b=_[d];_[d]=_[p],_[p]=b}return m},S.createStringFromArray=function(m){for(var _=[],f=0;f<m.length;f+=32768)_.push(String.fromCharCode.apply(null,m.subarray(f,f+32768)));return _.join("")},S.prototype.failurePosition=0,S.prototype.readStruct=function(m){for(var f,p={},d=this.position,b=0;b<m.length;b+=2){if(null==(f=this.readType(m[b+1],p)))return 0==this.failurePosition&&(this.failurePosition=this.position),this.position=d,null;p[m[b]]=f}return p},S.prototype.readUCS2String=function(m,_){return S.createStringFromArray(this.readUint16Array(m,_))},S.prototype.writeUCS2String=function(m,_,f){null==f&&(f=m.length);for(var p=0;p<m.length&&p<f;p++)this.writeUint16(m.charCodeAt(p),_);for(;p<f;p++)this.writeUint16(0)},S.prototype.readString=function(m,_){return null==_||"ASCII"==_?S.createStringFromArray(this.mapUint8Array(null==m?this.byteLength-this.position:m)):new TextDecoder(_).decode(this.mapUint8Array(m))},S.prototype.writeString=function(m,_,f){if(null==_||"ASCII"==_)if(null!=f){var p=0,d=Math.min(m.length,f);for(p=0;p<d;p++)this.writeUint8(m.charCodeAt(p));for(;p<f;p++)this.writeUint8(0)}else for(p=0;p<m.length;p++)this.writeUint8(m.charCodeAt(p));else this.writeUint8Array(new TextEncoder(_).encode(m.substring(0,f)))},S.prototype.readCString=function(m){var _=this.byteLength-this.position,f=new Uint8Array(this._buffer,this._byteOffset+this.position),p=_;null!=m&&(p=Math.min(m,_));for(var d=0;d<p&&0!=f[d];d++);var b=S.createStringFromArray(this.mapUint8Array(d));return null!=m?this.position+=p-d:d!=_&&(this.position+=1),b},S.prototype.writeCString=function(m,_){if(null!=_){var f=0,p=Math.min(m.length,_);for(f=0;f<p;f++)this.writeUint8(m.charCodeAt(f));for(;f<_;f++)this.writeUint8(0)}else{for(f=0;f<m.length;f++)this.writeUint8(m.charCodeAt(f));this.writeUint8(0)}},S.prototype.readType=function(m,_){if("function"==typeof m)return m(this,_);if(!("object"!=typeof m||m instanceof Array))return m.get(this,_);if(m instanceof Array&&3!=m.length)return this.readStruct(m,_);var f,p=null,d=null,b="ASCII",C=this.position;switch("string"==typeof m&&/:/.test(m)&&(m=(f=m.split(":"))[0],d=null!=_[h=f[1]]?parseInt(_[h]):parseInt(f[1])),"string"==typeof m&&/,/.test(m)&&(m=(f=m.split(","))[0],b=parseInt(f[1])),m){case"uint8":p=this.readUint8();break;case"int8":p=this.readInt8();break;case"uint16":p=this.readUint16(this.endianness);break;case"int16":p=this.readInt16(this.endianness);break;case"uint32":p=this.readUint32(this.endianness);break;case"int32":p=this.readInt32(this.endianness);break;case"float32":p=this.readFloat32(this.endianness);break;case"float64":p=this.readFloat64(this.endianness);break;case"uint16be":p=this.readUint16(S.BIG_ENDIAN);break;case"int16be":p=this.readInt16(S.BIG_ENDIAN);break;case"uint32be":p=this.readUint32(S.BIG_ENDIAN);break;case"int32be":p=this.readInt32(S.BIG_ENDIAN);break;case"float32be":p=this.readFloat32(S.BIG_ENDIAN);break;case"float64be":p=this.readFloat64(S.BIG_ENDIAN);break;case"uint16le":p=this.readUint16(S.LITTLE_ENDIAN);break;case"int16le":p=this.readInt16(S.LITTLE_ENDIAN);break;case"uint32le":p=this.readUint32(S.LITTLE_ENDIAN);break;case"int32le":p=this.readInt32(S.LITTLE_ENDIAN);break;case"float32le":p=this.readFloat32(S.LITTLE_ENDIAN);break;case"float64le":p=this.readFloat64(S.LITTLE_ENDIAN);break;case"cstring":p=this.readCString(d);break;case"string":p=this.readString(d,b);break;case"u16string":p=this.readUCS2String(d,this.endianness);break;case"u16stringle":p=this.readUCS2String(d,S.LITTLE_ENDIAN);break;case"u16stringbe":p=this.readUCS2String(d,S.BIG_ENDIAN);break;default:if(3==m.length){var h,v=m[1],O=0;if(O="function"==typeof(h=m[2])?h(_,this,m):"string"==typeof h&&null!=_[h]?parseInt(_[h]):parseInt(h),"string"==typeof v){var x=v.replace(/(le|be)$/,""),N=null;switch(/le$/.test(v)?N=S.LITTLE_ENDIAN:/be$/.test(v)&&(N=S.BIG_ENDIAN),"*"==h&&(O=null),x){case"uint8":p=this.readUint8Array(O);break;case"uint16":p=this.readUint16Array(O,N);break;case"uint32":p=this.readUint32Array(O,N);break;case"int8":p=this.readInt8Array(O);break;case"int16":p=this.readInt16Array(O,N);break;case"int32":p=this.readInt32Array(O,N);break;case"float32":p=this.readFloat32Array(O,N);break;case"float64":p=this.readFloat64Array(O,N);break;case"cstring":case"utf16string":case"string":if(null==O)for(p=[];!this.isEof()&&null!=(j=this.readType(v,_));)p.push(j);else{p=new Array(O);for(var G=0;G<O;G++)p[G]=this.readType(v,_)}}}else if("*"==h)for(p=[];;){var H=this.position;try{var L=this.readType(v,_);if(null==L){this.position=H;break}p.push(L)}catch(k){this.position=H;break}}else for(p=new Array(O),G=0;G<O;G++){var j;if(null==(j=this.readType(v,_)))return null;p[G]=j}break}}return null!=d&&(this.position=C+d),p},S.prototype.writeStruct=function(m,_){for(var f=0;f<m.length;f+=2)this.writeType(m[f+1],_[m[f]],_)},S.prototype.writeType=function(m,_,f){if("function"==typeof m)return m(this,_);if("object"==typeof m&&!(m instanceof Array))return m.set(this,_,f);var p,d=null,b="ASCII",C=this.position;switch("string"==typeof m&&/:/.test(m)&&(m=(p=m.split(":"))[0],d=parseInt(p[1])),"string"==typeof m&&/,/.test(m)&&(m=(p=m.split(","))[0],b=parseInt(p[1])),m){case"uint8":this.writeUint8(_);break;case"int8":this.writeInt8(_);break;case"uint16":this.writeUint16(_,this.endianness);break;case"int16":this.writeInt16(_,this.endianness);break;case"uint32":this.writeUint32(_,this.endianness);break;case"int32":this.writeInt32(_,this.endianness);break;case"float32":this.writeFloat32(_,this.endianness);break;case"float64":this.writeFloat64(_,this.endianness);break;case"uint16be":this.writeUint16(_,S.BIG_ENDIAN);break;case"int16be":this.writeInt16(_,S.BIG_ENDIAN);break;case"uint32be":this.writeUint32(_,S.BIG_ENDIAN);break;case"int32be":this.writeInt32(_,S.BIG_ENDIAN);break;case"float32be":this.writeFloat32(_,S.BIG_ENDIAN);break;case"float64be":this.writeFloat64(_,S.BIG_ENDIAN);break;case"uint16le":this.writeUint16(_,S.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(_,S.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(_,S.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(_,S.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(_,S.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(_,S.LITTLE_ENDIAN);break;case"cstring":this.writeCString(_,d);break;case"string":this.writeString(_,b,d);break;case"u16string":this.writeUCS2String(_,this.endianness,d);break;case"u16stringle":this.writeUCS2String(_,S.LITTLE_ENDIAN,d);break;case"u16stringbe":this.writeUCS2String(_,S.BIG_ENDIAN,d);break;default:if(3==m.length){for(var h=m[1],v=0;v<_.length;v++)this.writeType(h,_[v]);break}this.writeStruct(m,_)}null!=d&&(this.position=C,this._realloc(d),this.position=C+d)},void 0===(y=function(){return S}.apply(M,[]))||(T.exports=y),"object"==typeof T&&T&&T.exports&&(T.exports=S)}).call(this,c(173)(U))},function(U,M,c){var T=c(24),y=c(12);U.exports=function(S){if(void 0===S)return 0;var m=T(S),_=y(m);if(m!==_)throw RangeError("Wrong length!");return _}},function(U,M,c){"use strict";var T=c(41),y=c(29).getWeak,S=c(5),m=c(4),_=c(42),f=c(62),p=c(19),d=c(16),b=c(40),C=p(5),h=p(6),v=0,O=function(G){return G._l||(G._l=new x)},x=function(){this.a=[]},N=function(G,H){return C(G.a,function(L){return L[0]===H})};x.prototype={get:function(G){var H=N(this,G);if(H)return H[1]},has:function(G){return!!N(this,G)},set:function(G,H){var L=N(this,G);L?L[1]=H:this.a.push([G,H])},delete:function(G){var H=h(this.a,function(L){return L[0]===G});return~H&&this.a.splice(H,1),!!~H}},U.exports={getConstructor:function(G,H,L,j){var k=G(function(V,J){_(V,k,H,"_i"),V._t=H,V._i=v++,V._l=void 0,null!=J&&f(J,L,V[j],V)});return T(k.prototype,{delete:function(V){if(!m(V))return!1;var J=y(V);return!0===J?O(b(this,H)).delete(V):J&&d(J,this._i)&&delete J[this._i]},has:function(V){if(!m(V))return!1;var J=y(V);return!0===J?O(b(this,H)).has(V):J&&d(J,this._i)}}),k},def:function(G,H,L){var j=y(S(H),!0);return!0===j?O(G).set(H,L):j[G._i]=L,G},ufstore:O}},function(U,M,c){"use strict";var T=c(10).f,y=c(33),S=c(41),m=c(27),_=c(42),f=c(62),p=c(84),d=c(127),b=c(43),C=c(11),h=c(29).fastKey,v=c(40),O=C?"_s":"size",x=function(N,G){var H,L=h(G);if("F"!==L)return N._i[L];for(H=N._f;H;H=H.n)if(H.k==G)return H};U.exports={getConstructor:function(N,G,H,L){var j=N(function(k,V){_(k,j,G,"_i"),k._t=G,k._i=y(null),k._f=void 0,k._l=void 0,k[O]=0,null!=V&&f(V,H,k[L],k)});return S(j.prototype,{clear:function(){for(var k=v(this,G),V=k._i,J=k._f;J;J=J.n)J.r=!0,J.p&&(J.p=J.p.n=void 0),delete V[J.i];k._f=k._l=void 0,k[O]=0},delete:function(k){var V=v(this,G),J=x(V,k);if(J){var W=J.n,ee=J.p;delete V._i[J.i],J.r=!0,ee&&(ee.n=W),W&&(W.p=ee),V._f==J&&(V._f=W),V._l==J&&(V._l=ee),V[O]--}return!!J},forEach:function(k){v(this,G);for(var V,J=m(k,arguments.length>1?arguments[1]:void 0,3);V=V?V.n:this._f;)for(J(V.v,V.k,this);V&&V.r;)V=V.p},has:function(k){return!!x(v(this,G),k)}}),C&&T(j.prototype,"size",{get:function(){return v(this,G)[O]}}),j},def:function(N,G,H){var L,j,k=x(N,G);return k?k.v=H:(N._l=k={i:j=h(G,!0),k:G,v:H,p:L=N._l,n:void 0,r:!1},N._f||(N._f=k),L&&(L.n=k),N[O]++,"F"!==j&&(N._i[j]=k)),N},getEntry:x,setStrong:function(N,G,H){p(N,G,function(L,j){this._t=v(L,G),this._k=j,this._l=void 0},function(){for(var L=this._k,j=this._l;j&&j.r;)j=j.p;return this._t&&(this._l=j=j?j.n:this._t._f)?d(0,"keys"==L?j.k:"values"==L?j.v:[j.k,j.v]):(this._t=void 0,d(1))},H?"entries":"values",!H,!0),b(G)}}},function(U,M,c){"use strict";var T=c(26);U.exports.f=function(y){return new function(S){var m,_;this.promise=new S(function(f,p){if(void 0!==m||void 0!==_)throw TypeError("Bad Promise constructor");m=f,_=p}),this.resolve=T(m),this.reject=T(_)}(y)}},function(U,M,c){var T,y,S,m=c(27),_=c(141),f=c(90),p=c(96),d=c(6),b=d.process,C=d.setImmediate,h=d.clearImmediate,v=d.MessageChannel,O=d.Dispatch,x=0,N={},G=function(){var L=+this;if(N.hasOwnProperty(L)){var j=N[L];delete N[L],j()}},H=function(L){G.call(L.data)};C&&h||(C=function(L){for(var j=[],k=1;arguments.length>k;)j.push(arguments[k++]);return N[++x]=function(){_("function"==typeof L?L:Function(L),j)},T(x),x},h=function(L){delete N[L]},"process"==c(25)(b)?T=function(L){b.nextTick(m(G,L,1))}:O&&O.now?T=function(L){O.now(m(G,L,1))}:v?(S=(y=new v).port2,y.port1.onmessage=H,T=m(S.postMessage,S,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(T=function(L){d.postMessage(L+"","*")},d.addEventListener("message",H,!1)):T="onreadystatechange"in p("script")?function(L){f.appendChild(p("script")).onreadystatechange=function(){f.removeChild(this),G.call(L)}}:function(L){setTimeout(m(G,L,1),0)}),U.exports={set:C,clear:h}},function(U,M,c){c(11)&&"g"!=/./g.flags&&c(10).f(RegExp.prototype,"flags",{configurable:!0,get:c(77)})},function(U,M){U.exports=function(c,T){return{value:T,done:!!c}}},function(U,M,c){"use strict";var T=c(52),y=c(127),S=c(53),m=c(21);U.exports=c(84)(Array,"Array",function(_,f){this._t=m(_),this._i=0,this._k=f},function(){var _=this._t,f=this._k,p=this._i++;return!_||p>=_.length?(this._t=void 0,y(1)):y(0,"keys"==f?p:"values"==f?_[p]:[p,_[p]])},"values"),S.Arguments=S.Array,T("keys"),T("values"),T("entries")},function(U,M,c){"use strict";var T=c(14),y=c(34),S=c(12);U.exports=[].copyWithin||function(m,_){var f=T(this),p=S(f.length),d=y(m,p),b=y(_,p),C=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===C?p:y(C,p))-b,p-d),v=1;for(b<d&&d<b+h&&(v=-1,b+=h-1,d+=h-1);h-- >0;)b in f?f[d]=f[b]:delete f[d],d+=v,b+=v;return f}},function(U,M,c){var T=c(26),y=c(14),S=c(54),m=c(12);U.exports=function(_,f,p,d,b){T(f);var C=y(_),h=S(C),v=m(C.length),O=b?v-1:0,x=b?-1:1;if(p<2)for(;;){if(O in h){d=h[O],O+=x;break}if(O+=x,b?O<0:v<=O)throw TypeError("Reduce of empty array with no initial value")}for(;b?O>=0:v>O;O+=x)O in h&&(d=f(d,h[O],O,C));return d}},function(U,M,c){"use strict";var T=c(10),y=c(36);U.exports=function(S,m,_){m in S?T.f(S,m,y(0,_)):S[m]=_}},function(U,M,c){var T=c(5);U.exports=function(y,S,m,_){try{return _?S(T(m)[0],m[1]):S(m)}catch(p){var f=y.return;throw void 0!==f&&T(f.call(y)),p}}},function(U,M,c){"use strict";var T=c(33),y=c(36),S=c(45),m={};c(18)(m,c(7)("iterator"),function(){return this}),U.exports=function(_,f,p){_.prototype=T(m,{next:y(1,p)}),S(_,f+" Iterator")}},function(U,M,c){var T=c(24),y=c(28);U.exports=function(S){return function(m,_){var f,p,d=String(y(m)),b=T(_),C=d.length;return b<0||b>=C?S?"":void 0:(f=d.charCodeAt(b))<55296||f>56319||b+1===C||(p=d.charCodeAt(b+1))<56320||p>57343?S?d.charAt(b):f:S?d.slice(b,b+2):p-56320+(f-55296<<10)+65536}}},function(U,M){U.exports=Math.log1p||function(c){return(c=+c)>-1e-8&&c<1e-8?c-c*c/2:Math.log(1+c)}},function(U,M,c){var T=c(4),y=Math.floor;U.exports=function(S){return!T(S)&&isFinite(S)&&y(S)===S}},function(U,M,c){"use strict";var T=c(24),y=c(28);U.exports=function(S){var m=String(y(this)),_="",f=T(S);if(f<0||f==1/0)throw RangeError("Count can't be negative");for(;f>0;(f>>>=1)&&(m+=m))1&f&&(_+=m);return _}},function(U,M,c){var T=c(25);U.exports=function(y,S){if("number"!=typeof y&&"Number"!=T(y))throw TypeError(S);return+y}},function(U,M,c){var T=c(6).parseFloat,y=c(65).trim;U.exports=1/T(c(88)+"-0")!=-1/0?function(S){var m=y(String(S),3),_=T(m);return 0===_&&"-"==m.charAt(0)?-0:_}:T},function(U,M,c){var T=c(6).parseInt,y=c(65).trim,S=c(88),m=/^[-+]?0[xX]/;U.exports=8!==T(S+"08")||22!==T(S+"0x16")?function(_,f){var p=y(String(_),3);return T(p,f>>>0||(m.test(p)?16:10))}:T},function(U,M){U.exports=function(c,T,y){var S=void 0===y;switch(T.length){case 0:return S?c():c.call(y);case 1:return S?c(T[0]):c.call(y,T[0]);case 2:return S?c(T[0],T[1]):c.call(y,T[0],T[1]);case 3:return S?c(T[0],T[1],T[2]):c.call(y,T[0],T[1],T[2]);case 4:return S?c(T[0],T[1],T[2],T[3]):c.call(y,T[0],T[1],T[2],T[3])}return c.apply(y,T)}},function(U,M,c){"use strict";var T=c(26),y=c(4),S=c(141),m=[].slice,_={};U.exports=Function.bind||function(f){var p=T(this),d=m.call(arguments,1),b=function(){var C=d.concat(m.call(arguments));return this instanceof b?function(h,v,O){if(!(v in _)){for(var x=[],N=0;N<v;N++)x[N]="a["+N+"]";_[v]=Function("F,a","return new F("+x.join(",")+")")}return _[v](h,O)}(p,C.length,C):S(p,C,f)};return y(p.prototype)&&(b.prototype=p.prototype),b}},function(U,M,c){"use strict";var T=c(55),y=c(68),S=c(67),m=c(14),_=c(54),f=Object.assign;U.exports=!f||c(3)(function(){var p={},d={},b=Symbol(),C="abcdefghijklmnopqrst";return p[b]=7,C.split("").forEach(function(h){d[h]=h}),7!=f({},p)[b]||Object.keys(f({},d)).join("")!=C})?function(p,d){for(var b=m(p),C=arguments.length,h=1,v=y.f,O=S.f;C>h;)for(var x,N=_(arguments[h++]),G=v?T(N).concat(v(N)):T(N),H=G.length,L=0;H>L;)O.call(N,x=G[L++])&&(b[x]=N[x]);return b}:f},function(U,M,c){var T=c(21),y=c(32).f,S={}.toString,m="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];U.exports.f=function(_){return m&&"[object Window]"==S.call(_)?function(f){try{return y(f)}catch(p){return m.slice()}}(_):y(T(_))}},function(U,M,c){var T=c(10),y=c(5),S=c(55);U.exports=c(11)?Object.defineProperties:function(m,_){y(m);for(var f,p=S(_),d=p.length,b=0;d>b;)T.f(m,f=p[b++],_[f]);return m}},function(U,M,c){var T=c(16),y=c(21),S=c(94)(!1),m=c(93)("IE_PROTO");U.exports=function(_,f){var p,d=y(_),b=0,C=[];for(p in d)p!=m&&T(d,p)&&C.push(p);for(;f.length>b;)T(d,p=f[b++])&&(~S(C,p)||C.push(p));return C}},function(U,M,c){M.f=c(7)},function(U,M,c){U.exports=!c(11)&&!c(3)(function(){return 7!=Object.defineProperty(c(96)("div"),"a",{get:function(){return 7}}).a})},function(U,M,c){"use strict";Number.MAX_SAFE_INTEGER||(Number.MAX_SAFE_INTEGER=9007199254740991),Number.isInteger=Number.isInteger||function(T){return"number"==typeof T&&isFinite(T)&&Math.floor(T)===T},Number.isSafeInteger=Number.isSafeInteger||function(T){return Number.isInteger(T)&&Math.abs(T)<=Number.MAX_SAFE_INTEGER},Number.isFinite=Number.isFinite||function(T){return"number"==typeof T&&isFinite(T)},Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(T){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof T)throw new TypeError("predicate must be a function");for(var y=Object(this),S=y.length>>>0,m=arguments[1],_=0;_!==S;_++)if(T.call(m,this[_],_,y))return this[_]}})},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BuddyMessageRequest=void 0;var T=c(70),y=c(1),S=c(58),m=function(_){function f(p,d){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this));if(null!=d&&!(d instanceof S.SFSBuddy))throw new y.SFSError("Target buddy must be an instance of SFSBuddy class");return C._type=T.GenericMessageType.BUDDY_MSG,C._message=p,C._recipient=null!=d?d.id:-1,C._params=b,Object.seal(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,T.GenericMessageRequest),f}();M.BuddyMessageRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.QuickJoinGameRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(9),_=c(38),f=function(p){function d(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.QuickJoinGame));return v._matchExpression=b,v._whereToSearch=C,v._roomToLeave=h,Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_ROOM_LIST",get:function(){return"rl"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}},{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"MAX_ROOMS",get:function(){return 32}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._matchExpression||this._matchExpression instanceof _.MatchExpression||C.push("Match expression must be an instance of MatchExpression class"),null==this._whereToSearch||this._whereToSearch.length<1?C.push("Missing list of Rooms or Group names where to search the game to join"):this._whereToSearch.length>d.MAX_ROOMS&&C.push("Too many Rooms specified in list where to search the game to join; client limit is: "+d.MAX_ROOMS),null==this._roomToLeave||this._roomToLeave instanceof m.SFSRoom||C.push("Room to leave must be an instance of SFSRoom class"),C.length>0)throw new S.SFSValidationError("QuickJoinGameRequest Error",C)}},{key:"execute",value:function(b){if("string"==typeof this._whereToSearch[0])this._reqObj.putUtfStringArray(d.KEY_GROUP_LIST,this._whereToSearch);else{if(!(this._whereToSearch[0]instanceof m.SFSRoom))throw new S.SFSError("Invalid type in whereToSearch parameter");var C=[],h=!0,v=!1,O=void 0;try{for(var x,N=this._whereToSearch[Symbol.iterator]();!(h=(x=N.next()).done);h=!0){var G=x.value;G instanceof m.SFSRoom&&C.push(G.id)}}catch(H){v=!0,O=H}finally{try{!h&&N.return&&N.return()}finally{if(v)throw O}}this._reqObj.putIntArray(d.KEY_ROOM_LIST,C)}null!=this._roomToLeave&&this._reqObj.putInt(d.KEY_ROOM_TO_LEAVE,this._roomToLeave.id),null!=this._matchExpression&&this._reqObj.putSFSArray(d.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray())}}]),d}();M.QuickJoinGameRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.JoinRoomInvitationRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(9),_=c(8),f=function(p){function d(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:30,O=arguments.length>4&&void 0!==arguments[4]&&arguments[4];!function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}(this,d);var x=function(N,G){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?N:G}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.JoinRoomInvite));return x._targetRoom=b,x._invitedUserNames=C,x._params=h,x._expirySeconds=v,x._asSpectator=O,Object.seal(x),x}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_EXPIRY_SECONDS",get:function(){return"es"}},{key:"KEY_INVITED_NAMES",get:function(){return"in"}},{key:"KEY_AS_SPECT",get:function(){return"as"}},{key:"KEY_OPTIONAL_PARAMS",get:function(){return"op"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._targetRoom&&C.push("Missing target room"),null==this._targetRoom||this._targetRoom instanceof m.SFSRoom||C.push("Target room must be an instance of SFSRoom class"),null==this._invitedUserNames?C.push("No invitees provided"):this._invitedUserNames instanceof Array?this._invitedUserNames.length<1&&C.push("No invitees provided"):C.push("Invited user names must be passed in an array"),null==this._params||this._params instanceof _.SFSObject||C.push("Custom invitation parameters must be set in a SFSObject class instance"),C.length>0)throw new S.SFSValidationError("JoinRoomInvitationRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(d.KEY_ROOM_ID,this._targetRoom.id),this._reqObj.putUtfStringArray(d.KEY_INVITED_NAMES,this._invitedUserNames),this._reqObj.putInt(d.KEY_EXPIRY_SECONDS,this._expirySeconds),this._reqObj.putBool(d.KEY_AS_SPECT,this._asSpectator),null!=this._params&&this._reqObj.putSFSObject(d.KEY_OPTIONAL_PARAMS,this._params)}}]),d}();M.JoinRoomInvitationRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.InvitationReplyRequest=void 0;var T=function(){function p(d,b){for(var C=0;C<b.length;C++){var h=b[C];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}return function(d,b,C){return b&&p(d.prototype,b),C&&p(d,C),d}}(),y=c(2),S=c(1),m=c(8),_=c(72),f=function(p){function d(b,C){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,d);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,y.Requests.InvitationReply));return v._invitation=b,v._reply=C,v._params=h,Object.seal(v),v}return function(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}(d,y.BaseRequest),T(d,null,[{key:"KEY_INVITATION_ID",get:function(){return"i"}},{key:"KEY_INVITATION_REPLY",get:function(){return"r"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"p"}}]),T(d,[{key:"validate",value:function(b){var C=[];if(null==this._invitation?C.push("Missing invitation object"):this._invitation instanceof _.SFSInvitation||C.push("Invitation object must be an instance of Invitation class"),null==this._params||this._params instanceof m.SFSObject||C.push("Custom invitation parameters must be set in a SFSObject class instance"),C.length>0)throw new S.SFSValidationError("InvitationReplyRequest Error",C)}},{key:"execute",value:function(b){this._reqObj.putInt(d.KEY_INVITATION_ID,this._invitation.id),this._reqObj.putByte(d.KEY_INVITATION_REPLY,this._reply),null!=this._params&&this._reqObj.putSFSObject(d.KEY_INVITATION_PARAMS,this._params)}}]),d}();M.InvitationReplyRequest=f},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.CreateSFSGameRequest=void 0;var T=function(){function v(O,x){for(var N=0;N<x.length;N++){var G=x[N];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(O,G.key,G)}}return function(O,x,N){return x&&v(O.prototype,x),N&&v(O,N),O}}(),y=c(2),S=c(1),m=c(56),_=c(57),f=c(69),p=c(47),d=c(58),b=c(8),C=c(38),h=function(v){function O(x){!function(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}(this,O);var N=function(G,H){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!H||"object"!=typeof H&&"function"!=typeof H?G:H}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,y.Requests.CreateSFSGame));return N._settings=x,N._createRoomRequest=new _.CreateRoomRequest(x,!1,null),Object.seal(N),N}return function(x,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);x.prototype=Object.create(N&&N.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(x,N):x.__proto__=N)}(O,y.BaseRequest),T(O,null,[{key:"KEY_IS_PUBLIC",get:function(){return"gip"}},{key:"KEY_MIN_PLAYERS",get:function(){return"gmp"}},{key:"KEY_INVITED_PLAYERS",get:function(){return"ginp"}},{key:"KEY_SEARCHABLE_ROOMS",get:function(){return"gsr"}},{key:"KEY_PLAYER_MATCH_EXP",get:function(){return"gpme"}},{key:"KEY_SPECTATOR_MATCH_EXP",get:function(){return"gsme"}},{key:"KEY_INVITATION_EXPIRY",get:function(){return"gie"}},{key:"KEY_LEAVE_ROOM",get:function(){return"glr"}},{key:"KEY_NOTIFY_GAME_STARTED",get:function(){return"gns"}},{key:"KEY_INVITATION_PARAMS",get:function(){return"ip"}}]),T(O,[{key:"validate",value:function(x){if(!(this._settings instanceof m.SFSGameSettings))throw new S.SFSValidationError("CreateSFSGameRequest Error",["Room configuration must be an instance of SFSGameSettings class"]);var N=[];try{this._createRoomRequest.validate(x)}catch(G){N=G.getErrors()}if(this._settings.minPlayersToStartGame>this._settings.maxUsers&&N.push("Minimum number of players to start the game can't be greater than the Room's maximum number of users"),(this._settings.invitationExpiryTime<f.InviteUsersRequest.MIN_EXPIRY_TIME||this._settings.invitationExpiryTime>f.InviteUsersRequest.MAX_EXPIRY_TIME)&&N.push("Invitation expiration time value is out of range (min: "+f.InviteUsersRequest.MIN_EXPIRY_TIME+"; max: "+f.InviteUsersRequest.MAX_EXPIRY_TIME+")"),null!=this._settings.invitedPlayers&&(this._settings.invitedPlayers instanceof Array?(this._settings.invitedPlayers.length>f.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE&&N.push("Can't invite more than "+f.InviteUsersRequest.MAX_INVITATIONS_FROM_CLIENT_SIDE+" players from client side"),this._settings.invitedPlayers.every(function(G){return G instanceof p.SFSUser||G instanceof d.SFSBuddy})||N.push("Each invited player must be an instance of SFSUser or SFSBuddy classes")):N.push("Invited players must be passed in an array")),null==this._settings.playerMatchExpression||this._settings.playerMatchExpression instanceof C.MatchExpression||N.push("Player match expression must be an instance of MatchExpression class"),null==this._settings.spectatorMatchExpression||this._settings.spectatorMatchExpression instanceof C.MatchExpression||N.push("Spectator match expression must be an instance of MatchExpression class"),null==this._settings.invitationParams||this._settings.invitationParams instanceof b.SFSObject||N.push("Custom invitation parameters must be set in a SFSObject class instance"),N.length>0)throw new S.SFSValidationError("CreateSFSGameRequest Error",N)}},{key:"execute",value:function(x){if(this._createRoomRequest.execute(x),this._reqObj=this._createRoomRequest._reqObj,this._reqObj.putBool(O.KEY_IS_PUBLIC,this._settings.isPublic),this._reqObj.putShort(O.KEY_MIN_PLAYERS,this._settings.minPlayersToStartGame),this._reqObj.putShort(O.KEY_INVITATION_EXPIRY,this._settings.invitationExpiryTime),this._reqObj.putBool(O.KEY_LEAVE_ROOM,this._settings.leaveLastJoinedRoom),this._reqObj.putBool(O.KEY_NOTIFY_GAME_STARTED,this._settings.notifyGameStarted),null!=this._settings.playerMatchExpression&&this._reqObj.putSFSArray(O.KEY_PLAYER_MATCH_EXP,this._settings.playerMatchExpression.toSFSArray()),null!=this._settings.spectatorMatchExpression&&this._reqObj.putSFSArray(O.KEY_SPECTATOR_MATCH_EXP,this._settings.spectatorMatchExpression.toSFSArray()),null!=this._settings.invitedPlayers){var N=[],G=!0,H=!1,L=void 0;try{for(var j,k=this._settings.invitedPlayers[Symbol.iterator]();!(G=(j=k.next()).done);G=!0)N.push(j.value.id)}catch(J){H=!0,L=J}finally{try{!G&&k.return&&k.return()}finally{if(H)throw L}}this._reqObj.putIntArray(O.KEY_INVITED_PLAYERS,N)}null!=this._settings.searchableRooms&&this._reqObj.putUtfStringArray(O.KEY_SEARCHABLE_ROOMS,this._settings.searchableRooms),null!=this._settings.invitationParams&&this._reqObj.putSFSObject(O.KEY_INVITATION_PARAMS,this._settings.invitationParams)}}]),O}();M.CreateSFSGameRequest=h},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.BanUserRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:24;!function(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}(this,f);var v=function(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!x||"object"!=typeof x&&"function"!=typeof x?O:x}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.BanUser));return v._userId=p,v._message=d,v._banMode=b,v._delay=C,v._durationHours=h,Object.seal(v),v}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}},{key:"KEY_BAN_MODE",get:function(){return"b"}},{key:"KEY_BAN_DURATION_HOURS",get:function(){return"dh"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(d.length>0)throw new S.SFSValidationError("BanUserRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putInt(f.KEY_USER_ID,this._userId),this._reqObj.putInt(f.KEY_DELAY,this._delay),this._reqObj.putInt(f.KEY_BAN_MODE,this._banMode),this._reqObj.putInt(f.KEY_BAN_DURATION_HOURS,this._durationHours),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(f.KEY_MESSAGE,this._message)}}]),f}();M.BanUserRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.KickUserRequest=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(2),S=c(1),m=function(_){function f(p){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;!function(h,v){if(!(h instanceof v))throw new TypeError("Cannot call a class as a function")}(this,f);var C=function(h,v){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!v||"object"!=typeof v&&"function"!=typeof v?h:v}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,y.Requests.KickUser));return b<0&&(b=0),C._userId=p,C._message=d,C._delay=b,Object.seal(C),C}return function(p,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);p.prototype=Object.create(d&&d.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(p,d):p.__proto__=d)}(f,y.BaseRequest),T(f,null,[{key:"KEY_USER_ID",get:function(){return"u"}},{key:"KEY_MESSAGE",get:function(){return"m"}},{key:"KEY_DELAY",get:function(){return"d"}}]),T(f,[{key:"validate",value:function(p){var d=[];if(d.length>0)throw new S.SFSValidationError("KickUserRequest Error",d)}},{key:"execute",value:function(p){this._reqObj.putInt(f.KEY_USER_ID,this._userId),this._reqObj.putInt(f.KEY_DELAY,this._delay),null!=this._message&&this._message.length>0&&this._reqObj.putUtfString(f.KEY_MESSAGE,this._message)}}]),f}();M.KickUserRequest=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LeaveRoomRequest=void 0;var T=function(){function f(p,d){for(var b=0;b<d.length;b++){var C=d[b];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,d,b){return d&&f(p.prototype,d),b&&f(p,b),p}}(),y=c(2),S=c(1),m=c(9),_=function(f){function p(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(C,h){if(!(C instanceof h))throw new TypeError("Cannot call a class as a function")}(this,p);var b=function(C,h){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?C:h}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,y.Requests.LeaveRoom));return b._room=d,Object.seal(b),b}return function(d,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);d.prototype=Object.create(b&&b.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(d,b):d.__proto__=b)}(p,y.BaseRequest),T(p,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}}]),T(p,[{key:"validate",value:function(d){var b=[];if(d.getJoinedRooms().length<1&&b.push("You are not joined in any Room"),null==this._room||this._room instanceof m.SFSRoom||b.push("Room must be an instance of SFSRoom class"),b.length>0)throw new S.SFSValidationError("LeaveRoomRequest Error",b)}},{key:"execute",value:function(d){null!=this._room&&this._reqObj.putInt(p.KEY_ROOM_ID,this._room.id)}}]),p}();M.LeaveRoomRequest=_},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.QuickJoinOrCreateRoomRequest=void 0;var T=function(){function d(b,C){for(var h=0;h<C.length;h++){var v=C[h];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,C,h){return C&&d(b.prototype,C),h&&d(b,h),b}}(),y=c(2),S=c(57),m=c(1),_=c(9),f=c(38),p=function(d){function b(C,h,v){var O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(N,G){if(!(N instanceof G))throw new TypeError("Cannot call a class as a function")}(this,b);var x=function(N,G){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!G||"object"!=typeof G&&"function"!=typeof G?N:G}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,y.Requests.QuickJoinOrCreateRoom));return x._matchExpression=C,x._groupList=h,x._settings=v,x._roomToLeave=O,x._createRoomRequest=new S.CreateRoomRequest(v,!1,null),Object.seal(x),x}return function(C,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);C.prototype=Object.create(h&&h.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(C,h):C.__proto__=h)}(b,y.BaseRequest),T(b,null,[{key:"KEY_MATCH_EXPRESSION",get:function(){return"me"}},{key:"KEY_GROUP_LIST",get:function(){return"gl"}},{key:"KEY_ROOM_SETTINGS",get:function(){return"rs"}},{key:"KEY_ROOM_TO_LEAVE",get:function(){return"tl"}}]),T(b,[{key:"validate",value:function(C){if(!(this._matchExpression instanceof f.MatchExpression))throw new m.SFSValidationError("QuickJoinOrCreateRoomRequest Error",["Match expression must be an instance of MatchExpression class"]);var h=[];(null==this._groupList||this._groupList.length<1)&&h.push("Missing list of Group names where to search the game to join"),null==this._roomToLeave||this._roomToLeave instanceof _.SFSRoom||h.push("Room to leave must be an instance of SFSRoom class");try{this._createRoomRequest.validate(C)}catch(v){h=h.concat(v.errors)}if(h.length>0)throw new m.SFSValidationError("QuickJoinOrCreateRoomRequest Error",h)}},{key:"execute",value:function(C){this._createRoomRequest.execute(C);var h=this._createRoomRequest.getMessage().content;this._reqObj.putSFSArray(b.KEY_MATCH_EXPRESSION,this._matchExpression.toSFSArray()),this._reqObj.putUtfStringArray(b.KEY_GROUP_LIST,this._groupList),this._reqObj.putSFSObject(b.KEY_ROOM_SETTINGS,h),null!=this._roomToLeave&&this._reqObj.putInt(b.KEY_ROOM_TO_LEAVE,this._roomToLeave.id)}}]),b}();M.QuickJoinOrCreateRoomRequest=p},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PasswordUtil=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(71),S=function(){function m(){throw function(_,f){if(!(_ instanceof f))throw new TypeError("Cannot call a class as a function")}(this,m),"Class PasswordUtil cannot be instantiated. Please check the documentation for more details on its usage"}return T(m,null,[{key:"md5Password",value:function(_){return(new y.MD5).hex_md5(_)}}]),m}();M.PasswordUtil=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=Object.freeze({NAME:"${N}",GROUP_ID:"${G}",MAX_USERS:"${MXU}",MAX_SPECTATORS:"${MXS}",USER_COUNT:"${UC}",SPECTATOR_COUNT:"${SC}",IS_GAME:"${ISG}",IS_PRIVATE:"${ISP}",HAS_FREE_PLAYER_SLOTS:"${HFP}",IS_TYPE_SFSGAME:"${IST}",IS_TYPE_MMO:"${ISM}",IS_TYPE_DEFAULT:"${ISD}"}),y=Object.freeze({NAME:"${N}",IS_PLAYER:"${ISP}",IS_SPECTATOR:"${ISS}",IS_NPC:"${ISN}",PRIVILEGE_ID:"${PRID}",IS_IN_ANY_ROOM:"${IAR}"});M.RoomProperties=T,M.UserProperties=y},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function b(C,h){for(var v=0;v<h.length;v++){var O=h[v];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(C,O.key,O)}}return function(C,h,v){return h&&b(C.prototype,h),v&&b(C,v),C}}();function y(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}function S(b,C){if("function"!=typeof C&&null!==C)throw new TypeError("Super expression must either be null or a function, not "+typeof C);b.prototype=Object.create(C&&C.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(b,C):b.__proto__=C)}function m(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}var _=function(){function b(C,h){m(this,b),this._type=C,this._symbol=h,Object.freeze(this)}return T(b,[{key:"type",get:function(){return this._type}},{key:"symbol",get:function(){return this._symbol}}]),b}(),f=function(b){function C(h){m(this,C);var v=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,0,h));return Object.freeze(v),v}return S(C,_),T(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}}]),C}(),p=function(b){function C(h){m(this,C);var v=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,1,h));return Object.freeze(v),v}return S(C,_),T(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}},{key:"GREATER_THAN",get:function(){return new C(">")}},{key:"GREATER_THAN_OR_EQUAL_TO",get:function(){return new C(">=")}},{key:"LESS_THAN",get:function(){return new C("<")}},{key:"LESS_THAN_OR_EQUAL_TO",get:function(){return new C("<=")}}]),C}(),d=function(b){function C(h){m(this,C);var v=y(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,2,h));return Object.freeze(v),v}return S(C,_),T(C,null,[{key:"EQUALS",get:function(){return new C("==")}},{key:"NOT_EQUALS",get:function(){return new C("!=")}},{key:"CONTAINS",get:function(){return new C("contains")}},{key:"STARTS_WITH",get:function(){return new C("startsWith")}},{key:"ENDS_WITH",get:function(){return new C("endsWith")}}]),C}();M.BoolMatch=f,M.NumberMatch=p,M.StringMatch=d},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.PingPongRequest=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(2),S=function(m){function _(){!function(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}(this,_);var f=function(p,d){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?p:d}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,y.Requests.PingPong));return Object.seal(f),f}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseRequest),T(_,[{key:"validate",value:function(f){}},{key:"execute",value:function(f){}}]),_}();M.PingPongRequest=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.LagMonitor=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(162),S=function(){function m(_){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;(function(d,b){if(!(d instanceof b))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._valueQueue=[],this._interval=f,this._queueSize=p,this._thread=null,this._lastReqTime=-1}return T(m,[{key:"start",value:function(){this.isRunning||null==this._sfs||(this._thread=setInterval(this._threadRunner,1e3*this._interval,this))}},{key:"stop",value:function(){this.isRunning&&(clearInterval(this._thread),this._thread=null,this._valueQueue=[])}},{key:"destroy",value:function(){this.stop(),this._sfs=null}},{key:"getLastPingTime",value:function(){return this._valueQueue.length>0?this._valueQueue[this._valueQueue.length-1]:0}},{key:"_threadRunner",value:function(_){_._lastReqTime=(new Date).getTime(),_._sfs.send(new y.PingPongRequest)}},{key:"_onPingPong",value:function(){var _=(new Date).getTime()-this._lastReqTime;return this._valueQueue.length>=this._queueSize&&this._valueQueue.shift(),this._valueQueue.push(_),this._getAveragePingTime()}},{key:"_getAveragePingTime",value:function(){if(0==this._valueQueue.length)return 0;for(var _=0,f=0;f<this._valueQueue.length;f++)_+=this._valueQueue[f];return _/this._valueQueue.length}},{key:"isRunning",get:function(){return null!=this._thread}}]),m}();M.LagMonitor=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.HandshakeRequest=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(2),S=function(m){function _(f,p){!function(b,C){if(!(b instanceof C))throw new TypeError("Cannot call a class as a function")}(this,_);var d=function(b,C){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||"object"!=typeof C&&"function"!=typeof C?b:C}(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,y.Requests.Handshake));return d._apiVersion=f,d._clientDetails=p,Object.seal(d),d}return function(f,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);f.prototype=Object.create(p&&p.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(f,p):f.__proto__=p)}(_,y.BaseRequest),T(_,null,[{key:"KEY_SESSION_TOKEN",get:function(){return"tk"}},{key:"KEY_API",get:function(){return"api"}},{key:"KEY_COMPRESSION_THRESHOLD",get:function(){return"ct"}},{key:"KEY_CLIENT_TYPE",get:function(){return"cl"}},{key:"KEY_MAX_MESSAGE_SIZE",get:function(){return"ms"}}]),T(_,[{key:"validate",value:function(f){}},{key:"execute",value:function(f){this._reqObj.putUtfString(_.KEY_API,this._apiVersion),this._reqObj.putUtfString(_.KEY_CLIENT_TYPE,this._clientDetails)}}]),_}();M.HandshakeRequest=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSBuddyManager=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(46),S=function(){function m(_){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._buddiesByName=new Map,this._myVariables=new Map,this._inited=!1,this._buddyStates=new Set,Object.seal(this)}return T(m,[{key:"containsBuddy",value:function(_){return this._buddiesByName.has(_)}},{key:"getBuddyById",value:function(_){return this.getBuddyList().find(function(f){return f.id===_})}},{key:"getBuddyByName",value:function(_){return this._buddiesByName.get(_)}},{key:"getBuddyByNickName",value:function(_){return this.getBuddyList().find(function(f){return f.nickName===_})}},{key:"getOfflineBuddies",value:function(){return this.getBuddyList().filter(function(_){return!_.isOnline})}},{key:"getOnlineBuddies",value:function(){return this.getBuddyList().filter(function(_){return _.isOnline})}},{key:"getBuddyList",value:function(){return Array.from(this._buddiesByName.values())}},{key:"getMyVariable",value:function(_){return this._myVariables.get(_)}},{key:"getMyVariables",value:function(){return Array.from(this._myVariables.values())}},{key:"getMyOnlineState",value:function(){if(!this._inited)return!1;var _=this.getMyVariable(y.ReservedBuddyVariables.BV_ONLINE);return null==_||_.value}},{key:"getMyNickName",value:function(){var _=this.getMyVariable(y.ReservedBuddyVariables.BV_NICKNAME);return null!=_?_.value:null}},{key:"getMyState",value:function(){var _=this.getMyVariable(y.ReservedBuddyVariables.BV_STATE);return null!=_?_.value:null}},{key:"getBuddyStates",value:function(){return Array.from(this._buddyStates.values())}},{key:"_setInited",value:function(){this._inited=!0}},{key:"_addBuddy",value:function(_){this._buddiesByName.set(_.name,_)}},{key:"_clearAll",value:function(){this._buddiesByName.clear()}},{key:"_removeBuddyById",value:function(_){var f=this.getBuddyById(_);return null!=f&&this._buddiesByName.delete(f.name),f}},{key:"_removeBuddyByName",value:function(_){var f=this.getBuddyByName(_);return null!=f&&this._buddiesByName.delete(_),f}},{key:"_setMyVariables",value:function(_){var f=!0,p=!1,d=void 0;try{for(var b,C=_[Symbol.iterator]();!(f=(b=C.next()).done);f=!0)this._setMyVariable(b.value)}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}},{key:"_setMyVariable",value:function(_){_.isNull?this._myVariables.delete(_.name):this._myVariables.set(_.name,_)}},{key:"_setMyOnlineState",value:function(_){this._setMyVariable(new y.SFSBuddyVariable(y.ReservedBuddyVariables.BV_ONLINE,_))}},{key:"_setMyNickName",value:function(_){this._setMyVariable(new y.SFSBuddyVariable(y.ReservedBuddyVariables.BV_NICKNAME,_))}},{key:"_setMyState",value:function(_){this._setMyVariable(new y.SFSBuddyVariable(y.ReservedBuddyVariables.BV_STATE,_))}},{key:"_setBuddyStates",value:function(_){this._buddyStates=new Set(_)}},{key:"isInited",get:function(){return this._inited}}]),m}();M.SFSBuddyManager=S},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSRoomManager=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(9),S=function(){function m(_){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._sfs=_,this._groups=new Set,this._roomsById=new Map,this._roomsByName=new Map,Object.seal(this)}return T(m,[{key:"getRoomGroups",value:function(){return Array.from(this._groups)}},{key:"containsGroup",value:function(_){return this._groups.has(_)}},{key:"containsRoom",value:function(_){return"number"==typeof _?this._roomsById.has(_):this._roomsByName.has(_)}},{key:"containsRoomInGroup",value:function(_,f){return this.getRoomListFromGroup(f).some("number"==typeof _?function(d){return d.id===_}:function(d){return d.name===_})}},{key:"getRoomById",value:function(_){return this._roomsById.get(_)}},{key:"getRoomByName",value:function(_){return this._roomsByName.get(_)}},{key:"getRoomList",value:function(){return Array.from(this._roomsById.values())}},{key:"getRoomCount",value:function(){return this._roomsById.size}},{key:"getRoomListFromGroup",value:function(_){return this.getRoomList().filter(function(f){return f.groupId===_})}},{key:"getJoinedRooms",value:function(){return this.getRoomList().filter(function(_){return _.isJoined})}},{key:"getUserRooms",value:function(_){return this.getRoomList().filter(function(f){return f.containsUser(_)})}},{key:"_addRoom",value:function(_){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._roomsById.set(_.id,_),this._roomsByName.set(_.name,_),_._setRoomManager(this),f?this._addGroup(_.groupId):_._isManaged=!1}},{key:"_replaceRoom",value:function(_){var f=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],p=this.getRoomById(_.id);return null!=p?(p._merge(_),p):(this._addRoom(_,f),_)}},{key:"_removeRoom",value:function(_){this._roomsById.delete(_.id),this._roomsByName.delete(_.name)}},{key:"_removeRoomById",value:function(_){var f=this.getRoomById(_);null!=f&&this._removeRoom(f)}},{key:"_removeRoomByName",value:function(_){var f=this.getRoomByName(_);null!=f&&this._removeRoom(f)}},{key:"_changeRoomName",value:function(_,f){var p=_.name;_._name=f,this._roomsByName.set(f,_),this._roomsByName.delete(p)}},{key:"_changeRoomPasswordState",value:function(_,f){_._isPasswordProtected=f}},{key:"_changeRoomCapacity",value:function(_,f,p){_._maxUsers=f,_._maxSpectators=p}},{key:"_addGroup",value:function(_){this.containsGroup(_)||this._groups.add(_)}},{key:"_removeGroup",value:function(_){this._groups.delete(_);var f=this.getRoomListFromGroup(_),p=!0,d=!1,b=void 0;try{for(var C,h=f[Symbol.iterator]();!(p=(C=h.next()).done);p=!0){var v=C.value;v.isJoined?v._isManaged=!1:this._removeRoom(v)}}catch(O){d=!0,b=O}finally{try{!p&&h.return&&h.return()}finally{if(d)throw b}}}},{key:"_removeUser",value:function(_){var f=!0,p=!1,d=void 0;try{for(var b,C=this.getUserRooms(_)[Symbol.iterator]();!(f=(b=C.next()).done);f=!0){var h=b.value;h instanceof y.MMORoom||h._removeUser(_)}}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}}]),m}();M.SFSRoomManager=S},function(U,M){(function(){"use strict";function c(ve){throw ve}var T=void 0,y=!0,S=this;function m(ve,ge){var we,Re=ve.split("."),Se=S;for((!(Re[0]in Se)&&Se.execScript&&Se.execScript("var "+Re[0]));Re.length&&(we=Re.shift());)Re.length||ge===T?Se=Se[we]?Se[we]:Se[we]={}:Se[we]=ge}var _="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array&&"undefined"!=typeof DataView;function f(ve,ge){this.index="number"==typeof ge?ge:0,this.i=0,this.buffer=ve instanceof(_?Uint8Array:Array)?ve:new(_?Uint8Array:Array)(32768),2*this.buffer.length<=this.index&&c(Error("invalid index")),this.buffer.length<=this.index&&this.f()}f.prototype.f=function(){var ve,ge=this.buffer,we=ge.length,Re=new(_?Uint8Array:Array)(we<<1);if(_)Re.set(ge);else for(ve=0;ve<we;++ve)Re[ve]=ge[ve];return this.buffer=Re},f.prototype.d=function(ve,ge,we){var Re,Se=this.buffer,Fe=this.index,st=this.i,_t=Se[Fe];if(we&&1<ge&&(ve=8<ge?(v[255&ve]<<24|v[ve>>>8&255]<<16|v[ve>>>16&255]<<8|v[ve>>>24&255])>>32-ge:v[ve]>>8-ge),8>ge+st)_t=_t<<ge|ve,st+=ge;else for(Re=0;Re<ge;++Re)_t=_t<<1|ve>>ge-Re-1&1,8==++st&&(st=0,Se[Fe++]=v[_t],_t=0,Fe===Se.length&&(Se=this.f()));Se[Fe]=_t,this.buffer=Se,this.i=st,this.index=Fe},f.prototype.finish=function(){var ve,ge=this.buffer,we=this.index;return 0<this.i&&(ge[we]<<=8-this.i,ge[we]=v[ge[we]],we++),_?ve=ge.subarray(0,we):(ge.length=we,ve=ge),ve};var p,d=new(_?Uint8Array:Array)(256);for(p=0;256>p;++p){for(var b=h=p,C=7,h=h>>>1;h;h>>>=1)b<<=1,b|=1&h,--C;d[p]=(b<<C&255)>>>0}var v=d;function O(ve){this.buffer=new(_?Uint16Array:Array)(2*ve),this.length=0}function x(ve){var ge,we,Re,Se,Fe,st,_t,vt,cn,wn,zn=ve.length,Ft=0,Pn=Number.POSITIVE_INFINITY;for(vt=0;vt<zn;++vt)ve[vt]>Ft&&(Ft=ve[vt]),ve[vt]<Pn&&(Pn=ve[vt]);for(ge=1<<Ft,we=new(_?Uint32Array:Array)(ge),Re=1,Se=0,Fe=2;Re<=Ft;){for(vt=0;vt<zn;++vt)if(ve[vt]===Re){for(st=0,_t=Se,cn=0;cn<Re;++cn)st=st<<1|1&_t,_t>>=1;for(wn=Re<<16|vt,cn=st;cn<ge;cn+=Fe)we[cn]=wn;++Se}++Re,Se<<=1,Fe<<=1}return[we,Ft,Pn]}function N(ve,ge){this.h=H,this.w=0,this.input=_&&ve instanceof Array?new Uint8Array(ve):ve,this.b=0,ge&&(ge.lazy&&(this.w=ge.lazy),"number"==typeof ge.compressionType&&(this.h=ge.compressionType),ge.outputBuffer&&(this.a=_&&ge.outputBuffer instanceof Array?new Uint8Array(ge.outputBuffer):ge.outputBuffer),"number"==typeof ge.outputIndex&&(this.b=ge.outputIndex)),this.a||(this.a=new(_?Uint8Array:Array)(32768))}O.prototype.getParent=function(ve){return 2*((ve-2)/4|0)},O.prototype.push=function(ve,ge){var we,Re,Se,Fe=this.buffer;for(we=this.length,Fe[this.length++]=ge,Fe[this.length++]=ve;0<we&&(Re=this.getParent(we),Fe[we]>Fe[Re]);)Se=Fe[we],Fe[we]=Fe[Re],Fe[Re]=Se,Se=Fe[we+1],Fe[we+1]=Fe[Re+1],Fe[Re+1]=Se,we=Re;return this.length},O.prototype.pop=function(){var ve,ge,we,Re,Se,Fe=this.buffer;for(ge=Fe[0],ve=Fe[1],this.length-=2,Fe[0]=Fe[this.length],Fe[1]=Fe[this.length+1],Se=0;!((Re=2*Se+2)>=this.length)&&(Re+2<this.length&&Fe[Re+2]>Fe[Re]&&(Re+=2),Fe[Re]>Fe[Se]);)we=Fe[Se],Fe[Se]=Fe[Re],Fe[Re]=we,we=Fe[Se+1],Fe[Se+1]=Fe[Re+1],Fe[Re+1]=we,Se=Re;return{index:ve,value:ge,length:this.length}};var G,H=2,L={NONE:0,r:1,k:H,O:3},j=[];for(G=0;288>G;G++)switch(y){case 143>=G:j.push([G+48,8]);break;case 255>=G:j.push([G-144+400,9]);break;case 279>=G:j.push([G-256+0,7]);break;case 287>=G:j.push([G-280+192,8]);break;default:c("invalid literal: "+G)}N.prototype.j=function(){var ve,ge,we,Re,Se=this.input;switch(this.h){case 0:for(we=0,Re=Se.length;we<Re;){var st,_t,vt=ge=_?Se.subarray(we,we+65535):Se.slice(we,we+65535),cn=(we+=ge.length)===Re,wn=T,zn=T,Ft=this.a,Pn=this.b;if(_){for(Ft=new Uint8Array(this.a.buffer);Ft.length<=Pn+vt.length+5;)Ft=new Uint8Array(Ft.length<<1);Ft.set(this.a)}if(Ft[Pn++]=0|(cn?1:0),_t=65536+~(st=vt.length)&65535,Ft[Pn++]=255&st,Ft[Pn++]=st>>>8&255,Ft[Pn++]=255&_t,Ft[Pn++]=_t>>>8&255,_)Ft.set(vt,Pn),Ft=Ft.subarray(0,Pn+=vt.length);else{for(wn=0,zn=vt.length;wn<zn;++wn)Ft[Pn++]=vt[wn];Ft.length=Pn}this.b=Pn,this.a=Ft}break;case 1:var en=new f(_?new Uint8Array(this.a.buffer):this.a,this.b);en.d(1,1,y),en.d(1,2,y);var Bt,Sn,ar,lr=J(this,Se);for(Bt=0,Sn=lr.length;Bt<Sn;Bt++)if(f.prototype.d.apply(en,j[ar=lr[Bt]]),256<ar)en.d(lr[++Bt],lr[++Bt],y),en.d(lr[++Bt],5),en.d(lr[++Bt],lr[++Bt],y);else if(256===ar)break;this.a=en.finish(),this.b=this.a.length;break;case H:var Nn,Xt,_i,Wt,Bi,ur,pt,cr,kr,Bs,Ec,Ls,Il,hr,Io,zr=new f(_?new Uint8Array(this.a.buffer):this.a,this.b),wi=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Fr=Array(19);for(Nn=H,zr.d(1,1,y),zr.d(Nn,2,y),Xt=J(this,Se),pt=q(ur=ee(this.M,15)),kr=q(cr=ee(this.L,7)),_i=286;257<_i&&0===ur[_i-1];_i--);for(Wt=30;1<Wt&&0===cr[Wt-1];Wt--);var Qe,Et,Lt,ci,rn,Pi,ls=_i,on=Wt,Ai=new(_?Uint32Array:Array)(ls+on),dr=new(_?Uint32Array:Array)(316),po=new(_?Uint8Array:Array)(19);for(Qe=Et=0;Qe<ls;Qe++)Ai[Et++]=ur[Qe];for(Qe=0;Qe<on;Qe++)Ai[Et++]=cr[Qe];if(!_)for(Qe=0,ci=po.length;Qe<ci;++Qe)po[Qe]=0;for(Qe=rn=0,ci=Ai.length;Qe<ci;Qe+=Et){for(Et=1;Qe+Et<ci&&Ai[Qe+Et]===Ai[Qe];++Et);if(Lt=Et,0===Ai[Qe])if(3>Lt)for(;0<Lt--;)dr[rn++]=0,po[0]++;else for(;0<Lt;)(Pi=138>Lt?Lt:138)>Lt-3&&Pi<Lt&&(Pi=Lt-3),10>=Pi?(dr[rn++]=17,dr[rn++]=Pi-3,po[17]++):(dr[rn++]=18,dr[rn++]=Pi-11,po[18]++),Lt-=Pi;else if(dr[rn++]=Ai[Qe],po[Ai[Qe]]++,3>--Lt)for(;0<Lt--;)dr[rn++]=Ai[Qe],po[Ai[Qe]]++;else for(;0<Lt;)(Pi=6>Lt?Lt:6)>Lt-3&&Pi<Lt&&(Pi=Lt-3),dr[rn++]=16,dr[rn++]=Pi-3,po[16]++,Lt-=Pi}for(ve=_?dr.subarray(0,rn):dr.slice(0,rn),Bs=ee(po,7),hr=0;19>hr;hr++)Fr[hr]=Bs[wi[hr]];for(Bi=19;4<Bi&&0===Fr[Bi-1];Bi--);for(Ec=q(Bs),zr.d(_i-257,5,y),zr.d(Wt-1,5,y),zr.d(Bi-4,4,y),hr=0;hr<Bi;hr++)zr.d(Fr[hr],3,y);for(hr=0,Io=ve.length;hr<Io;hr++)if(zr.d(Ec[Ls=ve[hr]],Bs[Ls],y),16<=Ls){switch(hr++,Ls){case 16:Il=2;break;case 17:Il=3;break;case 18:Il=7;break;default:c("invalid code: "+Ls)}zr.d(ve[hr],Il,y)}var $r,vr,Nl,ma,yu,Sc,Ln,fi,$n=[pt,ur],go=[kr,cr];for(yu=$n[0],Sc=$n[1],Ln=go[0],fi=go[1],$r=0,vr=Xt.length;$r<vr;++$r)if(zr.d(yu[Nl=Xt[$r]],Sc[Nl],y),256<Nl)zr.d(Xt[++$r],Xt[++$r],y),ma=Xt[++$r],zr.d(Ln[ma],fi[ma],y),zr.d(Xt[++$r],Xt[++$r],y);else if(256===Nl)break;this.a=zr.finish(),this.b=this.a.length;break;default:c("invalid compression type")}return this.a};var k=function(){function ve(Se){switch(y){case 3===Se:return[257,Se-3,0];case 4===Se:return[258,Se-4,0];case 5===Se:return[259,Se-5,0];case 6===Se:return[260,Se-6,0];case 7===Se:return[261,Se-7,0];case 8===Se:return[262,Se-8,0];case 9===Se:return[263,Se-9,0];case 10===Se:return[264,Se-10,0];case 12>=Se:return[265,Se-11,1];case 14>=Se:return[266,Se-13,1];case 16>=Se:return[267,Se-15,1];case 18>=Se:return[268,Se-17,1];case 22>=Se:return[269,Se-19,2];case 26>=Se:return[270,Se-23,2];case 30>=Se:return[271,Se-27,2];case 34>=Se:return[272,Se-31,2];case 42>=Se:return[273,Se-35,3];case 50>=Se:return[274,Se-43,3];case 58>=Se:return[275,Se-51,3];case 66>=Se:return[276,Se-59,3];case 82>=Se:return[277,Se-67,4];case 98>=Se:return[278,Se-83,4];case 114>=Se:return[279,Se-99,4];case 130>=Se:return[280,Se-115,4];case 162>=Se:return[281,Se-131,5];case 194>=Se:return[282,Se-163,5];case 226>=Se:return[283,Se-195,5];case 257>=Se:return[284,Se-227,5];case 258===Se:return[285,Se-258,0];default:c("invalid length: "+Se)}}var ge,we,Re=[];for(ge=3;258>=ge;ge++)we=ve(ge),Re[ge]=we[2]<<24|we[1]<<16|we[0];return Re}(),V=_?new Uint32Array(k):k;function J(ve,ge){function we(Nn,Xt){var _i,Wt,Bi,ur,pt=Nn.H,cr=[],kr=0;switch(cr[kr++]=65535&(_i=V[Nn.length]),cr[kr++]=_i>>16&255,cr[kr++]=_i>>24,y){case 1===pt:Wt=[0,pt-1,0];break;case 2===pt:Wt=[1,pt-2,0];break;case 3===pt:Wt=[2,pt-3,0];break;case 4===pt:Wt=[3,pt-4,0];break;case 6>=pt:Wt=[4,pt-5,1];break;case 8>=pt:Wt=[5,pt-7,1];break;case 12>=pt:Wt=[6,pt-9,2];break;case 16>=pt:Wt=[7,pt-13,2];break;case 24>=pt:Wt=[8,pt-17,3];break;case 32>=pt:Wt=[9,pt-25,3];break;case 48>=pt:Wt=[10,pt-33,4];break;case 64>=pt:Wt=[11,pt-49,4];break;case 96>=pt:Wt=[12,pt-65,5];break;case 128>=pt:Wt=[13,pt-97,5];break;case 192>=pt:Wt=[14,pt-129,6];break;case 256>=pt:Wt=[15,pt-193,6];break;case 384>=pt:Wt=[16,pt-257,7];break;case 512>=pt:Wt=[17,pt-385,7];break;case 768>=pt:Wt=[18,pt-513,8];break;case 1024>=pt:Wt=[19,pt-769,8];break;case 1536>=pt:Wt=[20,pt-1025,9];break;case 2048>=pt:Wt=[21,pt-1537,9];break;case 3072>=pt:Wt=[22,pt-2049,10];break;case 4096>=pt:Wt=[23,pt-3073,10];break;case 6144>=pt:Wt=[24,pt-4097,11];break;case 8192>=pt:Wt=[25,pt-6145,11];break;case 12288>=pt:Wt=[26,pt-8193,12];break;case 16384>=pt:Wt=[27,pt-12289,12];break;case 24576>=pt:Wt=[28,pt-16385,13];break;case 32768>=pt:Wt=[29,pt-24577,13];break;default:c("invalid distance")}for(cr[kr++]=(_i=Wt)[0],cr[kr++]=_i[1],cr[kr++]=_i[2],Bi=0,ur=cr.length;Bi<ur;++Bi)Pn[en++]=cr[Bi];Sn[cr[0]]++,ar[cr[3]]++,Bt=Nn.length+Xt-1,wn=null}var Re,Se,Fe,st,_t,vt,cn,wn,zn,Ft={},Pn=_?new Uint16Array(2*ge.length):[],en=0,Bt=0,Sn=new(_?Uint32Array:Array)(286),ar=new(_?Uint32Array:Array)(30),lr=ve.w;if(!_){for(Fe=0;285>=Fe;)Sn[Fe++]=0;for(Fe=0;29>=Fe;)ar[Fe++]=0}for(Sn[256]=1,Re=0,Se=ge.length;Re<Se;++Re){for(Fe=_t=0,st=3;Fe<st&&Re+Fe!==Se;++Fe)_t=_t<<8|ge[Re+Fe];if(Ft[_t]===T&&(Ft[_t]=[]),vt=Ft[_t],!(0<Bt--)){for(;0<vt.length&&32768<Re-vt[0];)vt.shift();if(Re+3>=Se){for(wn&&we(wn,-1),Fe=0,st=Se-Re;Fe<st;++Fe)Pn[en++]=zn=ge[Re+Fe],++Sn[zn];break}0<vt.length?(cn=W(ge,Re,vt),wn?wn.length<cn.length?(Pn[en++]=zn=ge[Re-1],++Sn[zn],we(cn,0)):we(wn,-1):cn.length<lr?wn=cn:we(cn,0)):wn?we(wn,-1):(Pn[en++]=zn=ge[Re],++Sn[zn])}vt.push(Re)}return Pn[en++]=256,Sn[256]++,ve.M=Sn,ve.L=ar,_?Pn.subarray(0,en):Pn}function W(ve,ge,we){var Re,Se,Fe,st,_t,vt,cn=0,wn=ve.length;st=0,vt=we.length;e:for(;st<vt;st++){if(Re=we[vt-st-1],Fe=3,3<cn){for(_t=cn;3<_t;_t--)if(ve[Re+_t-1]!==ve[ge+_t-1])continue e;Fe=cn}for(;258>Fe&&ge+Fe<wn&&ve[Re+Fe]===ve[ge+Fe];)++Fe;if(Fe>cn&&(Se=Re,cn=Fe),258===Fe)break}return new function(zn,Ft){this.length=zn,this.H=Ft}(cn,ge-Se)}function ee(ve,ge){var we,Re,Se,Fe,st,_t=ve.length,vt=new O(572),cn=new(_?Uint8Array:Array)(_t);if(!_)for(Fe=0;Fe<_t;Fe++)cn[Fe]=0;for(Fe=0;Fe<_t;++Fe)0<ve[Fe]&&vt.push(Fe,ve[Fe]);if(we=Array(vt.length/2),Re=new(_?Uint32Array:Array)(vt.length/2),1===we.length)return cn[vt.pop().index]=1,cn;for(Fe=0,st=vt.length/2;Fe<st;++Fe)we[Fe]=vt.pop(),Re[Fe]=we[Fe].value;for(Se=function(wn,zn,Ft){function Pn(kr){var Bs=Bi[kr][ur[kr]];Bs===zn?(Pn(kr+1),Pn(kr+1)):--_i[Bs],++ur[kr]}var en,Bt,Sn,ar,lr,Nn=new(_?Uint16Array:Array)(Ft),Xt=new(_?Uint8Array:Array)(Ft),_i=new(_?Uint8Array:Array)(zn),Wt=Array(Ft),Bi=Array(Ft),ur=Array(Ft),pt=(1<<Ft)-zn,cr=1<<Ft-1;for(Nn[Ft-1]=zn,Bt=0;Bt<Ft;++Bt)pt<cr?Xt[Bt]=0:(Xt[Bt]=1,pt-=cr),pt<<=1,Nn[Ft-2-Bt]=(Nn[Ft-1-Bt]/2|0)+zn;for(Nn[0]=Xt[0],Wt[0]=Array(Nn[0]),Bi[0]=Array(Nn[0]),Bt=1;Bt<Ft;++Bt)Nn[Bt]>2*Nn[Bt-1]+Xt[Bt]&&(Nn[Bt]=2*Nn[Bt-1]+Xt[Bt]),Wt[Bt]=Array(Nn[Bt]),Bi[Bt]=Array(Nn[Bt]);for(en=0;en<zn;++en)_i[en]=Ft;for(Sn=0;Sn<Nn[Ft-1];++Sn)Wt[Ft-1][Sn]=wn[Sn],Bi[Ft-1][Sn]=Sn;for(en=0;en<Ft;++en)ur[en]=0;for(1===Xt[Ft-1]&&(--_i[0],++ur[Ft-1]),Bt=Ft-2;0<=Bt;--Bt){for(ar=en=0,lr=ur[Bt+1],Sn=0;Sn<Nn[Bt];Sn++)(ar=Wt[Bt+1][lr]+Wt[Bt+1][lr+1])>wn[en]?(Wt[Bt][Sn]=ar,Bi[Bt][Sn]=zn,lr+=2):(Wt[Bt][Sn]=wn[en],Bi[Bt][Sn]=en,++en);ur[Bt]=0,1===Xt[Bt]&&Pn(Bt)}return _i}(Re,Re.length,ge),Fe=0,st=we.length;Fe<st;++Fe)cn[we[Fe].index]=Se[Fe];return cn}function q(ve){var ge,we,Re,Se,Fe=new(_?Uint16Array:Array)(ve.length),st=[],_t=[],vt=0;for(ge=0,we=ve.length;ge<we;ge++)st[ve[ge]]=1+(0|st[ve[ge]]);for(ge=1,we=16;ge<=we;ge++)_t[ge]=vt,vt+=0|st[ge],vt<<=1;for(ge=0,we=ve.length;ge<we;ge++)for(vt=_t[ve[ge]],_t[ve[ge]]+=1,Re=Fe[ge]=0,Se=ve[ge];Re<Se;Re++)Fe[ge]=Fe[ge]<<1|1&vt,vt>>>=1;return Fe}function ce(ve,ge){switch(this.l=[],this.m=32768,this.e=this.g=this.c=this.q=0,this.input=_?new Uint8Array(ve):ve,this.s=!1,this.n=_e,this.C=!1,!ge&&(ge={})||(ge.index&&(this.c=ge.index),ge.bufferSize&&(this.m=ge.bufferSize),ge.bufferType&&(this.n=ge.bufferType),ge.resize&&(this.C=ge.resize)),this.n){case Te:this.b=32768,this.a=new(_?Uint8Array:Array)(32768+this.m+258);break;case _e:this.b=0,this.a=new(_?Uint8Array:Array)(this.m),this.f=this.K,this.t=this.I,this.o=this.J;break;default:c(Error("invalid inflate mode"))}}var Te=0,_e=1,Ee={F:Te,D:_e};ce.prototype.p=function(){for(;!this.s;){var ve=et(this,3);switch(1&ve&&(this.s=y),ve>>>=1){case 0:var ge=this.input,we=this.c,Re=this.a,Se=this.b,Fe=ge.length,st=T,_t=Re.length,vt=T;switch(this.e=this.g=0,we+1>=Fe&&c(Error("invalid uncompressed block header: LEN")),st=ge[we++]|ge[we++]<<8,we+1>=Fe&&c(Error("invalid uncompressed block header: NLEN")),st===~(ge[we++]|ge[we++]<<8)&&c(Error("invalid uncompressed block header: length verify")),we+st>ge.length&&c(Error("input buffer is broken")),this.n){case Te:for(;Se+st>Re.length;){if(st-=vt=_t-Se,_)Re.set(ge.subarray(we,we+vt),Se),Se+=vt,we+=vt;else for(;vt--;)Re[Se++]=ge[we++];this.b=Se,Re=this.f(),Se=this.b}break;case _e:for(;Se+st>Re.length;)Re=this.f({v:2});break;default:c(Error("invalid inflate mode"))}if(_)Re.set(ge.subarray(we,we+st),Se),Se+=st,we+=st;else for(;st--;)Re[Se++]=ge[we++];this.c=we,this.b=Se,this.a=Re;break;case 1:this.o(pe,ze);break;case 2:Ye(this);break;default:c(Error("unknown BTYPE: "+ve))}}return this.t()};var $,se,Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],be=_?new Uint16Array(Z):Z,oe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,258,258],le=_?new Uint16Array(oe):oe,de=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0],Be=_?new Uint8Array(de):de,Je=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],Le=_?new Uint16Array(Je):Je,Ot=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],qe=_?new Uint8Array(Ot):Ot,je=new(_?Uint8Array:Array)(288);for($=0,se=je.length;$<se;++$)je[$]=143>=$?8:255>=$?9:279>=$?7:8;var ie,fe,pe=x(je),Ge=new(_?Uint8Array:Array)(30);for(ie=0,fe=Ge.length;ie<fe;++ie)Ge[ie]=5;var ze=x(Ge);function et(ve,ge){for(var we,Re=ve.g,Se=ve.e,Fe=ve.input,st=ve.c,_t=Fe.length;Se<ge;)st>=_t&&c(Error("input buffer is broken")),Re|=Fe[st++]<<Se,Se+=8;return we=Re&(1<<ge)-1,ve.g=Re>>>ge,ve.e=Se-ge,ve.c=st,we}function xe(ve,ge){for(var we,Re,Se=ve.g,Fe=ve.e,st=ve.input,_t=ve.c,vt=st.length,cn=ge[0],wn=ge[1];Fe<wn&&!(_t>=vt);)Se|=st[_t++]<<Fe,Fe+=8;return Re=(we=cn[Se&(1<<wn)-1])>>>16,ve.g=Se>>Re,ve.e=Fe-Re,ve.c=_t,65535&we}function Ye(ve){function ge(wn,zn,Ft){var Pn,en,Bt,Sn=this.z;for(Bt=0;Bt<wn;)switch(Pn=xe(this,zn),Pn){case 16:for(en=3+et(this,2);en--;)Ft[Bt++]=Sn;break;case 17:for(en=3+et(this,3);en--;)Ft[Bt++]=0;Sn=0;break;case 18:for(en=11+et(this,7);en--;)Ft[Bt++]=0;Sn=0;break;default:Sn=Ft[Bt++]=Pn}return this.z=Sn,Ft}var we,Re,Se,Fe,st=et(ve,5)+257,_t=et(ve,5)+1,vt=et(ve,4)+4,cn=new(_?Uint8Array:Array)(be.length);for(Fe=0;Fe<vt;++Fe)cn[be[Fe]]=et(ve,3);if(!_)for(Fe=vt,vt=cn.length;Fe<vt;++Fe)cn[be[Fe]]=0;we=x(cn),Re=new(_?Uint8Array:Array)(st),Se=new(_?Uint8Array:Array)(_t),ve.z=0,ve.o(x(ge.call(ve,st,we,Re)),x(ge.call(ve,_t,we,Se)))}function Yt(ve){if("string"==typeof ve){var ge,we,Re=ve.split("");for(ge=0,we=Re.length;ge<we;ge++)Re[ge]=(255&Re[ge].charCodeAt(0))>>>0;ve=Re}for(var Se,Fe=1,st=0,_t=ve.length,vt=0;0<_t;){_t-=Se=1024<_t?1024:_t;do{st+=Fe+=ve[vt++]}while(--Se);Fe%=65521,st%=65521}return(st<<16|Fe)>>>0}function It(ve,ge){var we,Re;this.input=ve,this.c=0,!ge&&(ge={})||(ge.index&&(this.c=ge.index),ge.verify&&(this.N=ge.verify)),we=ve[this.c++],Re=ve[this.c++],(15&we)===$t?this.method=$t:c(Error("unsupported compression method")),((we<<8)+Re)%31!=0&&c(Error("invalid fcheck flag:"+((we<<8)+Re)%31)),32&Re&&c(Error("fdict flag is not supported")),this.B=new ce(ve,{index:this.c,bufferSize:ge.bufferSize,bufferType:ge.bufferType,resize:ge.resize})}ce.prototype.o=function(ve,ge){var we=this.a,Re=this.b;this.u=ve;for(var Se,Fe,st,_t,vt=we.length-258;256!==(Se=xe(this,ve));)if(256>Se)Re>=vt&&(this.b=Re,we=this.f(),Re=this.b),we[Re++]=Se;else for(_t=le[Fe=Se-257],0<Be[Fe]&&(_t+=et(this,Be[Fe])),Se=xe(this,ge),st=Le[Se],0<qe[Se]&&(st+=et(this,qe[Se])),Re>=vt&&(this.b=Re,we=this.f(),Re=this.b);_t--;)we[Re]=we[Re++-st];for(;8<=this.e;)this.e-=8,this.c--;this.b=Re},ce.prototype.J=function(ve,ge){var we=this.a,Re=this.b;this.u=ve;for(var Se,Fe,st,_t,vt=we.length;256!==(Se=xe(this,ve));)if(256>Se)Re>=vt&&(vt=(we=this.f()).length),we[Re++]=Se;else for(_t=le[Fe=Se-257],0<Be[Fe]&&(_t+=et(this,Be[Fe])),Se=xe(this,ge),st=Le[Se],0<qe[Se]&&(st+=et(this,qe[Se])),Re+_t>vt&&(vt=(we=this.f()).length);_t--;)we[Re]=we[Re++-st];for(;8<=this.e;)this.e-=8,this.c--;this.b=Re},ce.prototype.f=function(){var ve,ge,we=new(_?Uint8Array:Array)(this.b-32768),Re=this.b-32768,Se=this.a;if(_)we.set(Se.subarray(32768,we.length));else for(ve=0,ge=we.length;ve<ge;++ve)we[ve]=Se[ve+32768];if(this.l.push(we),this.q+=we.length,_)Se.set(Se.subarray(Re,Re+32768));else for(ve=0;32768>ve;++ve)Se[ve]=Se[Re+ve];return this.b=32768,Se},ce.prototype.K=function(ve){var ge,we,Re,Se=this.input.length/this.c+1|0,st=this.a;return ve&&("number"==typeof ve.v&&(Se=ve.v),"number"==typeof ve.G&&(Se+=ve.G)),we=2>Se?(Re=(this.input.length-this.c)/this.u[2]/2*258|0)<st.length?st.length+Re:st.length<<1:st.length*Se,_?(ge=new Uint8Array(we)).set(st):ge=st,this.a=ge},ce.prototype.t=function(){var ve,ge,we,Re,Se,Fe=0,st=this.a,_t=this.l,vt=new(_?Uint8Array:Array)(this.q+(this.b-32768));if(0===_t.length)return _?this.a.subarray(32768,this.b):this.a.slice(32768,this.b);for(ge=0,we=_t.length;ge<we;++ge)for(Re=0,Se=(ve=_t[ge]).length;Re<Se;++Re)vt[Fe++]=ve[Re];for(ge=32768,we=this.b;ge<we;++ge)vt[Fe++]=st[ge];return this.l=[],this.buffer=vt},ce.prototype.I=function(){var ve,ge=this.b;return _?this.C?(ve=new Uint8Array(ge)).set(this.a.subarray(0,ge)):ve=this.a.subarray(0,ge):(this.a.length>ge&&(this.a.length=ge),ve=this.a),this.buffer=ve},It.prototype.p=function(){var ve,ge=this.input;return ve=this.B.p(),this.c=this.B.c,this.N&&(ge[this.c++]<<24|ge[this.c++]<<16|ge[this.c++]<<8|ge[this.c++])>>>0!==Yt(ve)&&c(Error("invalid adler-32 checksum")),ve};var $t=8;function Wn(ve,ge){this.input=ve,this.a=new(_?Uint8Array:Array)(32768),this.h=tt.k;var we,Re={};for(we in!ge&&(ge={})||"number"!=typeof ge.compressionType||(this.h=ge.compressionType),ge)Re[we]=ge[we];Re.outputBuffer=this.a,this.A=new N(this.input,Re)}var tt=L;function dt(ve,ge){var we,Re,Se,Fe;if(Object.keys)we=Object.keys(ge);else for(Re in we=[],Se=0,ge)we[Se++]=Re;for(Se=0,Fe=we.length;Se<Fe;++Se)m(ve+"."+(Re=we[Se]),ge[Re])}Wn.prototype.j=function(){var ve,ge,we,Re,Se,Fe,st,_t=0;if(st=this.a,(ve=$t)===$t?ge=Math.LOG2E*Math.log(32768)-8:c(Error("invalid compression method")),st[_t++]=we=ge<<4|ve,ve===$t)switch(this.h){case tt.NONE:Se=0;break;case tt.r:Se=1;break;case tt.k:Se=2;break;default:c(Error("unsupported compression type"))}else c(Error("invalid compression method"));return st[_t++]=(Re=Se<<6|0)|31-(256*we+Re)%31,Fe=Yt(this.input),this.A.b=_t,_t=(st=this.A.j()).length,_&&((st=new Uint8Array(st.buffer)).length<=_t+4&&(this.a=new Uint8Array(st.length+4),this.a.set(st),st=this.a),st=st.subarray(0,_t+4)),st[_t++]=Fe>>24&255,st[_t++]=Fe>>16&255,st[_t++]=Fe>>8&255,st[_t++]=255&Fe,st},m("Zlib.Inflate",It),m("Zlib.Inflate.prototype.decompress",It.prototype.p),dt("Zlib.Inflate.BufferType",{ADAPTIVE:Ee.D,BLOCK:Ee.F}),m("Zlib.Deflate",Wn),m("Zlib.Deflate.compress",function(ve,ge){return new Wn(ve,ge).j()}),m("Zlib.Deflate.prototype.compress",Wn.prototype.j),dt("Zlib.Deflate.CompressionType",{NONE:tt.NONE,FIXED:tt.r,DYNAMIC:tt.k})}).call(this)},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SocketEngine=M.SocketEvent=void 0;var T,y=function(){function G(H,L){for(var j=0;j<L.length;j++){var k=L[j];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(H,k.key,k)}}return function(H,L,j){return L&&G(H.prototype,L),j&&G(H,j),H}}(),m=(T=c(120))&&T.__esModule?T:{default:T},_=c(167),f=c(39),p=c(8),d=c(2),b=c(50),C=c(51),h=c(1);function v(G,H){if(!(G instanceof H))throw new TypeError("Cannot call a class as a function")}var O=Object.freeze({CONNECT:"socketConnect",DISCONNECT:"socketDisconnect",DATA:"socketData",IOERROR:"socketIOError"}),x=function(G){function H(L){v(this,H);var j=function(k,V){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?k:V}(this,(H.__proto__||Object.getPrototypeOf(H)).call(this));return j._sfs=L,j._logger=b.Logger.instance,j._isConnected=!1,j._isConnecting=!1,j._socket=null,j._protocolCodec=new N(L),j._disconnectionReason=C.ClientDisconnectionReason.UNKNOWN,Object.seal(j),j}return function(L,j){if("function"!=typeof j&&null!==j)throw new TypeError("Super expression must either be null or a function, not "+typeof j);L.prototype=Object.create(j&&j.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),j&&(Object.setPrototypeOf?Object.setPrototypeOf(L,j):L.__proto__=j)}(H,f.EventDispatcher),y(H,[{key:"connect",value:function(L,j,k){this._isConnecting=!0,this._socket=new WebSocket("ws"+(k?"s":"")+"://"+L+":"+j+"/BlueBox/websocket"),this._socket.binaryType="arraybuffer",this._socket._scope=this,this._socket.onopen=this._onSocketConnect,this._socket.onclose=this._onSocketDisconnect,this._socket.onmessage=this._onSocketData,this._socket.onerror=this._onSocketError}},{key:"disconnect",value:function(L){this._disconnectionReason=L,this._socket.close()}},{key:"addController",value:function(L,j){null==this._controllers[L]&&(this._controllers[L]=j)}},{key:"removeController",value:function(L){delete this._controllers[L]}},{key:"send",value:function(L){this._sfs.debug&&this._logger.debug("OUTGOING MESSAGE: "+L.dump());var j=this._protocolCodec.onPacketWrite(L);this._socket.send(j)}},{key:"_onSocketConnect",value:function(){this._scope._sfs.debug&&this._scope._logger.debug("Socket connection established"),this._scope._isConnected=!0,this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!0})}},{key:"_onSocketDisconnect",value:function(){this._scope._isConnected=!1,this._scope.isConnecting?(this._scope._sfs.debug&&this._scope._logger.debug("Can't establish socket connection"),this._scope._isConnecting=!1,this._scope.dispatchEvent(O.CONNECT,{success:!1})):(this._scope._sfs.debug&&this._scope._logger.debug("Socket disconnection occurred"),this._scope.dispatchEvent(O.DISCONNECT,{reason:this._scope._disconnectionReason}),this._scope._disconnectionReason=C.ClientDisconnectionReason.UNKNOWN)}},{key:"_onSocketData",value:function(L){var j=this._scope._protocolCodec.onPacketRead(L.data);this._scope._sfs.debug&&this._scope._logger.debug("INCOMING MESSAGE: "+j.dump()),this._scope.dispatchEvent(O.DATA,j)}},{key:"_onSocketError",value:function(L){this._scope.dispatchEvent(O.IOERROR,L.data)}},{key:"isConnected",get:function(){return this._isConnected}},{key:"isConnecting",get:function(){return this._isConnecting}},{key:"maxMessageSize",get:function(){return this._protocolCodec.maxMessageSize},set:function(L){this._protocolCodec.maxMessageSize=L}},{key:"compressionThreshold",get:function(){return this._protocolCodec.compressionThreshold},set:function(L){this._protocolCodec.compressionThreshold=L}}]),H}(),N=function(){function G(H){v(this,G),this.CONTROLLER_ID="c",this.ACTION_ID="a",this.PARAM_ID="p",this._maxMessageSize=1e4,this._compressionThreshold=1024,this._sfs=H,this._logger=b.Logger.instance,Object.seal(this)}return y(G,[{key:"onPacketRead",value:function(H){if(0!==H.byteLength){var L=new m.default(H,0,m.default.BIG_ENDIAN),j=L.readUint8(),k=(32&j)>0,V=(8&j)>0?L.readUint32():L.readUint16(),J=L.readUint8Array(V);k&&(J=this.decompress(J)),this._sfs.debug&&this._logger.debug(H.byteLength>1024?"DATA READ - Binary size > 1024; dump omitted":"DATA READ - "+C.DumpFormatter.hexDump(J));var W=p.SFSObject.newFromBinaryData(J);return new d.Message(W.get(this.ACTION_ID),W.get(this.CONTROLLER_ID),W.get(this.PARAM_ID))}this._logger.error("Unexpected empty packet data: no readable bytes available!")}},{key:"onPacketWrite",value:function(H){var L=new p.SFSObject;L.put(this.CONTROLLER_ID,H.targetController,p.SFSDataType.BYTE),L.put(this.ACTION_ID,H.id,p.SFSDataType.SHORT),L.put(this.PARAM_ID,H.content,p.SFSDataType.SFS_OBJECT);var j=L.toBinary(),k=j.byteLength,V=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN),J=128;k>this.compressionThreshold&&(J+=32,k=(j=this.compress(j)).byteLength);var W=k>65335;W&&(J+=8),V.writeUint8(J),W?V.writeUint32(k):V.writeUint16(k),V.writeUint8Array(j);var ee=new Uint8Array(V.buffer);if(ee.byteLength>this.maxMessageSize)throw new h.SFSError("Message size is too big: "+ee.byteLength+"; the server limit is: "+this.maxMessageSize);return this._sfs.debug&&this._logger.debug("DATA WRITTEN - "+C.DumpFormatter.hexDump(ee)),ee}},{key:"decompress",value:function(H){return new _.Zlib.Inflate(H).decompress()}},{key:"compress",value:function(H){return new _.Zlib.Deflate(H).compress()}},{key:"maxMessageSize",get:function(){return this._maxMessageSize},set:function(H){this._maxMessageSize=H}},{key:"compressionThreshold",get:function(){return this._compressionThreshold},set:function(H){this._compressionThreshold=H}}]),G}();M.SocketEvent=O,M.SocketEngine=x},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.ExtensionController=void 0;var T=function(){function _(f,p){for(var d=0;d<p.length;d++){var b=p[d];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(f,b.key,b)}}return function(f,p,d){return p&&_(f.prototype,p),d&&_(f,d),f}}(),y=c(39),S=c(97),m=function(){function _(f){(function(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")})(this,_),this._sfs=f,this._logger=f.logger,this._id=1,Object.freeze(this)}return T(_,[{key:"handleMessage",value:function(f,p){this._sfs.debug&&this._logger.info("Handling Extension response");var d={};d.cmd=f.get(S.ExtensionRequest.KEY_CMD),d.params=f.get(S.ExtensionRequest.KEY_PARAMS);var b=f.get(S.ExtensionRequest.KEY_ROOM);null!=b&&(d.room=this._sfs.roomManager.getRoomById(b)),this._sfs.dispatchEvent(y.SFSEvent.EXTENSION_RESPONSE,d)}},{key:"id",get:function(){return this._id}}]),_}();M.ExtensionController=m},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0});var T=function(){function S(m,_){for(var f=0;f<_.length;f++){var p=_[f];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(m,p.key,p)}}return function(m,_,f){return _&&S(m.prototype,_),f&&S(m,f),m}}(),y=function(){function S(){!function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,S)}return T(S,null,[{key:"KEY_ROOM_ID",get:function(){return"r"}},{key:"KEY_ITEM_ID",get:function(){return"i"}},{key:"KEY_VAR_LIST",get:function(){return"v"}}]),S}();M.SetMMOItemVariables=y},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MMOItem=void 0;var T=function(){function m(_,f){for(var p=0;p<f.length;p++){var d=f[p];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(_,d.key,d)}}return function(_,f,p){return f&&m(_.prototype,f),p&&m(_,p),_}}(),y=c(73),S=function(){function m(_){(function(f,p){if(!(f instanceof p))throw new TypeError("Cannot call a class as a function")})(this,m),this._id=_,this._aoiEntryPoint=null,this._variables=new Map,Object.seal(this)}return T(m,[{key:"toString",value:function(){return"[Item: "+this.id+"]"}},{key:"getVariable",value:function(_){return this._variables.get(_)}},{key:"containsVariable",value:function(_){return this._variables.has(_)}},{key:"getVariables",value:function(){return Array.from(this._variables.values())}},{key:"_setVariables",value:function(_){var f=!0,p=!1,d=void 0;try{for(var b,C=_[Symbol.iterator]();!(f=(b=C.next()).done);f=!0)this._setVariable(b.value)}catch(v){p=!0,d=v}finally{try{!f&&C.return&&C.return()}finally{if(p)throw d}}}},{key:"_setVariable",value:function(_){_.isNull?this._variables.delete(_.name):this._variables.set(_.name,_)}},{key:"id",get:function(){return this._id}},{key:"aoiEntryPoint",get:function(){return this._aoiEntryPoint}}],[{key:"fromSFSArray",value:function(_){var f=new m(_.get(0)),p=_.get(1);if(null!=p)for(var d=0;d<p.size();d++)f._setVariable(y.MMOItemVariable.fromSFSArray(p.get(d)));return f}}]),m}();M.MMOItem=S},function(U,M){!function(c){"use strict";function T(k,V,J){return V<=k&&k<=J}function y(k,V){return Math.floor(k/V)}var S=-1,m=-1;function _(k,V){if(k)throw new Error("EncodingError");return V||65533}function f(k){throw new Error("EncodingError")}function p(k){if(k=String(k).trim().toLowerCase(),Object.prototype.hasOwnProperty.call(b,k))return b[k];throw new Error("EncodingError: Unknown encoding: "+k)}var d={},b={};function C(k,V){return(V||[])[k]||null}function h(k,V){var J=V.indexOf(k);return-1===J?null:J}[{encodings:[{labels:["unicode-1-1-utf-8","utf-8","utf8"],name:"utf-8"}],heading:"The Encoding"},{encodings:[{labels:["cp864","ibm864"],name:"ibm864"},{labels:["cp866","ibm866"],name:"ibm866"},{labels:["csisolatin2","iso-8859-2","iso-ir-101","iso8859-2","iso_8859-2","l2","latin2"],name:"iso-8859-2"},{labels:["csisolatin3","iso-8859-3","iso_8859-3","iso-ir-109","l3","latin3"],name:"iso-8859-3"},{labels:["csisolatin4","iso-8859-4","iso_8859-4","iso-ir-110","l4","latin4"],name:"iso-8859-4"},{labels:["csisolatincyrillic","cyrillic","iso-8859-5","iso_8859-5","iso-ir-144"],name:"iso-8859-5"},{labels:["arabic","csisolatinarabic","ecma-114","iso-8859-6","iso_8859-6","iso-ir-127"],name:"iso-8859-6"},{labels:["csisolatingreek","ecma-118","elot_928","greek","greek8","iso-8859-7","iso_8859-7","iso-ir-126"],name:"iso-8859-7"},{labels:["csisolatinhebrew","hebrew","iso-8859-8","iso-8859-8-i","iso-ir-138","iso_8859-8","visual"],name:"iso-8859-8"},{labels:["csisolatin6","iso-8859-10","iso-ir-157","iso8859-10","l6","latin6"],name:"iso-8859-10"},{labels:["iso-8859-13"],name:"iso-8859-13"},{labels:["iso-8859-14","iso8859-14"],name:"iso-8859-14"},{labels:["iso-8859-15","iso_8859-15"],name:"iso-8859-15"},{labels:["iso-8859-16"],name:"iso-8859-16"},{labels:["koi8-r","koi8_r"],name:"koi8-r"},{labels:["koi8-u"],name:"koi8-u"},{labels:["csmacintosh","mac","macintosh","x-mac-roman"],name:"macintosh"},{labels:["iso-8859-11","tis-620","windows-874"],name:"windows-874"},{labels:["windows-1250","x-cp1250"],name:"windows-1250"},{labels:["windows-1251","x-cp1251"],name:"windows-1251"},{labels:["ascii","ansi_x3.4-1968","csisolatin1","iso-8859-1","iso8859-1","iso_8859-1","l1","latin1","us-ascii","windows-1252"],name:"windows-1252"},{labels:["cp1253","windows-1253"],name:"windows-1253"},{labels:["csisolatin5","iso-8859-9","iso-ir-148","l5","latin5","windows-1254"],name:"windows-1254"},{labels:["cp1255","windows-1255"],name:"windows-1255"},{labels:["cp1256","windows-1256"],name:"windows-1256"},{labels:["windows-1257"],name:"windows-1257"},{labels:["cp1258","windows-1258"],name:"windows-1258"},{labels:["x-mac-cyrillic","x-mac-ukrainian"],name:"x-mac-cyrillic"}],heading:"Legacy single-byte encodings"},{encodings:[{labels:["chinese","csgb2312","csiso58gb231280","gb2312","gbk","gb_2312","gb_2312-80","iso-ir-58","x-gbk"],name:"gbk"},{labels:["gb18030"],name:"gb18030"},{labels:["hz-gb-2312"],name:"hz-gb-2312"}],heading:"Legacy multi-byte Chinese (simplified) encodings"},{encodings:[{labels:["big5","big5-hkscs","cn-big5","csbig5","x-x-big5"],name:"big5"}],heading:"Legacy multi-byte Chinese (traditional) encodings"},{encodings:[{labels:["cseucpkdfmtjapanese","euc-jp","x-euc-jp"],name:"euc-jp"},{labels:["csiso2022jp","iso-2022-jp"],name:"iso-2022-jp"},{labels:["csshiftjis","ms_kanji","shift-jis","shift_jis","sjis","windows-31j","x-sjis"],name:"shift_jis"}],heading:"Legacy multi-byte Japanese encodings"},{encodings:[{labels:["cseuckr","csksc56011987","euc-kr","iso-ir-149","korean","ks_c_5601-1987","ks_c_5601-1989","ksc5601","ksc_5601","windows-949"],name:"euc-kr"},{labels:["csiso2022kr","iso-2022-kr"],name:"iso-2022-kr"}],heading:"Legacy multi-byte Korean encodings"},{encodings:[{labels:["utf-16","utf-16le"],name:"utf-16"},{labels:["utf-16be"],name:"utf-16be"}],heading:"Legacy utf-16 encodings"}].forEach(function(k){k.encodings.forEach(function(V){d[V.name]=V,V.labels.forEach(function(J){b[J]=V})})});var v=c["encoding-indexes"]||{};function O(k,V){var J=V.fatal,W=0,ee=0,q=0;this.decode=function(ce){var Te,_e=ce.get();if(_e===S&&0===W&&0===ee&&0===q)return m;if(_e!==S||0===W&&0===ee&&0===q||(W=0,ee=0,q=0,_(J)),ce.offset(1),0!==q)return Te=null,T(_e,48,57)&&(Te=function(Z){if(Z>39419&&Z<189e3||Z>1237575)return null;var be,oe=0,le=0,de=v.gb18030;for(be=0;be<de.length;++be){var Be=de[be];if(!(Be[0]<=Z))break;oe=Be[0],le=Be[1]}return le+Z-oe}(10*(126*(10*(W-129)+(ee-48))+(q-129))+_e-48)),W=0,ee=0,q=0,null===Te?(ce.offset(-3),_(J)):Te;if(0!==ee)return T(_e,129,254)?(q=_e,null):(ce.offset(-2),W=0,ee=0,_(J));if(0!==W){if(T(_e,48,57)&&k)return ee=_e,null;var Ee=W,$=null;W=0;var se=_e<127?64:65;return(T(_e,64,126)||T(_e,128,254))&&($=190*(Ee-129)+(_e-se)),Te=null===$?null:C($,v.gbk),null===$&&ce.offset(-1),null===Te?_(J):Te}return T(_e,0,127)?_e:128===_e?8364:T(_e,129,254)?(W=_e,null):_(J)}}function x(k,V){this.encode=function(J,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return J.emit(ee);var q=h(ee,v.gbk);if(null!==q){var ce=y(q,190)+129,Te=q%190;return J.emit(ce,Te+(Te<63?64:65))}if(null===q&&!k)return f();var Ee=y(y(y(q=function(be){var oe,le=0,de=0,Be=v.gb18030;for(oe=0;oe<Be.length;++oe){var Je=Be[oe];if(!(Je[1]<=be))break;le=Je[1],de=Je[0]}return de+be-le}(ee),10),126),10),$=y(y(q-=10*Ee*126*10,10),126),se=y(q-=10*$*126,10);return J.emit(Ee+129,$+48,se+129,q-10*se+48)}}function N(k,V){var J=V.fatal,W=null,ee=null;this.decode=function(q){var ce,Te=q.get();if(Te===S&&null===W&&null===ee)return m;if(Te===S&&(null!==W||null!==ee))return _(J);if(q.offset(1),null===W)return W=Te,null;if(ce=k?(W<<8)+Te:(Te<<8)+W,W=null,null!==ee){var _e=ee;return ee=null,T(ce,56320,57343)?65536+1024*(_e-55296)+(ce-56320):(q.offset(-2),_(J))}return T(ce,55296,56319)?(ee=ce,null):T(ce,56320,57343)?_(J):ce}}function G(k,V){this.encode=function(J,W){function ee(Te){var _e=Te>>8,Ee=255&Te;return k?J.emit(_e,Ee):J.emit(Ee,_e)}var q=W.get();if(q===m)return S;if(W.offset(1),T(q,55296,57343)&&f(),q<=65535)return ee(q);var ce=(q-65536)%1024+56320;return ee(y(q-65536,1024)+55296),ee(ce)}}d["utf-8"].getEncoder=function(k){return new function(V){this.encode=function(J,W){var ee,q,ce=W.get();if(ce===m)return S;if(W.offset(1),T(ce,55296,57343))return f();if(T(ce,0,127))return J.emit(ce);T(ce,128,2047)?(ee=1,q=192):T(ce,2048,65535)?(ee=2,q=224):T(ce,65536,1114111)&&(ee=3,q=240);for(var Te=J.emit(y(ce,Math.pow(64,ee))+q);ee>0;){var _e=y(ce,Math.pow(64,ee-1));Te=J.emit(128+_e%64),ee-=1}return Te}}(k)},d["utf-8"].getDecoder=function(k){return new function(V){var J=V.fatal,W=0,ee=0,q=0,ce=0;this.decode=function(Te){var _e=Te.get();if(_e===S)return 0!==ee?_(J):m;if(Te.offset(1),0===ee){if(T(_e,0,127))return _e;if(T(_e,194,223))ee=1,ce=128,W=_e-192;else if(T(_e,224,239))ee=2,ce=2048,W=_e-224;else{if(!T(_e,240,244))return _(J);ee=3,ce=65536,W=_e-240}return W*=Math.pow(64,ee),null}if(!T(_e,128,191))return W=0,ee=0,q=0,ce=0,Te.offset(-1),_(J);if(q+=1,W+=(_e-128)*Math.pow(64,ee-q),q!==ee)return null;var Ee=W,$=ce;return W=0,ee=0,q=0,ce=0,T(Ee,$,1114111)&&!T(Ee,55296,57343)?Ee:_(J)}}(k)},["ibm864","ibm866","iso-8859-2","iso-8859-3","iso-8859-4","iso-8859-5","iso-8859-6","iso-8859-7","iso-8859-8","iso-8859-10","iso-8859-13","iso-8859-14","iso-8859-15","iso-8859-16","koi8-r","koi8-u","macintosh","windows-874","windows-1250","windows-1251","windows-1252","windows-1253","windows-1254","windows-1255","windows-1256","windows-1257","windows-1258","x-mac-cyrillic"].forEach(function(k){var V=d[k],J=v[k];V.getDecoder=function(W){return new function(ee,q){var ce=q.fatal;this.decode=function(Te){var _e=Te.get();if(_e===S)return m;if(Te.offset(1),T(_e,0,127))return _e;var Ee=ee[_e-128];return null===Ee?_(ce):Ee}}(J,W)},V.getEncoder=function(W){return new function(ee,q){this.encode=function(ce,Te){var _e=Te.get();if(_e===m)return S;if(Te.offset(1),T(_e,0,127))return ce.emit(_e);var Ee=h(_e,ee);return null===Ee&&f(),ce.emit(Ee+128)}}(J,W)}}),d.gbk.getEncoder=function(k){return new x(!1,k)},d.gbk.getDecoder=function(k){return new O(!1,k)},d.gb18030.getEncoder=function(k){return new x(!0,k)},d.gb18030.getDecoder=function(k){return new O(!0,k)},d["hz-gb-2312"].getEncoder=function(k){return new function(V){var J=!1;this.encode=function(W,ee){var q=ee.get();if(q===m)return S;if(ee.offset(1),T(q,0,127)&&J)return ee.offset(-1),J=!1,W.emit(126,125);if(126===q)return W.emit(126,126);if(T(q,0,127))return W.emit(q);if(!J)return ee.offset(-1),J=!0,W.emit(126,123);var ce=h(q,v.gbk);if(null===ce)return f();var Te=y(ce,190)+1,_e=ce%190-63;return T(Te,33,126)&&T(_e,33,126)?W.emit(Te,_e):f()}}(k)},d["hz-gb-2312"].getDecoder=function(k){return new function(V){var J=V.fatal,W=!1,ee=0;this.decode=function(q){var ce=q.get();if(ce===S&&0===ee)return m;if(ce===S&&0!==ee)return ee=0,_(J);if(q.offset(1),126===ee)return ee=0,123===ce?(W=!0,null):125===ce?(W=!1,null):126===ce?126:10===ce?null:(q.offset(-1),_(J));if(0!==ee){var Te=ee;ee=0;var _e=null;return T(ce,33,126)&&(_e=C(190*(Te-1)+(ce+63),v.gbk)),10===ce&&(W=!1),null===_e?_(J):_e}return 126===ce?(ee=126,null):W?T(ce,32,127)?(ee=ce,null):(10===ce&&(W=!1),_(J)):T(ce,0,127)?ce:_(J)}}(k)},d.big5.getEncoder=function(k){return new function(V){this.encode=function(J,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return J.emit(ee);var q=h(ee,v.big5);if(null===q)return f();var ce=y(q,157)+129,Te=q%157;return J.emit(ce,Te+(Te<63?64:98))}}(k)},d.big5.getDecoder=function(k){return new function(V){var J=V.fatal,W=0,ee=null;this.decode=function(q){if(null!==ee){var ce=ee;return ee=null,ce}var Te=q.get();if(Te===S&&0===W)return m;if(Te===S&&0!==W)return W=0,_(J);if(q.offset(1),0!==W){var _e=W,Ee=null;W=0;var $=Te<127?64:98;if((T(Te,64,126)||T(Te,161,254))&&(Ee=157*(_e-129)+(Te-$)),1133===Ee)return ee=772,202;if(1135===Ee)return ee=780,202;if(1164===Ee)return ee=772,234;if(1166===Ee)return ee=780,234;var se=null===Ee?null:C(Ee,v.big5);return null===Ee&&q.offset(-1),null===se?_(J):se}return T(Te,0,127)?Te:T(Te,129,254)?(W=Te,null):_(J)}}(k)},d["euc-jp"].getEncoder=function(k){return new function(V){this.encode=function(J,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return J.emit(ee);if(165===ee)return J.emit(92);if(8254===ee)return J.emit(126);if(T(ee,65377,65439))return J.emit(142,ee-65377+161);var q=h(ee,v.jis0208);if(null===q)return f();var ce=y(q,94)+161;return J.emit(ce,q%94+161)}}(k)},d["euc-jp"].getDecoder=function(k){return new function(V){var J=V.fatal,W=0,ee=0;this.decode=function(q){var ce,Te,_e=q.get();return _e===S?0===W&&0===ee?m:(W=0,ee=0,_(J)):(q.offset(1),0!==ee?(ce=ee,ee=0,Te=null,T(ce,161,254)&&T(_e,161,254)&&(Te=C(94*(ce-161)+_e-161,v.jis0212)),T(_e,161,254)||q.offset(-1),null===Te?_(J):Te):142===W&&T(_e,161,223)?(W=0,65377+_e-161):143===W&&T(_e,161,254)?(W=0,ee=_e,null):0!==W?(ce=W,W=0,Te=null,T(ce,161,254)&&T(_e,161,254)&&(Te=C(94*(ce-161)+_e-161,v.jis0208)),T(_e,161,254)||q.offset(-1),null===Te?_(J):Te):T(_e,0,127)?_e:142===_e||143===_e||T(_e,161,254)?(W=_e,null):_(J))}}(k)},d["iso-2022-jp"].getEncoder=function(k){return new function(V){var q=0;this.encode=function(ce,Te){var _e=Te.get();if(_e===m)return S;if(Te.offset(1),(T(_e,0,127)||165===_e||8254===_e)&&0!==q)return Te.offset(-1),q=0,ce.emit(27,40,66);if(T(_e,0,127))return ce.emit(_e);if(165===_e)return ce.emit(92);if(8254===_e)return ce.emit(126);if(T(_e,65377,65439)&&2!==q)return Te.offset(-1),q=2,ce.emit(27,40,73);if(T(_e,65377,65439))return ce.emit(_e-65377-33);if(1!==q)return Te.offset(-1),q=1,ce.emit(27,36,66);var Ee=h(_e,v.jis0208);if(null===Ee)return f();var $=y(Ee,94)+33;return ce.emit($,Ee%94+33)}}(k)},d["iso-2022-jp"].getDecoder=function(k){return new function(V){var J=V.fatal,$=0,se=!1,Z=0;this.decode=function(be){var oe=be.get();switch(oe!==S&&be.offset(1),$){default:case 0:return 27===oe?($=1,null):T(oe,0,127)?oe:oe===S?m:_(J);case 1:return 36===oe||40===oe?(Z=oe,$=2,null):(oe!==S&&be.offset(-1),$=0,_(J));case 2:var le=Z;return Z=0,36!==le||64!==oe&&66!==oe?36===le&&40===oe?($=3,null):40!==le||66!==oe&&74!==oe?40===le&&73===oe?($=6,null):(be.offset(oe===S?-1:-2),$=0,_(J)):($=0,null):(se=!1,$=4,null);case 3:return 68===oe?(se=!0,$=4,null):(be.offset(oe===S?-2:-3),$=0,_(J));case 4:return 10===oe?($=0,_(J,10)):27===oe?($=1,null):oe===S?m:(Z=oe,$=5,null);case 5:if($=4,oe===S)return _(J);var de=null,Be=94*(Z-33)+oe-33;return T(Z,33,126)&&T(oe,33,126)&&(de=C(Be,!1===se?v.jis0208:v.jis0212)),null===de?_(J):de;case 6:return 27===oe?($=1,null):T(oe,33,95)?65377+oe-33:oe===S?m:_(J)}}}(k)},d.shift_jis.getEncoder=function(k){return new function(V){this.encode=function(J,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,128))return J.emit(ee);if(165===ee)return J.emit(92);if(8254===ee)return J.emit(126);if(T(ee,65377,65439))return J.emit(ee-65377+161);var q=h(ee,v.jis0208);if(null===q)return f();var ce=y(q,188),_e=q%188;return J.emit(ce+(ce<31?129:193),_e+(_e<63?64:65))}}(k)},d.shift_jis.getDecoder=function(k){return new function(V){var J=V.fatal,W=0;this.decode=function(ee){var q=ee.get();if(q===S&&0===W)return m;if(q===S&&0!==W)return W=0,_(J);if(ee.offset(1),0!==W){var ce=W;if(W=0,T(q,64,126)||T(q,128,252)){var Te=C(188*(ce-(ce<160?129:193))+q-(q<127?64:65),v.jis0208);return null===Te?_(J):Te}return ee.offset(-1),_(J)}return T(q,0,128)?q:T(q,161,223)?65377+q-161:T(q,129,159)||T(q,224,252)?(W=q,null):_(J)}}(k)},d["euc-kr"].getEncoder=function(k){return new function(V){this.encode=function(J,W){var ee=W.get();if(ee===m)return S;if(W.offset(1),T(ee,0,127))return J.emit(ee);var q,ce,Te=h(ee,v["euc-kr"]);if(null===Te)return f();if(Te<12460){q=y(Te,178)+129;var _e=(ce=Te%178)<26?65:ce<52?71:77;return J.emit(q,ce+_e)}return q=y(Te-=12460,94)+199,J.emit(q,ce=Te%94+161)}}(k)},d["euc-kr"].getDecoder=function(k){return new function(V){var J=V.fatal,W=0;this.decode=function(ee){var q=ee.get();if(q===S&&0===W)return m;if(q===S&&0!==W)return W=0,_(J);if(ee.offset(1),0!==W){var ce=W,Te=null;if(W=0,T(ce,129,198)){var _e=178*(ce-129);T(q,65,90)?Te=_e+q-65:T(q,97,122)?Te=_e+26+q-97:T(q,129,254)&&(Te=_e+26+26+q-129)}T(ce,199,253)&&T(q,161,254)&&(Te=12460+94*(ce-199)+(q-161));var Ee=null===Te?null:C(Te,v["euc-kr"]);return null===Te&&ee.offset(-1),null===Ee?_(J):Ee}return T(q,0,127)?q:T(q,129,253)?(W=q,null):_(J)}}(k)},d["iso-2022-kr"].getEncoder=function(k){return new function(V){var ee=!1,q=0;this.encode=function(ce,Te){var _e=Te.get();if(_e===m)return S;if(ee||(ee=!0,ce.emit(27,36,41,67)),Te.offset(1),T(_e,0,127)&&0!==q)return Te.offset(-1),q=0,ce.emit(15);if(T(_e,0,127))return ce.emit(_e);if(1!==q)return Te.offset(-1),q=1,ce.emit(14);var Ee,$,se=h(_e,v["euc-kr"]);return null===se?f():se<12460?($=se%178-26-26+1,T(Ee=y(se,178)+1,33,70)&&T($,33,126)?ce.emit(Ee,$):f()):($=(se-=12460)%94+33,T(Ee=y(se,94)+71,71,126)&&T($,33,126)?ce.emit(Ee,$):f())}}(k)},d["iso-2022-kr"].getDecoder=function(k){return new function(V){var J=V.fatal,Ee=0,$=0;this.decode=function(se){var Z=se.get();switch(Z!==S&&se.offset(1),Ee){default:case 0:return 14===Z?(Ee=4,null):15===Z?null:27===Z?(Ee=1,null):T(Z,0,127)?Z:Z===S?m:_(J);case 1:return 36===Z?(Ee=2,null):(Z!==S&&se.offset(-1),Ee=0,_(J));case 2:return 41===Z?(Ee=3,null):(se.offset(Z===S?-1:-2),Ee=0,_(J));case 3:return 67===Z?(Ee=0,null):(se.offset(Z===S?-2:-3),Ee=0,_(J));case 4:return 10===Z?(Ee=0,_(J,10)):14===Z?null:15===Z?(Ee=0,null):Z===S?m:($=Z,Ee=5,null);case 5:if(Ee=4,Z===S)return _(J);var be=null;return T($,33,70)&&T(Z,33,126)?be=C(178*($-1)+26+26+Z-1,v["euc-kr"]):T($,71,126)&&T(Z,33,126)&&(be=C(12460+94*($-71)+(Z-33),v["euc-kr"])),null!==be?be:_(J)}}}(k)},d["utf-16"].getEncoder=function(k){return new G(!1,k)},d["utf-16"].getDecoder=function(k){return new N(!1,k)},d["utf-16be"].getEncoder=function(k){return new G(!0,k)},d["utf-16be"].getDecoder=function(k){return new N(!0,k)};var H="utf-8";function L(k,V){return this&&this!==c?(k=k?String(k):H,V=Object(V),this._encoding=p(k),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(V.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new L(k,V)}function j(k,V){return this&&this!==c?(k=k?String(k):H,V=Object(V),this._encoding=p(k),this._streaming=!1,this._decoder=null,this._options={fatal:Boolean(V.fatal)},Object.defineProperty?Object.defineProperty(this,"encoding",{get:function(){return this._encoding.name}}):this.encoding=this._encoding.name,this):new j(k,V)}L.prototype={encode:function(k,V){k=k?String(k):"",V=Object(V),this._streaming||(this._encoder=this._encoding.getEncoder(this._options)),this._streaming=Boolean(V.stream);for(var J=[],W=new function(ce){var Te=0;this.emit=function(_e){var Ee,$=S;for(Ee=0;Ee<arguments.length;++Ee)$=Number(arguments[Ee]),ce[Te++]=$;return $}}(J),ee=new function(ce){var Te=0,_e=function(){for(var Ee=[],$=0,se=ce.length;$<ce.length;){var Z=ce.charCodeAt($);if(T(Z,55296,57343))if(T(Z,56320,57343))Ee.push(65533);else if($===se-1)Ee.push(65533);else{var be=ce.charCodeAt($+1);T(be,56320,57343)?($+=1,Ee.push(65536+((1023&Z)<<10)+(1023&be))):Ee.push(65533)}else Ee.push(Z);$+=1}return Ee}();this.offset=function(Ee){if((Te+=Ee)<0)throw new Error("Seeking past start of the buffer");if(Te>_e.length)throw new Error("Seeking past EOF")},this.get=function(){return Te>=_e.length?m:_e[Te]}}(k);ee.get()!==m;)this._encoder.encode(W,ee);if(!this._streaming){var q;do{q=this._encoder.encode(W,ee)}while(q!==S);this._encoder=null}return new Uint8Array(J)}},j.prototype={decode:function(k,V){if(k&&!("buffer"in k&&"byteOffset"in k&&"byteLength"in k))throw new TypeError("Expected ArrayBufferView");k||(k=new Uint8Array(0)),V=Object(V),this._streaming||(this._decoder=this._encoding.getDecoder(this._options)),this._streaming=Boolean(V.stream);var q,ce,J=new function(q){var ce=0;this.get=function(){return ce>=q.length?S:Number(q[ce])},this.offset=function(Te){if((ce+=Te)<0)throw new Error("Seeking past start of the buffer");if(ce>q.length)throw new Error("Seeking past EOF")},this.match=function(Te){if(Te.length>ce+q.length)return!1;var _e;for(_e=0;_e<Te.length;_e+=1)if(Number(q[ce+_e])!==Te[_e])return!1;return!0}}(new Uint8Array(k.buffer,k.byteOffset,k.byteLength));if(p((q=this._encoding.name,(ce=J).match([255,254])?(ce.offset(2),"utf-16"):ce.match([254,255])?(ce.offset(2),"utf-16be"):ce.match([239,187,191])?(ce.offset(3),"utf-8"):q))!==this._encoding)throw new Error("BOM mismatch");for(var W,ee=new function(){var q="";this.string=function(){return q},this.emit=function(ce){ce<=65535?q+=String.fromCharCode(ce):(ce-=65536,q+=String.fromCharCode(55296+(ce>>10&1023)),q+=String.fromCharCode(56320+(1023&ce)))}};J.get()!==S;)null!==(W=this._decoder.decode(J))&&W!==m&&ee.emit(W);if(!this._streaming){do{null!==(W=this._decoder.decode(J))&&W!==m&&ee.emit(W)}while(W!==m);this._decoder=null}return ee.string()}},c.TextEncoder=c.TextEncoder||L,c.TextDecoder=c.TextDecoder||j}(this)},function(U,M){U.exports=function(c){return c.webpackPolyfill||(c.deprecate=function(){},c.paths=[],c.children||(c.children=[]),Object.defineProperty(c,"loaded",{enumerable:!0,get:function(){return c.l}}),Object.defineProperty(c,"id",{enumerable:!0,get:function(){return c.i}}),c.webpackPolyfill=1),c}},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SFSDataSerializer=void 0;var T,y=function(){function C(h,v){for(var O=0;O<v.length;O++){var x=v[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(h,x.key,x)}}return function(h,v,O){return v&&C(h.prototype,v),O&&C(h,O),h}}(),m=(T=c(120))&&T.__esModule?T:{default:T},_=c(172),f=c(8),p=Symbol(),d=Symbol(),b=function(){function C(h){if(function(v,O){if(!(v instanceof O))throw new TypeError("Cannot call a class as a function")}(this,C),h!==d)throw"SFSDataSerializer is a singleton class; you can't instantiate it"}return y(C,[{key:"object2binary",value:function(h){var v=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN);return v.writeInt8(f.SFSDataType.SFS_OBJECT),v.writeInt16(h.size()),this.obj2bin(h,v),new Uint8Array(v.buffer)}},{key:"obj2bin",value:function(h,v){var O=!0,x=!1,N=void 0;try{for(var G,H=h.keys()[Symbol.iterator]();!(O=(G=H.next()).done);O=!0){var L=G.value,j=h.getWrappedItem(L);this.encodeSFSObjectKey(v,L),this.encodeObject(v,j)}}catch(k){x=!0,N=k}finally{try{!O&&H.return&&H.return()}finally{if(x)throw N}}}},{key:"array2binary",value:function(h){var v=new m.default(new ArrayBuffer(0),0,m.default.BIG_ENDIAN);return v.writeInt8(f.SFSDataType.SFS_ARRAY),v.writeInt16(h.size()),this.arr2bin(h,v),new Uint8Array(v.buffer)}},{key:"arr2bin",value:function(h,v){for(var O=0;O<h.size();O++){var x=h.getWrappedItem(O);this.encodeObject(v,x)}}},{key:"encodeSFSObjectKey",value:function(h,v){h.writeInt16(v.length),h.writeUint8Array(new _.TextEncoder("utf-8").encode(v))}},{key:"encodeObject",value:function(h,v){var O=v.type;if(O===f.SFSDataType.NULL)this.binEncode_NULL(h,v);else if(O===f.SFSDataType.BOOL)this.binEncode_BOOL(h,v);else if(O===f.SFSDataType.BOOL_ARRAY)this.binEncode_BOOL_ARRAY(h,v);else if(O===f.SFSDataType.BYTE)this.binEncode_BYTE(h,v);else if(O===f.SFSDataType.BYTE_ARRAY)this.binEncode_BYTE_ARRAY(h,v);else if(O===f.SFSDataType.SHORT)this.binEncode_SHORT(h,v);else if(O===f.SFSDataType.SHORT_ARRAY)this.binEncode_SHORT_ARRAY(h,v);else if(O===f.SFSDataType.INT)this.binEncode_INT(h,v);else if(O===f.SFSDataType.INT_ARRAY)this.binEncode_INT_ARRAY(h,v);else if(O===f.SFSDataType.LONG)this.binEncode_LONG(h,v);else if(O===f.SFSDataType.LONG_ARRAY)this.binEncode_LONG_ARRAY(h,v);else if(O===f.SFSDataType.FLOAT)this.binEncode_FLOAT(h,v);else if(O===f.SFSDataType.FLOAT_ARRAY)this.binEncode_FLOAT_ARRAY(h,v);else if(O===f.SFSDataType.DOUBLE)this.binEncode_DOUBLE(h,v);else if(O===f.SFSDataType.DOUBLE_ARRAY)this.binEncode_DOUBLE_ARRAY(h,v);else if(O===f.SFSDataType.UTF_STRING)this.binEncode_UTF_STRING(h,v);else if(O===f.SFSDataType.TEXT)this.binEncode_TEXT(h,v);else if(O===f.SFSDataType.UTF_STRING_ARRAY)this.binEncode_UTF_STRING_ARRAY(h,v);else if(O===f.SFSDataType.SFS_ARRAY)h.writeUint8Array(this.array2binary(v.value));else{if(O!==f.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;h.writeUint8Array(this.object2binary(v.value))}return h}},{key:"binEncode_NULL",value:function(h,v){h.writeUint8(v.type)}},{key:"binEncode_BOOL",value:function(h,v){h.writeUint8(v.type),h.writeUint8(v.value?1:0)}},{key:"binEncode_BOOL_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeUint8(O[x]?1:0)}},{key:"binEncode_BYTE",value:function(h,v){h.writeUint8(v.type),h.writeUint8(v.value)}},{key:"binEncode_BYTE_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint32(O.length),h.writeUint8Array(O)}},{key:"binEncode_SHORT",value:function(h,v){h.writeUint8(v.type),h.writeUint16(v.value)}},{key:"binEncode_SHORT_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeUint16(O[x])}},{key:"binEncode_INT",value:function(h,v){h.writeUint8(v.type),h.writeUint32(v.value)}},{key:"binEncode_INT_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeUint32(O[x])}},{key:"binEncode_LONG",value:function(h,v){var O=v.value,x=Math.floor(O/Math.pow(2,32)),N=O%Math.pow(2,32);h.writeUint8(v.type),h.writeInt32(x),h.writeInt32(N)}},{key:"binEncode_LONG_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++){var N=O[x],G=Math.floor(N/Math.pow(2,32)),H=N%Math.pow(2,32);h.writeInt32(G),h.writeInt32(H)}}},{key:"binEncode_FLOAT",value:function(h,v){h.writeUint8(v.type),h.writeFloat32(v.value)}},{key:"binEncode_FLOAT_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeFloat32(O[x])}},{key:"binEncode_DOUBLE",value:function(h,v){h.writeUint8(v.type),h.writeFloat64(v.value)}},{key:"binEncode_DOUBLE_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++)h.writeFloat64(O[x])}},{key:"binEncode_UTF_STRING",value:function(h,v){var O=new _.TextEncoder("utf-8").encode(v.value);h.writeUint8(v.type),h.writeUint16(O.length),h.writeUint8Array(O)}},{key:"binEncode_TEXT",value:function(h,v){var O=new _.TextEncoder("utf-8").encode(v.value);h.writeUint8(v.type),h.writeUint32(O.length),h.writeUint8Array(O)}},{key:"binEncode_UTF_STRING_ARRAY",value:function(h,v){var O=v.value;h.writeUint8(v.type),h.writeUint16(O.length);for(var x=0;x<O.length;x++){var N=new _.TextEncoder("utf-8").encode(O[x]);h.writeUint16(N.byteLength),h.writeUint8Array(N)}}},{key:"binary2object",value:function(h){if(h.byteLength<3)throw"Can't decode an SFSObject. Byte data is insufficient. Size: "+h.byteLength+" bytes";return this.decodeSFSObject(new m.default(h,0,m.default.BIG_ENDIAN))}},{key:"binary2array",value:function(h){if(h.byteLength<3)throw"Can't decode an SFSArray. Byte data is insufficient. Size: "+h.byteLength+" bytes";return this.decodeSFSArray(new m.default(h,0,m.default.BIG_ENDIAN))}},{key:"decodeSFSObject",value:function(h){var v=new f.SFSObject,O=h.readUint8();if(O!==f.SFSDataType.SFS_OBJECT)throw"Invalid SFSDataType. Expected: "+f.SFSDataType.SFS_OBJECT+", found: "+O;var x=h.readUint16();if(x<0)throw"Can't decode SFSObject. Size is negative: "+x;try{for(var N=0;N<x;N++){var G=h.readUint16();if(G<0||G>255)throw"Invalid SFSObject key length. Found: "+G;var H=h.readUint8Array(G),L=String.fromCharCode.apply(String,H),j=this.decodeObject(h);if(null==j)throw"Could not decode value for key: "+L;v.put(L,j.value,j.type,!0)}}catch(k){throw k}return v}},{key:"decodeSFSArray",value:function(h){var v=new f.SFSArray,O=h.readUint8();if(O!==f.SFSDataType.SFS_ARRAY)throw"Invalid SFSDataType. Expected: "+f.SFSDataType.SFS_ARRAY+", found: "+O;var x=h.readInt16();if(x<0)throw"Can't decode SFSArray. Size is negative: "+x;try{for(var N=0;N<x;N++){var G=this.decodeObject(h);if(null==G)throw"Could not decode value for index: "+N;v.add(G.value,G.type,!0)}}catch(H){throw H}return v}},{key:"decodeObject",value:function(h){var v=null,O=h.readUint8();if(O===f.SFSDataType.NULL)v=this.binDecode_NULL(h);else if(O===f.SFSDataType.BOOL)v=this.binDecode_BOOL(h);else if(O===f.SFSDataType.BOOL_ARRAY)v=this.binDecode_BOOL_ARRAY(h);else if(O===f.SFSDataType.BYTE)v=this.binDecode_BYTE(h);else if(O===f.SFSDataType.BYTE_ARRAY)v=this.binDecode_BYTE_ARRAY(h);else if(O===f.SFSDataType.SHORT)v=this.binDecode_SHORT(h);else if(O===f.SFSDataType.SHORT_ARRAY)v=this.binDecode_SHORT_ARRAY(h);else if(O===f.SFSDataType.INT)v=this.binDecode_INT(h);else if(O===f.SFSDataType.INT_ARRAY)v=this.binDecode_INT_ARRAY(h);else if(O===f.SFSDataType.LONG)v=this.binDecode_LONG(h);else if(O===f.SFSDataType.LONG_ARRAY)v=this.binDecode_LONG_ARRAY(h);else if(O===f.SFSDataType.FLOAT)v=this.binDecode_FLOAT(h);else if(O===f.SFSDataType.FLOAT_ARRAY)v=this.binDecode_FLOAT_ARRAY(h);else if(O===f.SFSDataType.DOUBLE)v=this.binDecode_DOUBLE(h);else if(O===f.SFSDataType.DOUBLE_ARRAY)v=this.binDecode_DOUBLE_ARRAY(h);else if(O===f.SFSDataType.UTF_STRING)v=this.binDecode_UTF_STRING(h);else if(O===f.SFSDataType.TEXT)v=this.binDecode_TEXT(h);else if(O===f.SFSDataType.UTF_STRING_ARRAY)v=this.binDecode_UTF_STRING_ARRAY(h);else if(O===f.SFSDataType.SFS_ARRAY){h.seek(h.position-1);var x=this.decodeSFSArray(h);v=new f.SFSDataWrapper(O,x)}else{if(O!==f.SFSDataType.SFS_OBJECT)throw"Unknow SFSDataType ID: "+O;h.seek(h.position-1);var N=this.decodeSFSObject(h);v=new f.SFSDataWrapper(O,N)}return v}},{key:"binDecode_NULL",value:function(h){return new f.SFSDataWrapper(f.SFSDataType.NULL,null)}},{key:"binDecode_BOOL",value:function(h){var v=h.readUint8(),O=null;if(0===v)O=!1;else{if(1!==v)throw"Error decoding Bool type. Illegal value: "+v;O=!0}return new f.SFSDataWrapper(f.SFSDataType.BOOL,O)}},{key:"binDecode_BOOL_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++){var N=h.readUint8(),G=null;if(0===N)G=!1;else{if(1!==N)throw"Error decoding Bool type. Illegal value: "+N;G=!0}O.push(G)}return new f.SFSDataWrapper(f.SFSDataType.BOOL_ARRAY,O)}},{key:"binDecode_BYTE",value:function(h){var v=h.readUint8();return new f.SFSDataWrapper(f.SFSDataType.BYTE,v)}},{key:"binDecode_BYTE_ARRAY",value:function(h){var v=h.readInt32();if(v<0)throw"Error decoding typed array size. Negative size: "+v;for(var O=new Uint8Array(v),x=0;x<v;x++)O[x]=h.readUint8();return new f.SFSDataWrapper(f.SFSDataType.BYTE_ARRAY,O)}},{key:"binDecode_SHORT",value:function(h){var v=h.readInt16();return new f.SFSDataWrapper(f.SFSDataType.SHORT,v)}},{key:"binDecode_SHORT_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readInt16());return new f.SFSDataWrapper(f.SFSDataType.SHORT_ARRAY,O)}},{key:"binDecode_INT",value:function(h){var v=h.readInt32();return new f.SFSDataWrapper(f.SFSDataType.INT,v)}},{key:"binDecode_INT_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readInt32());return new f.SFSDataWrapper(f.SFSDataType.INT_ARRAY,O)}},{key:"binDecode_LONG",value:function(h){var v=h.readInt32(),O=h.readUint32(),x=v*Math.pow(2,32)+O;return new f.SFSDataWrapper(f.SFSDataType.LONG,x)}},{key:"binDecode_LONG_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++){var N=h.readInt32(),G=h.readUint32(),H=N*Math.pow(2,32)+G;O.push(H)}return new f.SFSDataWrapper(f.SFSDataType.LONG_ARRAY,O)}},{key:"binDecode_FLOAT",value:function(h){var v=h.readFloat32();return new f.SFSDataWrapper(f.SFSDataType.FLOAT,v)}},{key:"binDecode_FLOAT_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readFloat32());return new f.SFSDataWrapper(f.SFSDataType.FLOAT_ARRAY,O)}},{key:"binDecode_DOUBLE",value:function(h){var v=h.readFloat64();return new f.SFSDataWrapper(f.SFSDataType.DOUBLE,v)}},{key:"binDecode_DOUBLE_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++)O.push(h.readFloat64());return new f.SFSDataWrapper(f.SFSDataType.DOUBLE_ARRAY,O)}},{key:"binDecode_UTF_STRING",value:function(h){var v=h.readInt16();if(v<0)throw"Error decoding UTF_STRING. Negative size: "+v;var O=h.readUint8Array(v),x=new _.TextDecoder("utf-8").decode(O);return new f.SFSDataWrapper(f.SFSDataType.UTF_STRING,x)}},{key:"binDecode_UTF_STRING_ARRAY",value:function(h){for(var v=this.getTypedArraySize(h),O=[],x=0;x<v;x++){var N=h.readInt16();if(N<0)throw"Error decoding UTF_STRING. Negative size: "+N;var G=h.readUint8Array(N),H=new _.TextDecoder("utf-8").decode(G);O.push(H)}return new f.SFSDataWrapper(f.SFSDataType.UTF_STRING_ARRAY,O)}},{key:"binDecode_TEXT",value:function(h){var v=h.readInt32();if(v<0)throw"Error decoding TEXT. Negative size: "+v;var O=h.readUint8Array(v),x=new _.TextDecoder("utf-8").decode(O);return new f.SFSDataWrapper(f.SFSDataType.TEXT,x)}},{key:"getTypedArraySize",value:function(h){var v=h.readUint16();if(v<0)throw"Error decoding typed array size. Negative size: "+v;return v}}],[{key:"instance",get:function(){return this[p]||(this[p]=new C(d)),Object.seal(this[p])}}]),C}();M.SFSDataSerializer=b},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SystemController=void 0;var T=function(){function je(ie,fe){for(var pe=0;pe<fe.length;pe++){var Ge=fe[pe];Ge.enumerable=Ge.enumerable||!1,Ge.configurable=!0,"value"in Ge&&(Ge.writable=!0),Object.defineProperty(ie,Ge.key,Ge)}}return function(ie,fe,pe){return fe&&je(ie.prototype,fe),pe&&je(ie,pe),ie}}(),y=c(2),S=c(39),m=c(74),_=c(8),f=c(9),p=c(47),d=c(171),b=c(58),C=c(72),h=c(59),v=c(49),O=c(73),x=c(46),N=c(51),G=c(118),H=c(117),L=c(116),j=c(57),k=c(115),V=c(114),J=c(113),W=c(70),ee=c(112),q=c(111),ce=c(110),Te=c(109),_e=c(108),Ee=c(107),$=c(106),se=c(105),Z=c(69),be=c(170),oe=c(104),le=c(103),de=c(102),Be=c(101),Je=c(100),Le=c(99),Ot=c(98),qe=function(){function je(ie){(function(fe,pe){if(!(fe instanceof pe))throw new TypeError("Cannot call a class as a function")})(this,je),this._sfs=ie,this._logger=ie.logger,this._id=0,this._messageHandlers=new Map,this._initMessageHandlers(),Object.freeze(this)}return T(je,null,[{key:"KEY_ERROR_CODE",get:function(){return"ec"}},{key:"KEY_ERROR_PARAMS",get:function(){return"ep"}},{key:"ROOM_PARAM",get:function(){return"r"}},{key:"USER_PARAM",get:function(){return"u"}},{key:"USER_COUNT_PARAM",get:function(){return"uc"}},{key:"SPECT_COUNT_PARAM",get:function(){return"sc"}},{key:"DISCONNECTION_REASON_PARAM",get:function(){return"dr"}}]),T(je,[{key:"handleMessage",value:function(ie,fe){var pe=this._messageHandlers.get(fe);null!=pe?(this._sfs.debug&&this._logger.info("Handling server event: "+pe.name+" ("+fe+")"),pe.handler.call(this,ie)):this._logger.warn("Unknown server event received; id: "+fe)}},{key:"_initMessageHandlers",value:function(){this._setHandler(y.Requests.Handshake,this._fnHandshake),this._setHandler(y.Requests.Login,this._fnLogin),this._setHandler(y.Requests.Logout,this._fnLogout),this._setHandler(y.Requests.JoinRoom,this._fnJoinRoom),this._setHandler(y.Requests.CreateRoom,this._fnCreateRoom),this._setHandler(y.Requests.ChangeRoomName,this._fnChangeRoomName),this._setHandler(y.Requests.ChangeRoomPassword,this._fnChangeRoomPassword),this._setHandler(y.Requests.ChangeRoomCapacity,this._fnChangeRoomCapacity),this._setHandler(y.Requests.GenericMessage,this._fnGenericMessage),this._setHandler(y.Requests.SetRoomVariables,this._fnSetRoomVariables),this._setHandler(y.Requests.SetUserVariables,this._fnSetUserVariables),this._setHandler(y.Requests.SubscribeRoomGroup,this._fnSubscribeRoomGroup),this._setHandler(y.Requests.UnsubscribeRoomGroup,this._fnUnsubscribeRoomGroup),this._setHandler(y.Requests.SpectatorToPlayer,this._fnSpectatorToPlayer),this._setHandler(y.Requests.PlayerToSpectator,this._fnPlayerToSpectator),this._setHandler(y.Requests.FindRooms,this._fnFindRooms),this._setHandler(y.Requests.FindUsers,this._fnFindUsers),this._setHandler(y.Requests.PingPong,this._fnPingPong),this._setHandler(y.Requests.InitBuddyList,this._fnInitBuddyList),this._setHandler(y.Requests.AddBuddy,this._fnAddBuddy),this._setHandler(y.Requests.RemoveBuddy,this._fnRemoveBuddy),this._setHandler(y.Requests.BlockBuddy,this._fnBlockBuddy),this._setHandler(y.Requests.GoOnline,this._fnGoOnline),this._setHandler(y.Requests.SetBuddyVariables,this._fnSetBuddyVariables),this._setHandler(y.Requests.QuickJoinGame,this._fnQuickJoinGame),this._setHandler(y.Requests.InviteUsers,this._fnInviteUsers),this._setHandler(y.Requests.InvitationReply,this._fnInvitationReply),this._setHandler(y.Requests.SetUserPosition,this._fnSetUserPosition),this._setHandler(1e3,this._fnUserEnterRoom,"UserEnterRoom"),this._setHandler(1001,this._fnUserCountChange,"UserCountChange"),this._setHandler(1002,this._fnUserLost,"UserLost"),this._setHandler(1003,this._fnRoomLost,"RoomLost"),this._setHandler(1004,this._fnUserExitRoom,"UserExitRoom"),this._setHandler(1005,this._fnClientDisconnection,"ClientDisconnection"),this._setHandler(1007,this._fnSetMMOItemVariables,"SetMMOItemVariables")}},{key:"_setHandler",value:function(ie,fe){var pe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;null==pe&&(pe=y.Requests.getNameFromId(ie)),this._messageHandlers.set(ie,{name:pe,handler:fe})}},{key:"_fnHandshake",value:function(ie){this._sfs._handleHandShake(ie)}},{key:"_fnLogin",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){this._populateRoomList(ie.get(G.LoginRequest.KEY_ROOMLIST)),this._sfs._mySelf=new p.SFSUser(ie.get(G.LoginRequest.KEY_ID),ie.get(G.LoginRequest.KEY_USER_NAME),!0),this._sfs.mySelf._setUserManager(this._sfs.userManager),this._sfs.mySelf._privilegeId=ie.get(G.LoginRequest.KEY_PRIVILEGE_ID),this._sfs.userManager._addUser(this._sfs.mySelf);var fe={};fe.zone=ie.get(G.LoginRequest.KEY_ZONE_NAME),fe.user=this._sfs.mySelf,fe.data=ie.get(G.LoginRequest.KEY_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.LOGIN,fe)}else this._dispatchError(S.SFSEvent.LOGIN_ERROR,ie)}},{key:"_fnLogout",value:function(ie){this._sfs._handleLogout();var fe={};fe.zone=ie.get(H.LogoutRequest.KEY_ZONE_NAME),this._sfs.dispatchEvent(S.SFSEvent.LOGOUT,fe)}},{key:"_fnJoinRoom",value:function(ie){if(this._sfs._isJoining=!1,null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(L.JoinRoomRequest.KEY_ROOM),pe=ie.get(L.JoinRoomRequest.KEY_USER_LIST),Ge=this._sfs.roomManager,ze=f.SFSRoom.fromSFSArray(fe);ze=Ge._replaceRoom(ze,Ge.containsGroup(ze.groupId));for(var et=0;et<pe.size();et++){var xe=pe.get(et),Ye=this._getOrCreateUser(xe,!0,ze);ze._addUser(Ye)}ze._isJoined=!0,this._sfs._lastJoinedRoom=ze;var Yt={};Yt.room=ze,this._sfs.dispatchEvent(S.SFSEvent.ROOM_JOIN,Yt)}else this._dispatchError(S.SFSEvent.ROOM_JOIN_ERROR,ie)}},{key:"_fnCreateRoom",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=f.SFSRoom.fromSFSArray(ie.get(j.CreateRoomRequest.KEY_ROOM));this._sfs.roomManager._addRoom(fe);var pe={};pe.room=fe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_ADD,pe)}else this._dispatchError(S.SFSEvent.ROOM_CREATION_ERROR,ie)}},{key:"_fnChangeRoomName",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(k.ChangeRoomNameRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){var Ge=pe.name;this._sfs.roomManager._changeRoomName(pe,ie.get(k.ChangeRoomNameRequest.KEY_NAME));var ze={};ze.oldName=Ge,ze.room=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_NAME_CHANGE,ze)}else this._logger.warn("Unexpected RoomNameChange event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.ROOM_NAME_CHANGE_ERROR,ie)}},{key:"_fnChangeRoomPassword",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(V.ChangeRoomPasswordStateRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){this._sfs.roomManager._changeRoomPasswordState(pe,ie.get(V.ChangeRoomPasswordStateRequest.KEY_PASS));var Ge={};Ge.room=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_PASSWORD_STATE_CHANGE,Ge)}else this._logger.warn("Unexpected RoomPasswordChange event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.ROOM_PASSWORD_STATE_CHANGE_ERROR,ie)}},{key:"_fnChangeRoomCapacity",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(J.ChangeRoomCapacityRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){this._sfs.roomManager._changeRoomCapacity(pe,ie.get(J.ChangeRoomCapacityRequest.KEY_USER_SIZE),ie.get(J.ChangeRoomCapacityRequest.KEY_SPEC_SIZE));var Ge={};Ge.room=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_CAPACITY_CHANGE,Ge)}else this._logger.warn("Unexpected RoomCapacityChange event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.ROOM_CAPACITY_CHANGE_ERROR,ie)}},{key:"_fnGenericMessage",value:function(ie){switch(ie.get(W.GenericMessageRequest.KEY_MESSAGE_TYPE)){case W.GenericMessageType.PUBLIC_MSG:this._handlePublicMessage(ie);break;case W.GenericMessageType.PRIVATE_MSG:this._handlePrivateMessage(ie);break;case W.GenericMessageType.BUDDY_MSG:this._handleBuddyMessage(ie);break;case W.GenericMessageType.MODERATOR_MSG:this._handleModMessage(ie);break;case W.GenericMessageType.ADMING_MSG:this._handleAdminMessage(ie);break;case W.GenericMessageType.OBJECT_MSG:this._handleObjectMessage(ie)}}},{key:"_handlePublicMessage",value:function(ie){var fe=ie.get(W.GenericMessageRequest.KEY_ROOM_ID),pe=this._sfs.roomManager.getRoomById(fe);if(null!=pe){var Ge={};Ge.room=pe,Ge.sender=this._sfs.userManager.getUserById(ie.get(W.GenericMessageRequest.KEY_USER_ID)),Ge.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),Ge.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.PUBLIC_MESSAGE,Ge)}else this._logger.warn("Unexpected PublicMessage event error; unknown Room id: "+fe)}},{key:"_handlePrivateMessage",value:function(ie){var fe=ie.get(W.GenericMessageRequest.KEY_USER_ID),pe=this._sfs.userManager.getUserById(fe);if(null==pe){if(null==ie.get(W.GenericMessageRequest.KEY_SENDER_DATA))return void this._logger.warn("Unexpected PublicMessage event error; missing sender details");pe=p.SFSUser.fromSFSArray(ie.get(W.GenericMessageRequest.KEY_SENDER_DATA))}var Ge={};Ge.sender=pe,Ge.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),Ge.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.PRIVATE_MESSAGE,Ge)}},{key:"_handleBuddyMessage",value:function(ie){var fe=ie.get(W.GenericMessageRequest.KEY_USER_ID),pe=this._sfs.buddyManager.getBuddyById(fe),Ge={};Ge.isItMe=this._sfs.mySelf.id===fe,Ge.buddy=pe,Ge.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),Ge.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_MESSAGE,Ge)}},{key:"_handleObjectMessage",value:function(ie){var fe={};fe.sender=this._sfs.userManager.getUserById(ie.get(W.GenericMessageRequest.KEY_USER_ID)),fe.message=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.OBJECT_MESSAGE,fe)}},{key:"_handleModMessage",value:function(ie){var fe={};fe.sender=p.SFSUser.fromSFSArray(ie.get(W.GenericMessageRequest.KEY_SENDER_DATA)),fe.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),fe.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.MODERATOR_MESSAGE,fe)}},{key:"_handleAdminMessage",value:function(ie){var fe={};fe.sender=p.SFSUser.fromSFSArray(ie.get(W.GenericMessageRequest.KEY_SENDER_DATA)),fe.message=ie.get(W.GenericMessageRequest.KEY_MESSAGE),fe.data=ie.get(W.GenericMessageRequest.KEY_XTRA_PARAMS),this._sfs.dispatchEvent(S.SFSEvent.ADMIN_MESSAGE,fe)}},{key:"_fnSetRoomVariables",value:function(ie){var fe=ie.get(ee.SetRoomVariablesRequest.KEY_VAR_ROOM),pe=ie.get(ee.SetRoomVariablesRequest.KEY_VAR_LIST),Ge=this._sfs.roomManager.getRoomById(fe),ze=new Set;if(null!=Ge){for(var et=0;et<pe.size();et++){var xe=v.SFSRoomVariable.fromSFSArray(pe.get(et));Ge._setVariable(xe),ze.add(xe.name)}var Ye={};Ye.changedVars=Array.from(ze),Ye.room=Ge,this._sfs.dispatchEvent(S.SFSEvent.ROOM_VARIABLES_UPDATE,Ye)}else this._logger.warn("Unexpected RoomVariablesUpdate event error; unknown Room id: "+fe)}},{key:"_fnSetUserVariables",value:function(ie){var fe=ie.get(q.SetUserVariablesRequest.KEY_USER),pe=ie.get(q.SetUserVariablesRequest.KEY_VAR_LIST),Ge=this._sfs.userManager.getUserById(fe),ze=new Set;if(null!=Ge){for(var et=0;et<pe.size();et++){var xe=h.SFSUserVariable.fromSFSArray(pe.get(et));Ge._setVariable(xe),ze.add(xe.name)}var Ye={};Ye.changedVars=Array.from(ze),Ye.user=Ge,this._sfs.dispatchEvent(S.SFSEvent.USER_VARIABLES_UPDATE,Ye)}else this._logger.warn("Unexpected UserVariablesUpdate event error; unknown User id: "+fe)}},{key:"_fnSubscribeRoomGroup",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(ce.SubscribeRoomGroupRequest.KEY_GROUP_ID),pe=ie.get(ce.SubscribeRoomGroupRequest.KEY_ROOM_LIST);this._sfs.roomManager.containsGroup(fe)&&this._logger.warn("Unexpected SubscribeRoomGroup event error; group already subscribed: "+fe),this._sfs.roomManager._addGroup(fe),this._populateRoomList(pe);var Ge={};Ge.groupId=fe,Ge.newRooms=this._sfs.roomManager.getRoomListFromGroup(fe),this._sfs.dispatchEvent(S.SFSEvent.ROOM_GROUP_SUBSCRIBE,Ge)}else this._dispatchError(S.SFSEvent.ROOM_GROUP_SUBSCRIBE_ERROR,ie)}},{key:"_fnUnsubscribeRoomGroup",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Te.UnsubscribeRoomGroupRequest.KEY_GROUP_ID);this._sfs.roomManager.containsGroup(fe)||this._logger.warn("Unexpected UnsubscribeRoomGroup event error; group not found: "+fe+" (maybe never subscribed, or the Room Manager doesn't contain Rooms belonging to that Group)"),this._sfs.roomManager._removeGroup(fe);var pe={};pe.groupId=fe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_GROUP_UNSUBSCRIBE,pe)}else this._dispatchError(S.SFSEvent.ROOM_GROUP_UNSUBSCRIBE_ERROR,ie)}},{key:"_fnSpectatorToPlayer",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(_e.SpectatorToPlayerRequest.KEY_ROOM_ID),pe=ie.get(_e.SpectatorToPlayerRequest.KEY_USER_ID),Ge=ie.get(_e.SpectatorToPlayerRequest.KEY_PLAYER_ID),ze=this._sfs.userManager.getUserById(pe),et=this._sfs.roomManager.getRoomById(fe);if(null!=et)if(null!=ze)if(ze.isJoinedInRoom(et)){ze._setPlayerId(Ge,et);var xe={};xe.room=et,xe.user=ze,xe.playerId=Ge,this._sfs.dispatchEvent(S.SFSEvent.SPECTATOR_TO_PLAYER,xe)}else this._logger.warn("Unexpected SpectatorToPlayer event error; User "+ze+" not in Room "+et);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+pe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.SPECTATOR_TO_PLAYER_ERROR,ie)}},{key:"_fnPlayerToSpectator",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Ee.PlayerToSpectatorRequest.KEY_ROOM_ID),pe=ie.get(Ee.PlayerToSpectatorRequest.KEY_USER_ID),Ge=this._sfs.userManager.getUserById(pe),ze=this._sfs.roomManager.getRoomById(fe);if(null!=ze)if(null!=Ge)if(Ge.isJoinedInRoom(ze)){Ge._setPlayerId(-1,ze);var et={};et.room=ze,et.user=Ge,this._sfs.dispatchEvent(S.SFSEvent.PLAYER_TO_SPECTATOR,et)}else this._logger.warn("Unexpected PlayerToSpectator event error; User "+Ge+" not in Room "+ze);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown User id: "+pe);else this._logger.warn("Unexpected SpectatorToPlayer event error; unknown Room id: "+fe)}else this._dispatchError(S.SFSEvent.PLAYER_TO_SPECTATOR_ERROR,ie)}},{key:"_fnPingPong",value:function(ie){var fe={};fe.lagValue=this._sfs._lagMonitor._onPingPong(),this._sfs.dispatchEvent(S.SFSEvent.PING_PONG,fe)}},{key:"_fnFindRooms",value:function(ie){for(var fe=ie.get($.FindRoomsRequest.KEY_FILTERED_ROOMS),pe=[],Ge=0;Ge<fe.size();Ge++){var ze=fe.get(Ge),et=f.SFSRoom.fromSFSArray(ze),xe=this._sfs.roomManager.getRoomById(et.id);null!=xe&&(et._isJoined=xe._isJoined),pe.push(et)}var Ye={};Ye.rooms=pe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_FIND_RESULT,Ye)}},{key:"_fnFindUsers",value:function(ie){for(var fe=ie.get(se.FindUsersRequest.KEY_FILTERED_USERS),pe=[],Ge=this._sfs.mySelf,ze=0;ze<fe.size();ze++){var et=fe.get(ze),xe=p.SFSUser.fromSFSArray(et);xe.id===Ge.id&&(xe=Ge),pe.push(xe)}var Ye={};Ye.users=pe,this._sfs.dispatchEvent(S.SFSEvent.USER_FIND_RESULT,Ye)}},{key:"_fnQuickJoinGame",value:function(ie){null!=ie.get(je.KEY_ERROR_CODE)&&this._dispatchError(S.SFSEvent.ROOM_JOIN_ERROR,ie)}},{key:"_fnInviteUsers",value:function(ie){var fe;fe=null!=ie.get(Z.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ie.get(Z.InviteUsersRequest.KEY_USER_ID)):p.SFSUser.fromSFSArray(ie.get(Z.InviteUsersRequest.KEY_USER));var pe=ie.get(Z.InviteUsersRequest.KEY_TIME),Ge=ie.get(Z.InviteUsersRequest.KEY_INVITATION_ID),ze=ie.get(Z.InviteUsersRequest.KEY_PARAMS),et=new C.SFSInvitation(fe,this._sfs.mySelf,pe,ze);et._id=Ge;var xe={};xe.invitation=et,this._sfs.dispatchEvent(S.SFSEvent.INVITATION,xe)}},{key:"_fnInvitationReply",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe;fe=null!=ie.get(Z.InviteUsersRequest.KEY_USER_ID)?this._sfs.userManager.getUserById(ie.get(Z.InviteUsersRequest.KEY_USER_ID)):p.SFSUser.fromSFSArray(ie.get(Z.InviteUsersRequest.KEY_USER));var pe=ie.get(Z.InviteUsersRequest.KEY_REPLY_ID),Ge=ie.get(Z.InviteUsersRequest.KEY_PARAMS),ze={};ze.invitee=fe,ze.reply=pe,ze.data=Ge,this._sfs.dispatchEvent(S.SFSEvent.INVITATION_REPLY,ze)}else this._dispatchError(S.SFSEvent.INVITATION_REPLY_ERROR,ie)}},{key:"_fnSetUserPosition",value:function(ie){var fe=ie.get(oe.SetUserPositionRequest.KEY_ROOM),pe=this._sfs.roomManager.getRoomById(fe),Ge=ie.get(oe.SetUserPositionRequest.KEY_MINUS_USER_LIST),ze=ie.get(oe.SetUserPositionRequest.KEY_PLUS_USER_LIST),et=ie.get(oe.SetUserPositionRequest.KEY_MINUS_ITEM_LIST),xe=ie.get(oe.SetUserPositionRequest.KEY_PLUS_ITEM_LIST),Ye=[],Yt=[],It=[],$t=[];if(null!=Ge){var Wn=!0,tt=!1,dt=void 0;try{for(var ve,ge=Ge[Symbol.iterator]();!(Wn=(ve=ge.next()).done);Wn=!0){var Re=pe.getUserById(ve.value);null!=Re&&(pe._removeUser(Re),Yt.push(Re))}}catch(Xt){tt=!0,dt=Xt}finally{try{!Wn&&ge.return&&ge.return()}finally{if(tt)throw dt}}}if(null!=ze)for(var Se=0;Se<ze.size();Se++){var Fe=ze.get(Se),st=this._getOrCreateUser(Fe,!0,pe);Ye.push(st),pe._addUser(st);var _t=Fe.get(5);null!=_t&&(st._aoiEntryPoint=_.Vec3D.fromArray(_t))}if(null!=et){var vt=!0,cn=!1,wn=void 0;try{for(var zn,Ft=et[Symbol.iterator]();!(vt=(zn=Ft.next()).done);vt=!0){var en=pe.getMMOItem(zn.value);null!=en&&(pe._removeItem(en.id),$t.push(en))}}catch(Xt){cn=!0,wn=Xt}finally{try{!vt&&Ft.return&&Ft.return()}finally{if(cn)throw wn}}}if(null!=xe)for(var Bt=0;Bt<xe.size();Bt++){var Sn=xe.get(Bt),ar=d.MMOItem.fromSFSArray(Sn);It.push(ar),pe._addMMOItem(ar);var lr=Sn.get(2);null!=lr&&(ar._aoiEntryPoint=_.Vec3D.fromArray(lr))}var Nn={};Nn.addedItems=It,Nn.removedItems=$t,Nn.removedUsers=Yt,Nn.addedUsers=Ye,Nn.room=pe,this._sfs.dispatchEvent(S.SFSEvent.PROXIMITY_LIST_UPDATE,Nn)}},{key:"_fnInitBuddyList",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(le.InitBuddyListRequest.KEY_BLIST),pe=ie.get(le.InitBuddyListRequest.KEY_MY_VARS),Ge=ie.get(le.InitBuddyListRequest.KEY_BUDDY_STATES);this._sfs.buddyManager._clearAll();for(var ze=0;ze<fe.size();ze++){var et=b.SFSBuddy.fromSFSArray(fe.get(ze));this._sfs.buddyManager._addBuddy(et)}null!=Ge&&this._sfs.buddyManager._setBuddyStates(Ge);for(var xe=[],Ye=0;Ye<pe.size();Ye++){var Yt=x.SFSBuddyVariable.fromSFSArray(pe.get(Ye));xe.push(Yt)}this._sfs.buddyManager._setMyVariables(xe),this._sfs.buddyManager._setInited();var It={};It.buddyList=this._sfs.buddyManager.getBuddyList(),It.myVariables=this._sfs.buddyManager.getMyVariables(),this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_LIST_INIT,It)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnAddBuddy",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=b.SFSBuddy.fromSFSArray(ie.get(de.AddBuddyRequest.KEY_BUDDY_NAME));this._sfs.buddyManager._addBuddy(fe);var pe={};pe.buddy=fe,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_ADD,pe)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnRemoveBuddy",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Be.RemoveBuddyRequest.KEY_BUDDY_NAME),pe=this._sfs.buddyManager._removeBuddyByName(fe);if(null!=pe){var Ge={};Ge.buddy=pe,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_REMOVE,Ge)}else this._logger.warn("Unexpected RemoveBuddy event error; can't find "+fe+" in local buddy list")}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnBlockBuddy",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Je.BlockBuddyRequest.KEY_BUDDY_NAME),pe=this._sfs.buddyManager.getBuddyByName(fe);null!=ie.get(Je.BlockBuddyRequest.KEY_BUDDY)?(pe=b.SFSBuddy.fromSFSArray(ie.get(Je.BlockBuddyRequest.KEY_BUDDY)),this._sfs.buddyManager._addBuddy(pe)):null!=pe?pe._isBlocked=ie.get(Je.BlockBuddyRequest.KEY_BUDDY_BLOCK_STATE):this._logger.warn("Unexpected BlockBuddy event error; can't find "+fe+" in local buddy list");var Ge={};Ge.buddy=pe,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_BLOCK,Ge)}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnGoOnline",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){var fe=ie.get(Le.GoOnlineRequest.KEY_BUDDY_NAME),pe=this._sfs.buddyManager.getBuddyByName(fe),Ge=fe===this._sfs.mySelf.name,ze=ie.get(Le.GoOnlineRequest.KEY_ONLINE),et=ze===b.BuddyOnlineState.ONLINE,xe=!0;if(Ge)this._sfs.buddyManager.getMyOnlineState()!=et&&(this._logger.warn("Unexpected GoOnline event error; current user's online state is not in synch with the server; resynching to: "+et),this._sfs.buddyManager._setMyOnlineState(et));else{if(null==pe)return void this._logger.warn("Unexpected GoOnline event error; can't find "+fe+" in local buddy list");pe._id=ie.get(Le.GoOnlineRequest.KEY_BUDDY_ID),pe._setVariable(new x.SFSBuddyVariable(x.ReservedBuddyVariables.BV_ONLINE,et)),ze===b.BuddyOnlineState.LEFT_THE_SERVER&&pe._clearVolatileVariables(),xe=this._sfs.buddyManager.getMyOnlineState()}if(xe){var Ye={};Ye.buddy=pe,Ye.isItMe=Ge,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_ONLINE_STATE_CHANGE,Ye)}}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnSetBuddyVariables",value:function(ie){if(null==ie.get(je.KEY_ERROR_CODE)){for(var fe=ie.get(Ot.SetBuddyVariablesRequest.KEY_BUDDY_NAME),pe=ie.get(Ot.SetBuddyVariablesRequest.KEY_BUDDY_VARS),Ge=this._sfs.buddyManager.getBuddyByName(fe),ze=fe===this._sfs.mySelf.name,et=[],xe=[],Ye=!0,Yt=0;Yt<pe.size();Yt++){var It=x.SFSBuddyVariable.fromSFSArray(pe.get(Yt));xe.push(It),et.push(It.name)}if(ze)this._sfs.buddyManager._setMyVariables(xe);else{if(null==Ge)return void this._logger.warn("Unexpected SetBuddyVariables event error; can't find "+fe+" in local buddy list");Ge._setVariables(xe),Ye=this._sfs.buddyManager.getMyOnlineState()}if(Ye){var $t={};$t.buddy=Ge,$t.isItMe=ze,$t.changedVars=et,this._sfs.dispatchEvent(S.SFSBuddyEvent.BUDDY_VARIABLES_UPDATE,$t)}}else this._dispatchError(S.SFSBuddyEvent.BUDDY_ERROR,ie)}},{key:"_fnUserEnterRoom",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM));if(null!=fe){var pe=ie.get(je.USER_PARAM),Ge=this._getOrCreateUser(pe,!0,fe);fe._addUser(Ge);var ze={};ze.user=Ge,ze.room=fe,this._sfs.dispatchEvent(S.SFSEvent.USER_ENTER_ROOM,ze)}}},{key:"_fnUserCountChange",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM));if(null!=fe){var pe=ie.get(je.USER_COUNT_PARAM),Ge=null!=ie.get(je.SPECT_COUNT_PARAM)?ie.get(je.SPECT_COUNT_PARAM):0;fe._userCount=pe,fe._specCount=Ge;var ze={};ze.room=fe,ze.uCount=pe,ze.sCount=Ge,this._sfs.dispatchEvent(S.SFSEvent.USER_COUNT_CHANGE,ze)}}},{key:"_fnUserLost",value:function(ie){var fe=this._sfs.userManager.getUserById(ie.get(je.USER_PARAM));if(null!=fe){var pe=this._sfs.roomManager.getUserRooms(fe);this._sfs.roomManager._removeUser(fe),this._sfs.userManager._removeUserReference(fe,!0);var Ge=!0,ze=!1,et=void 0;try{for(var xe,Ye=pe[Symbol.iterator]();!(Ge=(xe=Ye.next()).done);Ge=!0){var Yt=xe.value,It={};It.user=fe,It.room=Yt,this._sfs.dispatchEvent(S.SFSEvent.USER_EXIT_ROOM,It)}}catch($t){ze=!0,et=$t}finally{try{!Ge&&Ye.return&&Ye.return()}finally{if(ze)throw et}}}}},{key:"_fnRoomLost",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM));if(null!=fe){this._sfs.roomManager._removeRoom(fe);var pe=!0,Ge=!1,ze=void 0;try{for(var et,xe=fe.getUserList()[Symbol.iterator]();!(pe=(et=xe.next()).done);pe=!0)this._sfs.userManager._removeUser(et.value)}catch(It){Ge=!0,ze=It}finally{try{!pe&&xe.return&&xe.return()}finally{if(Ge)throw ze}}var Yt={};Yt.room=fe,this._sfs.dispatchEvent(S.SFSEvent.ROOM_REMOVE,Yt)}}},{key:"_fnUserExitRoom",value:function(ie){var fe=this._sfs.roomManager.getRoomById(ie.get(je.ROOM_PARAM)),pe=this._sfs.userManager.getUserById(ie.get(je.USER_PARAM));if(null!=fe&&null!=pe){fe._removeUser(pe),this._sfs.userManager._removeUser(pe),pe.isItMe&&fe.isJoined&&(fe._isJoined=!1,0!==this._sfs.roomManager.getJoinedRooms().length&&this._sfs._lastJoinedRoom!==fe||(this._sfs._lastJoinedRoom=null),fe._isManaged||this._sfs.roomManager._removeRoom(fe));var Ge={};Ge.user=pe,Ge.room=fe,this._sfs.dispatchEvent(S.SFSEvent.USER_EXIT_ROOM,Ge)}else this._logger.debug("Failed to handle UserExit event; Room: "+fe+", User: "+pe)}},{key:"_fnClientDisconnection",value:function(ie){var fe=ie.get(je.DISCONNECTION_REASON_PARAM);this._sfs._handleClientDisconnection(N.ClientDisconnectionReason.getReason(fe))}},{key:"_fnSetMMOItemVariables",value:function(ie){var fe=ie.get(be.SetMMOItemVariables.KEY_ROOM_ID),pe=ie.get(be.SetMMOItemVariables.KEY_ITEM_ID),Ge=ie.get(be.SetMMOItemVariables.KEY_VAR_LIST),ze=this._sfs.roomManager.getRoomById(fe),et=new Set;if(null!=ze){var xe=ze.getMMOItem(pe);if(null!=xe){for(var Ye=0;Ye<Ge.size();Ye++){var Yt=O.MMOItemVariable.fromSFSArray(Ge.get(Ye));xe._setVariable(Yt),et.add(Yt.name)}var It={};It.changedVars=Array.from(et),It.mmoItem=xe,It.room=ze,this._sfs.dispatchEvent(S.SFSEvent.MMOITEM_VARIABLES_UPDATE,It)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMOItem id: "+pe)}else this._logger.warn("Unexpected MMOItemVariablesUpdate event error; unknown MMORoom id: "+fe)}},{key:"_dispatchError",value:function(ie,fe){var pe={};pe.errorCode=fe.get(je.KEY_ERROR_CODE),pe.errorMessage=m.SFSErrorCodes.getErrorMessage(pe.errorCode,fe.get(je.KEY_ERROR_PARAMS)),this._sfs.dispatchEvent(ie,pe)}},{key:"_populateRoomList",value:function(ie){for(var fe=0;fe<ie.size();fe++){var pe=f.SFSRoom.fromSFSArray(ie.get(fe));this._sfs.roomManager._replaceRoom(pe)}}},{key:"_getOrCreateUser",value:function(ie,fe,pe){var Ge=ie.get(0),ze=this._sfs.userManager.getUserById(Ge);if(null==ze)(ze=p.SFSUser.fromSFSArray(ie,pe))._setUserManager(this._sfs.userManager);else{ze._setPlayerId(ie.get(3),pe);var et=ie.get(4);if(null!=et)for(var xe=0;xe<et.size();xe++)ze._setVariable(h.SFSUserVariable.fromSFSArray(et.get(xe)))}return fe&&this._sfs.userManager._addUser(ze),ze}},{key:"id",get:function(){return this._id}}]),je}();M.SystemController=qe},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.SmartFox=void 0;var T=function(){function H(L,j){for(var k=0;k<j.length;k++){var V=j[k];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(L,V.key,V)}}return function(L,j,k){return j&&H(L.prototype,j),k&&H(L,k),L}}(),y=c(175),S=c(169),m=c(39),_=c(1),f=c(168),p=c(119),d=c(166),b=c(165),C=c(2),h=c(164),v=c(74),O=c(50),x=c(163),N=c(51),G=function(H){function L(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;!function(V,J){if(!(V instanceof J))throw new TypeError("Cannot call a class as a function")}(this,L);var k=function(V,J){if(!V)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!J||"object"!=typeof J&&"function"!=typeof J?V:J}(this,(L.__proto__||Object.getPrototypeOf(L)).call(this));return k._majVersion=1,k._minVersion=7,k._subVersion=19,k._configData=j,k._logger=O.Logger.instance,k._sessionToken=null,k._socketEngine=new f.SocketEngine(k),k._socketEngine.addEventListener(f.SocketEvent.CONNECT,k._onSocketConnect,k),k._socketEngine.addEventListener(f.SocketEvent.DISCONNECT,k._onSocketDisconnect,k),k._socketEngine.addEventListener(f.SocketEvent.DATA,k._onSocketData,k),k._socketEngine.addEventListener(f.SocketEvent.IOERROR,k._onSocketIOError,k),k._controllers={},k._controllers[0]=new y.SystemController(k),k._controllers[1]=new S.ExtensionController(k),k._reset(),k._clientDetails="JavaScript",k.debug=null!=k.config&&k.config.debug,k.debug&&(k._logger.info("SmartFox instance ready"),k._logger.info("SFS2X JavaScript API v"+k.version)),Object.seal(k),k}return function(j,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);j.prototype=Object.create(k&&k.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(j,k):j.__proto__=k)}(L,m.EventDispatcher),T(L,[{key:"setClientDetails",value:function(j,k){this.isConnected?this._logger.warn("Method setClientDetails must be called before the connection is started"):(j=null!=j?j.replace(":"," "):"",k=null!=k?k.replace(":"," "):"",this._clientDetails=j+":"+k)}},{key:"connect",value:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this.debug&&this._logger.info("Attempting connection to server"),this.isConnected)this._logger.warn("Connection attempt interrupted: already connected");else if(this._socketEngine.isConnecting)this._logger.warn("Connection attempt interrupted: another attempt is already in progress");else{var J=null!=this.config&&null!=this.config.host?this.config.host:null,W=null!=this.config&&null!=this.config.port?this.config.port:null,ee=null!=this.config&&this.config.useSSL;null!=j&&(J=j),k>-1&&(W=k),null!=V&&(ee=V),null!=J&&"string"==typeof J&&0!==J.length?"number"!=typeof W||W<0||W>65535?this._logger.error("Invalid TCP connection port: "+W):("boolean"!=typeof ee&&(ee=!1),this._socketEngine.connect(J,W,ee)):this._logger.error("Invalid connection host/address")}}},{key:"disconnect",value:function(){this.isConnected&&this._handleClientDisconnection(N.ClientDisconnectionReason.MANUAL)}},{key:"enableLagMonitor",value:function(j){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;null!=this.mySelf?(null!=this._lagMonitor&&this._lagMonitor.destroy(),j&&(this._lagMonitor=new x.LagMonitor(this,k,V),this._lagMonitor.start())):this._logger.warn("Lag monitoring requires that you are logged in a Zone; please retry after completing the login process")}},{key:"send",value:function(j){if(this.isConnected){if(null!=j.validate&&null!=j.execute){this.debug&&this._logger.info("Sending request '"+C.Requests.getNameFromId(j.id)+"' to server");try{j.validate(this),j.execute(this)}catch(J){if(!(J instanceof _.SFSValidationError&&null!=J.message))throw J;var k=J.message;if(null!=J.errors){k+=":";for(var V=0;V<J.errors.length;V++)J.errors.length>1&&(k+=" "+(V+1)+")"),k+=" "+J.errors[V]}return this._logger.error("Request failed | "+k),!1}return this._socketEngine.send(j.getMessage()),!0}this._logger.error("An invalid request was passed: "+j)}else this._logger.error("You are not connected. Request cannot be sent: "+C.Requests.getNameFromId(j.id))}},{key:"getRoomById",value:function(j){return this.roomManager.getRoomById(j)}},{key:"getRoomByName",value:function(j){return this.roomManager.getRoomByName(j)}},{key:"getRoomList",value:function(){return this.roomManager.getRoomList()}},{key:"getRoomListFromGroup",value:function(j){return this.roomManager.getRoomListFromGroup(j)}},{key:"getJoinedRooms",value:function(){return this.roomManager.getJoinedRooms()}},{key:"_reset",value:function(){var j=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!=this._buddyManager&&(this._buddyManager._clearAll(),this._buddyManager._inited=!1),this._userManager=new p.GlobalUserManager(this),this._roomManager=new d.SFSRoomManager(this),this._buddyManager=new b.SFSBuddyManager(this),null!=this._lagMonitor&&this._lagMonitor.destroy(),this._lagMonitor=null,this._isJoining=!1,this._currentZone=null,this._lastJoinedRoom=null,this._mySelf=null,j&&(this._sessionToken=null)}},{key:"_onSocketConnect",value:function(j){j.success?this.send(new h.HandshakeRequest(this.version,this._clientDetails)):this.dispatchEvent(m.SFSEvent.CONNECTION,{success:!1})}},{key:"_onSocketDisconnect",value:function(j){this.dispatchEvent(m.SFSEvent.CONNECTION_LOST,{reason:j.reason}),this._reset(!0)}},{key:"_onSocketData",value:function(j){var k=j.targetController,V=j.id;null!=k?null!=V?this._controllers[k].handleMessage(j.content,V):this._logger.error("Incoming message rejected: Command ID is missing"):this._logger.error("Incoming message rejected: Controller ID is missing")}},{key:"_onSocketIOError",value:function(j){this.dispatchEvent(m.SFSEvent.SOCKET_ERROR,{message:j})}},{key:"_handleHandShake",value:function(j){var k=j.get(C.BaseRequest.KEY_ERROR_CODE);if(null==k)this._sessionToken=j.get(h.HandshakeRequest.KEY_SESSION_TOKEN),this._socketEngine.maxMessageSize=j.get(h.HandshakeRequest.KEY_MAX_MESSAGE_SIZE),this._socketEngine.compressionThreshold=j.get(h.HandshakeRequest.KEY_COMPRESSION_THRESHOLD),this.dispatchEvent(m.SFSEvent.CONNECTION,{success:!0});else{var V={success:!1,errorMessage:v.SFSErrorCodes.getErrorMessage(k,j.get(C.BaseRequest.KEY_ERROR_PARAMS)),errorCode:k};this.dispatchEvent(m.SFSEvent.CONNECTION,V)}}},{key:"_handleLogout",value:function(){this._reset()}},{key:"_handleClientDisconnection",value:function(j){this.isConnected&&this._socketEngine.disconnect(j)}},{key:"version",get:function(){return this._majVersion+"."+this._minVersion+"."+this._subVersion}},{key:"config",get:function(){return this._configData}},{key:"logger",get:function(){return this._logger}},{key:"sessionToken",get:function(){return this._sessionToken}},{key:"roomManager",get:function(){return this._roomManager}},{key:"userManager",get:function(){return this._userManager}},{key:"buddyManager",get:function(){return this._buddyManager}},{key:"mySelf",get:function(){return this._mySelf}},{key:"lastJoinedRoom",get:function(){return this._lastJoinedRoom}},{key:"isConnected",get:function(){return null!=this._socketEngine&&this._socketEngine.isConnected}},{key:"maxMessageSize",get:function(){return null!=this._socketEngine?this._socketEngine.maxMessageSize:0}}]),L}();M.SmartFox=G},function(U,M,c){var T=c(0),y=c(89);y&&T(T.S,"Reflect",{setPrototypeOf:function(S,m){y.check(S,m);try{return y.set(S,m),!0}catch(_){return!1}}})},function(U,M,c){var T=c(10),y=c(23),S=c(31),m=c(16),_=c(0),f=c(36),p=c(5),d=c(4);_(_.S,"Reflect",{set:function b(C,h,v){var O,x,N=arguments.length<4?C:arguments[3],G=y.f(p(C),h);if(!G){if(d(x=S(C)))return b(x,h,v,N);G=f(0)}return m(G,"value")?!(!1===G.writable||!d(N)||((O=y.f(N,h)||f(0)).value=v,T.f(N,h,O),0)):void 0!==G.set&&(G.set.call(N,v),!0)}})},function(U,M,c){var T=c(0),y=c(5),S=Object.preventExtensions;T(T.S,"Reflect",{preventExtensions:function(m){y(m);try{return S&&S(m),!0}catch(_){return!1}}})},function(U,M,c){var T=c(32),y=c(68),S=c(5),m=c(6).Reflect;U.exports=m&&m.ownKeys||function(_){var f=T.f(S(_)),p=y.f;return p?f.concat(p(_)):f}},function(U,M,c){var T=c(0);T(T.S,"Reflect",{ownKeys:c(180)})},function(U,M,c){var T=c(0),y=c(5),S=Object.isExtensible;T(T.S,"Reflect",{isExtensible:function(m){return y(m),!S||S(m)}})},function(U,M,c){var T=c(0);T(T.S,"Reflect",{has:function(y,S){return S in y}})},function(U,M,c){var T=c(0),y=c(31),S=c(5);T(T.S,"Reflect",{getPrototypeOf:function(m){return y(S(m))}})},function(U,M,c){var T=c(23),y=c(0),S=c(5);y(y.S,"Reflect",{getOwnPropertyDescriptor:function(m,_){return T.f(S(m),_)}})},function(U,M,c){var T=c(23),y=c(31),S=c(16),m=c(0),_=c(4),f=c(5);m(m.S,"Reflect",{get:function p(d,b){var C,h,v=arguments.length<3?d:arguments[2];return f(d)===v?d[b]:(C=T.f(d,b))?S(C,"value")?C.value:void 0!==C.get?C.get.call(v):void 0:_(h=y(d))?p(h,b,v):void 0}})},function(U,M,c){"use strict";var T=c(0),y=c(5),S=function(m){this._t=y(m),this._i=0;var _,f=this._k=[];for(_ in m)f.push(_)};c(133)(S,"Object",function(){var m,_=this._k;do{if(this._i>=_.length)return{value:void 0,done:!0}}while(!((m=_[this._i++])in this._t));return{value:m,done:!1}}),T(T.S,"Reflect",{enumerate:function(m){return new S(m)}})},function(U,M,c){var T=c(0),y=c(23).f,S=c(5);T(T.S,"Reflect",{deleteProperty:function(m,_){var f=y(S(m),_);return!(f&&!f.configurable)&&delete m[_]}})},function(U,M,c){var T=c(10),y=c(0),S=c(5),m=c(30);y(y.S+y.F*c(3)(function(){Reflect.defineProperty(T.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(_,f,p){S(_),f=m(f,!0),S(p);try{return T.f(_,f,p),!0}catch(d){return!1}}})},function(U,M,c){var T=c(0),y=c(33),S=c(26),m=c(5),_=c(4),f=c(3),p=c(142),d=(c(6).Reflect||{}).construct,b=f(function(){function h(){}return!(d(function(){},[],h)instanceof h)}),C=!f(function(){d(function(){})});T(T.S+T.F*(b||C),"Reflect",{construct:function(h,v){S(h),m(v);var O=arguments.length<3?h:S(arguments[2]);if(C&&!b)return d(h,v,O);if(h==O){switch(v.length){case 0:return new h;case 1:return new h(v[0]);case 2:return new h(v[0],v[1]);case 3:return new h(v[0],v[1],v[2]);case 4:return new h(v[0],v[1],v[2],v[3])}var x=[null];return x.push.apply(x,v),new(p.apply(h,x))}var N=O.prototype,G=y(_(N)?N:Object.prototype),H=Function.apply.call(h,G,v);return _(H)?H:G}})},function(U,M,c){var T=c(0),y=c(26),S=c(5),m=(c(6).Reflect||{}).apply,_=Function.apply;T(T.S+T.F*!c(3)(function(){m(function(){})}),"Reflect",{apply:function(f,p,d){var b=y(f),C=S(d);return m?m(b,p,C):_.call(b,p,C)}})},function(U,M,c){c(22)("Float64",8,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Float32",4,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Uint32",4,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Int32",4,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Uint16",2,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Int16",2,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Uint8",1,function(T){return function(y,S,m){return T(this,y,S,m)}},!0)},function(U,M,c){c(22)("Uint8",1,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){c(22)("Int8",1,function(T){return function(y,S,m){return T(this,y,S,m)}})},function(U,M,c){var T=c(0);T(T.G+T.W+T.F*!c(60).ABV,{DataView:c(75).DataView})},function(U,M,c){"use strict";var T=c(0),y=c(60),S=c(75),m=c(5),_=c(34),f=c(12),p=c(4),d=c(6).ArrayBuffer,b=c(76),C=S.ArrayBuffer,h=S.DataView,v=y.ABV&&d.isView,O=C.prototype.slice,x=y.VIEW;T(T.G+T.W+T.F*(d!==C),{ArrayBuffer:C}),T(T.S+T.F*!y.CONSTR,"ArrayBuffer",{isView:function(N){return v&&v(N)||p(N)&&x in N}}),T(T.P+T.U+T.F*c(3)(function(){return!new C(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(N,G){if(void 0!==O&&void 0===G)return O.call(m(this),N);for(var H=m(this).byteLength,L=_(N,H),j=_(void 0===G?H:G,H),k=new(b(this,C))(f(j-L)),V=new h(this),J=new h(k),W=0;L<j;)J.setUint8(W++,V.getUint8(L++));return k}}),c(43)("ArrayBuffer")},function(U,M,c){"use strict";var T=c(122),y=c(40);c(61)("WeakSet",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{add:function(S){return T.def(y(this,"WeakSet"),S,!0)}},T,!1,!0)},function(U,M,c){"use strict";var T,y=c(19)(0),S=c(15),m=c(29),_=c(143),f=c(122),p=c(4),d=c(3),b=c(40),C=m.getWeak,h=Object.isExtensible,v=f.ufstore,O={},x=function(H){return function(){return H(this,arguments.length>0?arguments[0]:void 0)}},N={get:function(H){if(p(H)){var L=C(H);return!0===L?v(b(this,"WeakMap")).get(H):L?L[this._i]:void 0}},set:function(H,L){return f.def(b(this,"WeakMap"),H,L)}},G=U.exports=c(61)("WeakMap",x,N,f,!0,!0);d(function(){return 7!=(new G).set((Object.freeze||Object)(O),7).get(O)})&&(_((T=f.getConstructor(x,"WeakMap")).prototype,N),m.NEED=!0,y(["delete","has","get","set"],function(H){var L=G.prototype,j=L[H];S(L,H,function(k,V){if(p(k)&&!h(k)){this._f||(this._f=new T);var J=this._f[H](k,V);return"set"==H?this:J}return j.call(this,k,V)})}))},function(U,M,c){"use strict";var T=c(123),y=c(40);U.exports=c(61)("Set",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{add:function(S){return T.def(y(this,"Set"),S=0===S?0:S,S)}},T)},function(U,M,c){"use strict";var T=c(123),y=c(40);U.exports=c(61)("Map",function(S){return function(){return S(this,arguments.length>0?arguments[0]:void 0)}},{get:function(S){var m=T.getEntry(y(this,"Map"),S);return m&&m.v},set:function(S,m){return T.def(y(this,"Map"),0===S?0:S,m)}},T,!0)},function(U,M,c){var T=c(5),y=c(4),S=c(124);U.exports=function(m,_){if(T(m),y(_)&&_.constructor===m)return _;var f=S.f(m);return(0,f.resolve)(_),f.promise}},function(U,M){U.exports=function(c){try{return{e:!1,v:c()}}catch(T){return{e:!0,v:T}}}},function(U,M,c){var T=c(6),y=c(125).set,S=T.MutationObserver||T.WebKitMutationObserver,m=T.process,_=T.Promise,f="process"==c(25)(m);U.exports=function(){var p,d,b,C=function(){var x,N;for(f&&(x=m.domain)&&x.exit();p;){N=p.fn,p=p.next;try{N()}catch(G){throw p?b():d=void 0,G}}d=void 0,x&&x.enter()};if(f)b=function(){m.nextTick(C)};else if(!S||T.navigator&&T.navigator.standalone)if(_&&_.resolve){var h=_.resolve();b=function(){h.then(C)}}else b=function(){y.call(T,C)};else{var v=!0,O=document.createTextNode("");new S(C).observe(O,{characterData:!0}),b=function(){O.data=v=!v}}return function(x){var N={fn:x,next:void 0};d&&(d.next=N),p||(p=N,b()),d=N}}},function(U,M,c){"use strict";var T,y,S,m,_=c(44),f=c(6),p=c(27),d=c(66),b=c(0),C=c(4),h=c(26),v=c(42),O=c(62),x=c(76),N=c(125).set,G=c(209)(),H=c(124),L=c(208),j=c(207),k=f.TypeError,V=f.process,J=f.Promise,W="process"==d(V),ee=function(){},q=y=H.f,ce=!!function(){try{var oe=J.resolve(1),le=(oe.constructor={})[c(7)("species")]=function(de){de(ee,ee)};return(W||"function"==typeof PromiseRejectionEvent)&&oe.then(ee)instanceof le}catch(de){}}(),Te=function(oe){var le;return!(!C(oe)||"function"!=typeof(le=oe.then))&&le},_e=function(oe,le){if(!oe._n){oe._n=!0;var de=oe._c;G(function(){for(var Be=oe._v,Je=1==oe._s,Le=0,Ot=function(qe){var je,ie,fe,pe=Je?qe.ok:qe.fail,Ge=qe.resolve,ze=qe.reject,et=qe.domain;try{pe?(Je||(2==oe._h&&se(oe),oe._h=1),!0===pe?je=Be:(et&&et.enter(),je=pe(Be),et&&(et.exit(),fe=!0)),je===qe.promise?ze(k("Promise-chain cycle")):(ie=Te(je))?ie.call(je,Ge,ze):Ge(je)):ze(Be)}catch(xe){et&&!fe&&et.exit(),ze(xe)}};de.length>Le;)Ot(de[Le++]);oe._c=[],oe._n=!1,le&&!oe._h&&Ee(oe)})}},Ee=function(oe){N.call(f,function(){var le,de,Be,Je=oe._v,Le=$(oe);if(Le&&(le=L(function(){W?V.emit("unhandledRejection",Je,oe):(de=f.onunhandledrejection)?de({promise:oe,reason:Je}):(Be=f.console)&&Be.error&&Be.error("Unhandled promise rejection",Je)}),oe._h=W||$(oe)?2:1),oe._a=void 0,Le&&le.e)throw le.v})},$=function(oe){return 1!==oe._h&&0===(oe._a||oe._c).length},se=function(oe){N.call(f,function(){var le;W?V.emit("rejectionHandled",oe):(le=f.onrejectionhandled)&&le({promise:oe,reason:oe._v})})},Z=function(oe){var le=this;le._d||(le._d=!0,(le=le._w||le)._v=oe,le._s=2,le._a||(le._a=le._c.slice()),_e(le,!0))},be=function(oe){var le,de=this;if(!de._d){de._d=!0,de=de._w||de;try{if(de===oe)throw k("Promise can't be resolved itself");(le=Te(oe))?G(function(){var Be={_w:de,_d:!1};try{le.call(oe,p(be,Be,1),p(Z,Be,1))}catch(Je){Z.call(Be,Je)}}):(de._v=oe,de._s=1,_e(de,!1))}catch(Be){Z.call({_w:de,_d:!1},Be)}}};ce||(J=function(oe){v(this,J,"Promise","_h"),h(oe),T.call(this);try{oe(p(be,this,1),p(Z,this,1))}catch(le){Z.call(this,le)}},(T=function(oe){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=c(41)(J.prototype,{then:function(oe,le){var de=q(x(this,J));return de.ok="function"!=typeof oe||oe,de.fail="function"==typeof le&&le,de.domain=W?V.domain:void 0,this._c.push(de),this._a&&this._a.push(de),this._s&&_e(this,!1),de.promise},catch:function(oe){return this.then(void 0,oe)}}),S=function(){var oe=new T;this.promise=oe,this.resolve=p(be,oe,1),this.reject=p(Z,oe,1)},H.f=q=function(oe){return oe===J||oe===m?new S(oe):y(oe)}),b(b.G+b.W+b.F*!ce,{Promise:J}),c(45)(J,"Promise"),c(43)("Promise"),m=c(37).Promise,b(b.S+b.F*!ce,"Promise",{reject:function(oe){var le=q(this);return(0,le.reject)(oe),le.promise}}),b(b.S+b.F*(_||!ce),"Promise",{resolve:function(oe){return j(_&&this===m?J:this,oe)}}),b(b.S+b.F*!(ce&&c(64)(function(oe){J.all(oe).catch(ee)})),"Promise",{all:function(oe){var le=this,de=q(le),Be=de.resolve,Je=de.reject,Le=L(function(){var Ot=[],qe=0,je=1;O(oe,!1,function(ie){var fe=qe++,pe=!1;Ot.push(void 0),je++,le.resolve(ie).then(function(Ge){pe||(pe=!0,Ot[fe]=Ge,--je||Be(Ot))},Je)}),--je||Be(Ot)});return Le.e&&Je(Le.v),de.promise},race:function(oe){var le=this,de=q(le),Be=de.reject,Je=L(function(){O(oe,!1,function(Le){le.resolve(Le).then(de.resolve,Be)})});return Je.e&&Be(Je.v),de.promise}})},function(U,M,c){c(63)("split",2,function(T,y,S){"use strict";var m=c(82),_=S,f=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var p=void 0===/()??/.exec("")[1];S=function(d,b){var C=String(this);if(void 0===d&&0===b)return[];if(!m(d))return _.call(C,d,b);var h,v,O,x,N,G=[],H=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(d.sticky?"y":""),L=0,j=void 0===b?4294967295:b>>>0,k=new RegExp(d.source,H+"g");for(p||(h=new RegExp("^"+k.source+"$(?!\\s)",H));(v=k.exec(C))&&!((O=v.index+v[0].length)>L&&(G.push(C.slice(L,v.index)),!p&&v.length>1&&v[0].replace(h,function(){for(N=1;N<arguments.length-2;N++)void 0===arguments[N]&&(v[N]=void 0)}),v.length>1&&v.index<C.length&&f.apply(G,v.slice(1)),x=v[0].length,L=O,G.length>=j));)k.lastIndex===v.index&&k.lastIndex++;return L===C.length?!x&&k.test("")||G.push(""):G.push(C.slice(L)),G.length>j?G.slice(0,j):G}}else"0".split(void 0,0).length&&(S=function(d,b){return void 0===d&&0===b?[]:_.call(this,d,b)});return[function(d,b){var C=T(this),h=null==d?void 0:d[y];return void 0!==h?h.call(d,C,b):S.call(String(C),d,b)},S]})},function(U,M,c){c(63)("search",1,function(T,y,S){return[function(m){"use strict";var _=T(this),f=null==m?void 0:m[y];return void 0!==f?f.call(m,_):new RegExp(m)[y](String(_))},S]})},function(U,M,c){c(63)("replace",2,function(T,y,S){return[function(m,_){"use strict";var f=T(this),p=null==m?void 0:m[y];return void 0!==p?p.call(m,f,_):S.call(String(f),m,_)},S]})},function(U,M,c){c(63)("match",1,function(T,y,S){return[function(m){"use strict";var _=T(this),f=null==m?void 0:m[y];return void 0!==f?f.call(m,_):new RegExp(m)[y](String(_))},S]})},function(U,M,c){"use strict";c(126);var T=c(5),y=c(77),S=c(11),m=/./.toString,_=function(f){c(15)(RegExp.prototype,"toString",f,!0)};c(3)(function(){return"/a/b"!=m.call({source:"a",flags:"b"})})?_(function(){var f=T(this);return"/".concat(f.source,"/","flags"in f?f.flags:!S&&f instanceof RegExp?y.call(f):void 0)}):"toString"!=m.name&&_(function(){return m.call(this)})},function(U,M,c){var T=c(6),y=c(87),S=c(10).f,m=c(32).f,_=c(82),f=c(77),p=T.RegExp,d=p,b=p.prototype,C=/a/g,h=/a/g,v=new p(C)!==C;if(c(11)&&(!v||c(3)(function(){return h[c(7)("match")]=!1,p(C)!=C||p(h)==h||"/a/i"!=p(C,"i")}))){p=function(G,H){var L=this instanceof p,j=_(G),k=void 0===H;return!L&&j&&G.constructor===p&&k?G:y(v?new d(j&&!k?G.source:G,H):d((j=G instanceof p)?G.source:G,j&&k?f.call(G):H),L?this:b,p)};for(var O=function(G){G in p||S(p,G,{configurable:!0,get:function(){return d[G]},set:function(H){d[G]=H}})},x=m(d),N=0;x.length>N;)O(x[N++]);b.constructor=p,p.prototype=b,c(15)(T,"RegExp",p)}c(43)("RegExp")},function(U,M,c){c(43)("Array")},function(U,M,c){"use strict";var T=c(0),y=c(19)(6),S="findIndex",m=!0;S in[]&&Array(1)[S](function(){m=!1}),T(T.P+T.F*m,"Array",{findIndex:function(_){return y(this,_,arguments.length>1?arguments[1]:void 0)}}),c(52)(S)},function(U,M,c){"use strict";var T=c(0),y=c(19)(5),S=!0;"find"in[]&&Array(1).find(function(){S=!1}),T(T.P+T.F*S,"Array",{find:function(m){return y(this,m,arguments.length>1?arguments[1]:void 0)}}),c(52)("find")},function(U,M,c){var T=c(0);T(T.P,"Array",{fill:c(78)}),c(52)("fill")},function(U,M,c){var T=c(0);T(T.P,"Array",{copyWithin:c(129)}),c(52)("copyWithin")},function(U,M,c){"use strict";var T=c(0),y=c(21),S=c(24),m=c(12),_=[].lastIndexOf,f=!!_&&1/[1].lastIndexOf(1,-0)<0;T(T.P+T.F*(f||!c(17)(_)),"Array",{lastIndexOf:function(p){if(f)return _.apply(this,arguments)||0;var d=y(this),b=m(d.length),C=b-1;for(arguments.length>1&&(C=Math.min(C,S(arguments[1]))),C<0&&(C=b+C);C>=0;C--)if(C in d&&d[C]===p)return C||0;return-1}})},function(U,M,c){"use strict";var T=c(0),y=c(94)(!1),S=[].indexOf,m=!!S&&1/[1].indexOf(1,-0)<0;T(T.P+T.F*(m||!c(17)(S)),"Array",{indexOf:function(_){return m?S.apply(this,arguments)||0:y(this,_,arguments[1])}})},function(U,M,c){"use strict";var T=c(0),y=c(130);T(T.P+T.F*!c(17)([].reduceRight,!0),"Array",{reduceRight:function(S){return y(this,S,arguments.length,arguments[1],!0)}})},function(U,M,c){"use strict";var T=c(0),y=c(130);T(T.P+T.F*!c(17)([].reduce,!0),"Array",{reduce:function(S){return y(this,S,arguments.length,arguments[1],!1)}})},function(U,M,c){"use strict";var T=c(0),y=c(19)(4);T(T.P+T.F*!c(17)([].every,!0),"Array",{every:function(S){return y(this,S,arguments[1])}})},function(U,M,c){"use strict";var T=c(0),y=c(19)(3);T(T.P+T.F*!c(17)([].some,!0),"Array",{some:function(S){return y(this,S,arguments[1])}})},function(U,M,c){"use strict";var T=c(0),y=c(19)(2);T(T.P+T.F*!c(17)([].filter,!0),"Array",{filter:function(S){return y(this,S,arguments[1])}})},function(U,M,c){"use strict";var T=c(0),y=c(19)(1);T(T.P+T.F*!c(17)([].map,!0),"Array",{map:function(S){return y(this,S,arguments[1])}})},function(U,M,c){var T=c(4),y=c(91),S=c(7)("species");U.exports=function(m){var _;return y(m)&&("function"!=typeof(_=m.constructor)||_!==Array&&!y(_.prototype)||(_=void 0),T(_)&&null===(_=_[S])&&(_=void 0)),void 0===_?Array:_}},function(U,M,c){var T=c(230);U.exports=function(y,S){return new(T(y))(S)}},function(U,M,c){"use strict";var T=c(0),y=c(19)(0),S=c(17)([].forEach,!0);T(T.P+T.F*!S,"Array",{forEach:function(m){return y(this,m,arguments[1])}})},function(U,M,c){"use strict";var T=c(0),y=c(26),S=c(14),m=c(3),_=[].sort,f=[1,2,3];T(T.P+T.F*(m(function(){f.sort(void 0)})||!m(function(){f.sort(null)})||!c(17)(_)),"Array",{sort:function(p){return void 0===p?_.call(S(this)):_.call(S(this),y(p))}})},function(U,M,c){"use strict";var T=c(0),y=c(90),S=c(25),m=c(34),_=c(12),f=[].slice;T(T.P+T.F*c(3)(function(){y&&f.call(y)}),"Array",{slice:function(p,d){var b=_(this.length),C=S(this);if(d=void 0===d?b:d,"Array"==C)return f.call(this,p,d);for(var h=m(p,b),v=m(d,b),O=_(v-h),x=new Array(O),N=0;N<O;N++)x[N]="String"==C?this.charAt(h+N):this[h+N];return x}})},function(U,M,c){"use strict";var T=c(0),y=c(21),S=[].join;T(T.P+T.F*(c(54)!=Object||!c(17)(S)),"Array",{join:function(m){return S.call(y(this),void 0===m?",":m)}})},function(U,M,c){"use strict";var T=c(0),y=c(131);T(T.S+T.F*c(3)(function(){function S(){}return!(Array.of.call(S)instanceof S)}),"Array",{of:function(){for(var S=0,m=arguments.length,_=new("function"==typeof this?this:Array)(m);m>S;)y(_,S,arguments[S++]);return _.length=m,_}})},function(U,M,c){"use strict";var T=c(27),y=c(0),S=c(14),m=c(132),_=c(80),f=c(12),p=c(131),d=c(79);y(y.S+y.F*!c(64)(function(b){Array.from(b)}),"Array",{from:function(b){var C,h,v,O,x=S(b),N="function"==typeof this?this:Array,G=arguments.length,H=G>1?arguments[1]:void 0,L=void 0!==H,j=0,k=d(x);if(L&&(H=T(H,G>2?arguments[2]:void 0,2)),null==k||N==Array&&_(k))for(h=new N(C=f(x.length));C>j;j++)p(h,j,L?H(x[j],j):x[j]);else for(O=k.call(x),h=new N;!(v=O.next()).done;j++)p(h,j,L?m(O,H,[v.value,j],!0):v.value);return h.length=j,h}})},function(U,M,c){var T=c(0);T(T.S,"Array",{isArray:c(91)})},function(U,M,c){"use strict";var T=c(5),y=c(30);U.exports=function(S){if("string"!==S&&"number"!==S&&"default"!==S)throw TypeError("Incorrect hint");return y(T(this),"number"!=S)}},function(U,M,c){var T=c(7)("toPrimitive"),y=Date.prototype;T in y||c(18)(y,T,c(239))},function(U,M,c){var T=Date.prototype,y=T.toString,S=T.getTime;new Date(NaN)+""!="Invalid Date"&&c(15)(T,"toString",function(){var m=S.call(this);return m==m?y.call(this):"Invalid Date"})},function(U,M,c){"use strict";var T=c(3),y=Date.prototype.getTime,S=Date.prototype.toISOString,m=function(_){return _>9?_:"0"+_};U.exports=T(function(){return"0385-07-25T07:06:39.999Z"!=S.call(new Date(-50000000000001))})||!T(function(){S.call(new Date(NaN))})?function(){if(!isFinite(y.call(this)))throw RangeError("Invalid time value");var _=this,f=_.getUTCFullYear(),p=_.getUTCMilliseconds(),d=f<0?"-":f>9999?"+":"";return d+("00000"+Math.abs(f)).slice(d?-6:-4)+"-"+m(_.getUTCMonth()+1)+"-"+m(_.getUTCDate())+"T"+m(_.getUTCHours())+":"+m(_.getUTCMinutes())+":"+m(_.getUTCSeconds())+"."+(p>99?p:"0"+m(p))+"Z"}:S},function(U,M,c){var T=c(0),y=c(242);T(T.P+T.F*(Date.prototype.toISOString!==y),"Date",{toISOString:y})},function(U,M,c){"use strict";var T=c(0),y=c(14),S=c(30);T(T.P+T.F*c(3)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(m){var _=y(this),f=S(_);return"number"!=typeof f||isFinite(f)?_.toISOString():null}})},function(U,M,c){var T=c(0);T(T.S,"Date",{now:function(){return(new Date).getTime()}})},function(U,M,c){"use strict";c(13)("sup",function(T){return function(){return T(this,"sup","","")}})},function(U,M,c){"use strict";c(13)("sub",function(T){return function(){return T(this,"sub","","")}})},function(U,M,c){"use strict";c(13)("strike",function(T){return function(){return T(this,"strike","","")}})},function(U,M,c){"use strict";c(13)("small",function(T){return function(){return T(this,"small","","")}})},function(U,M,c){"use strict";c(13)("link",function(T){return function(y){return T(this,"a","href",y)}})},function(U,M,c){"use strict";c(13)("italics",function(T){return function(){return T(this,"i","","")}})},function(U,M,c){"use strict";c(13)("fontsize",function(T){return function(y){return T(this,"font","size",y)}})},function(U,M,c){"use strict";c(13)("fontcolor",function(T){return function(y){return T(this,"font","color",y)}})},function(U,M,c){"use strict";c(13)("fixed",function(T){return function(){return T(this,"tt","","")}})},function(U,M,c){"use strict";c(13)("bold",function(T){return function(){return T(this,"b","","")}})},function(U,M,c){"use strict";c(13)("blink",function(T){return function(){return T(this,"blink","","")}})},function(U,M,c){"use strict";c(13)("big",function(T){return function(){return T(this,"big","","")}})},function(U,M,c){"use strict";c(13)("anchor",function(T){return function(y){return T(this,"a","name",y)}})},function(U,M,c){"use strict";var T=c(0),y=c(12),S=c(83),m="".startsWith;T(T.P+T.F*c(81)("startsWith"),"String",{startsWith:function(_){var f=S(this,_,"startsWith"),p=y(Math.min(arguments.length>1?arguments[1]:void 0,f.length)),d=String(_);return m?m.call(f,d,p):f.slice(p,p+d.length)===d}})},function(U,M,c){var T=c(0);T(T.P,"String",{repeat:c(137)})},function(U,M,c){"use strict";var T=c(0),y=c(83);T(T.P+T.F*c(81)("includes"),"String",{includes:function(S){return!!~y(this,S,"includes").indexOf(S,arguments.length>1?arguments[1]:void 0)}})},function(U,M,c){"use strict";var T=c(0),y=c(12),S=c(83),m="".endsWith;T(T.P+T.F*c(81)("endsWith"),"String",{endsWith:function(_){var f=S(this,_,"endsWith"),p=arguments.length>1?arguments[1]:void 0,d=y(f.length),b=void 0===p?d:Math.min(y(p),d),C=String(_);return m?m.call(f,C,b):f.slice(b-C.length,b)===C}})},function(U,M,c){"use strict";var T=c(0),y=c(134)(!1);T(T.P,"String",{codePointAt:function(S){return y(this,S)}})},function(U,M,c){"use strict";var T=c(134)(!0);c(84)(String,"String",function(y){this._t=String(y),this._i=0},function(){var y,S=this._t,m=this._i;return m>=S.length?{value:void 0,done:!0}:(y=T(S,m),this._i+=y.length,{value:y,done:!1})})},function(U,M,c){"use strict";c(65)("trim",function(T){return function(){return T(this,3)}})},function(U,M,c){var T=c(0),y=c(21),S=c(12);T(T.S,"String",{raw:function(m){for(var _=y(m.raw),f=S(_.length),p=arguments.length,d=[],b=0;f>b;)d.push(String(_[b++])),b<p&&d.push(String(arguments[b]));return d.join("")}})},function(U,M,c){var T=c(0),y=c(34),S=String.fromCharCode,m=String.fromCodePoint;T(T.S+T.F*(!!m&&1!=m.length),"String",{fromCodePoint:function(_){for(var f,p=[],d=arguments.length,b=0;d>b;){if(f=+arguments[b++],y(f,1114111)!==f)throw RangeError(f+" is not a valid code point");p.push(f<65536?S(f):S(55296+((f-=65536)>>10),f%1024+56320))}return p.join("")}})},function(U,M,c){var T=c(0);T(T.S,"Math",{trunc:function(y){return(y>0?Math.floor:Math.ceil)(y)}})},function(U,M,c){var T=c(0),y=c(85),S=Math.exp;T(T.S,"Math",{tanh:function(m){var _=y(m=+m),f=y(-m);return _==1/0?1:f==1/0?-1:(_-f)/(S(m)+S(-m))}})},function(U,M,c){var T=c(0),y=c(85),S=Math.exp;T(T.S+T.F*c(3)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(m){return Math.abs(m=+m)<1?(y(m)-y(-m))/2:(S(m-1)-S(-m-1))*(Math.E/2)}})},function(U,M,c){var T=c(0);T(T.S,"Math",{sign:c(86)})},function(U,M,c){var T=c(0);T(T.S,"Math",{log2:function(y){return Math.log(y)/Math.LN2}})},function(U,M,c){var T=c(0);T(T.S,"Math",{log1p:c(135)})},function(U,M,c){var T=c(0);T(T.S,"Math",{log10:function(y){return Math.log(y)*Math.LOG10E}})},function(U,M,c){var T=c(0),y=Math.imul;T(T.S+T.F*c(3)(function(){return-5!=y(4294967295,5)||2!=y.length}),"Math",{imul:function(S,m){var _=+S,f=+m,p=65535&_,d=65535&f;return 0|p*d+((65535&_>>>16)*d+p*(65535&f>>>16)<<16>>>0)}})},function(U,M,c){var T=c(0),y=Math.abs;T(T.S,"Math",{hypot:function(S,m){for(var _,f,p=0,d=0,b=arguments.length,C=0;d<b;)C<(_=y(arguments[d++]))?(p=p*(f=C/_)*f+1,C=_):p+=_>0?(f=_/C)*f:_;return C===1/0?1/0:C*Math.sqrt(p)}})},function(U,M,c){var T=c(86),y=Math.pow,S=y(2,-52),m=y(2,-23),_=y(2,127)*(2-m),f=y(2,-126);U.exports=Math.fround||function(p){var d,b,C=Math.abs(p),h=T(p);return C<f?h*(C/f/m+1/S-1/S)*f*m:(b=(d=(1+m/S)*C)-(d-C))>_||b!=b?h*(1/0):h*b}},function(U,M,c){var T=c(0);T(T.S,"Math",{fround:c(277)})},function(U,M,c){var T=c(0),y=c(85);T(T.S+T.F*(y!=Math.expm1),"Math",{expm1:y})},function(U,M,c){var T=c(0),y=Math.exp;T(T.S,"Math",{cosh:function(S){return(y(S=+S)+y(-S))/2}})},function(U,M,c){var T=c(0);T(T.S,"Math",{clz32:function(y){return(y>>>=0)?31-Math.floor(Math.log(y+.5)*Math.LOG2E):32}})},function(U,M,c){var T=c(0),y=c(86);T(T.S,"Math",{cbrt:function(S){return y(S=+S)*Math.pow(Math.abs(S),1/3)}})},function(U,M,c){var T=c(0),y=Math.atanh;T(T.S+T.F*!(y&&1/y(-0)<0),"Math",{atanh:function(S){return 0==(S=+S)?S:Math.log((1+S)/(1-S))/2}})},function(U,M,c){var T=c(0),y=Math.asinh;T(T.S+T.F*!(y&&1/y(0)>0),"Math",{asinh:function S(m){return isFinite(m=+m)&&0!=m?m<0?-S(-m):Math.log(m+Math.sqrt(m*m+1)):m}})},function(U,M,c){var T=c(0),y=c(135),S=Math.sqrt,m=Math.acosh;T(T.S+T.F*!(m&&710==Math.floor(m(Number.MAX_VALUE))&&m(1/0)==1/0),"Math",{acosh:function(_){return(_=+_)<1?NaN:_>94906265.62425156?Math.log(_)+Math.LN2:y(_-1+S(_-1)*S(_+1))}})},function(U,M,c){var T=c(0),y=c(140);T(T.S+T.F*(Number.parseInt!=y),"Number",{parseInt:y})},function(U,M,c){var T=c(0),y=c(139);T(T.S+T.F*(Number.parseFloat!=y),"Number",{parseFloat:y})},function(U,M,c){var T=c(0);T(T.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(U,M,c){var T=c(0);T(T.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(U,M,c){var T=c(0),y=c(136),S=Math.abs;T(T.S,"Number",{isSafeInteger:function(m){return y(m)&&S(m)<=9007199254740991}})},function(U,M,c){var T=c(0);T(T.S,"Number",{isNaN:function(y){return y!=y}})},function(U,M,c){var T=c(0);T(T.S,"Number",{isInteger:c(136)})},function(U,M,c){var T=c(0),y=c(6).isFinite;T(T.S,"Number",{isFinite:function(S){return"number"==typeof S&&y(S)}})},function(U,M,c){var T=c(0);T(T.S,"Number",{EPSILON:Math.pow(2,-52)})},function(U,M,c){"use strict";var T=c(0),y=c(3),S=c(138),m=1..toPrecision;T(T.P+T.F*(y(function(){return"1"!==m.call(1,void 0)})||!y(function(){m.call({})})),"Number",{toPrecision:function(_){var f=S(this,"Number#toPrecision: incorrect invocation!");return void 0===_?m.call(f):m.call(f,_)}})},function(U,M,c){"use strict";var T=c(0),y=c(24),S=c(138),m=c(137),_=1..toFixed,f=Math.floor,p=[0,0,0,0,0,0],d="Number.toFixed: incorrect invocation!",b=function(O,x){for(var N=-1,G=x;++N<6;)p[N]=(G+=O*p[N])%1e7,G=f(G/1e7)},C=function(O){for(var x=6,N=0;--x>=0;)p[x]=f((N+=p[x])/O),N=N%O*1e7},h=function(){for(var O=6,x="";--O>=0;)if(""!==x||0===O||0!==p[O]){var N=String(p[O]);x=""===x?N:x+m.call("0",7-N.length)+N}return x},v=function(O,x,N){return 0===x?N:x%2==1?v(O,x-1,N*O):v(O*O,x/2,N)};T(T.P+T.F*(!!_&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!c(3)(function(){_.call({})})),"Number",{toFixed:function(O){var x,N,G,H,L=S(this,d),j=y(O),k="",V="0";if(j<0||j>20)throw RangeError(d);if(L!=L)return"NaN";if(L<=-1e21||L>=1e21)return String(L);if(L<0&&(k="-",L=-L),L>1e-21)if(N=(x=function(J){for(var W=0,ee=J;ee>=4096;)W+=12,ee/=4096;for(;ee>=2;)W+=1,ee/=2;return W}(L*v(2,69,1))-69)<0?L*v(2,-x,1):L/v(2,x,1),N*=4503599627370496,(x=52-x)>0){for(b(0,N),G=j;G>=7;)b(1e7,0),G-=7;for(b(v(10,G,1),0),G=x-1;G>=23;)C(1<<23),G-=23;C(1<<G),b(1,1),C(2),V=h()}else b(0,N),b(1<<-x,0),V=h()+m.call("0",j);return j>0?k+((H=V.length)<=j?"0."+m.call("0",j-H)+V:V.slice(0,H-j)+"."+V.slice(H-j)):k+V}})},function(U,M,c){"use strict";var T=c(6),y=c(16),S=c(25),m=c(87),_=c(30),f=c(3),p=c(32).f,d=c(23).f,b=c(10).f,C=c(65).trim,h=T.Number,v=h,O=h.prototype,x="Number"==S(c(33)(O)),N="trim"in String.prototype,G=function(k){var V=_(k,!1);if("string"==typeof V&&V.length>2){var J,W,ee,q=(V=N?V.trim():C(V,3)).charCodeAt(0);if(43===q||45===q){if(88===(J=V.charCodeAt(2))||120===J)return NaN}else if(48===q){switch(V.charCodeAt(1)){case 66:case 98:W=2,ee=49;break;case 79:case 111:W=8,ee=55;break;default:return+V}for(var ce,Te=V.slice(2),_e=0,Ee=Te.length;_e<Ee;_e++)if((ce=Te.charCodeAt(_e))<48||ce>ee)return NaN;return parseInt(Te,W)}}return+V};if(!h(" 0o1")||!h("0b1")||h("+0x1")){h=function(k){var V=arguments.length<1?0:k,J=this;return J instanceof h&&(x?f(function(){O.valueOf.call(J)}):"Number"!=S(J))?m(new v(G(V)),J,h):G(V)};for(var H,L=c(11)?p(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;L.length>j;j++)y(v,H=L[j])&&!y(h,H)&&b(h,H,d(v,H));h.prototype=O,O.constructor=h,c(15)(T,"Number",h)}},function(U,M,c){var T=c(0),y=c(139);T(T.G+T.F*(parseFloat!=y),{parseFloat:y})},function(U,M,c){var T=c(0),y=c(140);T(T.G+T.F*(parseInt!=y),{parseInt:y})},function(U,M,c){"use strict";var T=c(4),y=c(31),S=c(7)("hasInstance"),m=Function.prototype;S in m||c(10).f(m,S,{value:function(_){if("function"!=typeof this||!T(_))return!1;if(!T(this.prototype))return _ instanceof this;for(;_=y(_);)if(this.prototype===_)return!0;return!1}})},function(U,M,c){var T=c(10).f,y=Function.prototype,S=/^\s*function ([^ (]*)/;"name"in y||c(11)&&T(y,"name",{configurable:!0,get:function(){try{return(""+this).match(S)[1]}catch(m){return""}}})},function(U,M,c){var T=c(0);T(T.P,"Function",{bind:c(142)})},function(U,M,c){"use strict";var T=c(66),y={};y[c(7)("toStringTag")]="z",y+""!="[object z]"&&c(15)(Object.prototype,"toString",function(){return"[object "+T(this)+"]"},!0)},function(U,M,c){var T=c(0);T(T.S,"Object",{setPrototypeOf:c(89).set})},function(U,M){U.exports=Object.is||function(c,T){return c===T?0!==c||1/c==1/T:c!=c&&T!=T}},function(U,M,c){var T=c(0);T(T.S,"Object",{is:c(305)})},function(U,M,c){var T=c(0);T(T.S+T.F,"Object",{assign:c(143)})},function(U,M,c){var T=c(4);c(20)("isExtensible",function(y){return function(S){return!!T(S)&&(!y||y(S))}})},function(U,M,c){var T=c(4);c(20)("isSealed",function(y){return function(S){return!T(S)||!!y&&y(S)}})},function(U,M,c){var T=c(4);c(20)("isFrozen",function(y){return function(S){return!T(S)||!!y&&y(S)}})},function(U,M,c){var T=c(4),y=c(29).onFreeze;c(20)("preventExtensions",function(S){return function(m){return S&&T(m)?S(y(m)):m}})},function(U,M,c){var T=c(4),y=c(29).onFreeze;c(20)("seal",function(S){return function(m){return S&&T(m)?S(y(m)):m}})},function(U,M,c){var T=c(4),y=c(29).onFreeze;c(20)("freeze",function(S){return function(m){return S&&T(m)?S(y(m)):m}})},function(U,M,c){c(20)("getOwnPropertyNames",function(){return c(144).f})},function(U,M,c){var T=c(14),y=c(55);c(20)("keys",function(){return function(S){return y(T(S))}})},function(U,M,c){var T=c(14),y=c(31);c(20)("getPrototypeOf",function(){return function(S){return y(T(S))}})},function(U,M,c){var T=c(21),y=c(23).f;c(20)("getOwnPropertyDescriptor",function(){return function(S,m){return y(T(S),m)}})},function(U,M,c){var T=c(0);T(T.S+T.F*!c(11),"Object",{defineProperties:c(145)})},function(U,M,c){var T=c(0);T(T.S+T.F*!c(11),"Object",{defineProperty:c(10).f})},function(U,M,c){var T=c(0);T(T.S,"Object",{create:c(33)})},function(U,M,c){var T=c(55),y=c(68),S=c(67);U.exports=function(m){var _=T(m),f=y.f;if(f)for(var p,d=f(m),b=S.f,C=0;d.length>C;)b.call(m,p=d[C++])&&_.push(p);return _}},function(U,M,c){var T=c(6),y=c(37),S=c(44),m=c(147),_=c(10).f;U.exports=function(f){var p=y.Symbol||(y.Symbol=S?{}:T.Symbol||{});"_"==f.charAt(0)||f in p||_(p,f,{value:m.f(f)})}},function(U,M,c){"use strict";var T=c(6),y=c(16),S=c(11),m=c(0),_=c(15),f=c(29).KEY,p=c(3),d=c(95),b=c(45),C=c(35),h=c(7),v=c(147),O=c(322),x=c(321),N=c(91),G=c(5),H=c(4),L=c(21),j=c(30),k=c(36),V=c(33),J=c(144),W=c(23),ee=c(10),q=c(55),ce=W.f,Te=ee.f,_e=J.f,Ee=T.Symbol,$=T.JSON,se=$&&$.stringify,Z=h("_hidden"),be=h("toPrimitive"),oe={}.propertyIsEnumerable,le=d("symbol-registry"),de=d("symbols"),Be=d("op-symbols"),Je=Object.prototype,Le="function"==typeof Ee,Ot=T.QObject,qe=!Ot||!Ot.prototype||!Ot.prototype.findChild,je=S&&p(function(){return 7!=V(Te({},"a",{get:function(){return Te(this,"a",{value:7}).a}})).a})?function(tt,dt,ve){var ge=ce(Je,dt);ge&&delete Je[dt],Te(tt,dt,ve),ge&&tt!==Je&&Te(Je,dt,ge)}:Te,ie=function(tt){var dt=de[tt]=V(Ee.prototype);return dt._k=tt,dt},fe=Le&&"symbol"==typeof Ee.iterator?function(tt){return"symbol"==typeof tt}:function(tt){return tt instanceof Ee},pe=function(tt,dt,ve){return tt===Je&&pe(Be,dt,ve),G(tt),dt=j(dt,!0),G(ve),y(de,dt)?(ve.enumerable?(y(tt,Z)&&tt[Z][dt]&&(tt[Z][dt]=!1),ve=V(ve,{enumerable:k(0,!1)})):(y(tt,Z)||Te(tt,Z,k(1,{})),tt[Z][dt]=!0),je(tt,dt,ve)):Te(tt,dt,ve)},Ge=function(tt,dt){G(tt);for(var ve,ge=x(dt=L(dt)),we=0,Re=ge.length;Re>we;)pe(tt,ve=ge[we++],dt[ve]);return tt},ze=function(tt){var dt=oe.call(this,tt=j(tt,!0));return!(this===Je&&y(de,tt)&&!y(Be,tt))&&(!(dt||!y(this,tt)||!y(de,tt)||y(this,Z)&&this[Z][tt])||dt)},et=function(tt,dt){if(tt=L(tt),dt=j(dt,!0),tt!==Je||!y(de,dt)||y(Be,dt)){var ve=ce(tt,dt);return!ve||!y(de,dt)||y(tt,Z)&&tt[Z][dt]||(ve.enumerable=!0),ve}},xe=function(tt){for(var dt,ve=_e(L(tt)),ge=[],we=0;ve.length>we;)y(de,dt=ve[we++])||dt==Z||dt==f||ge.push(dt);return ge},Ye=function(tt){for(var dt,ve=tt===Je,ge=_e(ve?Be:L(tt)),we=[],Re=0;ge.length>Re;)!y(de,dt=ge[Re++])||ve&&!y(Je,dt)||we.push(de[dt]);return we};Le||(_((Ee=function(){if(this instanceof Ee)throw TypeError("Symbol is not a constructor!");var tt=C(arguments.length>0?arguments[0]:void 0),dt=function(ve){this===Je&&dt.call(Be,ve),y(this,Z)&&y(this[Z],tt)&&(this[Z][tt]=!1),je(this,tt,k(1,ve))};return S&&qe&&je(Je,tt,{configurable:!0,set:dt}),ie(tt)}).prototype,"toString",function(){return this._k}),W.f=et,ee.f=pe,c(32).f=J.f=xe,c(67).f=ze,c(68).f=Ye,S&&!c(44)&&_(Je,"propertyIsEnumerable",ze,!0),v.f=function(tt){return ie(h(tt))}),m(m.G+m.W+m.F*!Le,{Symbol:Ee});for(var Yt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),It=0;Yt.length>It;)h(Yt[It++]);for(var $t=q(h.store),Wn=0;$t.length>Wn;)O($t[Wn++]);m(m.S+m.F*!Le,"Symbol",{for:function(tt){return y(le,tt+="")?le[tt]:le[tt]=Ee(tt)},keyFor:function(tt){if(!fe(tt))throw TypeError(tt+" is not a symbol!");for(var dt in le)if(le[dt]===tt)return dt},useSetter:function(){qe=!0},useSimple:function(){qe=!1}}),m(m.S+m.F*!Le,"Object",{create:function(tt,dt){return void 0===dt?V(tt):Ge(V(tt),dt)},defineProperty:pe,defineProperties:Ge,getOwnPropertyDescriptor:et,getOwnPropertyNames:xe,getOwnPropertySymbols:Ye}),$&&m(m.S+m.F*(!Le||p(function(){var tt=Ee();return"[null]"!=se([tt])||"{}"!=se({a:tt})||"{}"!=se(Object(tt))})),"JSON",{stringify:function(tt){for(var dt,ve,ge=[tt],we=1;arguments.length>we;)ge.push(arguments[we++]);if(ve=dt=ge[1],(H(dt)||void 0!==tt)&&!fe(tt))return N(dt)||(dt=function(Re,Se){if("function"==typeof ve&&(Se=ve.call(this,Re,Se)),!fe(Se))return Se}),ge[1]=dt,se.apply($,ge)}}),Ee.prototype[be]||c(18)(Ee.prototype,be,Ee.prototype.valueOf),b(Ee,"Symbol"),b(Math,"Math",!0),b(T.JSON,"JSON",!0)},function(U,M,c){c(323),c(320),c(319),c(318),c(317),c(316),c(315),c(314),c(313),c(312),c(311),c(310),c(309),c(308),c(307),c(306),c(304),c(303),c(302),c(301),c(300),c(299),c(298),c(297),c(296),c(295),c(294),c(293),c(292),c(291),c(290),c(289),c(288),c(287),c(286),c(285),c(284),c(283),c(282),c(281),c(280),c(279),c(278),c(276),c(275),c(274),c(273),c(272),c(271),c(270),c(269),c(268),c(267),c(266),c(265),c(264),c(263),c(262),c(261),c(260),c(259),c(258),c(257),c(256),c(255),c(254),c(253),c(252),c(251),c(250),c(249),c(248),c(247),c(246),c(245),c(244),c(243),c(241),c(240),c(238),c(237),c(236),c(235),c(234),c(233),c(232),c(229),c(228),c(227),c(226),c(225),c(224),c(223),c(222),c(221),c(220),c(219),c(218),c(217),c(128),c(216),c(215),c(126),c(214),c(213),c(212),c(211),c(210),c(206),c(205),c(204),c(203),c(202),c(201),c(200),c(199),c(198),c(197),c(196),c(195),c(194),c(193),c(192),c(191),c(190),c(189),c(188),c(187),c(186),c(185),c(184),c(183),c(182),c(181),c(179),c(178),c(177),U.exports=c(37)},function(U,M,c){"use strict";Object.defineProperty(M,"__esModule",{value:!0}),M.MD5=M.SFSRoom=M.SetBuddyVariablesRequest=M.RemoveBuddyRequest=M.InitBuddyListRequest=M.GoOnlineRequest=M.BuddyMessageRequest=M.BlockBuddyRequest=M.AddBuddyRequest=M.SetUserPositionRequest=M.QuickJoinGameRequest=M.JoinRoomInvitationRequest=M.InviteUsersRequest=M.InvitationReplyRequest=M.CreateSFSGameRequest=M.BanUserRequest=M.KickUserRequest=M.ExtensionRequest=M.FindUsersRequest=M.FindRoomsRequest=M.PlayerToSpectatorRequest=M.SpectatorToPlayerRequest=M.UnsubscribeRoomGroupRequest=M.SubscribeRoomGroupRequest=M.SetUserVariablesRequest=M.SetRoomVariablesRequest=M.AdminMessageRequest=M.ModeratorMessageRequest=M.ObjectMessageRequest=M.PrivateMessageRequest=M.PublicMessageRequest=M.ChangeRoomCapacityRequest=M.ChangeRoomPasswordStateRequest=M.ChangeRoomNameRequest=M.LeaveRoomRequest=M.QuickJoinOrCreateRoomRequest=M.CreateRoomRequest=M.JoinRoomRequest=M.LogoutRequest=M.LoginRequest=M.PasswordUtil=M.ClientDisconnectionReason=M.LoggerEvent=M.LogLevel=M.SFSErrorCodes=M.MessageRecipientMode=M.BanMode=M.MapLimits=M.RoomExtension=M.RoomEvents=M.RoomPermissions=M.MMORoomSettings=M.SFSGameSettings=M.RoomSettings=M.UserProperties=M.RoomProperties=M.StringMatch=M.NumberMatch=M.BoolMatch=M.LogicOperator=M.MatchExpression=M.MMOItemVariable=M.ReservedBuddyVariables=M.SFSBuddyVariable=M.ReservedRoomVariables=M.SFSRoomVariable=M.SFSUserVariable=M.VariableType=M.UserPrivileges=M.InvitationReply=M.Vec3D=M.SFSArray=M.SFSObject=M.SFSDataType=M.SFSBuddyEvent=M.SFSEvent=M.SmartFox=void 0;var T=c(324);Object.keys(T).forEach(function(dt){"default"!==dt&&"__esModule"!==dt&&Object.defineProperty(M,dt,{enumerable:!0,get:function(){return T[dt]}})});var y=c(176);Object.defineProperty(M,"SmartFox",{enumerable:!0,get:function(){return y.SmartFox}});var S=c(39);Object.defineProperty(M,"SFSEvent",{enumerable:!0,get:function(){return S.SFSEvent}}),Object.defineProperty(M,"SFSBuddyEvent",{enumerable:!0,get:function(){return S.SFSBuddyEvent}});var m=c(8);Object.defineProperty(M,"SFSDataType",{enumerable:!0,get:function(){return m.SFSDataType}}),Object.defineProperty(M,"SFSObject",{enumerable:!0,get:function(){return m.SFSObject}}),Object.defineProperty(M,"SFSArray",{enumerable:!0,get:function(){return m.SFSArray}}),Object.defineProperty(M,"Vec3D",{enumerable:!0,get:function(){return m.Vec3D}});var _=c(72);Object.defineProperty(M,"InvitationReply",{enumerable:!0,get:function(){return _.InvitationReply}});var f=c(47);Object.defineProperty(M,"UserPrivileges",{enumerable:!0,get:function(){return f.UserPrivileges}});var p=c(48);Object.defineProperty(M,"VariableType",{enumerable:!0,get:function(){return p.VariableType}});var d=c(59);Object.defineProperty(M,"SFSUserVariable",{enumerable:!0,get:function(){return d.SFSUserVariable}});var b=c(49);Object.defineProperty(M,"SFSRoomVariable",{enumerable:!0,get:function(){return b.SFSRoomVariable}}),Object.defineProperty(M,"ReservedRoomVariables",{enumerable:!0,get:function(){return b.ReservedRoomVariables}});var C=c(46);Object.defineProperty(M,"SFSBuddyVariable",{enumerable:!0,get:function(){return C.SFSBuddyVariable}}),Object.defineProperty(M,"ReservedBuddyVariables",{enumerable:!0,get:function(){return C.ReservedBuddyVariables}});var h=c(73);Object.defineProperty(M,"MMOItemVariable",{enumerable:!0,get:function(){return h.MMOItemVariable}});var v=c(38);Object.defineProperty(M,"MatchExpression",{enumerable:!0,get:function(){return v.MatchExpression}}),Object.defineProperty(M,"LogicOperator",{enumerable:!0,get:function(){return v.LogicOperator}});var O=c(161);Object.defineProperty(M,"BoolMatch",{enumerable:!0,get:function(){return O.BoolMatch}}),Object.defineProperty(M,"NumberMatch",{enumerable:!0,get:function(){return O.NumberMatch}}),Object.defineProperty(M,"StringMatch",{enumerable:!0,get:function(){return O.StringMatch}});var x=c(160);Object.defineProperty(M,"RoomProperties",{enumerable:!0,get:function(){return x.RoomProperties}}),Object.defineProperty(M,"UserProperties",{enumerable:!0,get:function(){return x.UserProperties}});var N=c(56);Object.defineProperty(M,"RoomSettings",{enumerable:!0,get:function(){return N.RoomSettings}}),Object.defineProperty(M,"SFSGameSettings",{enumerable:!0,get:function(){return N.SFSGameSettings}}),Object.defineProperty(M,"MMORoomSettings",{enumerable:!0,get:function(){return N.MMORoomSettings}}),Object.defineProperty(M,"RoomPermissions",{enumerable:!0,get:function(){return N.RoomPermissions}}),Object.defineProperty(M,"RoomEvents",{enumerable:!0,get:function(){return N.RoomEvents}}),Object.defineProperty(M,"RoomExtension",{enumerable:!0,get:function(){return N.RoomExtension}}),Object.defineProperty(M,"MapLimits",{enumerable:!0,get:function(){return N.MapLimits}}),Object.defineProperty(M,"BanMode",{enumerable:!0,get:function(){return N.BanMode}}),Object.defineProperty(M,"MessageRecipientMode",{enumerable:!0,get:function(){return N.MessageRecipientMode}});var G=c(74);Object.defineProperty(M,"SFSErrorCodes",{enumerable:!0,get:function(){return G.SFSErrorCodes}});var H=c(50);Object.defineProperty(M,"LogLevel",{enumerable:!0,get:function(){return H.LogLevel}}),Object.defineProperty(M,"LoggerEvent",{enumerable:!0,get:function(){return H.LoggerEvent}});var L=c(51);Object.defineProperty(M,"ClientDisconnectionReason",{enumerable:!0,get:function(){return L.ClientDisconnectionReason}});var j=c(159);Object.defineProperty(M,"PasswordUtil",{enumerable:!0,get:function(){return j.PasswordUtil}});var k=c(118);Object.defineProperty(M,"LoginRequest",{enumerable:!0,get:function(){return k.LoginRequest}});var V=c(117);Object.defineProperty(M,"LogoutRequest",{enumerable:!0,get:function(){return V.LogoutRequest}});var J=c(116);Object.defineProperty(M,"JoinRoomRequest",{enumerable:!0,get:function(){return J.JoinRoomRequest}});var W=c(57);Object.defineProperty(M,"CreateRoomRequest",{enumerable:!0,get:function(){return W.CreateRoomRequest}});var ee=c(158);Object.defineProperty(M,"QuickJoinOrCreateRoomRequest",{enumerable:!0,get:function(){return ee.QuickJoinOrCreateRoomRequest}});var q=c(157);Object.defineProperty(M,"LeaveRoomRequest",{enumerable:!0,get:function(){return q.LeaveRoomRequest}});var ce=c(115);Object.defineProperty(M,"ChangeRoomNameRequest",{enumerable:!0,get:function(){return ce.ChangeRoomNameRequest}});var Te=c(114);Object.defineProperty(M,"ChangeRoomPasswordStateRequest",{enumerable:!0,get:function(){return Te.ChangeRoomPasswordStateRequest}});var _e=c(113);Object.defineProperty(M,"ChangeRoomCapacityRequest",{enumerable:!0,get:function(){return _e.ChangeRoomCapacityRequest}});var Ee=c(70);Object.defineProperty(M,"PublicMessageRequest",{enumerable:!0,get:function(){return Ee.PublicMessageRequest}}),Object.defineProperty(M,"PrivateMessageRequest",{enumerable:!0,get:function(){return Ee.PrivateMessageRequest}}),Object.defineProperty(M,"ObjectMessageRequest",{enumerable:!0,get:function(){return Ee.ObjectMessageRequest}}),Object.defineProperty(M,"ModeratorMessageRequest",{enumerable:!0,get:function(){return Ee.ModeratorMessageRequest}}),Object.defineProperty(M,"AdminMessageRequest",{enumerable:!0,get:function(){return Ee.AdminMessageRequest}});var $=c(112);Object.defineProperty(M,"SetRoomVariablesRequest",{enumerable:!0,get:function(){return $.SetRoomVariablesRequest}});var se=c(111);Object.defineProperty(M,"SetUserVariablesRequest",{enumerable:!0,get:function(){return se.SetUserVariablesRequest}});var Z=c(110);Object.defineProperty(M,"SubscribeRoomGroupRequest",{enumerable:!0,get:function(){return Z.SubscribeRoomGroupRequest}});var be=c(109);Object.defineProperty(M,"UnsubscribeRoomGroupRequest",{enumerable:!0,get:function(){return be.UnsubscribeRoomGroupRequest}});var oe=c(108);Object.defineProperty(M,"SpectatorToPlayerRequest",{enumerable:!0,get:function(){return oe.SpectatorToPlayerRequest}});var le=c(107);Object.defineProperty(M,"PlayerToSpectatorRequest",{enumerable:!0,get:function(){return le.PlayerToSpectatorRequest}});var de=c(106);Object.defineProperty(M,"FindRoomsRequest",{enumerable:!0,get:function(){return de.FindRoomsRequest}});var Be=c(105);Object.defineProperty(M,"FindUsersRequest",{enumerable:!0,get:function(){return Be.FindUsersRequest}});var Je=c(97);Object.defineProperty(M,"ExtensionRequest",{enumerable:!0,get:function(){return Je.ExtensionRequest}});var Le=c(156);Object.defineProperty(M,"KickUserRequest",{enumerable:!0,get:function(){return Le.KickUserRequest}});var Ot=c(155);Object.defineProperty(M,"BanUserRequest",{enumerable:!0,get:function(){return Ot.BanUserRequest}});var qe=c(154);Object.defineProperty(M,"CreateSFSGameRequest",{enumerable:!0,get:function(){return qe.CreateSFSGameRequest}});var je=c(153);Object.defineProperty(M,"InvitationReplyRequest",{enumerable:!0,get:function(){return je.InvitationReplyRequest}});var ie=c(69);Object.defineProperty(M,"InviteUsersRequest",{enumerable:!0,get:function(){return ie.InviteUsersRequest}});var fe=c(152);Object.defineProperty(M,"JoinRoomInvitationRequest",{enumerable:!0,get:function(){return fe.JoinRoomInvitationRequest}});var pe=c(151);Object.defineProperty(M,"QuickJoinGameRequest",{enumerable:!0,get:function(){return pe.QuickJoinGameRequest}});var Ge=c(104);Object.defineProperty(M,"SetUserPositionRequest",{enumerable:!0,get:function(){return Ge.SetUserPositionRequest}});var ze=c(102);Object.defineProperty(M,"AddBuddyRequest",{enumerable:!0,get:function(){return ze.AddBuddyRequest}});var et=c(100);Object.defineProperty(M,"BlockBuddyRequest",{enumerable:!0,get:function(){return et.BlockBuddyRequest}});var xe=c(150);Object.defineProperty(M,"BuddyMessageRequest",{enumerable:!0,get:function(){return xe.BuddyMessageRequest}});var Ye=c(99);Object.defineProperty(M,"GoOnlineRequest",{enumerable:!0,get:function(){return Ye.GoOnlineRequest}});var Yt=c(103);Object.defineProperty(M,"InitBuddyListRequest",{enumerable:!0,get:function(){return Yt.InitBuddyListRequest}});var It=c(101);Object.defineProperty(M,"RemoveBuddyRequest",{enumerable:!0,get:function(){return It.RemoveBuddyRequest}});var $t=c(98);Object.defineProperty(M,"SetBuddyVariablesRequest",{enumerable:!0,get:function(){return $t.SetBuddyVariablesRequest}});var Wn=c(9);Object.defineProperty(M,"SFSRoom",{enumerable:!0,get:function(){return Wn.SFSRoom}});var tt=c(71);Object.defineProperty(M,"MD5",{enumerable:!0,get:function(){return tt.MD5}}),c(149)}])},209:(me,U,M)=>{"use strict";var c=M(8810);me.exports=M(3096)(c),"_sockjs_onload"in global&&setTimeout(global._sockjs_onload,1)},8265:(me,U,M)=>{"use strict";var c=M(3894),T=M(4532);function y(){T.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}c(y,T),me.exports=y},17:(me,U,M)=>{"use strict";var c=M(3894),T=M(9895);function y(){T.call(this)}c(y,T),y.prototype.removeAllListeners=function(S){S?delete this._listeners[S]:this._listeners={}},y.prototype.once=function(S,m){var _=this,f=!1;this.on(S,function p(){_.removeListener(S,p),f||(f=!0,m.apply(this,arguments))})},y.prototype.emit=function(){var S=arguments[0],m=this._listeners[S];if(m){for(var _=arguments.length,f=new Array(_-1),p=1;p<_;p++)f[p-1]=arguments[p];for(var d=0;d<m.length;d++)m[d].apply(this,f)}},y.prototype.on=y.prototype.addListener=T.prototype.addEventListener,y.prototype.removeListener=T.prototype.removeEventListener,me.exports.v=y},4532:me=>{"use strict";function U(M){this.type=M}U.prototype.initEvent=function(M,c,T){return this.type=M,this.bubbles=c,this.cancelable=T,this.timeStamp=+new Date,this},U.prototype.stopPropagation=function(){},U.prototype.preventDefault=function(){},U.CAPTURING_PHASE=1,U.AT_TARGET=2,U.BUBBLING_PHASE=3,me.exports=U},9895:me=>{"use strict";function U(){this._listeners={}}U.prototype.addEventListener=function(M,c){M in this._listeners||(this._listeners[M]=[]);var T=this._listeners[M];-1===T.indexOf(c)&&(T=T.concat([c])),this._listeners[M]=T},U.prototype.removeEventListener=function(M,c){var T=this._listeners[M];if(T){var y=T.indexOf(c);if(-1!==y)return void(T.length>1?this._listeners[M]=T.slice(0,y).concat(T.slice(y+1)):delete this._listeners[M])}},U.prototype.dispatchEvent=function(){var M=arguments[0],c=M.type,T=1===arguments.length?[M]:Array.apply(null,arguments);if(this["on"+c]&&this["on"+c].apply(this,T),c in this._listeners)for(var y=this._listeners[c],S=0;S<y.length;S++)y[S].apply(this,T)},me.exports=U},4572:(me,U,M)=>{"use strict";var c=M(3894),T=M(4532);function y(S){T.call(this),this.initEvent("message",!1,!1),this.data=S}c(y,T),me.exports=y},7299:(me,U,M)=>{"use strict";var c=M(8075);function T(y){this._transport=y,y.on("message",this._transportMessage.bind(this)),y.on("close",this._transportClose.bind(this))}T.prototype._transportClose=function(y,S){c.postMessage("c",JSON.stringify([y,S]))},T.prototype._transportMessage=function(y){c.postMessage("t",y)},T.prototype._send=function(y){this._transport.send(y)},T.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},me.exports=T},737:(me,U,M)=>{"use strict";var c=M(1493),T=M(3865),y=M(7299),S=M(5841),m=M(8075),_=M(205);me.exports=function(p,d){var C,b={};d.forEach(function(h){h.facadeTransport&&(b[h.facadeTransport.transportName]=h.facadeTransport)}),b[S.transportName]=S,p.bootstrap_iframe=function(){var h;m.currentWindowId=_.hash.slice(1),T.attachEvent("message",function(O){if(O.source===parent&&(void 0===C&&(C=O.origin),O.origin===C)){var x;try{x=JSON.parse(O.data)}catch(k){return}if(x.windowId===m.currentWindowId)switch(x.type){case"s":var N;try{N=JSON.parse(x.data)}catch(k){break}var G=N[0],H=N[1],L=N[2],j=N[3];if(G!==p.version)throw new Error('Incompatible SockJS! Main site uses: "'+G+'", the iframe: "'+p.version+'".');if(!c.isOriginEqual(L,_.href)||!c.isOriginEqual(j,_.href))throw new Error("Can't connect to different domain from within an iframe. ("+_.href+", "+L+", "+j+")");h=new y(new b[H](L,j));break;case"m":h._send(x.data);break;case"c":h&&h._close(),h=null}}}),m.postMessage("s")}}},8834:(me,U,M)=>{"use strict";var c=M(17).v,T=M(3894),y=M(2923);function m(_,f){c.call(this);var p=this,d=+new Date;this.xo=new f("GET",_),this.xo.once("finish",function(b,C){var h,v;if(200===b){if(v=+new Date-d,C)try{h=JSON.parse(C)}catch(O){}y.isObject(h)||(h={})}p.emit("finish",h,v),p.removeAllListeners()})}T(m,c),m.prototype.close=function(){this.removeAllListeners(),this.xo.close()},me.exports=m},5841:(me,U,M)=>{"use strict";var c=M(3894),T=M(17).v,y=M(7898),S=M(8834);function m(_){var f=this;T.call(this),this.ir=new S(_,y),this.ir.once("finish",function(p,d){f.ir=null,f.emit("message",JSON.stringify([p,d]))})}c(m,T),m.transportName="iframe-info-receiver",m.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},me.exports=m},5672:(me,U,M)=>{"use strict";var c=M(17).v,T=M(3894),y=M(3865),S=M(7415),m=M(5841);function f(p,d){var b=this;c.call(this);var C=function(){var h=b.ifr=new S(m.transportName,d,p);h.once("message",function(v){if(v){var O;try{O=JSON.parse(v)}catch(G){return b.emit("finish"),void b.close()}b.emit("finish",O[0],O[1])}b.close()}),h.once("close",function(){b.emit("finish"),b.close()})};global.document.body?C():y.attachEvent("load",C)}T(f,c),f.enabled=function(){return S.enabled()},f.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},me.exports=f},6689:(me,U,M)=>{"use strict";var c=M(17).v,T=M(3894),y=M(1493),S=M(5705),m=M(7807),_=M(7898),f=M(9312),p=M(5672),d=M(8834);function C(h,v){var O=this;c.call(this),setTimeout(function(){O.doXhr(h,v)},0)}T(C,c),C._getReceiver=function(h,v,O){return O.sameOrigin?new d(v,_):m.enabled?new d(v,m):S.enabled&&O.sameScheme?new d(v,S):p.enabled()?new p(h,v):new d(v,f)},C.prototype.doXhr=function(h,v){var O=this,x=y.addPath(h,"/info");this.xo=C._getReceiver(h,x,v),this.timeoutRef=setTimeout(function(){O._cleanup(!1),O.emit("finish")},C.timeout),this.xo.once("finish",function(N,G){O._cleanup(!0),O.emit("finish",N,G)})},C.prototype._cleanup=function(h){clearTimeout(this.timeoutRef),this.timeoutRef=null,!h&&this.xo&&this.xo.close(),this.xo=null},C.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},C.timeout=8e3,me.exports=C},205:me=>{"use strict";me.exports=global.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},3096:(me,U,M)=>{"use strict";M(5904);var H,c=M(7629),T=M(3894),y=M(347),S=M(8481),m=M(1493),_=M(3865),f=M(2264),p=M(2923),d=M(480),b=M(1433),C=M(4532),h=M(9895),v=M(205),O=M(8265),x=M(4572),N=M(6689);function L(k,V,J){if(!(this instanceof L))return new L(k,V,J);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");h.call(this),this.readyState=L.CONNECTING,this.extensions="",this.protocol="",(J=J||{}).protocols_whitelist&&b.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=J.transports,this._transportOptions=J.transportOptions||{},this._timeout=J.timeout||0;var W=J.sessionId||8;if("function"==typeof W)this._generateSessionId=W;else{if("number"!=typeof W)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return y.string(W)}}this._server=J.server||y.numberString(1e3);var ee=new c(k);if(!ee.host||!ee.protocol)throw new SyntaxError("The URL '"+k+"' is invalid");if(ee.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==ee.protocol&&"https:"!==ee.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+ee.protocol+"' is not allowed.");var q="https:"===ee.protocol;if("https:"===v.protocol&&!q&&!m.isLoopbackAddr(ee.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");V?Array.isArray(V)||(V=[V]):V=[];var ce=V.sort();ce.forEach(function(_e,Ee){if(!_e)throw new SyntaxError("The protocols entry '"+_e+"' is invalid.");if(Ee<ce.length-1&&_e===ce[Ee+1])throw new SyntaxError("The protocols entry '"+_e+"' is duplicated.")});var Te=m.getOrigin(v.href);this._origin=Te?Te.toLowerCase():null,ee.set("pathname",ee.pathname.replace(/\/+$/,"")),this.url=ee.href,this._urlInfo={nullOrigin:!d.hasDomain(),sameOrigin:m.isOriginEqual(this.url,v.href),sameScheme:m.isSchemeEqual(this.url,v.href)},this._ir=new N(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function j(k){return 1e3===k||k>=3e3&&k<=4999}T(L,h),L.prototype.close=function(k,V){if(k&&!j(k))throw new Error("InvalidAccessError: Invalid code");if(V&&V.length>123)throw new SyntaxError("reason argument has an invalid length");this.readyState!==L.CLOSING&&this.readyState!==L.CLOSED&&this._close(k||1e3,V||"Normal closure",!0)},L.prototype.send=function(k){if("string"!=typeof k&&(k=""+k),this.readyState===L.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===L.OPEN&&this._transport.send(S.quote(k))},L.version=M(947),L.CONNECTING=0,L.OPEN=1,L.CLOSING=2,L.CLOSED=3,L.prototype._receiveInfo=function(k,V){if(this._ir=null,k){this._rto=this.countRTO(V),this._transUrl=k.base_url?k.base_url:this.url,k=p.extend(k,this._urlInfo);var J=H.filterToEnabled(this._transportsWhitelist,k);this._transports=J.main,this._connect()}else this._close(1002,"Cannot connect to server")},L.prototype._connect=function(){for(var k=this._transports.shift();k;k=this._transports.shift()){if(k.needBody&&(!global.document.body||void 0!==global.document.readyState&&"complete"!==global.document.readyState&&"interactive"!==global.document.readyState))return this._transports.unshift(k),void _.attachEvent("load",this._connect.bind(this));var V=Math.max(this._timeout,this._rto*k.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),V);var ee=new k(m.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),this._transUrl,this._transportOptions[k.transportName]);return ee.on("message",this._transportMessage.bind(this)),ee.once("close",this._transportClose.bind(this)),ee.transportName=k.transportName,void(this._transport=ee)}this._close(2e3,"All transports failed",!1)},L.prototype._transportTimeout=function(){this.readyState===L.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},L.prototype._transportMessage=function(k){var ee,V=this,J=k.slice(0,1),W=k.slice(1);switch(J){case"o":return void this._open();case"h":return void this.dispatchEvent(new C("heartbeat"))}if(W)try{ee=JSON.parse(W)}catch(q){}if(void 0!==ee)switch(J){case"a":Array.isArray(ee)&&ee.forEach(function(q){V.dispatchEvent(new x(q))});break;case"m":this.dispatchEvent(new x(ee));break;case"c":Array.isArray(ee)&&2===ee.length&&this._close(ee[0],ee[1],!0)}},L.prototype._transportClose=function(k,V){this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),j(k)||2e3===k||this.readyState!==L.CONNECTING?this._close(k,V):this._connect()},L.prototype._open=function(){this.readyState===L.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=L.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new C("open"))):this._close(1006,"Server lost session")},L.prototype._close=function(k,V,J){var W=!1;if(this._ir&&(W=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===L.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=L.CLOSING,setTimeout(function(){this.readyState=L.CLOSED,W&&this.dispatchEvent(new C("error"));var ee=new O("close");ee.wasClean=J||!1,ee.code=k||1e3,ee.reason=V,this.dispatchEvent(ee),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},L.prototype.countRTO=function(k){return k>100?4*k:300+k},me.exports=function(k){return H=f(k),M(737)(L,k),L}},5904:()=>{"use strict";var p,me=Array.prototype,U=Object.prototype,M=Function.prototype,c=String.prototype,T=me.slice,y=U.toString,S=function(k){return"[object Function]"===U.toString.call(k)},_=function(V){return"[object String]"===y.call(V)},f=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(k){return!1}}();p=f?function(k,V,J,W){!W&&V in k||Object.defineProperty(k,V,{configurable:!0,enumerable:!1,writable:!0,value:J})}:function(k,V,J,W){!W&&V in k||(k[V]=J)};var d=function(k,V,J){for(var W in V)U.hasOwnProperty.call(V,W)&&p(k,W,V[W],J)},b=function(k){if(null==k)throw new TypeError("can't convert "+k+" to object");return Object(k)};function C(k){var V=+k;return V!=V?V=0:0!==V&&V!==1/0&&V!==-1/0&&(V=(V>0||-1)*Math.floor(Math.abs(V))),V}function v(){}d(M,{bind:function(V){var J=this;if(!S(J))throw new TypeError("Function.prototype.bind called on incompatible "+J);for(var W=T.call(arguments,1),ee=function(){if(this instanceof _e){var Ee=J.apply(this,W.concat(T.call(arguments)));return Object(Ee)===Ee?Ee:this}return J.apply(V,W.concat(T.call(arguments)))},q=Math.max(0,J.length-W.length),ce=[],Te=0;Te<q;Te++)ce.push("$"+Te);var _e=Function("binder","return function ("+ce.join(",")+"){ return binder.apply(this, arguments); }")(ee);return J.prototype&&(v.prototype=J.prototype,_e.prototype=new v,v.prototype=null),_e}}),d(Array,{isArray:function(V){return"[object Array]"===y.call(V)}});var V,J,W,O=Object("a"),x="a"!==O[0]||!(0 in O);d(me,{forEach:function(V){var J=b(this),W=x&&_(this)?this.split(""):J,ee=arguments[1],q=-1,ce=W.length>>>0;if(!S(V))throw new TypeError;for(;++q<ce;)q in W&&V.call(ee,W[q],q,J)}},(J=!0,W=!0,(V=me.forEach)&&(V.call("foo",function(ee,q,ce){"object"!=typeof ce&&(J=!1)}),V.call([1],function(){W="string"==typeof this},"x")),!(V&&J&&W)));var G=Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2);d(me,{indexOf:function(V){var J=x&&_(this)?this.split(""):b(this),W=J.length>>>0;if(!W)return-1;var ee=0;for(arguments.length>1&&(ee=C(arguments[1])),ee=ee>=0?ee:Math.max(0,W+ee);ee<W;ee++)if(ee in J&&J[ee]===V)return ee;return-1}},G);var k,H=c.split;2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||".".split(/()()/).length>1?(k=void 0===/()??/.exec("")[1],c.split=function(V,J){var W=this;if(void 0===V&&0===J)return[];if("[object RegExp]"!==y.call(V))return H.call(this,V,J);var Te,_e,Ee,$,ee=[],q=(V.ignoreCase?"i":"")+(V.multiline?"m":"")+(V.extended?"x":"")+(V.sticky?"y":""),ce=0;for(V=new RegExp(V.source,q+"g"),W+="",k||(Te=new RegExp("^"+V.source+"$(?!\\s)",q)),J=void 0===J?-1>>>0:function h(k){return k>>>0}(J);(_e=V.exec(W))&&!((Ee=_e.index+_e[0].length)>ce&&(ee.push(W.slice(ce,_e.index)),!k&&_e.length>1&&_e[0].replace(Te,function(){for(var se=1;se<arguments.length-2;se++)void 0===arguments[se]&&(_e[se]=void 0)}),_e.length>1&&_e.index<W.length&&me.push.apply(ee,_e.slice(1)),$=_e[0].length,ce=Ee,ee.length>=J));)V.lastIndex===_e.index&&V.lastIndex++;return ce===W.length?($||!V.test(""))&&ee.push(""):ee.push(W.slice(ce)),ee.length>J?ee.slice(0,J):ee}):"0".split(void 0,0).length&&(c.split=function(V,J){return void 0===V&&0===J?[]:H.call(this,V,J)});var L=c.substr;d(c,{substr:function(V,J){return L.call(this,V<0&&(V=this.length+V)<0?0:V,J)}},"".substr&&"b"!=="0b".substr(-1))},8810:(me,U,M)=>{"use strict";me.exports=[M(7040),M(3897),M(4053),M(1591),M(9802)(M(1591)),M(3362),M(9802)(M(3362)),M(7237),M(8931),M(9802)(M(7237)),M(545)]},3134:(me,U,M)=>{"use strict";var c=M(17).v,T=M(3894),y=M(3865),S=M(1493),m=global.XMLHttpRequest;function f(b,C,h,v){var O=this;c.call(this),setTimeout(function(){O._start(b,C,h,v)},0)}T(f,c),f.prototype._start=function(b,C,h,v){var O=this;try{this.xhr=new m}catch(N){}if(!this.xhr)return this.emit("finish",0,"no xhr support"),void this._cleanup();C=S.addQuery(C,"t="+ +new Date),this.unloadRef=y.unloadAdd(function(){O._cleanup(!0)});try{this.xhr.open(b,C,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){O.emit("finish",0,""),O._cleanup(!1)})}catch(N){return this.emit("finish",0,""),void this._cleanup(!1)}if((!v||!v.noCredentials)&&f.supportsCORS&&(this.xhr.withCredentials=!0),v&&v.headers)for(var x in v.headers)this.xhr.setRequestHeader(x,v.headers[x]);this.xhr.onreadystatechange=function(){if(O.xhr){var G,H,N=O.xhr;switch(N.readyState){case 3:try{H=N.status,G=N.responseText}catch(L){}1223===H&&(H=204),200===H&&G&&G.length>0&&O.emit("chunk",H,G);break;case 4:1223===(H=N.status)&&(H=204),(12005===H||12029===H)&&(H=0),O.emit("finish",H,N.responseText),O._cleanup(!1)}}};try{O.xhr.send(h)}catch(N){O.emit("finish",0,""),O._cleanup(!1)}},f.prototype._cleanup=function(b){if(this.xhr){if(this.removeAllListeners(),y.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),b)try{this.xhr.abort()}catch(C){}this.unloadRef=this.xhr=null}},f.prototype.close=function(){this._cleanup(!0)},f.enabled=!!m;var p=["Active"].concat("Object").join("X");!f.enabled&&p in global&&(f.enabled=!!new(m=function(){try{return new global[p]("Microsoft.XMLHTTP")}catch(b){return null}}));var d=!1;try{d="withCredentials"in new m}catch(b){}f.supportsCORS=d,me.exports=f},8513:me=>{me.exports=global.EventSource},3848:me=>{"use strict";var U=global.WebSocket||global.MozWebSocket;me.exports=U?function(c){return new U(c)}:void 0},1591:(me,U,M)=>{"use strict";var c=M(3894),T=M(4172),y=M(3436),S=M(7807),m=M(8513);function _(f){if(!_.enabled())throw new Error("Transport created when disabled");T.call(this,f,"/eventsource",y,S)}c(_,T),_.enabled=function(){return!!m},_.transportName="eventsource",_.roundTrips=2,me.exports=_},3362:(me,U,M)=>{"use strict";var c=M(3894),T=M(288),y=M(7898),S=M(4172);function m(_){if(!T.enabled)throw new Error("Transport created when disabled");S.call(this,_,"/htmlfile",T,y)}c(m,S),m.enabled=function(_){return T.enabled&&_.sameOrigin},m.transportName="htmlfile",m.roundTrips=2,me.exports=m},7415:(me,U,M)=>{"use strict";var c=M(3894),T=M(17).v,y=M(947),S=M(1493),m=M(8075),_=M(3865),f=M(347);function d(b,C,h){if(!d.enabled())throw new Error("Transport created when disabled");T.call(this);var v=this;this.origin=S.getOrigin(h),this.baseUrl=h,this.transUrl=C,this.transport=b,this.windowId=f.string(8);var O=S.addPath(h,"/iframe.html")+"#"+this.windowId;this.iframeObj=m.createIframe(O,function(x){v.emit("close",1006,"Unable to load an iframe ("+x+")"),v.close()}),this.onmessageCallback=this._message.bind(this),_.attachEvent("message",this.onmessageCallback)}c(d,T),d.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){_.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(b){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},d.prototype._message=function(b){if(S.isOriginEqual(b.origin,this.origin)){var C;try{C=JSON.parse(b.data)}catch(v){return}if(C.windowId===this.windowId)switch(C.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([y,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",C.data);break;case"c":var h;try{h=JSON.parse(C.data)}catch(v){return}this.emit("close",h[0],h[1]),this.close()}}},d.prototype.postMessage=function(b,C){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:b,data:C||""}),this.origin)},d.prototype.send=function(b){this.postMessage("m",b)},d.enabled=function(){return m.iframeEnabled},d.transportName="iframe",d.roundTrips=2,me.exports=d},545:(me,U,M)=>{"use strict";var c=M(3894),T=M(4196),y=M(8785),S=M(3216);function m(_){if(!m.enabled())throw new Error("Transport created when disabled");T.call(this,_,"/jsonp",S,y)}c(m,T),m.enabled=function(){return!!global.document},m.transportName="jsonp-polling",m.roundTrips=1,m.needBody=!0,me.exports=m},4172:(me,U,M)=>{"use strict";var c=M(3894),T=M(1493),y=M(4196);function _(f,p,d,b){y.call(this,f,p,function m(f){return function(p,d,b){var C={};"string"==typeof d&&(C.headers={"Content-type":"text/plain"});var h=T.addPath(p,"/xhr_send"),v=new f("POST",h,d,C);return v.once("finish",function(O){if(v=null,200!==O&&204!==O)return b(new Error("http status "+O));b()}),function(){v.close(),v=null;var O=new Error("Aborted");O.code=1e3,b(O)}}}(b),d,b)}c(_,y),me.exports=_},9661:(me,U,M)=>{"use strict";var c=M(3894),T=M(17).v;function S(m,_){T.call(this),this.sendBuffer=[],this.sender=_,this.url=m}c(S,T),S.prototype.send=function(m){this.sendBuffer.push(m),this.sendStop||this.sendSchedule()},S.prototype.sendScheduleWait=function(){var _,m=this;this.sendStop=function(){m.sendStop=null,clearTimeout(_)},_=setTimeout(function(){m.sendStop=null,m.sendSchedule()},25)},S.prototype.sendSchedule=function(){var m=this;if(this.sendBuffer.length>0){var _="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,_,function(f){m.sendStop=null,f?(m.emit("close",f.code||1006,"Sending error: "+f),m.close()):m.sendScheduleWait()}),this.sendBuffer=[]}},S.prototype._cleanup=function(){this.removeAllListeners()},S.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},me.exports=S},9802:(me,U,M)=>{"use strict";var c=M(3894),T=M(7415),y=M(2923);me.exports=function(S){function m(_,f){T.call(this,S.transportName,_,f)}return c(m,T),m.enabled=function(_,f){if(!global.document)return!1;var p=y.extend({},f);return p.sameOrigin=!0,S.enabled(p)&&T.enabled()},m.transportName="iframe-"+S.transportName,m.needBody=!0,m.roundTrips=T.roundTrips+S.roundTrips-1,m.facadeTransport=S,m}},20:(me,U,M)=>{"use strict";var c=M(3894),T=M(17).v;function S(m,_,f){T.call(this),this.Receiver=m,this.receiveUrl=_,this.AjaxObject=f,this._scheduleReceiver()}c(S,T),S.prototype._scheduleReceiver=function(){var m=this,_=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);_.on("message",function(f){m.emit("message",f)}),_.once("close",function(f,p){m.poll=_=null,m.pollIsClosing||("network"===p?m._scheduleReceiver():(m.emit("close",f||1006,p),m.removeAllListeners()))})},S.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},me.exports=S},4196:(me,U,M)=>{"use strict";var c=M(3894),T=M(1493),y=M(9661),S=M(20);function _(f,p,d,b,C){var h=T.addPath(f,p),v=this;y.call(this,f,d),this.poll=new S(b,h,C),this.poll.on("message",function(O){v.emit("message",O)}),this.poll.once("close",function(O,x){v.poll=null,v.emit("close",O,x),v.close()})}c(_,y),_.prototype.close=function(){y.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},me.exports=_},3436:(me,U,M)=>{"use strict";var c=M(3894),T=M(17).v,y=M(8513);function m(_){T.call(this);var f=this,p=this.es=new y(_);p.onmessage=function(d){f.emit("message",decodeURI(d.data))},p.onerror=function(d){var b=2!==p.readyState?"network":"permanent";f._cleanup(),f._close(b)}}c(m,T),m.prototype.abort=function(){this._cleanup(),this._close("user")},m.prototype._cleanup=function(){var _=this.es;_&&(_.onmessage=_.onerror=null,_.close(),this.es=null)},m.prototype._close=function(_){var f=this;setTimeout(function(){f.emit("close",null,_),f.removeAllListeners()},200)},me.exports=m},288:(me,U,M)=>{"use strict";var c=M(3894),T=M(8075),y=M(1493),S=M(17).v,m=M(347);function f(d){S.call(this);var b=this;T.polluteGlobalNamespace(),this.id="a"+m.string(6),d=y.addQuery(d,"c="+decodeURIComponent(T.WPrefix+"."+this.id));var C=f.htmlfileEnabled?T.createHtmlfile:T.createIframe;global[T.WPrefix][this.id]={start:function(){b.iframeObj.loaded()},message:function(h){b.emit("message",h)},stop:function(){b._cleanup(),b._close("network")}},this.iframeObj=C(d,function(){b._cleanup(),b._close("permanent")})}c(f,S),f.prototype.abort=function(){this._cleanup(),this._close("user")},f.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete global[T.WPrefix][this.id]},f.prototype._close=function(d){this.emit("close",null,d),this.removeAllListeners()},f.htmlfileEnabled=!1;var p=["Active"].concat("Object").join("X");if(p in global)try{f.htmlfileEnabled=!!new global[p]("htmlfile")}catch(d){}f.enabled=f.htmlfileEnabled||T.iframeEnabled,me.exports=f},8785:(me,U,M)=>{"use strict";var c=M(8075),T=M(347),y=M(480),S=M(1493),m=M(3894),_=M(17).v;function p(d){var b=this;_.call(this),c.polluteGlobalNamespace(),this.id="a"+T.string(6);var C=S.addQuery(d,"c="+encodeURIComponent(c.WPrefix+"."+this.id));global[c.WPrefix][this.id]=this._callback.bind(this),this._createScript(C),this.timeoutId=setTimeout(function(){b._abort(new Error("JSONP script loaded abnormally (timeout)"))},p.timeout)}m(p,_),p.prototype.abort=function(){if(global[c.WPrefix][this.id]){var d=new Error("JSONP user aborted read");d.code=1e3,this._abort(d)}},p.timeout=35e3,p.scriptErrorTimeout=1e3,p.prototype._callback=function(d){this._cleanup(),!this.aborting&&(d&&this.emit("message",d),this.emit("close",null,"network"),this.removeAllListeners())},p.prototype._abort=function(d){this._cleanup(),this.aborting=!0,this.emit("close",d.code,d.message),this.removeAllListeners()},p.prototype._cleanup=function(){if(clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var d=this.script;d.parentNode.removeChild(d),d.onreadystatechange=d.onerror=d.onload=d.onclick=null,this.script=null}delete global[c.WPrefix][this.id]},p.prototype._scriptError=function(){var d=this;this.errorTimer||(this.errorTimer=setTimeout(function(){d.loadedOkay||d._abort(new Error("JSONP script loaded abnormally (onerror)"))},p.scriptErrorTimeout))},p.prototype._createScript=function(d){var h,b=this,C=this.script=global.document.createElement("script");if(C.id="a"+T.string(8),C.src=d,C.type="text/javascript",C.charset="UTF-8",C.onerror=this._scriptError.bind(this),C.onload=function(){b._abort(new Error("JSONP script loaded abnormally (onload)"))},C.onreadystatechange=function(){if(/loaded|closed/.test(C.readyState)){if(C&&C.htmlFor&&C.onclick){b.loadedOkay=!0;try{C.onclick()}catch(O){}}C&&b._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===C.async&&global.document.attachEvent)if(y.isOpera())(h=this.script2=global.document.createElement("script")).text="try{var a = document.getElementById('"+C.id+"'); if(a)a.onerror();}catch(x){};",C.async=h.async=!1;else{try{C.htmlFor=C.id,C.event="onclick"}catch(O){}C.async=!0}void 0!==C.async&&(C.async=!0);var v=global.document.getElementsByTagName("head")[0];v.insertBefore(C,v.firstChild),h&&v.insertBefore(h,v.firstChild)},me.exports=p},6909:(me,U,M)=>{"use strict";var c=M(3894),T=M(17).v;function S(m,_){T.call(this);var f=this;this.bufferPosition=0,this.xo=new _("POST",m,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(p,d){f._chunkHandler(p,d),f.xo=null,f.emit("close",null,200===p?"network":"permanent"),f._cleanup()})}c(S,T),S.prototype._chunkHandler=function(m,_){if(200===m&&_)for(var f=-1;;this.bufferPosition+=f+1){var p=_.slice(this.bufferPosition);if(-1===(f=p.indexOf("\n")))break;var d=p.slice(0,f);d&&this.emit("message",d)}},S.prototype._cleanup=function(){this.removeAllListeners()},S.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},me.exports=S},3216:(me,U,M)=>{"use strict";var S,m,c=M(347),T=M(1493);me.exports=function(p,d,b){S||function f(){(S=global.document.createElement("form")).style.display="none",S.style.position="absolute",S.method="POST",S.enctype="application/x-www-form-urlencoded",S.acceptCharset="UTF-8",(m=global.document.createElement("textarea")).name="d",S.appendChild(m),global.document.body.appendChild(S)}();var C="a"+c.string(8);S.target=C,S.action=T.addQuery(T.addPath(p,"/jsonp_send"),"i="+C);var h=function _(p){try{return global.document.createElement('<iframe name="'+p+'">')}catch(b){var d=global.document.createElement("iframe");return d.name=p,d}}(C);h.id=C,h.style.display="none",S.appendChild(h);try{m.value=d}catch(O){}S.submit();var v=function(O){h.onerror&&(h.onreadystatechange=h.onerror=h.onload=null,setTimeout(function(){h.parentNode.removeChild(h),h=null},500),m.value="",b(O))};return h.onerror=function(){v()},h.onload=function(){v()},h.onreadystatechange=function(O){"complete"===h.readyState&&v()},function(){v(new Error("Aborted"))}}},5705:(me,U,M)=>{"use strict";var c=M(17).v,T=M(3894),y=M(3865),S=M(480),m=M(1493);function f(p,d,b){var C=this;c.call(this),setTimeout(function(){C._start(p,d,b)},0)}T(f,c),f.prototype._start=function(p,d,b){var C=this,h=new global.XDomainRequest;d=m.addQuery(d,"t="+ +new Date),h.onerror=function(){C._error()},h.ontimeout=function(){C._error()},h.onprogress=function(){C.emit("chunk",200,h.responseText)},h.onload=function(){C.emit("finish",200,h.responseText),C._cleanup(!1)},this.xdr=h,this.unloadRef=y.unloadAdd(function(){C._cleanup(!0)});try{this.xdr.open(p,d),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(b)}catch(v){this._error()}},f.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},f.prototype._cleanup=function(p){if(this.xdr){if(this.removeAllListeners(),y.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,p)try{this.xdr.abort()}catch(d){}this.unloadRef=this.xdr=null}},f.prototype.close=function(){this._cleanup(!0)},f.enabled=!(!global.XDomainRequest||!S.hasDomain()),me.exports=f},7807:(me,U,M)=>{"use strict";var c=M(3894),T=M(3134);function y(S,m,_,f){T.call(this,S,m,_,f)}c(y,T),y.enabled=T.enabled&&T.supportsCORS,me.exports=y},9312:(me,U,M)=>{"use strict";var c=M(17).v;function y(){var S=this;c.call(this),this.to=setTimeout(function(){S.emit("finish",200,"{}")},y.timeout)}M(3894)(y,c),y.prototype.close=function(){clearTimeout(this.to)},y.timeout=2e3,me.exports=y},7898:(me,U,M)=>{"use strict";var c=M(3894),T=M(3134);function y(S,m,_){T.call(this,S,m,_,{noCredentials:!0})}c(y,T),y.enabled=T.enabled,me.exports=y},7040:(me,U,M)=>{"use strict";var c=M(3865),T=M(1493),y=M(3894),S=M(17).v,m=M(3848);function f(p,d,b){if(!f.enabled())throw new Error("Transport created when disabled");S.call(this);var C=this,h=T.addPath(p,"/websocket");h="https"===h.slice(0,5)?"wss"+h.slice(5):"ws"+h.slice(4),this.url=h,this.ws=new m(this.url,[],b),this.ws.onmessage=function(v){C.emit("message",v.data)},this.unloadRef=c.unloadAdd(function(){C.ws.close()}),this.ws.onclose=function(v){C.emit("close",v.code,v.reason),C._cleanup()},this.ws.onerror=function(v){C.emit("close",1006,"WebSocket connection broken"),C._cleanup()}}y(f,S),f.prototype.send=function(p){this.ws.send("["+p+"]")},f.prototype.close=function(){var p=this.ws;this._cleanup(),p&&p.close()},f.prototype._cleanup=function(){var p=this.ws;p&&(p.onmessage=p.onclose=p.onerror=null),c.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},f.enabled=function(){return!!m},f.transportName="websocket",f.roundTrips=2,me.exports=f},8931:(me,U,M)=>{"use strict";var c=M(3894),T=M(4172),y=M(4053),S=M(6909),m=M(5705);function _(f){if(!m.enabled)throw new Error("Transport created when disabled");T.call(this,f,"/xhr",S,m)}c(_,T),_.enabled=y.enabled,_.transportName="xdr-polling",_.roundTrips=2,me.exports=_},4053:(me,U,M)=>{"use strict";var c=M(3894),T=M(4172),y=M(6909),S=M(5705);function m(_){if(!S.enabled)throw new Error("Transport created when disabled");T.call(this,_,"/xhr_streaming",y,S)}c(m,T),m.enabled=function(_){return!_.cookie_needed&&!_.nullOrigin&&S.enabled&&_.sameScheme},m.transportName="xdr-streaming",m.roundTrips=2,me.exports=m},7237:(me,U,M)=>{"use strict";var c=M(3894),T=M(4172),y=M(6909),S=M(7807),m=M(7898);function _(f){if(!m.enabled&&!S.enabled)throw new Error("Transport created when disabled");T.call(this,f,"/xhr",y,S)}c(_,T),_.enabled=function(f){return!f.nullOrigin&&(!(!m.enabled||!f.sameOrigin)||S.enabled)},_.transportName="xhr-polling",_.roundTrips=2,me.exports=_},3897:(me,U,M)=>{"use strict";var c=M(3894),T=M(4172),y=M(6909),S=M(7807),m=M(7898),_=M(480);function f(p){if(!m.enabled&&!S.enabled)throw new Error("Transport created when disabled");T.call(this,p,"/xhr_streaming",y,S)}c(f,T),f.enabled=function(p){return!p.nullOrigin&&!_.isOpera()&&S.enabled},f.transportName="xhr-streaming",f.roundTrips=2,f.needBody=!!global.document,me.exports=f},8143:me=>{"use strict";me.exports.randomBytes=global.crypto&&global.crypto.getRandomValues?function(U){var M=new Uint8Array(U);return global.crypto.getRandomValues(M),M}:function(U){for(var M=new Array(U),c=0;c<U;c++)M[c]=Math.floor(256*Math.random());return M}},480:me=>{"use strict";me.exports={isOpera:function(){return global.navigator&&/opera/i.test(global.navigator.userAgent)},isKonqueror:function(){return global.navigator&&/konqueror/i.test(global.navigator.userAgent)},hasDomain:function(){if(!global.document)return!0;try{return!!global.document.domain}catch(U){return!1}}}},8481:me=>{"use strict";var M,U=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;me.exports={quote:function(T){var y=JSON.stringify(T);return U.lastIndex=0,U.test(y)?(M||(M=function(T){var y,S={},m=[];for(y=0;y<65536;y++)m.push(String.fromCharCode(y));return T.lastIndex=0,m.join("").replace(T,function(_){return S[_]="\\u"+("0000"+_.charCodeAt(0).toString(16)).slice(-4),""}),T.lastIndex=0,S}(U)),y.replace(U,function(S){return M[S]})):y}}},3865:(me,U,M)=>{"use strict";var c=M(347),T={},y=!1,S=global.chrome&&global.chrome.app&&global.chrome.app.runtime;me.exports={attachEvent:function(_,f){void 0!==global.addEventListener?global.addEventListener(_,f,!1):global.document&&global.attachEvent&&(global.document.attachEvent("on"+_,f),global.attachEvent("on"+_,f))},detachEvent:function(_,f){void 0!==global.addEventListener?global.removeEventListener(_,f,!1):global.document&&global.detachEvent&&(global.document.detachEvent("on"+_,f),global.detachEvent("on"+_,f))},unloadAdd:function(_){if(S)return null;var f=c.string(8);return T[f]=_,y&&setTimeout(this.triggerUnloadCallbacks,0),f},unloadDel:function(_){_ in T&&delete T[_]},triggerUnloadCallbacks:function(){for(var _ in T)T[_](),delete T[_]}},S||me.exports.attachEvent("unload",function(){y||(y=!0,me.exports.triggerUnloadCallbacks())})},8075:(me,U,M)=>{"use strict";var c=M(3865),T=M(480);me.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){me.exports.WPrefix in global||(global[me.exports.WPrefix]={})},postMessage:function(S,m){global.parent!==global&&global.parent.postMessage(JSON.stringify({windowId:me.exports.currentWindowId,type:S,data:m||""}),"*")},createIframe:function(S,m){var f,p,_=global.document.createElement("iframe"),d=function(){clearTimeout(f);try{_.onload=null}catch(v){}_.onerror=null},b=function(){_&&(d(),setTimeout(function(){_&&_.parentNode.removeChild(_),_=null},0),c.unloadDel(p))},C=function(v){_&&(b(),m(v))};return _.src=S,_.style.display="none",_.style.position="absolute",_.onerror=function(){C("onerror")},_.onload=function(){clearTimeout(f),f=setTimeout(function(){C("onload timeout")},2e3)},global.document.body.appendChild(_),f=setTimeout(function(){C("timeout")},15e3),p=c.unloadAdd(b),{post:function(v,O){setTimeout(function(){try{_&&_.contentWindow&&_.contentWindow.postMessage(v,O)}catch(x){}},0)},cleanup:b,loaded:d}},createHtmlfile:function(S,m){var p,d,b,_=["Active"].concat("Object").join("X"),f=new global[_]("htmlfile"),C=function(){clearTimeout(p),b.onerror=null},h=function(){f&&(C(),c.unloadDel(d),b.parentNode.removeChild(b),b=f=null,CollectGarbage())},v=function(N){f&&(h(),m(N))};f.open(),f.write('<html><script>document.domain="'+global.document.domain+'";<\/script></html>'),f.close(),f.parentWindow[me.exports.WPrefix]=global[me.exports.WPrefix];var x=f.createElement("div");return f.body.appendChild(x),b=f.createElement("iframe"),x.appendChild(b),b.src=S,b.onerror=function(){v("onerror")},p=setTimeout(function(){v("timeout")},15e3),d=c.unloadAdd(h),{post:function(N,G){try{setTimeout(function(){b&&b.contentWindow&&b.contentWindow.postMessage(N,G)},0)}catch(H){}},cleanup:h,loaded:C}}},me.exports.iframeEnabled=!1,global.document&&(me.exports.iframeEnabled=("function"==typeof global.postMessage||"object"==typeof global.postMessage)&&!T.isKonqueror())},1433:me=>{"use strict";var U={};["log","debug","warn"].forEach(function(M){var c;try{c=global.console&&global.console[M]&&global.console[M].apply}catch(T){}U[M]=c?function(){return global.console[M].apply(global.console,arguments)}:"log"===M?function(){}:U.log}),me.exports=U},2923:me=>{"use strict";me.exports={isObject:function(U){var M=typeof U;return"function"===M||"object"===M&&!!U},extend:function(U){if(!this.isObject(U))return U;for(var M,c,T=1,y=arguments.length;T<y;T++)for(c in M=arguments[T])Object.prototype.hasOwnProperty.call(M,c)&&(U[c]=M[c]);return U}}},347:(me,U,M)=>{"use strict";var c=M(8143),T="abcdefghijklmnopqrstuvwxyz012345";me.exports={string:function(y){for(var S=T.length,m=c.randomBytes(y),_=[],f=0;f<y;f++)_.push(T.substr(m[f]%S,1));return _.join("")},number:function(y){return Math.floor(Math.random()*y)},numberString:function(y){var S=(""+(y-1)).length;return(new Array(S+1).join("0")+this.number(y)).slice(-S)}}},2264:me=>{"use strict";me.exports=function(M){return{filterToEnabled:function(c,T){var y={main:[],facade:[]};return c?"string"==typeof c&&(c=[c]):c=[],M.forEach(function(S){if(S){if("websocket"===S.transportName&&!1===T.websocket)return;if(c.length&&-1===c.indexOf(S.transportName))return;S.enabled(T)&&(y.main.push(S),S.facadeTransport&&y.facade.push(S.facadeTransport))}}),y}}}},1493:(me,U,M)=>{"use strict";var c=M(7629);me.exports={getOrigin:function(y){if(!y)return null;var S=new c(y);if("file:"===S.protocol)return null;var m=S.port;return m||(m="https:"===S.protocol?"443":"80"),S.protocol+"//"+S.hostname+":"+m},isOriginEqual:function(y,S){return this.getOrigin(y)===this.getOrigin(S)},isSchemeEqual:function(y,S){return y.split(":")[0]===S.split(":")[0]},addPath:function(y,S){var m=y.split("?");return m[0]+S+(m[1]?"?"+m[1]:"")},addQuery:function(y,S){return y+(-1===y.indexOf("?")?"?"+S:"&"+S)},isLoopbackAddr:function(y){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(y)||/^\[::1\]$/.test(y)}}},947:me=>{me.exports="1.6.1"},7629:(me,U,M)=>{"use strict";var c=M(8237),T=M(2858),y=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,S=/[\n\r\t]/g,m=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,_=/:\d+$/,f=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,p=/^[a-zA-Z]:/;function d(L){return(L||"").toString().replace(y,"")}var b=[["#","hash"],["?","query"],function(j,k){return v(k.protocol)?j.replace(/\\/g,"/"):j},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],C={hash:1,query:1};function h(L){var j;j="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var W,V={},J=typeof(L=L||j.location||{});if("blob:"===L.protocol)V=new N(unescape(L.pathname),{});else if("string"===J)for(W in V=new N(L,{}),C)delete V[W];else if("object"===J){for(W in L)W in C||(V[W]=L[W]);void 0===V.slashes&&(V.slashes=m.test(L.href))}return V}function v(L){return"file:"===L||"ftp:"===L||"http:"===L||"https:"===L||"ws:"===L||"wss:"===L}function O(L,j){L=(L=d(L)).replace(S,""),j=j||{};var q,k=f.exec(L),V=k[1]?k[1].toLowerCase():"",J=!!k[2],W=!!k[3],ee=0;return J?W?(q=k[2]+k[3]+k[4],ee=k[2].length+k[3].length):(q=k[2]+k[4],ee=k[2].length):W?(q=k[3]+k[4],ee=k[3].length):q=k[4],"file:"===V?ee>=2&&(q=q.slice(2)):v(V)?q=k[4]:V?J&&(q=q.slice(2)):ee>=2&&v(j.protocol)&&(q=k[4]),{protocol:V,slashes:J||v(V),slashesCount:ee,rest:q}}function N(L,j,k){if(L=(L=d(L)).replace(S,""),!(this instanceof N))return new N(L,j,k);var V,J,W,ee,q,ce,Te=b.slice(),_e=typeof j,Ee=this,$=0;for("object"!==_e&&"string"!==_e&&(k=j,j=null),k&&"function"!=typeof k&&(k=T.parse),V=!(J=O(L||"",j=h(j))).protocol&&!J.slashes,Ee.slashes=J.slashes||V&&j.slashes,Ee.protocol=J.protocol||j.protocol||"",L=J.rest,("file:"===J.protocol&&(2!==J.slashesCount||p.test(L))||!J.slashes&&(J.protocol||J.slashesCount<2||!v(Ee.protocol)))&&(Te[3]=[/(.*)/,"pathname"]);$<Te.length;$++)"function"!=typeof(ee=Te[$])?(ce=ee[1],(W=ee[0])!=W?Ee[ce]=L:"string"==typeof W?~(q="@"===W?L.lastIndexOf(W):L.indexOf(W))&&("number"==typeof ee[2]?(Ee[ce]=L.slice(0,q),L=L.slice(q+ee[2])):(Ee[ce]=L.slice(q),L=L.slice(0,q))):(q=W.exec(L))&&(Ee[ce]=q[1],L=L.slice(0,q.index)),Ee[ce]=Ee[ce]||V&&ee[3]&&j[ce]||"",ee[4]&&(Ee[ce]=Ee[ce].toLowerCase())):L=ee(L,Ee);k&&(Ee.query=k(Ee.query)),V&&j.slashes&&"/"!==Ee.pathname.charAt(0)&&(""!==Ee.pathname||""!==j.pathname)&&(Ee.pathname=function x(L,j){if(""===L)return j;for(var k=(j||"/").split("/").slice(0,-1).concat(L.split("/")),V=k.length,J=k[V-1],W=!1,ee=0;V--;)"."===k[V]?k.splice(V,1):".."===k[V]?(k.splice(V,1),ee++):ee&&(0===V&&(W=!0),k.splice(V,1),ee--);return W&&k.unshift(""),("."===J||".."===J)&&k.push(""),k.join("/")}(Ee.pathname,j.pathname)),"/"!==Ee.pathname.charAt(0)&&v(Ee.protocol)&&(Ee.pathname="/"+Ee.pathname),c(Ee.port,Ee.protocol)||(Ee.host=Ee.hostname,Ee.port=""),Ee.username=Ee.password="",Ee.auth&&(~(q=Ee.auth.indexOf(":"))?(Ee.username=Ee.auth.slice(0,q),Ee.username=encodeURIComponent(decodeURIComponent(Ee.username)),Ee.password=Ee.auth.slice(q+1),Ee.password=encodeURIComponent(decodeURIComponent(Ee.password))):Ee.username=encodeURIComponent(decodeURIComponent(Ee.auth)),Ee.auth=Ee.password?Ee.username+":"+Ee.password:Ee.username),Ee.origin="file:"!==Ee.protocol&&v(Ee.protocol)&&Ee.host?Ee.protocol+"//"+Ee.host:"null",Ee.href=Ee.toString()}N.prototype={set:function G(L,j,k){var V=this;switch(L){case"query":"string"==typeof j&&j.length&&(j=(k||T.parse)(j)),V[L]=j;break;case"port":V[L]=j,c(j,V.protocol)?j&&(V.host=V.hostname+":"+j):(V.host=V.hostname,V[L]="");break;case"hostname":V[L]=j,V.port&&(j+=":"+V.port),V.host=j;break;case"host":V[L]=j,_.test(j)?(j=j.split(":"),V.port=j.pop(),V.hostname=j.join(":")):(V.hostname=j,V.port="");break;case"protocol":V.protocol=j.toLowerCase(),V.slashes=!k;break;case"pathname":case"hash":if(j){var J="pathname"===L?"/":"#";V[L]=j.charAt(0)!==J?J+j:j}else V[L]=j;break;case"username":case"password":V[L]=encodeURIComponent(j);break;case"auth":var W=j.indexOf(":");~W?(V.username=j.slice(0,W),V.username=encodeURIComponent(decodeURIComponent(V.username)),V.password=j.slice(W+1),V.password=encodeURIComponent(decodeURIComponent(V.password))):V.username=encodeURIComponent(decodeURIComponent(j))}for(var ee=0;ee<b.length;ee++){var q=b[ee];q[4]&&(V[q[1]]=V[q[1]].toLowerCase())}return V.auth=V.password?V.username+":"+V.password:V.username,V.origin="file:"!==V.protocol&&v(V.protocol)&&V.host?V.protocol+"//"+V.host:"null",V.href=V.toString(),V},toString:function H(L){(!L||"function"!=typeof L)&&(L=T.stringify);var j,k=this,V=k.host,J=k.protocol;J&&":"!==J.charAt(J.length-1)&&(J+=":");var W=J+(k.protocol&&k.slashes||v(k.protocol)?"//":"");return k.username?(W+=k.username,k.password&&(W+=":"+k.password),W+="@"):k.password?(W+=":"+k.password,W+="@"):"file:"!==k.protocol&&v(k.protocol)&&!V&&"/"!==k.pathname&&(W+="@"),(":"===V[V.length-1]||_.test(k.hostname)&&!k.port)&&(V+=":"),W+=V+k.pathname,(j="object"==typeof k.query?L(k.query):k.query)&&(W+="?"!==j.charAt(0)?"?"+j:j),k.hash&&(W+=k.hash),W}},N.extractProtocol=O,N.location=h,N.trimLeft=d,N.qs=T,me.exports=N},1308:function(me,U,M){var c;me=M.nmd(me),function(T){"object"==typeof global&&global;var _,f=2147483647,p=36,N=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=Math.floor,V=String.fromCharCode;function W(le){throw RangeError(L[le])}function ee(le,de){for(var Be=le.length,Je=[];Be--;)Je[Be]=de(le[Be]);return Je}function q(le,de){var Be=le.split("@"),Je="";return Be.length>1&&(Je=Be[0]+"@",le=Be[1]),Je+ee((le=le.replace(H,".")).split("."),de).join(".")}function ce(le){for(var Le,Ot,de=[],Be=0,Je=le.length;Be<Je;)(Le=le.charCodeAt(Be++))>=55296&&Le<=56319&&Be<Je?56320==(64512&(Ot=le.charCodeAt(Be++)))?de.push(((1023&Le)<<10)+(1023&Ot)+65536):(de.push(Le),Be--):de.push(Le);return de}function Te(le){return ee(le,function(de){var Be="";return de>65535&&(Be+=V((de-=65536)>>>10&1023|55296),de=56320|1023&de),Be+V(de)}).join("")}function _e(le){return le-48<10?le-22:le-65<26?le-65:le-97<26?le-97:p}function Ee(le,de){return le+22+75*(le<26)-((0!=de)<<5)}function $(le,de,Be){var Je=0;for(le=Be?k(le/700):le>>1,le+=k(le/de);le>455;Je+=p)le=k(le/35);return k(Je+36*le/(le+38))}function se(le){var Je,je,ie,fe,pe,Ge,ze,et,xe,Ye,de=[],Be=le.length,Le=0,Ot=128,qe=72;for((je=le.lastIndexOf("-"))<0&&(je=0),ie=0;ie<je;++ie)le.charCodeAt(ie)>=128&&W("not-basic"),de.push(le.charCodeAt(ie));for(fe=je>0?je+1:0;fe<Be;){for(pe=Le,Ge=1,ze=p;fe>=Be&&W("invalid-input"),((et=_e(le.charCodeAt(fe++)))>=p||et>k((f-Le)/Ge))&&W("overflow"),Le+=et*Ge,!(et<(xe=ze<=qe?1:ze>=qe+26?26:ze-qe));ze+=p)Ge>k(f/(Ye=p-xe))&&W("overflow"),Ge*=Ye;qe=$(Le-pe,Je=de.length+1,0==pe),k(Le/Je)>f-Ot&&W("overflow"),Ot+=k(Le/Je),Le%=Je,de.splice(Le++,0,Ot)}return Te(de)}function Z(le){var de,Be,Je,Le,Ot,qe,je,ie,fe,pe,Ge,et,xe,Ye,Yt,ze=[];for(et=(le=ce(le)).length,de=128,Be=0,Ot=72,qe=0;qe<et;++qe)(Ge=le[qe])<128&&ze.push(V(Ge));for(Je=Le=ze.length,Le&&ze.push("-");Je<et;){for(je=f,qe=0;qe<et;++qe)(Ge=le[qe])>=de&&Ge<je&&(je=Ge);for(je-de>k((f-Be)/(xe=Je+1))&&W("overflow"),Be+=(je-de)*xe,de=je,qe=0;qe<et;++qe)if((Ge=le[qe])<de&&++Be>f&&W("overflow"),Ge==de){for(ie=Be,fe=p;!(ie<(pe=fe<=Ot?1:fe>=Ot+26?26:fe-Ot));fe+=p)ze.push(V(Ee(pe+(Yt=ie-pe)%(Ye=p-pe),0))),ie=k(Yt/Ye);ze.push(V(Ee(ie,0))),Ot=$(Be,xe,Je==Le),Be=0,++Je}++Be,++de}return ze.join("")}_={version:"1.3.2",ucs2:{decode:ce,encode:Te},decode:se,encode:Z,toASCII:function oe(le){return q(le,function(de){return G.test(de)?"xn--"+Z(de):de})},toUnicode:function be(le){return q(le,function(de){return N.test(de)?se(de.slice(4).toLowerCase()):de})}},void 0!==(c=function(){return _}.call(U,M,U,me))&&(me.exports=c)}()},8762:(me,U,M)=>{"use strict";var T=M(1308),y=M(796);function S(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}U.Qc=j,U.DB=function V(W,ee){return j(W,!1,!0).resolve(ee)},U.WU=function k(W){return y.isString(W)&&(W=j(W)),W instanceof S?W.format():S.prototype.format.call(W)};var m=/^([a-z0-9.+-]+:)/i,_=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),b=["'"].concat(d),C=["%","/","?",";","#"].concat(b),h=["/","?","#"],O=/^[+a-z0-9A-Z_-]{0,63}$/,x=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,N={javascript:!0,"javascript:":!0},G={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=M(7137);function j(W,ee,q){if(W&&y.isObject(W)&&W instanceof S)return W;var ce=new S;return ce.parse(W,ee,q),ce}S.prototype.parse=function(W,ee,q){if(!y.isString(W))throw new TypeError("Parameter 'url' must be a string, not "+typeof W);var ce=W.indexOf("?"),Te=-1!==ce&&ce<W.indexOf("#")?"?":"#",_e=W.split(Te);_e[0]=_e[0].replace(/\\/g,"/");var $=W=_e.join(Te);if($=$.trim(),!q&&1===W.split("#").length){var se=f.exec($);if(se)return this.path=$,this.href=$,this.pathname=se[1],se[2]?(this.search=se[2],this.query=ee?L.parse(this.search.substr(1)):this.search.substr(1)):ee&&(this.search="",this.query={}),this}var Z=m.exec($);if(Z){var be=(Z=Z[0]).toLowerCase();this.protocol=be,$=$.substr(Z.length)}if(q||Z||$.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe="//"===$.substr(0,2);oe&&(!Z||!G[Z])&&($=$.substr(2),this.slashes=!0)}if(!G[Z]&&(oe||Z&&!H[Z])){for(var le=-1,de=0;de<h.length;de++)-1!==(Be=$.indexOf(h[de]))&&(-1===le||Be<le)&&(le=Be);var Je,Le;for(-1!==(Le=-1===le?$.lastIndexOf("@"):$.lastIndexOf("@",le))&&(Je=$.slice(0,Le),$=$.slice(Le+1),this.auth=decodeURIComponent(Je)),le=-1,de=0;de<C.length;de++){var Be;-1!==(Be=$.indexOf(C[de]))&&(-1===le||Be<le)&&(le=Be)}-1===le&&(le=$.length),this.host=$.slice(0,le),$=$.slice(le),this.parseHost(),this.hostname=this.hostname||"";var Ot="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!Ot)for(var qe=this.hostname.split(/\./),je=(de=0,qe.length);de<je;de++){var ie=qe[de];if(ie&&!ie.match(O)){for(var fe="",pe=0,Ge=ie.length;pe<Ge;pe++)ie.charCodeAt(pe)>127?fe+="x":fe+=ie[pe];if(!fe.match(O)){var ze=qe.slice(0,de),et=qe.slice(de+1),xe=ie.match(x);xe&&(ze.push(xe[1]),et.unshift(xe[2])),et.length&&($="/"+et.join(".")+$),this.hostname=ze.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),Ot||(this.hostname=T.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,Ot&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==$[0]&&($="/"+$))}if(!N[be])for(de=0,je=b.length;de<je;de++){var It=b[de];if(-1!==$.indexOf(It)){var $t=encodeURIComponent(It);$t===It&&($t=escape(It)),$=$.split(It).join($t)}}var Wn=$.indexOf("#");-1!==Wn&&(this.hash=$.substr(Wn),$=$.slice(0,Wn));var tt=$.indexOf("?");return-1!==tt?(this.search=$.substr(tt),this.query=$.substr(tt+1),ee&&(this.query=L.parse(this.query)),$=$.slice(0,tt)):ee&&(this.search="",this.query={}),$&&(this.pathname=$),H[be]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},S.prototype.format=function(){var W=this.auth||"";W&&(W=(W=encodeURIComponent(W)).replace(/%3A/i,":"),W+="@");var ee=this.protocol||"",q=this.pathname||"",ce=this.hash||"",Te=!1,_e="";this.host?Te=W+this.host:this.hostname&&(Te=W+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(Te+=":"+this.port)),this.query&&y.isObject(this.query)&&Object.keys(this.query).length&&(_e=L.stringify(this.query));var Ee=this.search||_e&&"?"+_e||"";return ee&&":"!==ee.substr(-1)&&(ee+=":"),this.slashes||(!ee||H[ee])&&!1!==Te?(Te="//"+(Te||""),q&&"/"!==q.charAt(0)&&(q="/"+q)):Te||(Te=""),ce&&"#"!==ce.charAt(0)&&(ce="#"+ce),Ee&&"?"!==Ee.charAt(0)&&(Ee="?"+Ee),ee+Te+(q=q.replace(/[?#]/g,function($){return encodeURIComponent($)}))+(Ee=Ee.replace("#","%23"))+ce},S.prototype.resolve=function(W){return this.resolveObject(j(W,!1,!0)).format()},S.prototype.resolveObject=function(W){if(y.isString(W)){var ee=new S;ee.parse(W,!1,!0),W=ee}for(var q=new S,ce=Object.keys(this),Te=0;Te<ce.length;Te++){var _e=ce[Te];q[_e]=this[_e]}if(q.hash=W.hash,""===W.href)return q.href=q.format(),q;if(W.slashes&&!W.protocol){for(var Ee=Object.keys(W),$=0;$<Ee.length;$++){var se=Ee[$];"protocol"!==se&&(q[se]=W[se])}return H[q.protocol]&&q.hostname&&!q.pathname&&(q.path=q.pathname="/"),q.href=q.format(),q}if(W.protocol&&W.protocol!==q.protocol){if(!H[W.protocol]){for(var Z=Object.keys(W),be=0;be<Z.length;be++){var oe=Z[be];q[oe]=W[oe]}return q.href=q.format(),q}if(q.protocol=W.protocol,W.host||G[W.protocol])q.pathname=W.pathname;else{for(var je=(W.pathname||"").split("/");je.length&&!(W.host=je.shift()););W.host||(W.host=""),W.hostname||(W.hostname=""),""!==je[0]&&je.unshift(""),je.length<2&&je.unshift(""),q.pathname=je.join("/")}return q.search=W.search,q.query=W.query,q.host=W.host||"",q.auth=W.auth,q.hostname=W.hostname||W.host,q.port=W.port,(q.pathname||q.search)&&(q.path=(q.pathname||"")+(q.search||"")),q.slashes=q.slashes||W.slashes,q.href=q.format(),q}var Be=q.pathname&&"/"===q.pathname.charAt(0),Je=W.host||W.pathname&&"/"===W.pathname.charAt(0),Le=Je||Be||q.host&&W.pathname,Ot=Le,qe=q.pathname&&q.pathname.split("/")||[],ie=(je=W.pathname&&W.pathname.split("/")||[],q.protocol&&!H[q.protocol]);if(ie&&(q.hostname="",q.port=null,q.host&&(""===qe[0]?qe[0]=q.host:qe.unshift(q.host)),q.host="",W.protocol&&(W.hostname=null,W.port=null,W.host&&(""===je[0]?je[0]=W.host:je.unshift(W.host)),W.host=null),Le=Le&&(""===je[0]||""===qe[0])),Je)q.host=W.host||""===W.host?W.host:q.host,q.hostname=W.hostname||""===W.hostname?W.hostname:q.hostname,q.search=W.search,q.query=W.query,qe=je;else if(je.length)qe||(qe=[]),qe.pop(),qe=qe.concat(je),q.search=W.search,q.query=W.query;else if(!y.isNullOrUndefined(W.search))return ie&&(q.hostname=q.host=qe.shift(),(fe=!!(q.host&&q.host.indexOf("@")>0)&&q.host.split("@"))&&(q.auth=fe.shift(),q.host=q.hostname=fe.shift())),q.search=W.search,q.query=W.query,(!y.isNull(q.pathname)||!y.isNull(q.search))&&(q.path=(q.pathname?q.pathname:"")+(q.search?q.search:"")),q.href=q.format(),q;if(!qe.length)return q.pathname=null,q.path=q.search?"/"+q.search:null,q.href=q.format(),q;for(var pe=qe.slice(-1)[0],Ge=(q.host||W.host||qe.length>1)&&("."===pe||".."===pe)||""===pe,ze=0,et=qe.length;et>=0;et--)"."===(pe=qe[et])?qe.splice(et,1):".."===pe?(qe.splice(et,1),ze++):ze&&(qe.splice(et,1),ze--);if(!Le&&!Ot)for(;ze--;ze)qe.unshift("..");Le&&""!==qe[0]&&(!qe[0]||"/"!==qe[0].charAt(0))&&qe.unshift(""),Ge&&"/"!==qe.join("/").substr(-1)&&qe.push("");var fe,xe=""===qe[0]||qe[0]&&"/"===qe[0].charAt(0);return ie&&(q.hostname=q.host=xe?"":qe.length?qe.shift():"",(fe=!!(q.host&&q.host.indexOf("@")>0)&&q.host.split("@"))&&(q.auth=fe.shift(),q.host=q.hostname=fe.shift())),(Le=Le||q.host&&qe.length)&&!xe&&qe.unshift(""),qe.length?q.pathname=qe.join("/"):(q.pathname=null,q.path=null),(!y.isNull(q.pathname)||!y.isNull(q.search))&&(q.path=(q.pathname?q.pathname:"")+(q.search?q.search:"")),q.auth=W.auth||q.auth,q.slashes=q.slashes||W.slashes,q.href=q.format(),q},S.prototype.parseHost=function(){var W=this.host,ee=_.exec(W);ee&&(":"!==(ee=ee[0])&&(this.port=ee.substr(1)),W=W.substr(0,W.length-ee.length)),W&&(this.hostname=W)}},796:me=>{"use strict";me.exports={isString:function(U){return"string"==typeof U},isObject:function(U){return"object"==typeof U&&null!==U},isNull:function(U){return null===U},isNullOrUndefined:function(U){return null==U}}}},me=>{me(me.s=7422)}]);